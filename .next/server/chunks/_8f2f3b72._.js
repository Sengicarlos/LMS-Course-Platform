module.exports=[56209,(e,t,r)=>{"use strict";var i=Object.create,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>()=>(e&&(t=e(e=0)),t),c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),d=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},p=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))l.call(e,s)||s===r||n(e,s,{get:()=>t[s],enumerable:!(i=a(t,s))||i.enumerable});return e},f=(e,t,r)=>(r=null!=e?i(s(e)):{},p(!t&&e&&e.__esModule?r:n(r,"default",{value:e,enumerable:!0}),e)),m=c((e,t)=>{t.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(r+e),n=t.indexOf("--");return -1!==i&&(-1===n||i<n)}}),h=c((t,r)=>{var i,n=e.r(60526),a=e.r(9656),o=m(),{env:s}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===i)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===i)return 0;let r=i||0;if("dumb"===s.TERM)return r;{let e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?i=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(i=1),"FORCE_COLOR"in s&&(i="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),r.exports={supportsColor:function(e){return l(u(e,e&&e.isTTY))},stdout:l(u(!0,a.isatty(1))),stderr:l(u(!0,a.isatty(2)))}}),g=c((e,t)=>{var r=h(),i=m();function n(e){let{CI:t,FORCE_HYPERLINK:n,NETLIFY:a,TEAMCITY_VERSION:o,TERM_PROGRAM:s,TERM_PROGRAM_VERSION:l,VTE_VERSION:u,TERM:c}=process.env;return n?!(n.length>0&&0===parseInt(n,10)):!(i("no-hyperlink")||i("no-hyperlinks")||i("hyperlink=false")||i("hyperlink=never"))&&(!!(i("hyperlink=true")||i("hyperlink=always"))||!!a||!!r.supportsColor(e)&&(!e||!!e.isTTY)&&"WT_SESSION"in process.env)}t.exports={supportsHyperlink:n,stdout:n(process.stdout),stderr:n(process.stderr)}}),y=c((e,t)=>{t.exports={name:"@prisma/internals",version:"6.17.1",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac","@prisma/schema-engine-wasm":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),v=c((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"272a37d34178c2894197e17273bf937f25acdeac"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),b=c(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=v().prisma.enginesVersion}),w=c((e,t)=>{t.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((e,t)=>Math.min(e,t.length),1/0):0}}),_=c((e,t)=>{t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let i=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(i,r.indent.repeat(t))}}),x=c((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),k=c((t,r)=>{var i=e.r(2157),n=e.r(50227),a=e.r(60526),o=e.r(66680),s=x().version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(e){console.log(`[dotenv@${s}][DEBUG] ${e}`)}function c(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function d(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)i.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=n.resolve(process.cwd(),".env.vault");return i.existsSync(t)?t:null}function p(e){return"~"===e[0]?n.join(a.homedir(),e.slice(1)):e}var f={configDotenv:function(e){let t=n.resolve(process.cwd(),".env"),r="utf8",a=!!(e&&e.debug);e&&e.encoding?r=e.encoding:a&&u("No encoding is specified. UTF-8 is used by default");let o=[t];if(e&&e.path)if(Array.isArray(e.path))for(let t of(o=[],e.path))o.push(p(t));else o=[p(e.path)];let s,l={};for(let t of o)try{let n=f.parse(i.readFileSync(t,{encoding:r}));f.populate(l,n,e)}catch(e){a&&u(`Failed to load ${t} ${e.message}`),s=e}let c=process.env;return e&&null!=e.processEnv&&(c=e.processEnv),f.populate(c,l,e),s?{parsed:l,error:s}:{parsed:l}},_configVault:function(e){e&&e.debug&&u("Loading env from encrypted .env.vault");let t=f._parseVault(e),r=process.env;return e&&null!=e.processEnv&&(r=e.processEnv),f.populate(r,t,e),{parsed:t}},_parseVault:function(e){let t=d(e),r=f.configDotenv({path:t});if(!r.parsed){let e=Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}let i=c(e).split(","),n=i.length,a;for(let e=0;e<n;e++)try{let t=i[e].trim(),n=function(e,t){let r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let i=r.password;if(!i){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let n=r.searchParams.get("environment");if(!n){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let a=`DOTENV_VAULT_${n.toUpperCase()}`,o=e.parsed[a];if(!o){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${a} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:o,key:i}}(r,t);a=f.decrypt(n.ciphertext,n.key);break}catch(t){if(e+1>=n)throw t}return f.parse(a)},config:function(e){var t;if(0===c(e).length)return f.configDotenv(e);let r=d(e);return r?f._configVault(e):(t=`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`,console.log(`[dotenv@${s}][WARN] ${t}`),f.configDotenv(e))},decrypt:function(e,t){let r=Buffer.from(t.slice(-64),"hex"),i=Buffer.from(e,"base64"),n=i.subarray(0,12),a=i.subarray(-16);i=i.subarray(12,-16);try{let e=o.createDecipheriv("aes-256-gcm",r,n);return e.setAuthTag(a),`${e.update(i)}${e.final()}`}catch(i){let e=i instanceof RangeError,t="Invalid key length"===i.message,r="Unsupported state or unable to authenticate data"===i.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw i}},parse:function(e){let t,r={},i=e.toString();for(i=i.replace(/\r\n?/mg,`
`);null!=(t=l.exec(i));){let e=t[1],i=t[2]||"",n=(i=i.trim())[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===n&&(i=(i=i.replace(/\\n/g,`
`)).replace(/\\r/g,"\r")),r[e]=i}return r},populate:function(e,t,r={}){let i=!!(r&&r.debug),n=!!(r&&r.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let r of Object.keys(t))Object.prototype.hasOwnProperty.call(e,r)?(!0===n&&(e[r]=t[r]),i&&u(!0===n?`"${r}" is already defined and WAS overwritten`:`"${r}" is already defined and was NOT overwritten`)):e[r]=t[r]}};r.exports.configDotenv=f.configDotenv,r.exports._configVault=f._configVault,r.exports._parseVault=f._parseVault,r.exports.config=f.config,r.exports.decrypt=f.decrypt,r.exports.parse=f.parse,r.exports.populate=f.populate,r.exports=f}),S=c((e,t)=>{t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`);for(let t of["body","title","labels","template","milestone","assignee","projects"]){let i=e[t];if(void 0!==i){if("labels"===t||"projects"===t){if(!Array.isArray(i))throw TypeError(`The \`${t}\` option should be an array`);i=i.join(",")}r.searchParams.set(t,i)}}return r.toString()},t.exports.default=t.exports}),O=c((e,t)=>{t.exports=function(){function e(e,t,r,i,n){return e<t||r<t?e>r?r+1:e+1:i===n?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var i=t;t=r,r=i}for(var n=t.length,a=r.length;n>0&&t.charCodeAt(n-1)===r.charCodeAt(a-1);)n--,a--;for(var o=0;o<n&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(n-=o,a-=o,0===n||a<3)return a;var s,l,u,c,d,p,f,m,h,g,y,v,b=0,w=[];for(s=0;s<n;s++)w.push(s+1),w.push(t.charCodeAt(o+s));for(var _=w.length-1;b<a-3;)for(h=r.charCodeAt(o+(l=b)),g=r.charCodeAt(o+(u=b+1)),y=r.charCodeAt(o+(c=b+2)),v=r.charCodeAt(o+(d=b+3)),p=b+=4,s=0;s<_;s+=2)l=e(f=w[s],l,u,h,m=w[s+1]),u=e(l,u,c,g,m),c=e(u,c,d,y,m),p=e(c,d,p,v,m),w[s]=p,d=c,c=u,u=l,l=f;for(;b<a;)for(h=r.charCodeAt(o+(l=b)),p=++b,s=0;s<_;s+=2)f=w[s],w[s]=p=e(f,l,p,h,w[s+1]),l=f;return p}}()}),E=u(()=>{}),I=u(()=>{}),T={};d(T,{DMMF:()=>i5,Debug:()=>ew,Decimal:()=>i6,Extensions:()=>$,MetricsClient:()=>ae,PrismaClientInitializationError:()=>r_,PrismaClientKnownRequestError:()=>rx,PrismaClientRustPanicError:()=>rk,PrismaClientUnknownRequestError:()=>rS,PrismaClientValidationError:()=>rO,Public:()=>j,Sql:()=>af,createParam:()=>nY,defineDmmfProperty:()=>at,deserializeJsonResponse:()=>ou,deserializeRawResult:()=>sI,dmmfToRuntimeDataModel:()=>r$,empty:()=>ag,getPrismaClient:()=>sJ,getRuntime:()=>oy,join:()=>am,makeStrictEnum:()=>sB,makeTypedQueryFactory:()=>ao,objectEnumValues:()=>nL,raw:()=>ah,serializeJsonQuery:()=>n5,skip:()=>n1,sqltag:()=>ay,warnEnvConflicts:()=>sH,warnOnce:()=>rw}),t.exports=p(n({},"__esModule",{value:!0}),T);var $={};function A(e){return"function"==typeof e?e:t=>t.$extends(e)}function P(e){return e}d($,{defineExtension:()=>A,getExtensionContext:()=>P});var j={};function R(){return e=>e}d(j,{validator:()=>R});var N={};d(N,{$:()=>M,bgBlack:()=>eo,bgBlue:()=>ec,bgCyan:()=>ep,bgGreen:()=>el,bgMagenta:()=>ed,bgRed:()=>es,bgWhite:()=>ef,bgYellow:()=>eu,black:()=>Q,blue:()=>ee,bold:()=>J,cyan:()=>er,dim:()=>F,gray:()=>en,green:()=>Y,grey:()=>ea,hidden:()=>W,inverse:()=>H,italic:()=>Z,magenta:()=>et,red:()=>G,reset:()=>V,strikethrough:()=>K,underline:()=>B,white:()=>ei,yellow:()=>X});var U,C,D,z,L=!0;"u">typeof process&&({FORCE_COLOR:U,NODE_DISABLE_COLORS:C,NO_COLOR:D,TERM:z}=process.env||{},L=process.stdout&&process.stdout.isTTY);var M={enabled:!C&&null==D&&"dumb"!==z&&(null!=U&&"0"!==U||L)};function q(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),i=`\x1b[${e}m`,n=`\x1b[${t}m`;return function(e){return M.enabled&&null!=e?i+(~(""+e).indexOf(n)?e.replace(r,n+i):e)+n:e}}var V=q(0,0),J=q(1,22),F=q(2,22),Z=q(3,23),B=q(4,24),H=q(7,27),W=q(8,28),K=q(9,29),Q=q(30,39),G=q(31,39),Y=q(32,39),X=q(33,39),ee=q(34,39),et=q(35,39),er=q(36,39),ei=q(37,39),en=q(90,39),ea=q(90,39),eo=q(40,49),es=q(41,49),el=q(42,49),eu=q(43,49),ec=q(44,49),ed=q(45,49),ep=q(46,49),ef=q(47,49),em=["green","yellow","blue","magenta","cyan","red"],eh=[],eg=Date.now(),ey=0,ev="u">typeof process?process.env:{};globalThis.DEBUG??=ev.DEBUG??"",globalThis.DEBUG_COLORS??=!ev.DEBUG_COLORS||"true"===ev.DEBUG_COLORS;var eb={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),i=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!i},log:(...e)=>{let[t,r,...i]=e;(console.warn??console.log)(`${t} ${r}`,...i)},formatters:{}},ew=new Proxy(function(e){let t={color:em[ey++%em.length],enabled:eb.enabled(e),namespace:e,log:eb.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:i,color:n,log:a}=t;if(0!==e.length&&eh.push([i,...e]),eh.length>100&&eh.shift(),eb.enabled(i)||r){let t=e.map(e=>"string"==typeof e?e:function(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}(e)),r=`+${Date.now()-eg}ms`;eg=Date.now(),globalThis.DEBUG_COLORS?a(N[n](J(i)),...t,N[n](r)):a(i,...t,r)}},{get:(e,r)=>t[r],set:(e,r,i)=>t[r]=i})},{get:(e,t)=>eb[t],set:(e,t,r)=>eb[t]=r}),e_=f(e.r(2157)),ex="libquery_engine",ek=f(e.r(74533)),eS=f(e.r(12714)),eO=f(e.r(60526)),eE=Symbol.for("@ts-pattern/matcher"),eI=Symbol.for("@ts-pattern/isVariadic"),eT="@ts-pattern/anonymous-select-key",e$=e=>!!(e&&"object"==typeof e),eA=e=>e&&!!e[eE],eP=(e,t,r)=>{if(eA(e)){let{matched:i,selections:n}=e[eE]().match(t);return i&&n&&Object.keys(n).forEach(e=>r(e,n[e])),i}if(e$(e)){if(!e$(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let i=[],n=[],a=[];for(let t of e.keys()){let r=e[t];eA(r)&&r[eI]?a.push(r):a.length?n.push(r):i.push(r)}if(a.length){if(a.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<i.length+n.length)return!1;let e=t.slice(0,i.length),o=0===n.length?[]:t.slice(-n.length),s=t.slice(i.length,0===n.length?1/0:-n.length);return i.every((t,i)=>eP(t,e[i],r))&&n.every((e,t)=>eP(e,o[t],r))&&(0===a.length||eP(a[0],s,r))}return e.length===t.length&&e.every((e,i)=>eP(e,t[i],r))}return Reflect.ownKeys(e).every(i=>{let n=e[i];return(i in t||eA(n)&&"optional"===n[eE]().matcherType)&&eP(n,t[i],r)})}return Object.is(t,e)},ej=e=>{var t,r,i;return e$(e)?eA(e)?null!=(t=null==(r=(i=e[eE]()).getSelectionKeys)?void 0:r.call(i))?t:[]:Array.isArray(e)?eR(e,ej):eR(Object.values(e),ej):[]},eR=(e,t)=>e.reduce((e,r)=>e.concat(t(r)),[]);function eN(e){return Object.assign(e,{optional:()=>{var t;return t=e,eN({[eE]:()=>({match:e=>{let r={},i=(e,t)=>{r[e]=t};return void 0===e?(ej(t).forEach(e=>i(e,void 0)),{matched:!0,selections:r}):{matched:eP(t,e,i),selections:r}},getSelectionKeys:()=>ej(t),matcherType:"optional"})})},and:t=>eU(e,t),or:t=>(function(...e){return eN({[eE]:()=>({match:t=>{let r={},i=(e,t)=>{r[e]=t};return eR(e,ej).forEach(e=>i(e,void 0)),{matched:e.some(e=>eP(e,t,i)),selections:r}},getSelectionKeys:()=>eR(e,ej),matcherType:"or"})})})(e,t),select:t=>void 0===t?eD(e):eD(t,e)})}function eU(...e){return eN({[eE]:()=>({match:t=>{let r={},i=(e,t)=>{r[e]=t};return{matched:e.every(e=>eP(e,t,i)),selections:r}},getSelectionKeys:()=>eR(e,ej),matcherType:"and"})})}function eC(e){return{[eE]:()=>({match:t=>({matched:!!e(t)})})}}function eD(...e){let t="string"==typeof e[0]?e[0]:void 0,r=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return eN({[eE]:()=>({match:e=>{let i={[t??eT]:e};return{matched:void 0===r||eP(r,e,(e,t)=>{i[e]=t}),selections:i}},getSelectionKeys:()=>[t??eT].concat(void 0===r?[]:ej(r))})})}function ez(e){return"number"==typeof e}function eL(e){return"string"==typeof e}function eM(e){return"bigint"==typeof e}eN(eC(function(e){return!0}));var eq=e=>Object.assign(eN(e),{startsWith:t=>eq(eU(e,eC(e=>eL(e)&&e.startsWith(t)))),endsWith:t=>eq(eU(e,eC(e=>eL(e)&&e.endsWith(t)))),minLength:t=>eq(eU(e,eC(e=>eL(e)&&e.length>=t))),length:t=>eq(eU(e,eC(e=>eL(e)&&e.length===t))),maxLength:t=>eq(eU(e,eC(e=>eL(e)&&e.length<=t))),includes:t=>eq(eU(e,eC(e=>eL(e)&&e.includes(t)))),regex:t=>eq(eU(e,eC(e=>eL(e)&&!!e.match(t))))}),eV=(eq(eC(eL)),e=>Object.assign(eN(e),{between:(t,r)=>eV(eU(e,eC(e=>ez(e)&&t<=e&&r>=e))),lt:t=>eV(eU(e,eC(e=>ez(e)&&e<t))),gt:t=>eV(eU(e,eC(e=>ez(e)&&e>t))),lte:t=>eV(eU(e,eC(e=>ez(e)&&e<=t))),gte:t=>eV(eU(e,eC(e=>ez(e)&&e>=t))),int:()=>eV(eU(e,eC(e=>ez(e)&&Number.isInteger(e)))),finite:()=>eV(eU(e,eC(e=>ez(e)&&Number.isFinite(e)))),positive:()=>eV(eU(e,eC(e=>ez(e)&&e>0))),negative:()=>eV(eU(e,eC(e=>ez(e)&&e<0)))})),eJ=(eV(eC(ez)),e=>Object.assign(eN(e),{between:(t,r)=>eJ(eU(e,eC(e=>eM(e)&&t<=e&&r>=e))),lt:t=>eJ(eU(e,eC(e=>eM(e)&&e<t))),gt:t=>eJ(eU(e,eC(e=>eM(e)&&e>t))),lte:t=>eJ(eU(e,eC(e=>eM(e)&&e<=t))),gte:t=>eJ(eU(e,eC(e=>eM(e)&&e>=t))),positive:()=>eJ(eU(e,eC(e=>eM(e)&&e>0))),negative:()=>eJ(eU(e,eC(e=>eM(e)&&e<0)))}));eJ(eC(eM)),eN(eC(function(e){return"boolean"==typeof e})),eN(eC(function(e){return"symbol"==typeof e})),eN(eC(function(e){return null==e})),eN(eC(function(e){return null!=e}));var eF=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},eZ={matched:!1,value:void 0};function eB(e){return new eH(e,eZ)}var eH=class e{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...t){if(this.state.matched)return this;let r=t[t.length-1],i=[t[0]],n;3===t.length&&"function"==typeof t[1]?n=t[1]:t.length>2&&i.push(...t.slice(1,t.length-1));let a=!1,o={},s=(e,t)=>{a=!0,o[e]=t},l=i.some(e=>eP(e,this.input,s))&&(!n||n(this.input))?{matched:!0,value:r(a?eT in o?o[eT]:o:this.input,this.input)}:eZ;return new e(this.input,l)}when(t,r){if(this.state.matched)return this;let i=!!t(this.input);return new e(this.input,i?{matched:!0,value:r(this.input,this.input)}:eZ)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new eF(this.input)}run(){return this.exhaustive()}returnType(){return this}},eW=e.r(12057),eK={warn:X("prisma:warn")},eQ={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function eG(e,...t){eQ.warn()&&console.warn(`${eK.warn} ${e}`,...t)}var eY=(0,eW.promisify)(ek.default.exec),eX=ew("prisma:get-platform"),e0=["1.0.x","1.1.x","3.0.x"];async function e1(){let e=eO.default.platform(),t=process.arch;if("freebsd"===e){let e=await ti("freebsd-version");if(e&&e.trim().length>0){let r=/^(\d+)\.?/.exec(e);if(r)return{platform:"freebsd",targetDistro:`freebsd${r[1]}`,arch:t}}}if("linux"!==e)return{platform:e,arch:t};let r=await e4(),i=await tn(),n=eB({arch:t,archFromUname:i,familyDistro:r.familyDistro}).with({familyDistro:"musl"},()=>(eX('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:e})=>(eX('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${e}-linux-gnu`,`/lib/${e}-linux-gnu`])).with({familyDistro:"rhel"},()=>(eX('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:e,arch:t,archFromUname:r})=>(eX(`Don't know any platform-specific paths for "${e}" on ${t} (${r})`),[])),{libssl:a}=await e5(n);return{platform:"linux",libssl:a,arch:t,archFromUname:i,...r}}async function e4(){try{var e;let t,r,i,n;return e=await eS.default.readFile("/etc/os-release",{encoding:"utf-8"}),r=(t=/^ID="?([^"\n]*)"?$/im.exec(e))&&t[1]&&t[1].toLowerCase()||"",i=/^ID_LIKE="?([^"\n]*)"?$/im.exec(e),n=eB({id:r,idLike:i&&i[1]&&i[1].toLowerCase()||""}).with({id:"alpine"},({id:e})=>({targetDistro:"musl",familyDistro:e,originalDistro:e})).with({id:"raspbian"},({id:e})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:e})).with({id:"nixos"},({id:e})=>({targetDistro:"nixos",originalDistro:e,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).when(({idLike:e})=>e.includes("debian")||e.includes("ubuntu"),({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).when(({idLike:e})=>"arch"===r||e.includes("arch"),({id:e})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:e})).when(({idLike:e})=>e.includes("centos")||e.includes("fedora")||e.includes("rhel")||e.includes("suse"),({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).otherwise(({id:e})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:e})),eX(`Found distro info:
${JSON.stringify(n,null,2)}`),n}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function e6(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t)return e2(`${t[1]}${t[2]??".0"}.x`)}function e2(e){let t=(()=>{if(ta(e))return e;let t=e.split(".");return t[1]="0",t.join(".")})();if(e0.includes(t))return t}async function e5(e){let t=await e3(e);if(t){eX(`Found libssl.so file using platform-specific paths: ${t}`);let e=e6(t);if(eX(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"libssl-specific-path"}}eX('Falling back to "ldconfig" and other generic paths');let r=await ti('ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | grep -v "libssl.so.0"');if(r||(r=await e3(["/lib64","/usr/lib64","/lib","/usr/lib"])),r){eX(`Found libssl.so file using "ldconfig" or other generic paths: ${r}`);let e=e6(r);if(eX(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"ldconfig"}}let i=await ti("openssl version -v");if(i){eX(`Found openssl binary with version: ${i}`);let e=function(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t)return e2(`${t[1]}.x`)}(i);if(eX(`The parsed openssl version is: ${e}`),e)return{libssl:e,strategy:"openssl-binary"}}return eX("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function e3(e){for(let t of e){let e=await e8(t);if(e)return e}}async function e8(e){try{return(await eS.default.readdir(e)).find(e=>e.startsWith("libssl.so.")&&!e.startsWith("libssl.so.0"))}catch(e){if("ENOENT"===e.code)return;throw e}}async function e9(){let{binaryTarget:e}=await tt();return e}async function e7(){let{memoized:e,...t}=await tt();return t}var te={};async function tt(){if(void 0!==te.binaryTarget)return Promise.resolve({...te,memoized:!0});let e=await e1(),t=function(e){let{platform:t,arch:r,archFromUname:i,libssl:n,targetDistro:a,familyDistro:o,originalDistro:s}=e;"linux"!==t||["x64","arm64"].includes(r)||eG(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${i}".`);let l="1.1.x";if("linux"===t&&void 0===n){let e=eB({familyDistro:o}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");eG(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${e}`)}let u="debian";if("linux"===t&&void 0===a&&eX(`Distro is "${s}". Falling back to Prisma engines built for "${u}".`),"darwin"===t&&"arm64"===r)return"darwin-arm64";if("darwin"===t)return"darwin";if("win32"===t)return"windows";if("freebsd"===t)return a;if("openbsd"===t)return"openbsd";if("netbsd"===t)return"netbsd";if("linux"===t&&"nixos"===a)return"linux-nixos";if("linux"===t&&"arm64"===r)return`${"musl"===a?"linux-musl-arm64":"linux-arm64"}-openssl-${n||l}`;if("linux"===t&&"arm"===r)return`linux-arm-openssl-${n||l}`;if("linux"===t&&"musl"===a){let e="linux-musl";return!n||ta(n)?e:`${e}-openssl-${n}`}return"linux"===t&&a&&n?`${a}-openssl-${n}`:("linux"!==t&&eG(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),n?`${u}-openssl-${n}`:a?`${a}-openssl-${l}`:`${u}-openssl-${l}`)}(e);return{...te={...e,binaryTarget:t},memoized:!1}}async function tr(e){try{return await e()}catch{return}}function ti(e){return tr(async()=>{let t=await eY(e);return eX(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function tn(){return"function"==typeof eO.default.machine?eO.default.machine():(await ti("uname -m"))?.trim()}function ta(e){return e.startsWith("1.")}var to={};d(to,{beep:()=>tM,clearScreen:()=>tC,clearTerminal:()=>tD,cursorBackward:()=>tv,cursorDown:()=>tg,cursorForward:()=>ty,cursorGetPosition:()=>tx,cursorHide:()=>tO,cursorLeft:()=>tb,cursorMove:()=>tm,cursorNextLine:()=>tk,cursorPrevLine:()=>tS,cursorRestorePosition:()=>t_,cursorSavePosition:()=>tw,cursorShow:()=>tE,cursorTo:()=>tf,cursorUp:()=>th,enterAlternativeScreen:()=>tz,eraseDown:()=>tP,eraseEndLine:()=>tT,eraseLine:()=>tA,eraseLines:()=>tI,eraseScreen:()=>tR,eraseStartLine:()=>t$,eraseUp:()=>tj,exitAlternativeScreen:()=>tL,iTerm:()=>tJ,image:()=>tV,link:()=>tq,scrollDown:()=>tU,scrollUp:()=>tN});var ts=f(e.r(59639),1),tl=globalThis.window?.document!==void 0,tu=(globalThis.process?.versions?.node,globalThis.process?.versions?.bun,globalThis.Deno?.version?.deno,globalThis.process?.versions?.electron,globalThis.navigator?.userAgent?.includes("jsdom"),"u">typeof WorkerGlobalScope&&WorkerGlobalScope,"u">typeof DedicatedWorkerGlobalScope&&DedicatedWorkerGlobalScope,"u">typeof SharedWorkerGlobalScope&&SharedWorkerGlobalScope,"u">typeof ServiceWorkerGlobalScope&&ServiceWorkerGlobalScope,globalThis.navigator?.userAgentData?.platform);"macOS"===tu||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform,"Windows"===tu||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform,"Linux"===tu||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform,"iOS"===tu||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),"Android"===tu||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform;var tc=!tl&&"Apple_Terminal"===ts.default.env.TERM_PROGRAM,td=!tl&&"win32"===ts.default.platform,tp=tl?()=>{throw Error("`process.cwd()` only works in Node.js, not the browser.")}:ts.default.cwd,tf=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");return"number"!=typeof t?"\x1b["+(e+1)+"G":"\x1b["+(t+1)+";"+(e+1)+"H"},tm=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");let r="";return e<0?r+="\x1b["+-e+"D":e>0&&(r+="\x1b["+e+"C"),t<0?r+="\x1b["+-t+"A":t>0&&(r+="\x1b["+t+"B"),r},th=(e=1)=>"\x1b["+e+"A",tg=(e=1)=>"\x1b["+e+"B",ty=(e=1)=>"\x1b["+e+"C",tv=(e=1)=>"\x1b["+e+"D",tb="\x1b[G",tw=tc?"\x1b7":"\x1b[s",t_=tc?"\x1b8":"\x1b[u",tx="\x1b[6n",tk="\x1b[E",tS="\x1b[F",tO="\x1b[?25l",tE="\x1b[?25h",tI=e=>{let t="";for(let r=0;r<e;r++)t+=tA+(r<e-1?th():"");return e&&(t+=tb),t},tT="\x1b[K",t$="\x1b[1K",tA="\x1b[2K",tP="\x1b[J",tj="\x1b[1J",tR="\x1b[2J",tN="\x1b[S",tU="\x1b[T",tC="\x1bc",tD=td?`${tR}\x1b[0f`:`${tR}\x1b[3J\x1b[H`,tz="\x1b[?1049h",tL="\x1b[?1049l",tM="\x07",tq=(e,t)=>"\x1b]8;;"+t+"\x07"+e+"\x1b]8;;\x07",tV=(e,t={})=>{let r=`\x1b]1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+"\x07"},tJ={setCwd:(e=tp())=>`\x1b]50;CurrentDir=${e}\x07`,annotation(e,t={}){let r=`\x1b]1337;`,i=void 0!==t.x,n=void 0!==t.y;if((i||n)&&!(i&&n&&void 0!==t.length))throw Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(i?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+"\x07"}},tF=f(g(),1);function tZ(e,t,{target:r="stdout",...i}={}){return tF.default[r]?to.link(e,t):!1===i.fallback?e:"function"==typeof i.fallback?i.fallback(e,t):`${e} (\u200B${t}\u200B)`}tZ.isSupported=tF.default.stdout,tZ.stderr=(e,t,r={})=>tZ(e,t,{target:"stderr",...r}),tZ.stderr.isSupported=tF.default.stderr;var tB=y().version;function tH(e){let t;return("library"===(t=process.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===t?"binary":"client"===t?"client":void 0)||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":"library")}function tW(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}function tK(e){return{ok:!0,value:e,map:t=>tK(t(e)),flatMap:t=>t(e)}}function tQ(e){return{ok:!1,error:e,map:()=>tQ(e),flatMap:()=>tQ(e)}}var tG=ew("driver-adapter-utils"),tY=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}},tX=(e,t=new tY)=>{var r,i;let n={adapterName:e.adapterName,errorRegistry:t,queryRaw:t1(t,e.queryRaw.bind(e)),executeRaw:t1(t,e.executeRaw.bind(e)),executeScript:t1(t,e.executeScript.bind(e)),dispose:t1(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...r)=>(await t1(t,e.startTransaction.bind(e))(...r)).map(e=>t0(t,e))};return e.getConnectionInfo&&(r=t,i=e.getConnectionInfo.bind(e),n.getConnectionInfo=(...e)=>{try{return tK(i(...e))}catch(e){if(tG("[error@wrapSync]",e),tW(e))return tQ(e.cause);return tQ({kind:"GenericJs",id:r.registerNewError(e)})}}),n},t0=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:t1(e,t.queryRaw.bind(t)),executeRaw:t1(e,t.executeRaw.bind(t)),commit:t1(e,t.commit.bind(t)),rollback:t1(e,t.rollback.bind(t))});function t1(e,t){return async(...r)=>{try{return tK(await t(...r))}catch(t){if(tG("[error@wrapAsync]",t),tW(t))return tQ(t.cause);return tQ({kind:"GenericJs",id:e.registerNewError(t)})}}}f(b());var t4=f(e.r(50227));f(b()),ew("prisma:engines"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-darwin"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-darwin-arm64"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-debian-openssl-1.0.x"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-debian-openssl-1.1.x"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-debian-openssl-3.0.x"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-linux-static-x64"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-linux-static-arm64"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-rhel-openssl-1.0.x"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-rhel-openssl-1.1.x"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-rhel-openssl-3.0.x"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-darwin.dylib.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-darwin-arm64.dylib.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-debian-openssl-1.0.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-debian-openssl-1.1.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-debian-openssl-3.0.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.0.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.1.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-3.0.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-musl.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-musl-openssl-3.0.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.0.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.1.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-rhel-openssl-3.0.x.so.node"),t4.default.join("/ROOT/lib/generated/prisma/runtime","../query_engine-windows.dll.node"),f(e.r(2157)),ew("chmodPlusX"),f(w(),1);var t6="prisma+postgres:";function t2(e){return e?.toString().startsWith(`${t6}//`)??!1}var t5=f(_()),t3=class{constructor(e){this.config=e}toString(){var e;let t,{config:r}=this,i=JSON.parse(JSON.stringify({provider:r.provider.fromEnvVar?`env("${r.provider.fromEnvVar}")`:r.provider.value,binaryTargets:function(e){let t;if(e.length>0){let r=e.find(e=>null!==e.fromEnvVar);t=r?`env("${r.fromEnvVar}")`:e.map(e=>e.native?"native":e.value)}else t=void 0;return t}(r.binaryTargets)}));return`generator ${r.name} {
${(0,t5.default)((t=Object.keys(e=i).reduce((e,t)=>Math.max(e,t.length),0),Object.entries(e).map(([e,r])=>`${e.padEnd(t)} = ${JSON.parse(JSON.stringify(r,(e,t)=>Array.isArray(t)?`[${t.map(e=>JSON.stringify(e)).join(", ")}]`:JSON.stringify(t)))}`).join(`
`)),2)}
}`}},t8={};d(t8,{error:()=>ri,info:()=>rr,log:()=>re,query:()=>rn,should:()=>t7,tags:()=>t9,warn:()=>rt});var t9={error:G("prisma:error"),warn:X("prisma:warn"),info:er("prisma:info"),query:ee("prisma:query")},t7={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function re(...e){console.log(...e)}function rt(e,...t){t7.warn()&&console.warn(`${t9.warn} ${e}`,...t)}function rr(e,...t){console.info(`${t9.info} ${e}`,...t)}function ri(e,...t){console.error(`${t9.error} ${e}`,...t)}function rn(e,...t){console.log(`${t9.query} ${e}`,...t)}function ra(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function ro(e,t){throw Error(t)}var rs=function({onlyFirst:e=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",e?void 0:"g")}();function rl(e){if("string"!=typeof e)throw TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(rs,"")}var ru=f(e.r(50227)),rc=f(k()),rd=f(e.r(2157)),rp=f(e.r(50227)),rf=ew("prisma:tryLoadEnv");function rm({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let i=rh(e);"none"!==r.conflictCheck&&function(e,t,r){let i=e?.dotenvResult.parsed,n=!rg(e?.path,t);if(i&&t&&n&&rd.default.existsSync(t)){let n=rc.default.parse(rd.default.readFileSync(t)),a=[];for(let e in n)i[e]===n[e]&&a.push(e);if(a.length>0){let i=rp.default.relative(process.cwd(),e.path),n=rp.default.relative(process.cwd(),t);if("error"===r)throw Error(`There is a conflict between env var${a.length>1?"s":""} in ${B(i)} and ${B(n)}
Conflicting env vars:
${a.map(e=>`  ${J(e)}`).join(`
`)}

We suggest to move the contents of ${B(n)} to ${B(i)} to consolidate your env vars.
`);if("warn"===r){let e=`Conflict for env var${a.length>1?"s":""} ${a.map(e=>J(e)).join(", ")} in ${B(i)} and ${B(n)}
Env vars from ${B(n)} overwrite the ones from ${B(i)}
      `;console.warn(`${X("warn(prisma)")} ${e}`)}}}}(i,t,r.conflictCheck);let n=null;return rg(i?.path,t)||(n=rh(t)),i||n||rf("No Environment variables loaded"),n?.dotenvResult.error?console.error(G(J("Schema Env Error: "))+n.dotenvResult.error):{message:[i?.message,n?.message].filter(Boolean).join(`
`),parsed:{...i?.dotenvResult?.parsed,...n?.dotenvResult?.parsed}}}function rh(e){var t;return(t=e)&&rd.default.existsSync(t)?(rf(`Environment variables loaded from ${e}`),{dotenvResult:function(e){let t=e.ignoreProcessEnv?{}:process.env,r=i=>i.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(i,n){let a=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(n);if(!a)return i;let o=a[1],s,l;if("\\"===o)s=(l=a[0]).replace("\\$","$");else{let i=a[2];l=a[0].substring(o.length),s=r(s=Object.hasOwnProperty.call(t,i)?t[i]:e.parsed[i]||"")}return i.replace(l,s)},i)??i;for(let i in e.parsed){let n=Object.hasOwnProperty.call(t,i)?t[i]:e.parsed[i];e.parsed[i]=r(n)}for(let r in e.parsed)t[r]=e.parsed[r];return e}(rc.default.config({path:e,debug:!!process.env.DOTENV_CONFIG_DEBUG||void 0})),message:F(`Environment variables loaded from ${rp.default.relative(process.cwd(),e)}`),path:e}):(rf(`Environment variables not found at ${e}`),null)}function rg(e,t){return e&&t&&rp.default.resolve(e)===rp.default.resolve(t)}function ry(e,t){let r={};for(let i of Object.keys(e))r[i]=t(e[i],i);return r}function rv(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var rb=new Set,rw=(e,t,...r)=>{rb.has(e)||(rb.add(e),rt(t,...r))},r_=class e extends Error{clientVersion;errorCode;retryable;constructor(t,r,i){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=i,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};rv(r_,"PrismaClientInitializationError");var rx=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:i,batchRequestIdx:n}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=i,Object.defineProperty(this,"batchRequestIdx",{value:n,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};rv(rx,"PrismaClientKnownRequestError");var rk=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};rv(rk,"PrismaClientRustPanicError");var rS=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};rv(rS,"PrismaClientUnknownRequestError");var rO=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};rv(rO,"PrismaClientValidationError");var rE=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let i=t();return this.set(e,i),i}};function rI(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function rT(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function r$(e){return{models:rA(e.models),enums:rA(e.enums),types:rA(e.types)}}function rA(e){let t={};for(let{name:r,...i}of e)t[r]=i;return t}function rP(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function rj(e){return"Invalid Date"!==e.toString()}var rR,rN,rU="0123456789abcdef",rC="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",rD="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",rz={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},rL=!0,rM="[DecimalError] ",rq=rM+"Invalid argument: ",rV=rM+"Precision limit exceeded",rJ=rM+"crypto unavailable",rF="[object Decimal]",rZ=Math.floor,rB=Math.pow,rH=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,rW=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rK=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,rQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rG=rC.length-1,rY=rD.length-1,rX={toStringTag:rF};function r0(e){var t,r,i,n=e.length-1,a="",o=e[0];if(n>0){for(a+=o,t=1;t<n;t++)(r=7-(i=e[t]+"").length)&&(a+=it(r)),a+=i;(r=7-(i=(o=e[t])+"").length)&&(a+=it(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function r1(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rq+e)}function r4(e,t,r,i){var n,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,n=0):(n=Math.ceil((t+1)/7),t%=7),a=rB(10,7-t),s=e[n]%a|0,null==i?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[n+1]/a/100|0)==rB(10,t-2)-1||(s==a/2||0==s)&&(e[n+1]/a/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(i||r<4)&&9999==s||!i&&r>3&&4999==s):o=((i||r<4)&&s+1==a||!i&&r>3&&s+1==a/2)&&(e[n+1]/a/1e3|0)==rB(10,t-3)-1,o}function r6(e,t,r){for(var i,n,a=[0],o=0,s=e.length;o<s;){for(n=a.length;n--;)a[n]*=t;for(a[0]+=rU.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>r-1&&(void 0===a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}rX.absoluteValue=rX.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),r5(e)},rX.ceil=function(){return r5(new this.constructor(this),this.e+1,2)},rX.clampedTo=rX.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(rq+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},rX.comparedTo=rX.cmp=function(e){var t,r,i,n,a=this.d,o=(e=new this.constructor(e)).d,s=this.s,l=e.s;if(!a||!o)return s&&l?s!==l?s:a===o?0:!a^s<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?s:o[0]?-l:0;if(s!==l)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(i=a.length,n=o.length,t=0,r=i<n?i:n;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return i===n?0:i>n^s<0?1:-1},rX.cosine=rX.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i,n;if(t.isZero())return t;(i=t.d.length)<32?n=(1/id(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=ic(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(i,ip(i,r)),i.precision=e,i.rounding=t,r5(2==rN||3==rN?r.neg():r,e,t,!0)):new i(1):new i(NaN)},rX.cubeRoot=rX.cbrt=function(){var e,t,r,i,n,a,o,s,l,u,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(rL=!1,(a=this.s*rB(this.s*this,1/3))&&Math.abs(a)!=1/0?i=new c(a.toString()):(r=r0(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=rB(r,1/3),e=rZ((e+1)/3)-(e%3==(e<0?-1:2)),(i=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=c.precision)+3;;)if(i=r2((u=(l=(s=i).times(s).times(s)).plus(this)).plus(this).times(s),u.plus(l),o+2,1),r0(s.d).slice(0,o)===(r=r0(i.d)).slice(0,o))if("9999"!=(r=r.slice(o-3,o+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(r5(i,e+1,1),t=!i.times(i).times(i).eq(this));break}else{if(!n&&(r5(s,e+1,0),s.times(s).times(s).eq(this))){i=s;break}o+=4,n=1}return rL=!0,r5(i,e,c.rounding,t)},rX.decimalPlaces=rX.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-rZ(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},rX.dividedBy=rX.div=function(e){return r2(this,new this.constructor(e))},rX.dividedToIntegerBy=rX.divToInt=function(e){var t=this.constructor;return r5(r2(this,new t(e),0,1,1),t.precision,t.rounding)},rX.equals=rX.eq=function(e){return 0===this.cmp(e)},rX.floor=function(){return r5(new this.constructor(this),this.e+1,3)},rX.greaterThan=rX.gt=function(e){return this.cmp(e)>0},rX.greaterThanOrEqualTo=rX.gte=function(e){var t=this.cmp(e);return 1==t||0===t},rX.hyperbolicCosine=rX.cosh=function(){var e,t,r,i,n,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,i=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(n=a.d.length)<32?t=(1/id(4,e=Math.ceil(n/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=ic(o,1,a.times(t),new o(1),!0);for(var l,u=e,c=new o(8);u--;)l=a.times(a),a=s.minus(l.times(c.minus(l.times(c))));return r5(a,o.precision=r,o.rounding=i,!0)},rX.hyperbolicSine=rX.sinh=function(){var e,t,r,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(n.e,n.sd())+4,a.rounding=1,(i=n.d.length)<3)n=ic(a,2,n,n,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,n=ic(a,2,n=n.times(1/id(5,e)),n,!0);for(var o,s=new a(5),l=new a(16),u=new a(20);e--;)o=n.times(n),n=n.times(s.plus(o.times(l.times(o).plus(u))))}return a.precision=t,a.rounding=r,r5(n,t,r,!0)},rX.hyperbolicTangent=rX.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,r2(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},rX.inverseCosine=rX.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,n=t.rounding;return -1!==r?0===r?e.isNeg()?r7(t,i,n):new t(0):new t(NaN):e.isZero()?r7(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=i,t.rounding=n,e.times(2))},rX.inverseHyperbolicCosine=rX.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,rL=!1,r=r.times(r).minus(1).sqrt().plus(r),rL=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)},rX.inverseHyperbolicSine=rX.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,rL=!1,r=r.times(r).plus(1).sqrt().plus(r),rL=!0,i.precision=e,i.rounding=t,r.ln())},rX.inverseHyperbolicTangent=rX.atanh=function(){var e,t,r,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=a.precision,t=a.rounding,Math.max(i=n.sd(),e)<-(2*n.e)-1?r5(new a(n),e,t,!0):(a.precision=r=i-n.e,n=r2(n.plus(1),new a(1).minus(n),r+e,1),a.precision=e+4,a.rounding=1,n=n.ln(),a.precision=e,a.rounding=t,n.times(.5))):new a(NaN)},rX.inverseSine=rX.asin=function(){var e,t,r,i,n=this,a=n.constructor;return n.isZero()?new a(n):(t=n.abs().cmp(1),r=a.precision,i=a.rounding,-1!==t?0===t?((e=r7(a,r+4,i).times(.5)).s=n.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,n.times(2)))},rX.inverseTangent=rX.atan=function(){var e,t,r,i,n,a,o,s,l,u=this,c=u.constructor,d=c.precision,p=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=rY)return(o=r7(c,d+4,p).times(.25)).s=u.s,o}else{if(!u.s)return new c(NaN);if(d+4<=rY)return(o=r7(c,d+4,p).times(.5)).s=u.s,o}for(c.precision=s=d+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(rL=!1,t=Math.ceil(s/7),i=1,l=u.times(u),o=new c(u),n=u;-1!==e;)if(n=n.times(l),a=o.minus(n.div(i+=2)),n=n.times(l),void 0!==(o=a.plus(n.div(i+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),rL=!0,r5(o,c.precision=d,c.rounding=p,!0)},rX.isFinite=function(){return!!this.d},rX.isInteger=rX.isInt=function(){return!!this.d&&rZ(this.e/7)>this.d.length-2},rX.isNaN=function(){return!this.s},rX.isNegative=rX.isNeg=function(){return this.s<0},rX.isPositive=rX.isPos=function(){return this.s>0},rX.isZero=function(){return!!this.d&&0===this.d[0]},rX.lessThan=rX.lt=function(e){return 0>this.cmp(e)},rX.lessThanOrEqualTo=rX.lte=function(e){return 1>this.cmp(e)},rX.logarithm=rX.log=function(e){var t,r,i,n,a,o,s,l=this.constructor,u=l.precision,c=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)n=!0;else{for(i=r[0];i%10==0;)i/=10;n=1!==i}if(rL=!1,r4((s=r2(a=is(this,o=u+5),t?r9(l,o+10):is(e,o),o,1)).d,i=u,c))do if(o+=10,s=r2(a=is(this,o),t?r9(l,o+10):is(e,o),o,1),!n){+r0(s.d).slice(i+1,i+15)+1==1e14&&(s=r5(s,u+1,0));break}while(r4(s.d,i+=10,c))return rL=!0,r5(s,u,c)},rX.minus=rX.sub=function(e){var t,r,i,n,a,o,s,l,u,c,d,p,f=this.constructor;if(e=new f(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new f(e.d||this.s!==e.s?this:NaN):e=new f(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(u=this.d,p=e.d,s=f.precision,l=f.rounding,!u[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!u[0])return new f(3===l?-0:0);e=new f(this)}return rL?r5(e,s,l):e}if(r=rZ(e.e/7),c=rZ(this.e/7),u=u.slice(),a=c-r){for((d=a<0)?(t=u,a=-a,o=p.length):(t=p,r=c,o=u.length),a>(i=Math.max(Math.ceil(s/7),o)+2)&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for((d=(i=u.length)<(o=p.length))&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}a=0}for(d&&(t=u,u=p,p=t,e.s=-e.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(n=i;n&&0===u[--n];)u[n]=1e7-1;--u[n],u[i]+=1e7}u[i]-=p[i]}for(;0===u[--o];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(e.d=u,e.e=r8(u,r),rL?r5(e,s,l):e):new f(3===l?-0:0)},rX.modulo=rX.mod=function(e){var t,r=this.constructor;return e=new r(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(rL=!1,9==r.modulo?(t=r2(this,e.abs(),0,3,1),t.s*=e.s):t=r2(this,e,0,r.modulo,1),t=t.times(e),rL=!0,this.minus(t)):r5(new r(this),r.precision,r.rounding):new r(NaN)},rX.naturalExponential=rX.exp=function(){return io(this)},rX.naturalLogarithm=rX.ln=function(){return is(this)},rX.negated=rX.neg=function(){var e=new this.constructor(this);return e.s=-e.s,r5(e)},rX.plus=rX.add=function(e){var t,r,i,n,a,o,s,l,u,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(u=this.d,c=e.d,s=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(e=new d(this)),rL?r5(e,s,l):e;if(a=rZ(this.e/7),i=rZ(e.e/7),u=u.slice(),n=a-i){for(n<0?(r=u,n=-n,o=c.length):(r=c,i=a,o=u.length),n>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((o=u.length)-(n=c.length)<0&&(n=o,r=c,c=u,u=r),t=0;n;)t=(u[--n]=u[n]+c[n]+t)/1e7|0,u[n]%=1e7;for(t&&(u.unshift(t),++i),o=u.length;0==u[--o];)u.pop();return e.d=u,e.e=r8(u,i),rL?r5(e,s,l):e},rX.precision=rX.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(rq+e);return this.d?(t=ie(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},rX.round=function(){var e=this.constructor;return r5(new e(this),this.e+1,e.rounding)},rX.sine=rX.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:ic(e,2,t,t);r=(r=1.4*Math.sqrt(i))>16?16:0|r,t=ic(e,2,t=t.times(1/id(5,r)),t);for(var n,a=new e(5),o=new e(16),s=new e(20);r--;)n=t.times(t),t=t.times(a.plus(n.times(o.times(n).minus(s))));return t}(i,ip(i,r)),i.precision=e,i.rounding=t,r5(rN>2?r.neg():r,e,t,!0)):new i(NaN)},rX.squareRoot=rX.sqrt=function(){var e,t,r,i,n,a,o=this.d,s=this.e,l=this.s,u=this.constructor;if(1!==l||!o||!o[0])return new u(!l||l<0&&(!o||o[0])?NaN:o?this:1/0);for(rL=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=r0(o)).length+s)%2==0&&(t+="0"),l=Math.sqrt(t),s=rZ((s+1)/2)-(s<0||s%2),i=new u(t=l==1/0?"5e"+s:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+s)):i=new u(l.toString()),r=(s=u.precision)+3;;)if(i=(a=i).plus(r2(this,a,r+2,1)).times(.5),r0(a.d).slice(0,r)===(t=r0(i.d)).slice(0,r))if("9999"!=(t=t.slice(r-3,r+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(r5(i,s+1,1),e=!i.times(i).eq(this));break}else{if(!n&&(r5(a,s+1,0),a.times(a).eq(this))){i=a;break}r+=4,n=1}return rL=!0,r5(i,s,u.rounding,e)},rX.tangent=rX.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(r=r.sin()).s=1,r=r2(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,r5(2==rN||4==rN?r.neg():r,e,t,!0)):new i(NaN)},rX.times=rX.mul=function(e){var t,r,i,n,a,o,s,l,u,c=this.constructor,d=this.d,p=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!p||!p[0])return new c(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:!d||!p?e.s/0:0*e.s);for(r=rZ(this.e/7)+rZ(e.e/7),(l=d.length)<(u=p.length)&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],i=o=l+u;i--;)a.push(0);for(i=u;--i>=0;){for(t=0,n=l+i;n>i;)s=a[n]+p[i]*d[n-i-1]+t,a[n--]=s%1e7|0,t=s/1e7|0;a[n]=(a[n]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r8(a,r),rL?r5(e,c.precision,c.rounding):e},rX.toBinary=function(e,t){return im(this,2,e,t)},rX.toDecimalPlaces=rX.toDP=function(e,t){var r=this,i=r.constructor;return r=new i(r),void 0===e?r:(r1(e,0,1e9),void 0===t?t=i.rounding:r1(t,0,8),r5(r,e+r.e+1,t))},rX.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=r3(i,!0):(r1(e,0,1e9),void 0===t?t=n.rounding:r1(t,0,8),r=r3(i=r5(new n(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},rX.toFixed=function(e,t){var r,i,n=this.constructor;return void 0===e?r=r3(this):(r1(e,0,1e9),void 0===t?t=n.rounding:r1(t,0,8),r=r3(i=r5(new n(this),e+this.e+1,t),!1,e+i.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},rX.toFraction=function(e){var t,r,i,n,a,o,s,l,u,c,d,p,f=this.d,m=this.constructor;if(!f)return new m(this);if(u=r=new m(1),i=l=new m(0),o=(a=(t=new m(i)).e=ie(f)-this.e-1)%7,t.d[0]=rB(10,o<0?7+o:o),null==e)e=a>0?t:u;else{if(!(s=new m(e)).isInt()||s.lt(u))throw Error(rq+s);e=s.gt(t)?a>0?t:u:s}for(rL=!1,s=new m(r0(f)),c=m.precision,m.precision=a=7*f.length*2;d=r2(s,t,0,1,1),1!=(n=r.plus(d.times(i))).cmp(e);)r=i,i=n,n=u,u=l.plus(d.times(n)),l=n,n=t,t=s.minus(d.times(n)),s=n;return n=r2(e.minus(r),i,0,1,1),l=l.plus(n.times(u)),r=r.plus(n.times(i)),l.s=u.s=this.s,p=1>r2(u,i,a,1).minus(this).abs().cmp(r2(l,r,a,1).minus(this).abs())?[u,i]:[l,r],m.precision=c,rL=!0,p},rX.toHexadecimal=rX.toHex=function(e,t){return im(this,16,e,t)},rX.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),null==e){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:r1(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(rL=!1,r=r2(r,e,0,t,1).times(e),rL=!0,r5(r)):(e.s=r.s,r=e),r},rX.toNumber=function(){return+this},rX.toOctal=function(e,t){return im(this,8,e,t)},rX.toPower=rX.pow=function(e){var t,r,i,n,a,o,s=this,l=s.constructor,u=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(rB(+s,u));if((s=new l(s)).eq(1))return s;if(i=l.precision,a=l.rounding,e.eq(1))return r5(s,i,a);if((t=rZ(e.e/7))>=e.d.length-1&&(r=u<0?-u:u)<=0x1fffffffffffff)return n=ir(l,s,r,i),e.s<0?new l(1).div(n):r5(n,i,a);if((o=s.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=rB(+s,u))&&isFinite(r)?new l(r+"").e:rZ(u*(Math.log("0."+r0(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(rL=!1,l.rounding=s.s=1,r=Math.min(12,(t+"").length),(n=io(e.times(is(s,i+r)),i)).d&&r4((n=r5(n,i+5,1)).d,i,a)&&(t=i+10,+r0((n=r5(io(e.times(is(s,t+r)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(n=r5(n,i+1,0))),n.s=o,rL=!0,l.rounding=a,r5(n,i,a))},rX.toPrecision=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=r3(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(r1(e,1,1e9),void 0===t?t=n.rounding:r1(t,0,8),r=r3(i=r5(new n(i),e,t),e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r},rX.toSignificantDigits=rX.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(r1(e,1,1e9),void 0===t?t=r.rounding:r1(t,0,8)),r5(new r(this),e,t)},rX.toString=function(){var e=this.constructor,t=r3(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},rX.truncated=rX.trunc=function(){return r5(new this.constructor(this),this.e+1,1)},rX.valueOf=rX.toJSON=function(){var e=this.constructor,t=r3(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var r2=function(){function e(e,t,r){var i,n=0,a=e.length;for(e=e.slice();a--;)i=e[a]*t+n,e[a]=i%r|0,n=i/r|0;return n&&e.unshift(n),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,a,o,s,l){var u,c,d,p,f,m,h,g,y,v,b,w,_,x,k,S,O,E,I,T,$=i.constructor,A=i.s==n.s?1:-1,P=i.d,j=n.d;if(!P||!P[0]||!j||!j[0])return new $(!i.s||!n.s||(P?j&&P[0]==j[0]:!j)?NaN:P&&0==P[0]||!j?0*A:A/0);for(l?(f=1,c=i.e-n.e):(l=1e7,f=7,c=rZ(i.e/f)-rZ(n.e/f)),I=j.length,O=P.length,v=(y=new $(A)).d=[],d=0;j[d]==(P[d]||0);d++);if(j[d]>(P[d]||0)&&c--,null==a?(x=a=$.precision,o=$.rounding):x=s?a+(i.e-n.e)+1:a,x<0)v.push(1),m=!0;else{if(x=x/f+2|0,d=0,1==I){for(p=0,j=j[0],x++;(d<O||p)&&x--;d++)k=p*l+(P[d]||0),v[d]=k/j|0,p=k%j|0;m=p||d<O}else{for((p=l/(j[0]+1)|0)>1&&(j=e(j,p,l),P=e(P,p,l),I=j.length,O=P.length),S=I,w=(b=P.slice(0,I)).length;w<I;)b[w++]=0;(T=j.slice()).unshift(0),E=j[0],j[1]>=l/2&&++E;do p=0,(u=t(j,b,I,w))<0?(_=b[0],I!=w&&(_=_*l+(b[1]||0)),(p=_/E|0)>1?(p>=l&&(p=l-1),g=(h=e(j,p,l)).length,w=b.length,1==(u=t(h,b,g,w))&&(p--,r(h,I<g?T:j,g,l))):(0==p&&(u=p=1),h=j.slice()),(g=h.length)<w&&h.unshift(0),r(b,h,w,l),-1==u&&(w=b.length,(u=t(j,b,I,w))<1&&(p++,r(b,I<w?T:j,w,l))),w=b.length):0===u&&(p++,b=[0]),v[d++]=p,u&&b[0]?b[w++]=P[S]||0:(b=[P[S]],w=1);while((S++<O||void 0!==b[0])&&x--)m=void 0!==b[0]}v[0]||v.shift()}if(1==f)y.e=c,rR=m;else{for(d=1,p=v[0];p>=10;p/=10)d++;y.e=d+c*f-1,r5(y,s?a+y.e+1:a,o,m)}return y}}();function r5(e,t,r,i){var n,a,o,s,l,u,c,d,p,f=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(n=1,s=d[0];s>=10;s/=10)n++;if((a=t-n)<0)a+=7,o=t,l=(c=d[p=0])/rB(10,n-o-1)%10|0;else if((p=Math.ceil((a+1)/7))>=(s=d.length))if(i){for(;s++<=p;)d.push(0);c=l=0,n=1,a%=7,o=a-7+1}else break e;else{for(c=s=d[p],n=1;s>=10;s/=10)n++;a%=7,l=(o=a-7+n)<0?0:c/rB(10,n-o-1)%10|0}if(i=i||t<0||void 0!==d[p+1]||(o<0?c:c%rB(10,n-o-1)),u=r<4?(l||i)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||i||6==r&&(a>0?o>0?c/rB(10,n-o):0:d[p-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=rB(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=p,s=1,p--):(d.length=p+1,s=rB(10,7-a),d[p]=o>0?(c/rB(10,n-o)%rB(10,o)|0)*s:0),u)for(;;)if(0==p){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[p]+=s,1e7!=d[p])break;d[p--]=0,s=1}for(a=d.length;0===d[--a];)d.pop()}return rL&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function r3(e,t,r){if(!e.isFinite())return il(e);var i,n=e.e,a=r0(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+it(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):n<0?(a="0."+it(-n-1)+a,r&&(i=r-o)>0&&(a+=it(i))):n>=o?(a+=it(n+1-o),r&&(i=r-n-1)>0&&(a=a+"."+it(i))):((i=n+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(a+="."),a+=it(i))),a}function r8(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function r9(e,t,r){if(t>rG)throw rL=!0,r&&(e.precision=r),Error(rV);return r5(new e(rC),t,1,!0)}function r7(e,t,r){if(t>rY)throw Error(rV);return r5(new e(rD),t,r,!0)}function ie(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function it(e){for(var t="";e--;)t+="0";return t}function ir(e,t,r,i){var n,a=new e(1),o=Math.ceil(i/7+4);for(rL=!1;;){if(r%2&&ih((a=a.times(t)).d,o)&&(n=!0),0===(r=rZ(r/2))){r=a.d.length-1,n&&0===a.d[r]&&++a.d[r];break}ih((t=t.times(t)).d,o)}return rL=!0,a}function ii(e){return 1&e.d[e.d.length-1]}function ia(e,t,r){for(var i,n,a=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){a=n;break}((i=a.cmp(n))===r||0===i&&a.s===r)&&(a=n)}return a}function io(e,t){var r,i,n,a,o,s,l,u=0,c=0,d=0,p=e.constructor,f=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(rL=!1,l=m):l=t,s=new p(.03125);e.e>-2;)e=e.times(s),d+=5;for(l+=i=Math.log(rB(2,d))/Math.LN10*2+5|0,r=a=o=new p(1),p.precision=l;;){if(a=r5(a.times(e),l,1),r=r.times(++c),r0((s=o.plus(r2(a,r,l,1))).d).slice(0,l)===r0(o.d).slice(0,l)){for(n=d;n--;)o=r5(o.times(o),l,1);if(null!=t)return p.precision=m,o;if(!(u<3&&r4(o.d,l-i,f,u)))return r5(o,p.precision=m,f,rL=!0);p.precision=l+=10,r=a=s=new p(1),c=0,u++}o=s}}function is(e,t){var r,i,n,a,o,s,l,u,c,d,p,f=1,m=e,h=m.d,g=m.constructor,y=g.rounding,v=g.precision;if(m.s<0||!h||!h[0]||!m.e&&1==h[0]&&1==h.length)return new g(h&&!h[0]?-1/0:1!=m.s?NaN:h?0:m);if(null==t?(rL=!1,c=v):c=t,g.precision=c+=10,i=(r=r0(h)).charAt(0),!(15e14>Math.abs(a=m.e)))return u=r9(g,c+2,v).times(a+""),m=is(new g(i+"."+r.slice(1)),c-10).plus(u),g.precision=v,null==t?r5(m,v,y,rL=!0):m;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=r0((m=m.times(e)).d)).charAt(0),f++;for(a=m.e,i>1?(m=new g("0."+r),a++):m=new g(i+"."+r.slice(1)),d=m,l=o=m=r2(m.minus(1),m.plus(1),c,1),p=r5(m.times(m),c,1),n=3;;){if(o=r5(o.times(p),c,1),r0((u=l.plus(r2(o,new g(n),c,1))).d).slice(0,c)===r0(l.d).slice(0,c))if(l=l.times(2),0!==a&&(l=l.plus(r9(g,c+2,v).times(a+""))),l=r2(l,new g(f),c,1),null!=t)return g.precision=v,l;else{if(!r4(l.d,c-10,y,s))return r5(l,g.precision=v,y,rL=!0);g.precision=c+=10,u=o=m=r2(d.minus(1),d.plus(1),c,1),p=r5(m.times(m),c,1),n=s=1}l=u,n+=2}}function il(e){return String(e.s*e.s/0)}function iu(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);i++);for(n=t.length;48===t.charCodeAt(n-1);--n);if(t=t.slice(i,n)){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=7;i<n;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";e.d.push(+t),rL&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ic(e,t,r,i,n){var a,o,s,l,u=e.precision,c=Math.ceil(u/7);for(rL=!1,l=r.times(r),s=new e(i);;){if(o=r2(s.times(l),new e(t++*t++),u,1),s=n?i.plus(o):i.minus(o),i=r2(o.times(l),new e(t++*t++),u,1),void 0!==(o=s.plus(i)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=i,i=o,o=a}return rL=!0,o.d.length=c+1,o}function id(e,t){for(var r=e;--t;)r*=e;return r}function ip(e,t){var r,i=t.s<0,n=r7(e,e.precision,1),a=n.times(.5);if((t=t.abs()).lte(a))return rN=i?4:1,t;if((r=t.divToInt(n)).isZero())rN=i?3:2;else{if((t=t.minus(r.times(n))).lte(a))return rN=ii(r)?i?2:3:i?4:1,t;rN=ii(r)?i?1:4:i?3:2}return t.minus(n).abs()}function im(e,t,r,i){var n,a,o,s,l,u,c,d,p,f=e.constructor,m=void 0!==r;if(m?(r1(r,1,1e9),void 0===i?i=f.rounding:r1(i,0,8)):(r=f.precision,i=f.rounding),e.isFinite()){for(o=(c=r3(e)).indexOf("."),m?(n=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):n=t,o>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-o,p.d=r6(r3(p),10,n),p.e=p.d.length),a=l=(d=r6(c,10,n)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?a--:((e=new f(e)).d=d,e.e=a,d=(e=r2(e,p,r,i,0,n)).d,a=e.e,u=rR),o=d[r],s=n/2,u=u||void 0!==d[r+1],u=i<4?(void 0!==o||u)&&(0===i||i===(e.s<0?3:2)):o>s||o===s&&(4===i||u||6===i&&1&d[r-1]||i===(e.s<0?8:7)),d.length=r,u)for(;++d[--r]>n-1;)d[r]=0,r||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,c="";o<l;o++)c+=rU.charAt(d[o]);if(m){if(l>1)if(16==t||8==t){for(o=16==t?4:3,--l;l%o;l++)c+="0";for(l=(d=r6(c,n,t)).length;!d[l-1];--l);for(o=1,c="1.";o<l;o++)c+=rU.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}else c=m?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=il(e);return e.s<0?"-"+c:c}function ih(e,t){if(e.length>t)return e.length=t,!0}function ig(e){return new this(e).abs()}function iy(e){return new this(e).acos()}function iv(e){return new this(e).acosh()}function ib(e,t){return new this(e).plus(t)}function iw(e){return new this(e).asin()}function i_(e){return new this(e).asinh()}function ix(e){return new this(e).atan()}function ik(e){return new this(e).atanh()}function iS(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,a=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?r7(this,i,n):new this(0)).s=e.s:!e.d||t.isZero()?(r=r7(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(r2(e,t,a,1)),t=r7(this,a,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(r2(e,t,a,1)):(r=r7(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function iO(e){return new this(e).cbrt()}function iE(e){return r5(e=new this(e),e.e+1,2)}function iI(e,t,r){return new this(e).clamp(t,r)}function iT(e){if(!e||"object"!=typeof e)throw Error(rM+"Object expected");var t,r,i,n=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],n&&(this[r]=rz[r]),void 0!==(i=e[r]))if(rZ(i)===i&&i>=a[t+1]&&i<=a[t+2])this[r]=i;else throw Error(rq+r+": "+i);if(r="crypto",n&&(this[r]=rz[r]),void 0!==(i=e[r]))if(!0===i||!1===i||0===i||1===i)if(i)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(rJ);else this[r]=!1;else throw Error(rq+r+": "+i);return this}function i$(e){return new this(e).cos()}function iA(e){return new this(e).cosh()}function iP(e,t){return new this(e).div(t)}function ij(e){return new this(e).exp()}function iR(e){return r5(e=new this(e),e.e+1,3)}function iN(){var e,t,r=new this(0);for(rL=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return rL=!0,new this(1/0);r=t}return rL=!0,r.sqrt()}function iU(e){return e instanceof i4||e&&e.toStringTag===rF||!1}function iC(e){return new this(e).ln()}function iD(e,t){return new this(e).log(t)}function iz(e){return new this(e).log(2)}function iL(e){return new this(e).log(10)}function iM(){return ia(this,arguments,-1)}function iq(){return ia(this,arguments,1)}function iV(e,t){return new this(e).mod(t)}function iJ(e,t){return new this(e).mul(t)}function iF(e,t){return new this(e).pow(t)}function iZ(e){var t,r,i,n,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:r1(e,1,1e9),i=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)(n=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)(n=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(n%1e7),a+=4);a=i/4}else throw Error(rJ);else for(;a<i;)s[a++]=1e7*Math.random()|0;for(i=s[--a],e%=7,i&&e&&(n=rB(10,7-e),s[a]=(i/n|0)*n);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<7&&(r-=7-i)}return o.e=r,o.d=s,o}function iB(e){return r5(e=new this(e),e.e+1,this.rounding)}function iH(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function iW(e){return new this(e).sin()}function iK(e){return new this(e).sinh()}function iQ(e){return new this(e).sqrt()}function iG(e,t){return new this(e).sub(t)}function iY(){var e=0,t=arguments,r=new this(t[0]);for(rL=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return rL=!0,r5(r,this.precision,this.rounding)}function iX(e){return new this(e).tan()}function i0(e){return new this(e).tanh()}function i1(e){return r5(e=new this(e),e.e+1,1)}rX[Symbol.for("nodejs.util.inspect.custom")]=rX.toString,rX[Symbol.toStringTag]="Decimal";var i4=rX.constructor=function e(t){var r,i,n;function a(e){var t,r,i;if(!(this instanceof a))return new a(e);if(this.constructor=a,iU(e)){this.s=e.s,rL?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;rL?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return iu(this,e.toString())}if("string"===i)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),rQ.test(e)?iu(this,e):function(e,t){var r,i,n,a,o,s,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),rQ.test(t))return iu(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(rW.test(t))r=16,t=t.toLowerCase();else if(rH.test(t))r=2;else if(rK.test(t))r=8;else throw Error(rq+t);for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,i=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,n=ir(i,new i(r),a,2*a)),a=c=(u=r6(t,r,1e7)).length-1;0===u[a];--a)u.pop();return a<0?new i(0*e.s):(e.e=r8(u,c),e.d=u,rL=!1,o&&(e=r2(e,n,4*s)),l&&(e=e.times(54>Math.abs(l)?rB(2,l):i4.pow(2,l))),rL=!0,e)}(this,e);if("bigint"===i)return e<0?(e=-e,this.s=-1):this.s=1,iu(this,e.toString());throw Error(rq+e)}if(a.prototype=rX,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=iT,a.clone=e,a.isDecimal=iU,a.abs=ig,a.acos=iy,a.acosh=iv,a.add=ib,a.asin=iw,a.asinh=i_,a.atan=ix,a.atanh=ik,a.atan2=iS,a.cbrt=iO,a.ceil=iE,a.clamp=iI,a.cos=i$,a.cosh=iA,a.div=iP,a.exp=ij,a.floor=iR,a.hypot=iN,a.ln=iC,a.log=iD,a.log10=iL,a.log2=iz,a.max=iM,a.min=iq,a.mod=iV,a.mul=iJ,a.pow=iF,a.random=iZ,a.round=iB,a.sign=iH,a.sin=iW,a.sinh=iK,a.sqrt=iQ,a.sub=iG,a.sum=iY,a.tan=iX,a.tanh=i0,a.trunc=i1,void 0===t&&(t={}),t&&!0!==t.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)t.hasOwnProperty(i=n[r++])||(t[i]=this[i]);return a.config(t),a}(rz);rC=new i4(rC),rD=new i4(rD);var i6=i4;function i2(e){return!!i4.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}var i5={};function i3(e){return{name:e.name,values:e.values.map(e=>e.name)}}d(i5,{ModelAction:()=>i8,datamodelEnumToSchemaEnum:()=>i3});var i8=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(i8||{});f(_()),f(e.r(2157));var i9={keyword:er,entity:er,value:e=>J(ee(e)),punctuation:ee,directive:er,function:er,variable:e=>J(ee(e)),string:e=>J(Y(e)),boolean:X,number:er,comment:en},i7=e=>e,ne={},nt=0,nr={manual:ne.Prism&&ne.Prism.manual,disableWorkerMessageHandler:ne.Prism&&ne.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof ni?new ni(e.type,nr.util.encode(e.content),e.alias):Array.isArray(e)?e.map(nr.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++nt}),e.__id},clone:function e(t,r){let i,n,a=nr.util.type(t);switch(r=r||{},a){case"Object":if(r[n=nr.util.objId(t)])return r[n];for(let a in i={},r[n]=i,t)t.hasOwnProperty(a)&&(i[a]=e(t[a],r));return i;case"Array":return r[n=nr.util.objId(t)]?r[n]:(i=[],r[n]=i,t.forEach(function(t,n){i[n]=e(t,r)}),i);default:return t}}},languages:{extend:function(e,t){let r=nr.util.clone(nr.languages[e]);for(let e in t)r[e]=t[e];return r},insertBefore:function(e,t,r,i){let n=(i=i||nr.languages)[e],a={};for(let e in n)if(n.hasOwnProperty(e)){if(e==t)for(let e in r)r.hasOwnProperty(e)&&(a[e]=r[e]);r.hasOwnProperty(e)||(a[e]=n[e])}let o=i[e];return i[e]=a,nr.languages.DFS(nr.languages,function(t,r){r===o&&t!=e&&(this[t]=a)}),a},DFS:function e(t,r,i,n){n=n||{};let a=nr.util.objId;for(let o in t)if(t.hasOwnProperty(o)){r.call(t,o,t[o],i||o);let s=t[o],l=nr.util.type(s);"Object"!==l||n[a(s)]?"Array"!==l||n[a(s)]||(n[a(s)]=!0,e(s,r,o,n)):(n[a(s)]=!0,e(s,r,null,n))}}},plugins:{},highlight:function(e,t,r){let i={code:e,grammar:t,language:r};return nr.hooks.run("before-tokenize",i),i.tokens=nr.tokenize(i.code,i.grammar),nr.hooks.run("after-tokenize",i),ni.stringify(nr.util.encode(i.tokens),i.language)},matchGrammar:function(e,t,r,i,n,a,o){for(let h in r){if(!r.hasOwnProperty(h)||!r[h])continue;if(h==o)return;let g=r[h];g="Array"===nr.util.type(g)?g:[g];for(let o=0;o<g.length;++o){let y=g[o],v=y.inside,b=!!y.lookbehind,w=!!y.greedy,_=0,x=y.alias;if(w&&!y.pattern.global){let e=y.pattern.toString().match(/[imuy]*$/)[0];y.pattern=RegExp(y.pattern.source,e+"g")}y=y.pattern||y;for(let o=i,g=n;o<t.length;g+=t[o].length,++o){let i=t[o];if(t.length>e.length)return;if(i instanceof ni)continue;if(w&&o!=t.length-1){y.lastIndex=g;var s=y.exec(e);if(!s)break;var l=s.index+(b?s[1].length:0),u=s.index+s[0].length,c=o,d=g;for(let e=t.length;c<e&&(d<u||!t[c].type&&!t[c-1].greedy);++c)l>=(d+=t[c].length)&&(++o,g=d);if(t[o]instanceof ni)continue;p=c-o,i=e.slice(g,d),s.index-=g}else{y.lastIndex=0;var s=y.exec(i),p=1}if(!s){if(a)break;continue}b&&(_=s[1]?s[1].length:0);var l=s.index+_,s=s[0].slice(_),u=l+s.length,f=i.slice(0,l),m=i.slice(u);let n=[o,p];f&&(++o,g+=f.length,n.push(f));let k=new ni(h,v?nr.tokenize(s,v):s,x,s,w);if(n.push(k),m&&n.push(m),Array.prototype.splice.apply(t,n),1!=p&&nr.matchGrammar(e,t,r,o,g,!0,h),a)break}}}},tokenize:function(e,t){let r=[e],i=t.rest;if(i){for(let e in i)t[e]=i[e];delete t.rest}return nr.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=nr.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=nr.hooks.all[e];if(!(!r||!r.length))for(var i,n=0;i=r[n++];)i(t)}},Token:ni};function ni(e,t,r,i,n){this.type=e,this.content=t,this.alias=r,this.length=0|(i||"").length,this.greedy=!!n}nr.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},nr.languages.javascript=nr.languages.extend("clike",{"class-name":[nr.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),nr.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,nr.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:nr.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:nr.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:nr.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:nr.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),nr.languages.markup&&nr.languages.markup.tag.addInlined("script","javascript"),nr.languages.js=nr.languages.javascript,nr.languages.typescript=nr.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),nr.languages.ts=nr.languages.typescript,ni.stringify=function(e,t){return"string"==typeof e?e:Array.isArray(e)?e.map(function(e){return ni.stringify(e,t)}).join(""):(i9[e.type]||i7)(e.content)};var nn={red:G,gray:en,dim:F,bold:J,underline:B,highlightSource:e=>e.highlight()},na={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function no(e){let t=e.showColors?nn:na;return function({functionName:e,location:t,message:r,isPanic:i,contextLines:n,callArguments:a},o){var s;let l,u=[""],c=t?" in":":";if(i?(u.push(o.red(`Oops, an unknown error occurred! This is ${o.bold("on us")}, you did nothing wrong.`)),u.push(o.red(`It occurred in the ${o.bold(`\`${e}\``)} invocation${c}`))):u.push(o.red(`Invalid ${o.bold(`\`${e}\``)} invocation${c}`)),t&&u.push(o.underline((l=[(s=t).fileName],s.lineNumber&&l.push(String(s.lineNumber)),s.columnNumber&&l.push(String(s.columnNumber)),l.join(":")))),n){u.push("");let e=[n.toString()];a&&(e.push(a),e.push(o.dim(")"))),u.push(e.join("")),a&&u.push("")}else u.push(""),a&&u.push(a),u.push("");return u.push(r),u.join(`
`)}(function({callsite:e,message:t,originalMethod:r,isPanic:i,callArguments:n},a){return function({message:e,originalMethod:t,isPanic:r,callArguments:i}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:i}}({message:t,originalMethod:r,isPanic:i,callArguments:n})}(e,0),t)}var ns=f(O());function nl(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function nu(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}var nc=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}};I();var nd=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let i=t.length-1;for(let n=0;n<t.length;n++)r(t[n],this),n!==i&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};E();var np=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},nf=e=>e,nm={bold:nf,red:nf,green:nf,dim:nf,enabled:!1},nh={bold:J,red:G,green:Y,dim:F,enabled:!0},ng={write(e){e.writeLine(",")}},ny=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},nv=class{hasError=!1;markAsError(){return this.hasError=!0,this}},nb=class extends nv{items=[];addItem(e){return this.items.push(new np(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(0===this.items.length)return void this.writeEmpty(e);this.writeWithItems(e)}writeEmpty(e){let t=new ny("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(ng,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},nw=class e extends nv{fields={};suggestions=[];addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...i]=t,n=this.getField(r);if(!n)return;let a=n;for(let t of i){let r;if(a.value instanceof e?r=a.value.getField(t):a.value instanceof nb&&(r=a.value.getField(Number(t))),!r)return;a=r}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let i of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(i);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let i=r;for(let r of t){let t=i.value.getFieldValue(r);if(!t||!(t instanceof e))return;let n=t.getSelectionParent();if(!n)return;i=n}return i}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);if(0===t.length&&0===this.suggestions.length)return void this.writeEmpty(e);this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new ny("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(ng,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}},n_=class extends nv{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new ny(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},nx=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:i,dim:n}=r.context.colors;r.write(i(n(`${e}: ${t}`))).addMarginSymbol(i(n("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(ng,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function nk(e,t,r){let i=[`Unknown argument \`${e.red(t)}\`.`],n=function(e,t){let r=1/0,i;for(let n of t){let t=(0,ns.default)(e,n);t>3||t<r&&(r=t,i=n)}return i}(t,r);return n&&i.push(`Did you mean \`${e.green(n)}\`?`),r.length>0&&i.push(nT(e)),i.join(" ")}function nS(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new nc(r.name,"true"))}function nO(e,t){let[r,i]=nI(e),n=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!n)return{parentKind:"unknown",fieldName:i};let a=n.getFieldValue("select")?.asObject(),o=n.getFieldValue("include")?.asObject(),s=n.getFieldValue("omit")?.asObject(),l=a?.getField(i);return a&&l?{parentKind:"select",parent:a,field:l,fieldName:i}:(l=o?.getField(i),o&&l?{parentKind:"include",field:l,parent:o,fieldName:i}:(l=s?.getField(i),s&&l?{parentKind:"omit",field:l,parent:s,fieldName:i}:{parentKind:"unknown",fieldName:i}))}function nE(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new nc(r.name,r.typeNames.join(" | ")))}function nI(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function nT({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function n$(e,t){if(1===t.length)return t[0];let r=[...t],i=r.pop();return`${r.join(", ")} ${e} ${i}`}var nA=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,i,n){this.modelName=e,this.name=t,this.typeName=r,this.isList=i,this.isEnum=n}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function nP(e){return e instanceof nA}var nj=Symbol(),nR=new WeakMap,nN=class{constructor(e){e===nj?nR.set(this,`Prisma.${this._getName()}`):nR.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return nR.get(this)}},nU=class extends nN{_getNamespace(){return"NullTypes"}},nC=class extends nU{#e};nM(nC,"DbNull");var nD=class extends nU{#e};nM(nD,"JsonNull");var nz=class extends nU{#e};nM(nz,"AnyNull");var nL={classes:{DbNull:nC,JsonNull:nD,AnyNull:nz},instances:{DbNull:new nC(nj),JsonNull:new nD(nj),AnyNull:new nz(nj)}};function nM(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var nq=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(e){let t=new ny(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(": ").write(this.value)}},nV=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function nJ(e){return new nV(nF(e))}function nF(e){let t=new nw;for(let[r,i]of Object.entries(e)){let e=new nq(r,function e(t){if("string"==typeof t)return new n_(JSON.stringify(t));if("number"==typeof t||"boolean"==typeof t)return new n_(String(t));if("bigint"==typeof t)return new n_(`${t}n`);if(null===t)return new n_("null");if(void 0===t)return new n_("undefined");if(i2(t))return new n_(`new Prisma.Decimal("${t.toFixed()}")`);if(t instanceof Uint8Array)return Buffer.isBuffer(t)?new n_(`Buffer.alloc(${t.byteLength})`):new n_(`new Uint8Array(${t.byteLength})`);if(t instanceof Date){let e=rj(t)?t.toISOString():"Invalid Date";return new n_(`new Date("${e}")`)}return t instanceof nN?new n_(`Prisma.${t._getName()}`):nP(t)?new n_(`prisma.${rI(t.modelName)}.$fields.${t.name}`):Array.isArray(t)?function(t){let r=new nb;for(let i of t)r.addItem(e(i));return r}(t):"object"==typeof t?nF(t):new n_(Object.prototype.toString.call(t))}(i));t.addField(e)}return t}function nZ(e,t){let r="pretty"===t?nh:nm;return{message:e.renderAllMessages(r),args:new nd(0,{colors:r}).write(e).toString()}}function nB({args:e,errors:t,errorFormat:r,callsite:i,originalMethod:n,clientVersion:a,globalOmit:o}){let s=nJ(e);for(let e of t)!function e(t,r,i){switch(t.kind){case"MutuallyExclusiveFields":let n;p=t,f=r,(n=f.arguments.getDeepSubSelectionValue(p.selectionPath)?.asObject())&&(n.getField(p.firstField)?.markAsError(),n.getField(p.secondField)?.markAsError()),f.addErrorMessage(e=>`Please ${e.bold("either")} use ${e.green(`\`${p.firstField}\``)} or ${e.green(`\`${p.secondField}\``)}, but ${e.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(e,t){let[r,i]=nI(e.selectionPath),n=e.outputType,a=t.arguments.getDeepSelectionParent(r)?.value;if(a&&(a.getField(i)?.markAsError(),n))for(let e of n.fields)e.isRelation&&a.addSuggestion(new nc(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${i}\``)} for ${e.bold("include")} statement`;return n?t+=` on model ${e.bold(n.name)}. ${nT(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})}(t,r);break;case"EmptySelection":!function(e,t,r){let i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){let r=i.getField("omit")?.value.asObject();if(r){var n,a,o=e,s=t,l=r;for(let e of(l.removeAllFields(),o.outputType.fields))l.addSuggestion(new nc(e.name,"false"));s.addErrorMessage(e=>`The ${e.red("omit")} statement includes every field of the model ${e.bold(o.outputType.name)}. At least one field must be included in the result`);return}if(i.hasField("select")){let r,i,o;return n=e,a=t,r=n.outputType,i=a.arguments.getDeepSelectionParent(n.selectionPath)?.value,o=i?.isEmpty()??!1,i&&(i.removeAllFields(),nS(i,r)),a.addErrorMessage(e=>o?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${nT(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}}if(r?.[rI(e.outputType.name)])return function(e,t){let r=new nx;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let i=new nc("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(i);else{let[r,n]=nI(e.selectionPath),a=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(n);if(a){let e=a?.value.asObject()??new nw;e.addSuggestion(i),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}(e,t);t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}(t,r,i);break;case"UnknownSelectionField":!function(e,t){let r=nO(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":nS(t,e.outputType);break;case"include":var i=t,n=e.outputType;for(let e of n.fields)e.isRelation&&!i.hasField(e.name)&&i.addSuggestion(new nc(e.name,"true"));break;case"omit":var a=t,o=e.outputType;for(let e of o.fields)a.hasField(e.name)||e.isRelation||a.addSuggestion(new nc(e.name,"true"))}}t.addErrorMessage(t=>{let i=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&i.push(`for ${t.bold(r.parentKind)} statement`),i.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),i.push(nT(t)),i.join(" ")})}(t,r);break;case"InvalidSelectionValue":let a;m=t,h=r,"unknown"!==(a=nO(m.selectionPath,h)).parentKind&&a.field.value.markAsError(),h.addErrorMessage(e=>`Invalid value for selection field \`${e.red(a.fieldName)}\`: ${m.underlyingError}`);break;case"UnknownArgument":let o,s;g=t,y=r,o=g.argumentPath[0],(s=y.arguments.getDeepSubSelectionValue(g.selectionPath)?.asObject())&&(s.getField(o)?.markAsError(),function(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new nc(r.name,r.typeNames.join(" | ")))}(s,g.arguments)),y.addErrorMessage(e=>nk(e,o,g.arguments.map(e=>e.name)));break;case"UnknownInputField":!function(e,t){let[r,i]=nI(e.argumentPath),n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){n.getDeepField(e.argumentPath)?.markAsError();let t=n.getDeepFieldValue(r)?.asObject();t&&nE(t,e.inputType)}t.addErrorMessage(t=>nk(t,i,e.inputType.fields.map(e=>e.name)))}(t,r);break;case"RequiredArgumentMissing":!function(e,t){let r;t.addErrorMessage(e=>r?.value instanceof n_&&"null"===r.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!i)return;let[n,a]=nI(e.argumentPath),o=new nx,s=i.getDeepFieldValue(n)?.asObject();if(s){if((r=s.getField(a))&&s.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)o.addField(t.name,t.typeNames.join(" | "));s.addSuggestion(new nc(a,o).makeRequired())}else{let t=e.inputTypes.map(function e(t){return"list"===t.kind?`${e(t.elementType)}[]`:t.name}).join(" | ");s.addSuggestion(new nc(a,t).makeRequired())}if(e.dependentArgumentPath){i.getDeepField(e.dependentArgumentPath)?.markAsError();let[,r]=nI(e.dependentArgumentPath);t.addErrorMessage(e=>`Argument \`${e.green(a)}\` is required because argument \`${e.green(r)}\` was provided.`)}}}(t,r);break;case"InvalidArgumentType":let l,u;v=t,b=r,l=v.argument.name,(u=b.arguments.getDeepSubSelectionValue(v.selectionPath)?.asObject())&&u.getDeepFieldValue(v.argumentPath)?.markAsError(),b.addErrorMessage(e=>{let t=n$("or",v.argument.typeNames.map(t=>e.green(t)));return`Argument \`${e.bold(l)}\`: Invalid value provided. Expected ${t}, provided ${e.red(v.inferredType)}.`});break;case"InvalidArgumentValue":let c,d;w=t,_=r,c=w.argument.name,(d=_.arguments.getDeepSubSelectionValue(w.selectionPath)?.asObject())&&d.getDeepFieldValue(w.argumentPath)?.markAsError(),_.addErrorMessage(e=>{let t=[`Invalid value for argument \`${e.bold(c)}\``];if(w.underlyingError&&t.push(`: ${w.underlyingError}`),t.push("."),w.argument.typeNames.length>0){let r=n$("or",w.argument.typeNames.map(t=>e.green(t)));t.push(` Expected ${r}.`)}return t.join("")});break;case"ValueTooLarge":var p,f,m,h,g,y,v,b,w,_,x=t,k=r;let S=x.argument.name,O=k.arguments.getDeepSubSelectionValue(x.selectionPath)?.asObject(),E;if(O){let e=O.getDeepField(x.argumentPath)?.value;e?.markAsError(),e instanceof n_&&(E=e.text)}k.addErrorMessage(e=>{let t=["Unable to fit value"];return E&&t.push(e.red(E)),t.push(`into a 64-bit signed integer for field \`${e.bold(S)}\``),t.join(" ")});break;case"SomeFieldsMissing":var I=t,T=r;let $=I.argumentPath[I.argumentPath.length-1],A=T.arguments.getDeepSubSelectionValue(I.selectionPath)?.asObject();if(A){let e=A.getDeepFieldValue(I.argumentPath)?.asObject();e&&nE(e,I.inputType)}T.addErrorMessage(e=>{let t=[`Argument \`${e.bold($)}\` of type ${e.bold(I.inputType.name)} needs`];return 1===I.constraints.minFieldCount?I.constraints.requiredFields?t.push(`${e.green("at least one of")} ${n$("or",I.constraints.requiredFields.map(t=>`\`${e.bold(t)}\``))} arguments.`):t.push(`${e.green("at least one")} argument.`):t.push(`${e.green(`at least ${I.constraints.minFieldCount}`)} arguments.`),t.push(nT(e)),t.join(" ")});break;case"TooManyFieldsGiven":var P=t,j=r;let R=P.argumentPath[P.argumentPath.length-1],N=j.arguments.getDeepSubSelectionValue(P.selectionPath)?.asObject(),U=[];if(N){let e=N.getDeepFieldValue(P.argumentPath)?.asObject();e&&(e.markAsError(),U=Object.keys(e.getFields()))}j.addErrorMessage(e=>{let t=[`Argument \`${e.bold(R)}\` of type ${e.bold(P.inputType.name)} needs`];return 1===P.constraints.minFieldCount&&1==P.constraints.maxFieldCount?t.push(`${e.green("exactly one")} argument,`):1==P.constraints.maxFieldCount?t.push(`${e.green("at most one")} argument,`):t.push(`${e.green(`at most ${P.constraints.maxFieldCount}`)} arguments,`),t.push(`but you provided ${n$("and",U.map(t=>e.red(t)))}. Please choose`),1===P.constraints.maxFieldCount?t.push("one."):t.push(`${P.constraints.maxFieldCount}.`),t.join(" ")});break;case"Union":let C;(C=function(e){var t=(e,t)=>{let r=nl(e),i=nl(t);return r!==i?r-i:nu(e)-nu(t)};if(0===e.length)return;let r=e[0];for(let i=1;i<e.length;i++)0>t(r,e[i])&&(r=e[i]);return r}(function(e){let t=new Map,r=[];for(let a of e){var i,n;if("InvalidArgumentType"!==a.kind){r.push(a);continue}let e=`${a.selectionPath.join(".")}:${a.argumentPath.join(".")}`,o=t.get(e);o?t.set(e,{...a,argument:{...a.argument,typeNames:(i=o.argument.typeNames,n=a.argument.typeNames,[...new Set(i.concat(n))])}}):t.set(e,a)}return r.push(...t.values()),r}(function e(t){return t.errors.flatMap(t=>"Union"===t.kind?e(t):[t])}(t))))?e(C,r,i):r.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+t.kind)}}(e,s,o);let{message:l,args:u}=nZ(s,r);throw new rO(no({message:l,callsite:i,originalMethod:n,showColors:"pretty"===r,callArguments:u}),{clientVersion:a})}function nH(e){return e.replace(/^./,e=>e.toLowerCase())}function nW(e,t,r){return r?ry(r,({needs:e,compute:r},i)=>{var n,a,o;let s;return{name:i,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:(n=t,a=i,o=r,(s=n?.[a]?.compute)?e=>o({...e,[a]:s(e)}):o)}}):{}}var nK=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new rE;modelExtensionsCache=new rE;queryCallbacksCache=new rE;clientExtensions=rT(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=rT(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>{var t,r,i;let n,a,o;return t=this.previous?.getAllComputedFields(e),r=this.extension,n=nH(e),r.result&&(r.result.$allModels||r.result[n])?(i={...t,...nW(r.name,t,r.result.$allModels),...nW(r.name,t,r.result[n])},a=new rE,o=(e,t)=>a.getOrCreate(e,()=>t.has(e)?[e]:(t.add(e),i[e]?i[e].needs.flatMap(e=>o(e,t)):[e])),ry(i,e=>({...e,needs:o(e.name,new Set)}))):t})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=nH(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],i=[],n=this.extension.query;return n&&(n[e]||n.$allModels||n[t]||n.$allOperations)?(void 0!==n[e]&&(void 0!==n[e][t]&&i.push(n[e][t]),void 0!==n[e].$allOperations&&i.push(n[e].$allOperations)),"$none"!==e&&void 0!==n.$allModels&&(void 0!==n.$allModels[t]&&i.push(n.$allModels[t]),void 0!==n.$allModels.$allOperations&&i.push(n.$allModels.$allOperations)),void 0!==n[t]&&i.push(n[t]),void 0!==n.$allOperations&&i.push(n.$allOperations),r.concat(i)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},nQ=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new nK(t))}isEmpty(){return void 0===this.head}append(t){return new e(new nK(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},nG=class{constructor(e){this.name=e}};function nY(e){return new nG(e)}var nX=Symbol(),n0=class{constructor(e){if(e!==nX)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?n1:e}},n1=new n0(nX);function n4(e){return e instanceof n0}var n6={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},n2="explicitly `undefined` values are not allowed";function n5({modelName:e,action:t,args:r,runtimeDataModel:i,extensions:n=nQ.empty(),callsite:a,clientMethod:o,errorFormat:s,clientVersion:l,previewFeatures:u,globalOmit:c}){let d=new n9({runtimeDataModel:i,modelName:e,action:t,rootArgs:r,callsite:a,extensions:n,selectionPath:[],argumentPath:[],originalMethod:o,errorFormat:s,clientVersion:l,previewFeatures:u,globalOmit:c});return{modelName:e,action:n6[t],query:function e({select:t,include:r,...i}={},n){var a,o,s,l,u,c,d;let p,f=i.omit;return delete i.omit,{arguments:n3(i,n),selection:(a=t,o=r,s=f,l=n,a?(o?l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:l.getSelectionPath()}):s&&l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:l.getSelectionPath()}),function(t,r){let i={},n=r.getComputedFields();for(let[a,o]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let i of Object.values(t))if(e[i.name])for(let e of i.needs)r[e]=!0;return r}(t,n))){if(n4(o))continue;let t=r.nestSelection(a);n8(o,t);let s=r.findField(a);if(!(n?.[a]&&!s)){if(!1===o||void 0===o||n4(o)){i[a]=!1;continue}if(!0===o){s?.kind==="object"?i[a]=e({},t):i[a]=!0;continue}i[a]=e(o,t)}}return i}(a,l)):(u=l,c=o,d=s,p={},u.modelOrType&&!u.isRawAction()&&(p.$composites=!0,p.$scalars=!0),c&&function(t,r,i){for(let[n,a]of Object.entries(r)){if(n4(a))continue;let r=i.nestSelection(n);if(n8(a,r),!1===a||void 0===a){t[n]=!1;continue}let o=i.findField(n);if(o&&"object"!==o.kind&&i.throwValidationError({kind:"IncludeOnScalar",selectionPath:i.getSelectionPath().concat(n),outputType:i.getOutputTypeDescription()}),o){t[n]=e(!0===a?{}:a,r);continue}if(!0===a){t[n]=!0;continue}t[n]=e(a,r)}}(p,c,u),function(e,t,r){let i=r.getComputedFields();for(let[n,a]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let i of Object.values(t))if(!e[i.name])for(let e of i.needs)delete r[e];return r}({...r.getGlobalOmit(),...t},i))){if(n4(a))continue;n8(a,r.nestSelection(n));let t=r.findField(n);i?.[n]&&!t||(e[n]=!a)}}(p,d,u),p))}}(r,d)}}function n3(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let i in e){let n=e[i],a=t.nestArgument(i);n4(n)||(void 0!==n?r[i]=function e(t,r){var i,n;if(null===t)return null;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;if("bigint"==typeof t)return{$type:"BigInt",value:String(t)};if(rP(t)){if(rj(t))return{$type:"DateTime",value:t.toISOString()};r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(t instanceof nG)return{$type:"Param",value:t.name};if(nP(t))return{$type:"FieldRef",value:{_ref:t.name,_container:t.modelName}};if(Array.isArray(t))return function(t,r){let i=[];for(let n=0;n<t.length;n++){let a=r.nestArgument(String(n)),o=t[n];if(void 0===o||n4(o)){let e=void 0===o?"undefined":"Prisma.skip";r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:a.getSelectionPath(),argumentPath:a.getArgumentPath(),argument:{name:`${r.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}i.push(e(o,a))}return i}(t,r);if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:i}=t;return{$type:"Bytes",value:Buffer.from(e,r,i).toString("base64")}}if("object"==typeof(i=t)&&null!==i&&!0===i.__prismaRawParameters__)return t.values;if(i2(t))return{$type:"Decimal",value:t.toFixed()};if(t instanceof nN){if(t!==nL.instances[t._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:t._getName()}}return"object"==typeof(n=t)&&null!==n&&"function"==typeof n.toJSON?t.toJSON():"object"==typeof t?n3(t,r):void r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(t)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(n,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:n2}))}return r}function n8(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:n2})}var n9=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(e){nB({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),i=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:i,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[rI(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:ro(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function n7(e){if(!e._hasPreviewFlag("metrics"))throw new rO("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var ae=class{_client;constructor(e){this._client=e}prometheus(e){return n7(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return n7(this._client),this._client._engine.metrics({format:"json",...e})}};function at(e,t){let r=rT(()=>{var e;return{datamodel:{models:ar((e=t).models),enums:ar(e.enums),types:ar(e.types)}}});Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function ar(e){return Object.entries(e).map(([e,t])=>({name:e,...t}))}var ai=new WeakMap,an="$$PrismaTypedSql",aa=class{constructor(e,t){ai.set(this,{sql:e,values:t}),Object.defineProperty(this,an,{value:an})}get sql(){return ai.get(this).sql}get values(){return ai.get(this).values}};function ao(e){return(...t)=>new aa(e,t)}function as(e){return null!=e&&e[an]===an}var al=f(v()),au=e.r(78500),ac=e.r(87769),ad=f(e.r(2157)),ap=f(e.r(50227)),af=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let i=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=Array(i),this.strings=Array(i+1),this.strings[0]=t[0];let n=0,a=0;for(;n<r.length;){let i=r[n++],o=t[n];if(i instanceof e){this.strings[a]+=i.strings[0];let e=0;for(;e<i.values.length;)this.values[a++]=i.values[e++],this.strings[a]=i.strings[e];this.strings[a]+=o}else this.values[a++]=i,this.strings[a]=o}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function am(e,t=",",r="",i=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new af([r,...Array(e.length-1).fill(t),i],e)}function ah(e){return new af([e],[])}var ag=ah("");function ay(e,...t){return new af(e,t)}function av(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function ab(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function aw(e){let t=new rE;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}var a_={enumerable:!0,configurable:!0,writable:!0};function ax(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>a_,has:(e,r)=>t.has(r),set:(e,r,i)=>t.add(r)&&Reflect.set(e,r,i),ownKeys:()=>[...t]}}var ak=Symbol.for("nodejs.util.inspect.custom");function aS(e,t){let r=function(e){let t=new Map;for(let r of e)for(let e of r.getKeys())t.set(e,r);return t}(t),i=new Set,n=new Proxy(e,{get(e,t){if(i.has(t))return e[t];let n=r.get(t);return n?n.getPropertyValue(t):e[t]},has(e,t){if(i.has(t))return!0;let n=r.get(t);return n?n.has?.(t)??!0:Reflect.has(e,t)},ownKeys:e=>[...new Set([...aO(Reflect.ownKeys(e),r),...aO(Array.from(r.keys()),r),...i])],set:(e,t,n)=>r.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(i.add(t),Reflect.set(e,t,n)),getOwnPropertyDescriptor(e,t){let i=Reflect.getOwnPropertyDescriptor(e,t);if(i&&!i.configurable)return i;let n=r.get(t);return n?n.getPropertyDescriptor?{...a_,...n?.getPropertyDescriptor(t)}:a_:i},defineProperty:(e,t,r)=>(i.add(t),Reflect.defineProperty(e,t,r)),getPrototypeOf:()=>Object.prototype});return n[ak]=function(){let e={...this};return delete e[ak],e},n}function aO(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function aE(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function aI(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function aT({error:e,user_facing_error:t},r,i){var n,a;let o;return t.error_code?new rx((n=t,a=i,o=n.message,("postgresql"===a||"postgres"===a||"mysql"===a)&&"P2037"===n.error_code&&(o+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),o),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new rS(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}var a$="<unknown>",aA=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,aP=/\((\S*)(?::(\d+))(?::(\d+))\)/,aj=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,aR=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,aN=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,aU=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,aC=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,aD=class{getLocation(){return null}},az=class{_error;constructor(){this._error=Error()}getLocation(){let e=this._error.stack;if(!e)return null;let t=e.split(`
`).reduce(function(e,t){var r,i,n,a,o,s,l=function(e){var t=aA.exec(e);if(!t)return null;var r=t[2]&&0===t[2].indexOf("native"),i=t[2]&&0===t[2].indexOf("eval"),n=aP.exec(t[2]);return i&&null!=n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3]),{file:r?null:t[2],methodName:t[1]||a$,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||(r=t,(i=aj.exec(r))?{file:i[2],methodName:i[1]||a$,arguments:[],lineNumber:+i[3],column:i[4]?+i[4]:null}:null)||function(e){var t=aR.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,i=aN.exec(t[3]);return r&&null!=i&&(t[3]=i[1],t[4]=i[2],t[5]=null),{file:t[3],methodName:t[1]||a$,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||(n=t,(a=aC.exec(n))?{file:a[2],methodName:a[1]||a$,arguments:[],lineNumber:+a[3],column:a[4]?+a[4]:null}:null)||(o=t,(s=aU.exec(o))?{file:s[3],methodName:s[1]||a$,arguments:[],lineNumber:+s[4],column:s[5]?+s[5]:null}:null);return l&&e.push(l),e},[]).find(e=>{var t;if(!e.file)return!1;let r=(t=e.file,ru.default.sep===ru.default.posix.sep?t:t.split(ru.default.sep).join(ru.default.posix.sep));return"<anonymous>"!==r&&!r.includes("@prisma")&&!r.includes("/packages/client/src/runtime/")&&!r.endsWith("/runtime/binary.js")&&!r.endsWith("/runtime/library.js")&&!r.endsWith("/runtime/edge.js")&&!r.endsWith("/runtime/edge-esm.js")&&!r.startsWith("internal/")&&!e.methodName.includes("new ")&&!e.methodName.includes("getCallSite")&&!e.methodName.includes("Proxy.")&&e.methodName.split(".").length<4});return t&&t.file?{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}:null}};function aL(e){return"minimal"===e?"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new aD:new az}var aM={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function aq(e={}){return Object.entries(function(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}(e)).reduce((e,[t,r])=>(void 0!==aM[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function aV(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function aJ(e={}){let{select:t,...r}=e;return"object"==typeof t?aq({...r,_count:t}):aq({...r,_count:{_all:!0}})}function aF(e={}){let t=aq(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}var aZ=e=>Array.isArray(e)?e:e.split("."),aB=(e,t)=>aZ(t).reduce((e,t)=>e&&e[t],e),aH=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],aW=["aggregate","count","groupBy"];function aK(e,t){var r,i,n,a;let o,s,l=e._extensions.getAllModelExtensions(t)??{};return aS({},[(r=e,o=nH(i=t),s=Object.keys(i8).concat("count"),{getKeys:()=>s,getPropertyValue(e){var t;let n=t=>n=>{let a=aL(r._errorFormat);return r._createPrismaPromise(s=>{let l={args:n,dataPath:[],action:e,model:i,clientMethod:`${o}.${e}`,jsModelName:o,transaction:s,callsite:a};return r._request({...l,...t})},{action:e,args:n,model:i})};return aH.includes(e)?function e(t,r,i,n,a,o){let s=t._runtimeDataModel.models[r].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return l=>{var u,c;let d,p=aL(t._errorFormat),f=void 0===n||void 0===a?[]:[...a,"select",n],m=void 0===o?l??{}:(d=l||!0,aZ(f).reduceRight((e,t,r,i)=>Object.assign({},aB(o,i.slice(0,r)),{[t]:e}),d)),h=i({dataPath:f,callsite:p})(m),g=(u=t,c=r,u._runtimeDataModel.models[c].fields.filter(e=>"object"===e.kind).map(e=>e.name));return new Proxy(h,{get:(r,n)=>g.includes(n)?e(t,s[n].type,i,n,f,m):r[n],...ax([...g,...Object.getOwnPropertyNames(h)])})}}(r,i,n):(t=e,aW.includes(t))?"aggregate"===e?e=>n({action:"aggregate",unpacker:aV(e),argsMapper:aq})(e):"count"===e?e=>n({action:"count",unpacker:function(e={}){return"object"==typeof e.select?t=>aV(e)(t)._count:t=>aV(e)(t)._count._all}(e),argsMapper:aJ})(e):"groupBy"===e?e=>n({action:"groupBy",unpacker:function(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}(e),argsMapper:aF})(e):void 0:n({})}}),(n=e,a=t,aw(ab("fields",()=>{let e,t=n._runtimeDataModel.models[a];return new Proxy({},{get(t,r){if(r in t||"symbol"==typeof r)return t[r];let i=e[r];if(i)return new nA(a,r,i.type,i.isList,"enum"===i.kind)},...ax(Object.keys(e=function(e,t){let r={};for(let i of e)r[i[t]]=i;return r}(t.fields.filter(e=>!e.relationName),"name")))})}))),av(l),ab("name",()=>t),ab("$name",()=>t),ab("$parent",()=>e._appliedParent)])}var aQ=Symbol();function aG(e){var t,r;let i,n,a,o,s=[(i=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((t=e)._originalClient)))],{getKeys:()=>i,getPropertyValue:e=>t[e]}),(a=(n=Object.keys((r=e)._runtimeDataModel.models)).map(nH),o=[...new Set(n.concat(a))],aw({getKeys:()=>o,getPropertyValue(e){let t=e.replace(/^./,e=>e.toUpperCase());return void 0!==r._runtimeDataModel.models[t]?aK(r,t):void 0!==r._runtimeDataModel.models[e]?aK(r,e):void 0},getPropertyDescriptor(e){if(!a.includes(e))return{enumerable:!1}}})),ab(aQ,()=>e),ab("$parent",()=>e._appliedParent)],l=e._extensions.getAllClientExtensions();return l&&s.push(av(l)),aS(e,s)}function aY(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return aG(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function aX({visitor:e,result:t,args:r,runtimeDataModel:i,modelName:n}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=aX({result:t[a],args:r,modelName:n,runtimeDataModel:i,visitor:e});return t}let a=e(t,n,r)??t;return r.include&&a0({includeOrSelect:r.include,result:a,parentModelName:n,runtimeDataModel:i,visitor:e}),r.select&&a0({includeOrSelect:r.select,result:a,parentModelName:n,runtimeDataModel:i,visitor:e}),a}function a0({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:i,visitor:n}){for(let[a,o]of Object.entries(e)){if(!o||null==t[a]||n4(o))continue;let e=i.models[r].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let s="object"==typeof o?o:{};t[a]=aX({visitor:n,result:t[a],args:s,modelName:e.type,runtimeDataModel:i})}}var a1=["$connect","$disconnect","$on","$transaction","$extends"];function a4(e){if("object"!=typeof e||null==e||e instanceof nN||nP(e))return e;if(i2(e))return new i6(e.toFixed());if(rP(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=a4(e[t]);return r}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:a4(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=a4(e[r]);return t}ro(e,"Unknown value")}var a6=e=>e;function a2(e=a6,t=a6){return r=>e(t(r))}var a5=ew("prisma:client"),a3={Vercel:"vercel","Netlify CI":"netlify"},a8=f(e.r(2157)),a9=f(e.r(50227));function a7(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${function(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:i}=e,n=[...r,{fromEnvVar:null,value:i}];return String(new t3({...t,binaryTargets:n}))}(e)}`}function oe(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function ot(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(e=>`  ${e}`).join(`
`)}`}function or(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function oi(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}var on=ew("prisma:client:engines:resolveEnginePath");async function oa(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(void 0!==r)return r;let{enginePath:i,searchedLocations:n}=await oo(e,t);if(on("enginePath",i),void 0!==i&&"binary"===e,void 0!==i)return t.prismaPath=i;let a=await e9(),o=t.generator?.binaryTargets??[],s=o.some(e=>e.native),l=!o.some(e=>e.value===a),u=null==="/ROOT/lib/generated/prisma/runtime/library.js".match(RegExp("runtime[\\\\/]library\\.m?js$")),c={searchedLocations:n,generatorBinaryTargets:o,generator:t.generator,runtimeBinaryTarget:a,queryEngineName:os(e,a),expectedLocation:a9.default.relative(process.cwd(),t.dirname),errorStack:Error().stack};throw new r_(s&&l?function(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,i=r.find(e=>e.native);return`${oe(e)}

This happened because Prisma Client was generated for "${i?.value??"unknown"}", but the actual deployment required "${t}".
${a7(e)}

${ot(e)}`}(c):l?function(e){let{runtimeBinaryTarget:t}=e;return`${oe(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${a7(e)}

${ot(e)}`}(c):u?function(e){let{queryEngineName:t}=e;return`${oe(e)}${oi(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${or("engine-not-found-bundler-investigation")}

${ot(e)}`}(c):function(e){let{queryEngineName:t}=e;return`${oe(e)}${oi(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${or("engine-not-found-tooling-investigation")}

${ot(e)}`}(c),t.clientVersion)}async function oo(e,t){let r=await e9(),i=[],n=[t.dirname,a9.default.resolve("/ROOT/lib/generated/prisma/runtime",".."),t.generator?.output?.value??"/ROOT/lib/generated/prisma/runtime",a9.default.resolve("/ROOT/lib/generated/prisma/runtime","../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];for(let t of("/ROOT/lib/generated/prisma/runtime/library.js".includes("resolveEnginePath")&&n.push(t4.default.join("/ROOT/lib/generated/prisma/runtime","../")),n)){let n=os(e,r),a=a9.default.join(t,n);if(i.push(t),a8.default.existsSync(a))return{enginePath:a,searchedLocations:i}}return{enginePath:void 0,searchedLocations:i}}function os(e,t){return"library"===e?t.includes("windows")?`query_engine-${t}.dll.node`:t.includes("darwin")?`${ex}-${t}.dylib.node`:`${ex}-${t}.so.node`:`query-engine-${t}${"windows"===t?".exe":""}`}var ol=f(S());function ou(e){return null===e?e:Array.isArray(e)?e.map(ou):"object"==typeof e?null!==e&&"object"==typeof e&&"string"==typeof e.$type?function({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:r,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(e,r,i)}case"DateTime":return new Date(t);case"Decimal":return new i4(t);case"Json":return JSON.parse(t);default:throw Error("Unknown tagged value")}}(e):null!==e.constructor&&"Object"!==e.constructor.name?e:function(e,t){let r={};for(let i of Object.keys(e))r[i]=t(e[i],i);return r}(e,ou):e}var oc=()=>globalThis.process?.release?.name==="node",od=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,op=()=>!!globalThis.Deno,of=()=>"object"==typeof globalThis.Netlify,om=()=>"object"==typeof globalThis.EdgeRuntime,oh=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",og={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function oy(){let e=[[of,"netlify"],[om,"edge-light"],[oh,"workerd"],[op,"deno"],[od,"bun"],[oc,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??"";return{id:e,prettyName:og[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function ov({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:i}){let n,a=Object.keys(e)[0],o=e[a]?.url,s=t[a]?.url;if(void 0===a?n=void 0:s?n=s:o?.value?n=o.value:o?.fromEnvVar&&(n=r[o.fromEnvVar]),o?.fromEnvVar!==void 0&&void 0===n)throw new r_(`error: Environment variable not found: ${o.fromEnvVar}.`,i);if(void 0===n)throw new r_("error: Missing URL environment variable, value, or override.",i);return n}var ob=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},ow=class extends ob{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function o_(e,t){return{...e,isRetryable:t}}var ox=class extends ow{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,o_(t,!1))}};rv(ox,"InvalidDatasourceError");var ok=f(b()),oS=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:i,engineHash:n}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=i,this.engineHash=n}build({traceparent:e,transactionId:t}={}){let r={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":ok.enginesVersion};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-Transaction-Id"]=t);let i=this.#e();return i.length>0&&(r["X-Capture-Telemetry"]=i.join(", ")),r}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function oO(e){return new Date(1e3*e[0]+e[1]/1e6)}var oE=class extends ow{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",o_(e,!0))}};rv(oE,"ForcedRetryError");var oI=class extends ow{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,o_(t,!1))}};rv(oI,"NotImplementedYetError");var oT=class extends ow{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let e=`(The request id was: ${r})`;this.message=this.message+" "+e}}},o$=class extends oT{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",o_(e,!0))}};rv(o$,"SchemaMissingError");var oA="This request could not be understood by the server",oP=class extends oT{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||oA,o_(e,!1)),r&&(this.code=r)}};rv(oP,"BadRequestError");var oj=class extends oT{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",o_(e,!0)),this.logs=t}};rv(oj,"HealthcheckTimeoutError");var oR=class extends oT{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,o_(e,!0)),this.logs=r}};rv(oR,"EngineStartupError");var oN=class extends oT{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",o_(e,!1))}};rv(oN,"EngineVersionNotSupportedError");var oU="Request timed out",oC=class extends oT{name="GatewayTimeoutError";code="P5009";constructor(e,t=oU){super(t,o_(e,!1))}};rv(oC,"GatewayTimeoutError");var oD=class extends oT{name="InteractiveTransactionError";code="P5015";constructor(e,t="Interactive transaction error"){super(t,o_(e,!1))}};rv(oD,"InteractiveTransactionError");var oz=class extends oT{name="InvalidRequestError";code="P5011";constructor(e,t="Request parameters are invalid"){super(t,o_(e,!1))}};rv(oz,"InvalidRequestError");var oL="Requested resource does not exist",oM=class extends oT{name="NotFoundError";code="P5003";constructor(e,t=oL){super(t,o_(e,!1))}};rv(oM,"NotFoundError");var oq="Unknown server error",oV=class extends oT{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||oq,o_(e,!0)),this.logs=r}};rv(oV,"ServerError");var oJ="Unauthorized, check your connection string",oF=class extends oT{name="UnauthorizedError";code="P5007";constructor(e,t=oJ){super(t,o_(e,!1))}};rv(oF,"UnauthorizedError");var oZ="Usage exceeded, retry again later",oB=class extends oT{name="UsageExceededError";code="P5008";constructor(e,t=oZ){super(t,o_(e,!0))}};async function oH(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e)if("InternalDataProxyError"===e)return{type:"DataProxyError",body:e};else return{type:"UnknownTextError",body:e};if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function oW(e,t){if(e.ok)return;let r={clientVersion:t,response:e},i=await oH(e);if("QueryEngineError"===i.type)throw new rx(i.body.message,{code:i.body.error_code,clientVersion:t});if("DataProxyError"===i.type){if("InternalDataProxyError"===i.body)throw new oV(r,"Internal Data Proxy error");if("EngineNotStarted"in i.body){if("SchemaMissing"===i.body.EngineNotStarted.reason)return new o$(r);if("EngineVersionNotSupported"===i.body.EngineNotStarted.reason)throw new oN(r);if("EngineStartupError"in i.body.EngineNotStarted.reason){let{msg:e,logs:t}=i.body.EngineNotStarted.reason.EngineStartupError;throw new oR(r,e,t)}if("KnownEngineStartupError"in i.body.EngineNotStarted.reason){let{msg:e,error_code:r}=i.body.EngineNotStarted.reason.KnownEngineStartupError;throw new r_(e,t,r)}if("HealthcheckTimeout"in i.body.EngineNotStarted.reason){let{logs:e}=i.body.EngineNotStarted.reason.HealthcheckTimeout;throw new oj(r,e)}}if("InteractiveTransactionMisrouted"in i.body)throw new oD(r,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[i.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in i.body)throw new oz(r,i.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new oF(r,oK(oJ,i));if(404===e.status)return new oM(r,oK(oL,i));if(429===e.status)throw new oB(r,oK(oZ,i));if(504===e.status)throw new oC(r,oK(oU,i));if(e.status>=500)throw new oV(r,oK(oq,i));if(e.status>=400)throw new oP(r,oK(oA,i))}function oK(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}rv(oB,"UsageExceededError");var oQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oG={"@prisma/engines-version":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac"},oY=class extends ow{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,o_(t,!0))}};async function oX(e,t,r=e=>e){let{clientVersion:i,...n}=t,a=r(fetch);try{return await a(e,n)}catch(e){throw new oY(e.message??"Unknown error",{clientVersion:i,cause:e})}}rv(oY,"RequestError");var o0=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,o1=ew("prisma:client:dataproxyEngine");async function o4(e,t){let r=oG["@prisma/engines-version"],i=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==i&&"in-memory"!==i)return i;let[n,a]=i?.split("-")??[];if(void 0===a&&o0.test(n))return n;if(void 0!==a||"0.0.0"===i||"in-memory"===i){var o;let e,[t]=r.split("-")??[],[n,a,s]=t.split("."),l=(o=`<=${n}.${a}.${s}`,encodeURI(`https://unpkg.com/prisma@${o}/package.json`)),u=await oX(l,{clientVersion:i});if(!u.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${u.status} ${u.statusText}, response body: ${await u.text()||"<empty body>"}`);let c=await u.text();o1("length of body fetched from unpkg.com",c.length);try{e=JSON.parse(c)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",c),e}return e.version}throw new oI("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:i})}async function o6(e,t){let r=await o4(e,t);return o1("version",r),r}var o2,o5=ew("prisma:client:dataproxyEngine"),o3=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){(function(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new r_("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)})(e),this.config=e,this.env=e.env,this.inlineSchema=function(e){let t=new TextEncoder().encode(e),r="",i=t.byteLength,n=i%3,a=i-n,o,s,l,u,c;for(let e=0;e<a;e+=3)o=(0xfc0000&(c=t[e]<<16|t[e+1]<<8|t[e+2]))>>18,s=(258048&c)>>12,l=(4032&c)>>6,u=63&c,r+=oQ[o]+oQ[s]+oQ[l]+oQ[u];return 1==n?(o=(252&(c=t[a]))>>2,s=(3&c)<<4,r+=oQ[o]+oQ[s]+"=="):2==n&&(o=(64512&(c=t[a]<<8|t[a+1]))>>10,s=(1008&c)>>4,l=(15&c)<<2,r+=oQ[o]+oQ[s]+oQ[l]+"="),r}(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new oS({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await o6(this.host,this.config),o5("host",this.host),o5("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"trace":o5(e);break;case"error":case"warn":case"info":this.logEmitter.emit(e.level,{timestamp:oO(e.timestamp),message:e.attributes.message??"",target:e.target??"BinaryEngine"});break;case"query":this.logEmitter.emit("query",{query:e.attributes.query??"",timestamp:oO(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target??"BinaryEngine"});break;default:e.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let e=await oX(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||o5("schema response status",e.status);let t=await oW(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:i}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:i})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:i}){let n=r?.kind==="itx"?r.options:void 0,a=aI(e,r);return(await this.requestInternal({body:a,customDataProxyFetch:i,interactiveTransaction:n,traceparent:t})).map(e=>(e.extensions&&this.propagateResponseExtensions(e.extensions),"errors"in e?this.convertProtocolErrorsToClientError(e.errors):e))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:i}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:n})=>{let a=i?`${i.payload.endpoint}/graphql`:await this.url("graphql");n(a);let o=await oX(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:i?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);o.ok||o5("graphql response status",o.status),await this.handleError(await oW(o,this.clientVersion));let s=await o.json();if(s.extensions&&this.propagateResponseExtensions(s.extensions),"errors"in s)throw this.convertProtocolErrorsToClientError(s.errors);return"batchResult"in s?s.batchResult:s}})}async transaction(e,t,r){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[e]} transaction`,callback:async({logHttpCall:i})=>{if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),n=await this.url("transaction/start");i(n);let a=await oX(n,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await oW(a,this.clientVersion));let o=await a.json(),{extensions:s}=o;return s&&this.propagateResponseExtensions(s),{id:o.id,payload:{endpoint:o["data-proxy"].endpoint}}}{let n=`${r.payload.endpoint}/${e}`;i(n);let a=await oX(n,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await oW(a,this.clientVersion));let{extensions:o}=await a.json();o&&this.propagateResponseExtensions(o);return}}})}getURLAndAPIKey(){return function(e){let t={clientVersion:e.clientVersion},r=Object.keys(e.inlineDatasources)[0],i=ov({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,..."u">typeof process?process.env:{}}}),n;try{n=new URL(i)}catch{throw new ox(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:a,searchParams:o}=n;if("prisma:"!==a&&a!==t6)throw new ox(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let s=o.get("api_key");if(null===s||s.length<1)throw new ox(`Error validating datasource \`${r}\`: the URL must contain a valid API key`,t);let l=!function(e){if(!t2(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}(n)?"https:":"http:";return process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&n.searchParams.has("use_http")&&(l="http:"),{apiKey:s,url:new URL(n.href.replace(a,l))}}({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new oI("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(i){if(!(i instanceof ow)||!i.isRetryable)throw i;if(t>=3)throw i instanceof oE?i.cause:i;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/3 failed for ${e.actionGerund}: ${i.message??"(unknown)"}`,timestamp:new Date,target:""});let r=await function(e){let t=50*Math.pow(2,e),r=Math.ceil(Math.random()*t)-Math.ceil(t/2),i=t+r;return new Promise(e=>setTimeout(()=>e(i),i))}(t);this.logEmitter.emit("warn",{message:`Retrying after ${r}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof o$)throw await this.uploadSchema(),new oE({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return 1===e.length?aT(e[0],this.config.clientVersion,this.config.activeProvider):new rS(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}},o8=f(e.r(60526)),o9=f(e.r(50227)),o7=Symbol("PrismaLibraryEngineCache"),se={async loadLibrary(e){let t=await e7(),r=await oa("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>(function(e){let t,r=(void 0===(t=globalThis)[o7]&&(t[o7]={}),t[o7]);if(void 0!==r[e])return r[e];let i=o9.default.toNamespacedPath(e),n={exports:{}},a=0;return"win32"!==process.platform&&(a=o8.default.constants.dlopen.RTLD_LAZY|o8.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(n,i,a),r[e]=n.exports,n.exports})(r))}catch(c){var i;let n,a,o,s,l,u;throw new r_((n=(i={e:c,platformInfo:t,id:r}).e,a=e=>`Prisma cannot find the required \`${e}\` system library in your system`,o=n.message.includes("cannot open shared object file"),s=`Please refer to the documentation about Prisma's system requirements: ${tZ("https://pris.ly/d/system-requirements","https://pris.ly/d/system-requirements",{fallback:B})}`,l=`Unable to require(\`${F(i.id)}\`).`,u=eB({message:n.message,code:n.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:e})=>o&&e.includes("libz"),()=>`${a("libz")}. Please install it and try again.`).when(({message:e})=>o&&e.includes("libgcc_s"),()=>`${a("libgcc_s")}. Please install it and try again.`).when(({message:e})=>o&&e.includes("libssl"),()=>{let e=i.platformInfo.libssl?`openssl-${i.platformInfo.libssl}`:"openssl";return`${a("libssl")}. Please install ${e} and try again.`}).when(({message:e})=>e.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${s}`).when(({message:e})=>"linux"===i.platformInfo.platform&&e.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${i.platformInfo.originalDistro} on (${i.platformInfo.archFromUname}) which uses the \`${i.platformInfo.binaryTarget}\` binaryTarget by default. ${s}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${s}`),`${l}
${u}

Details: ${n.message}`),e.clientVersion)}}},st={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:i}=e;if(void 0===r)throw new r_(`The \`adapter\` option for \`PrismaClient\` is required in this context (${oy().prettyName})`,t);if(void 0===i)throw new r_("WASM engine was unexpectedly `undefined`",t);return void 0===o2&&(o2=(async()=>{let e=await i.getRuntime(),r=await i.getQueryEngineWasmModule();if(null==r)throw new r_("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let n=new WebAssembly.Instance(r,{"./query_engine_bg.js":e}),a=n.exports.__wbindgen_start;return e.__wbg_set_wasm(n.exports),a(),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await o2}}},sr=ew("prisma:client:libraryEngine"),si=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm","native"],sn=1n,sa=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??se,void 0!==e.engineWasm&&(this.libraryLoader=t??st),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],i=e.overrideDatasources[r]?.url;void 0!==r&&void 0!==i&&(this.datasourceOverrides={[r]:i}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r,i=(r=sn++,sn>0xffffffffffffffffn&&(sn=1n),r).toString();try{return await e(...t,i)}finally{if(this.tracingHelper.isEnabled()){let e=await this.engine?.trace(i);if(e){let t=JSON.parse(e);this.tracingHelper.dispatchEngineSpans(t.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){var i;await this.start();let n=await this.adapterPromise,a=JSON.stringify(t),o;if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});o=await this.engine?.startTransaction(e,a)}else"commit"===e?o=await this.engine?.commitTransaction(r.id,a):"rollback"===e&&(o=await this.engine?.rollbackTransaction(r.id,a));let s=this.parseEngineResponse(o);if("object"==typeof(i=s)&&null!==i&&void 0!==i.error_code){let e=this.getExternalAdapterError(s,n?.errorRegistry);throw e?e.error:new rx(s.message,{code:s.error_code,clientVersion:this.config.clientVersion,meta:s.meta})}if("string"==typeof s.message)throw new rS(s.message,{clientVersion:this.config.clientVersion});return s}async instantiateLibrary(){let e;if(sr("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;(e=process.env.PRISMA_QUERY_ENGINE_LIBRARY)&&e_.default.existsSync(e)||process.arch,this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>e9());if(!si.includes(e))throw new r_(`Unknown ${G("PRISMA_QUERY_ENGINE_LIBRARY")} ${G(J(e))}. Possible binaryTargets: ${Y(si.join(", "))} or a path to the query engine library.
You may have to run ${Y("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new rS("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new rS("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tX));let t=await this.adapterPromise;t&&sr("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},t=>{e.deref()?.logger(t)},t))}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new r_(e.message,this.config.clientVersion,e.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown","query"===t.item_type&&"query"in t?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):"level"in t&&"error"===t.level&&"PANIC"===t.message?this.loggerRustPanic=new rk(so(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return sr(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{sr("library starting");try{let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tX)),await this.adapterPromise,sr("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new r_(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return sr("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(e=>setImmediate(e)),sr("library stopping");let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,sr("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){sr(`sending request, this.libraryStarted: ${this.libraryStarted}`);let i=JSON.stringify({traceparent:t}),n=JSON.stringify(e);try{await this.start();let e=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(n,i,r?.id),this.lastQuery=n;let t=this.parseEngineResponse(await this.executingQueryPromise);if(t.errors)throw 1===t.errors.length?this.buildQueryError(t.errors[0],e?.errorRegistry):new rS(JSON.stringify(t.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:t}}catch(t){if(t instanceof r_)throw t;if("GenericFailure"===t.code&&t.message?.startsWith("PANIC:"))throw new rk(so(this,t.message),this.config.clientVersion);let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new rS(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){sr("requestBatch");let i=aI(e,t);await this.start();let n=await this.adapterPromise;this.lastQuery=JSON.stringify(i),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),function(e){if(e?.kind==="itx")return e.options.id}(t));let a=await this.executingQueryPromise,o=this.parseEngineResponse(a);if(o.errors)throw 1===o.errors.length?this.buildQueryError(o.errors[0],n?.errorRegistry):new rS(JSON.stringify(o.errors),{clientVersion:this.config.clientVersion});let{batchResult:s,errors:l}=o;if(Array.isArray(s))return s.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0],n?.errorRegistry):{data:e});throw l&&1===l.length?Error(l[0].error):Error(JSON.stringify(o))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new rk(so(this,e.user_facing_error.message),this.config.clientVersion);let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:aT(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if("P2036"===e.error_code&&t){let r=e.meta?.id;ra("number"==typeof r,"Malformed external JS error received from the engine");let i=t.consumeError(r);return ra(i,"External error with reported id was not registered"),i}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};function so(e,t){return function({version:e,binaryTarget:t,title:r,description:i,engineVersion:n,database:a,query:o}){var s;let l=rl(function(e=7500){let t=eh.map(([e,...t])=>`${e} ${t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}(6e3-(o?.length??0))).split(`
`).map(e=>e.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`),u=i?`# Description
\`\`\`
${i}
\`\`\``:"",c=function({title:e,user:t="prisma",repo:r="prisma",template:i="bug_report.yml",body:n}){return(0,ol.default)({user:t,repo:r,template:i,title:e,body:n})}({title:r,body:rl(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${n?.padEnd(19)}|
| Database        | ${a?.padEnd(19)}|

${u}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${o&&(s=o)?s.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,e=>`${e[0]}5`):""}
\`\`\`
`)});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${B(c)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}var ss=e=>({command:e});function sl(e){try{return su(e,"fast")}catch{return su(e,"slow")}}function su(e,t){return JSON.stringify(e.map(e=>(function e(t,r){var i;if(Array.isArray(t))return t.map(t=>e(t,r));if("bigint"==typeof t)return{prisma__type:"bigint",prisma__value:t.toString()};if(rP(t))return{prisma__type:"date",prisma__value:t.toJSON()};if(i6.isDecimal(t))return{prisma__type:"decimal",prisma__value:t.toJSON()};if(Buffer.isBuffer(t))return{prisma__type:"bytes",prisma__value:t.toString("base64")};if((i=t)instanceof ArrayBuffer||i instanceof SharedArrayBuffer||"object"==typeof i&&null!==i&&("ArrayBuffer"===i[Symbol.toStringTag]||"SharedArrayBuffer"===i[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:Buffer.from(t).toString("base64")};if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:i}=t;return{prisma__type:"bytes",prisma__value:Buffer.from(e,r,i).toString("base64")}}return"object"==typeof t&&"slow"===r?sc(t):t})(e,t)))}function sc(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(sd);let t={};for(let r of Object.keys(e))t[r]=sd(e[r]);return t}function sd(e){return"bigint"==typeof e?e.toString():sc(e)}var sp=/^(\s*alter\s)/i,sf=ew("prisma:client");function sm(e,t,r,i){if(("postgresql"===e||"cockroachdb"===e)&&r.length>0&&sp.exec(t))throw Error(`Running ALTER using ${i} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var sh=({clientMethod:e,activeProvider:t})=>r=>{let i="",n;if(as(r))i=r.sql,n={values:sl(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;i=e,n={values:sl(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":i=r.sql,n={values:sl(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":i=r.text,n={values:sl(r.values),__prismaRawParameters__:!0};break;case"sqlserver":i=r.strings.reduce((e,t,r)=>`${e}@P${r}${t}`),n={values:sl(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return n?.values?sf(`prisma.${e}(${i}, ${n.values})`):sf(`prisma.${e}(${i})`),{query:i,parameters:n}},sg={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new af(t,r)}},sy={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function sv(e){return function(t,r){let i,n=(r=e)=>{try{return void 0===r||r?.kind==="itx"?i??=sb(t(r)):sb(t(r))}catch(e){return Promise.reject(e)}};return{get spec(){return r},then:(e,t)=>n().then(e,t),catch:e=>n().catch(e),finally:e=>n().finally(e),requestTransaction(e){let t=n(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function sb(e){return"function"==typeof e.then?e:Promise.resolve(e)}var sw=tB.split(".")[0],s_={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},sx=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${sw}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??s_}};function sk(e){return"number"==typeof e.batchRequestIdx}function sS(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${sS(r)})`:t}).join(" ")})`}var sO={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0},sE=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,i)=>{this.batches[t].push({request:e,resolve:r,reject:i})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let i=e[r];i instanceof Error?t[r].reject(i):t[r].resolve(i)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function sI(e){let t=[],r=function(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}(e);for(let i=0;i<e.rows.length;i++){let n=e.rows[i],a={...r};for(let t=0;t<n.length;t++)a[e.columns[t]]=function e(t,r){if(null===r)return r;switch(t){case"bigint":return BigInt(r);case"bytes":{let{buffer:e,byteOffset:t,byteLength:i}=Buffer.from(r,"base64");return new Uint8Array(e,t,i)}case"decimal":return new i6(r);case"datetime":case"date":return new Date(r);case"time":return new Date(`1970-01-01T${r}Z`);case"bigint-array":return r.map(t=>e("bigint",t));case"bytes-array":return r.map(t=>e("bytes",t));case"decimal-array":return r.map(t=>e("decimal",t));case"datetime-array":return r.map(t=>e("datetime",t));case"date-array":return r.map(t=>e("date",t));case"time-array":return r.map(t=>e("time",t));default:return r}}(e.types[t],n[t]);t.push(a)}return t}var sT=ew("prisma:client:request_handler"),s$=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new sE({batchLoader:function(e){return t=>{let r={requests:t},i=t[0].extensions.getAllBatchQueryCallbacks();return i.length?function e(t,r,i,n){if(i===r.length)return n(t);let a=t.customDataProxyFetch,o=t.requests[0].transaction;return r[i]({args:{queries:t.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:o?{isolationLevel:"batch"===o.kind?o.isolationLevel:void 0}:void 0},__internalParams:t,query(o,s=t){let l=s.customDataProxyFetch;return s.customDataProxyFetch=a2(a,l),e(s,r,i+1,n)}})}(r,i,0,e):e(r)}}(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:i}=e[0],n=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(i),o=e.some(e=>sO[e.protocolQuery.action]);return(await this.client._engine.requestBatch(n,{traceparent:a,transaction:function(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:sA(e)};ro(e,"Unknown transaction kind")}}(r),containsWrite:o,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?sA(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:sO[e.protocolQuery.action],customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:function(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(sS(e.query.arguments)),t.push(sS(e.query.selection)),t.join("")}(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(o){let{clientMethod:t,callsite:r,transaction:i,args:n,modelName:a}=e;this.handleAndLogRequestError({error:o,clientMethod:t,callsite:r,transaction:i,args:n,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let i=r?.data,n=this.unpack(i,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:n}:n}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:i,args:n,modelName:a,globalOmit:o}){var s,l,u;if(sT(e),s=e,l=i,sk(s)&&l?.kind==="batch"&&s.batchRequestIdx!==l.index)throw e;e instanceof rx&&("P2009"===(u=e).code||"P2012"===u.code)&&nB({args:n,errors:[function e(t){if("Union"===t.kind)return{kind:"Union",errors:t.errors.map(e)};if(Array.isArray(t.selectionPath)){let[,...e]=t.selectionPath;return{...t,selectionPath:e}}return t}(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:o});let c=e.message;if(r&&(c=no({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:c})),c=this.sanitizeMessage(c),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new rx(c,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new rk(c,this.client._clientVersion);if(e instanceof rS)throw new rS(c,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof r_)throw new r_(c,this.client._clientVersion);if(e instanceof rk)throw new rk(c,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?rl(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let i=Object.keys(e)[0],n=aB(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),a="queryRaw"===i?sI(n):ou(n);return r?r(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function sA(e){return{id:e.id,payload:e.payload}}var sP=f(O()),sj=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};rv(sj,"PrismaClientConstructorValidationError");var sR=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],sN=["pretty","colorless","minimal"],sU=["info","query","warn","error"],sC={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new sj(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,i]of Object.entries(e)){if(!t.includes(r)){let e=sD(r,t)||` Available datasources: ${t.join(", ")}`;throw new sj(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof i||Array.isArray(i))throw new sj(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(i&&"object"==typeof i)for(let[t,n]of Object.entries(i)){if("url"!==t)throw new sj(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof n)throw new sj(`Invalid value ${JSON.stringify(n)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===tH(t.generator))throw new sj('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new sj('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if("binary"===tH(t.generator))throw new sj('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new sj(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new sj(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!sN.includes(e)){let t=sD(e,sN);throw new sj(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new sj(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=sD(e,t);throw new sj(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,i]of Object.entries(r))if(e[t])e[t](i);else throw new sj(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!sU.includes(e)){let t=sD(e,sU);throw new sj(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new sj(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new sj(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new sj('"omit" option is expected to be an object.');if(null===e)throw new sj('"omit" option can not be `null`');let r=[];for(let[i,n]of Object.entries(e)){let e=function(e,t){return sz(t.models,e)??sz(t.types,e)}(i,t.runtimeDataModel);if(!e){r.push({kind:"UnknownModel",modelKey:i});continue}for(let[t,a]of Object.entries(n)){let n=e.fields.find(e=>e.name===t);if(!n){r.push({kind:"UnknownField",modelKey:i,fieldName:t});continue}if(n.relationName){r.push({kind:"RelationInOmit",modelKey:i,fieldName:t});continue}"boolean"!=typeof a&&r.push({kind:"InvalidFieldValue",modelKey:i,fieldName:t})}}if(r.length>0)throw new sj(function(e,t){let r=nJ(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:i,args:n}=nZ(r,"colorless");return`Error validating "omit" option:

${n}

${i}`}(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new sj(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=sD(r,t);throw new sj(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function sD(e,t){if(0===t.length||"string"!=typeof e)return"";let r=function(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,sP.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let i=r[0];return i.distance<3?i.value:null}(e,t);return r?` Did you mean "${r}"?`:""}function sz(e,t){let r=Object.keys(e).find(e=>rI(e)===t);if(r)return e[r]}var sL=ew("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var sM={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},sq=Symbol.for("prisma.client.transaction.id"),sV={id:0,nextId(){return++this.id}};function sJ(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=sv();constructor(t){(function({postinstall:e,ciName:t,clientVersion:r,generator:i}){if(a5("checkPlatformCaching:postinstall",e),a5("checkPlatformCaching:ciName",t),!0===e&&!(i?.output&&"string"==typeof(i.output.fromEnvVar??i.output.value))&&t&&t in a3){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${a3[t]}-build`;throw console.error(e),new r_(e,r)}})(e=t?.__internal?.configOverride?.(e)??e),t&&function(e,t){for(let[r,i]of Object.entries(e)){if(!sR.includes(r)){let e=sD(r,sR);throw new sj(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}sC[r](i,t)}if(e.datasourceUrl&&e.datasources)throw new sj('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(t,e);let r=new ac.EventEmitter().on("error",()=>{});this._extensions=nQ.empty(),this._previewFeatures=function({generator:e}){return e?.previewFeatures??[]}(e),this._clientVersion=e.clientVersion??"6.17.1",this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=new sx;let i=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&ap.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&ap.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},n;if(t?.adapter){n=t.adapter;let r="postgresql"===e.activeProvider||"cockroachdb"===e.activeProvider?"postgres":e.activeProvider;if(n.provider!==r)throw new r_(`The Driver Adapter \`${n.adapterName}\`, based on \`${n.provider}\`, is not compatible with the provider \`${r}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new r_("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let a=!n&&i&&rm(i,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let i=t??{},o=i.__internal??{},s=!0===o.debug;s&&ew.enable("prisma:client");let l=ap.default.resolve(e.dirname,e.relativePath);ad.default.existsSync(l)||(l=e.dirname),sL("dirname",e.dirname),sL("relativePath",e.relativePath),sL("cwd",l);let u=o.engine||{};if(i.errorFormat?this._errorFormat=i.errorFormat:this._errorFormat="minimal",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:l,dirname:e.dirname,enableDebugLogs:s,allowTriggerPanic:u.allowTriggerPanic,prismaPath:u.binaryPath??void 0,engineEndpoint:u.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:i.log&&function(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:e&&("info"===t||"info"===e)?"info":r},void 0)}(i.log),logQueries:i.log&&!!("string"==typeof i.log?"query"===i.log:i.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:a?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:function(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}(i,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:i.transactionOptions?.maxWait??2e3,timeout:i.transactionOptions?.timeout??5e3,isolationLevel:i.transactionOptions?.isolationLevel},logEmitter:r,isBundled:e.isBundled,adapter:n},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:ov,getBatchRequestPayload:aI,prismaGraphQLToJSError:aT,PrismaClientUnknownRequestError:rS,PrismaClientInitializationError:r_,PrismaClientKnownRequestError:rx,debug:ew("prisma:client:accelerateEngine"),engineVersion:al.version,clientVersion:e.clientVersion}},sL("clientVersion",e.clientVersion),this._engine=function({copyEngine:e=!0},t){let r;try{r=ov({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:i,isUsing:n,diagnostics:a}=function({url:e,adapter:t,copyEngine:r,targetBuildType:i}){let n=[],a=[],o=e=>{let t=e.join(`
`);a.push({_tag:"error",value:t})},s=!!e?.startsWith("prisma://"),l=t2(e),u=!!t,c=s||l;!u&&r&&c&&"client"!==i&&"wasm-compiler-edge"!==i&&n.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let d=c||!r;u&&(d||"edge"===i)&&("edge"===i?o(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):c?o(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):r||o(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let p={accelerate:d,ppg:l,driverAdapters:u};return a.length>0?{ok:!1,diagnostics:{warnings:n,errors:a},isUsing:p}:{ok:!0,diagnostics:{warnings:n},isUsing:p}}({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let e of a.warnings)rw(...e.value);if(!i)throw new rO(a.errors[0].value,{clientVersion:t.clientVersion});let o=tH(t.generator);return(n.accelerate||n.ppg)&&n.driverAdapters,n.accelerate?new o3(t):(n.driverAdapters,"library"===o||n.accelerate,new sa(t))}(e,this._engineConfig),this._requestHandler=new s$(this,r),i.log)for(let e of i.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{t8.log(`${t8.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=aG(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{eh.length=0}}$executeRawInternal(e,t,r,i){let n=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:sh({clientMethod:t,activeProvider:n}),callsite:aL(this._errorFormat),dataPath:[],middlewareArgsMapper:i})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[i,n]=sF(e,t);return sm(this._activeProvider,i.text,i.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",i,n)}throw new rO("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(sm(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new rO(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:ss,callsite:aL(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,i){let n=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:sh({clientMethod:t,activeProvider:n}),callsite:aL(this._errorFormat),dataPath:[],middlewareArgsMapper:i})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...sF(e,t));throw new rO("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new rO("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){var r;let i=sV.nextId(),n=function(e,t=()=>{}){let r,i=new Promise(e=>r=e);return{then:n=>(0==--e&&r(t()),n?.(i))}}(e.length);return 0===(r=e.map((e,r)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a=t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return e.requestTransaction?.({kind:"batch",id:i,index:r,isolationLevel:a,lock:n})??e})).length?Promise.resolve([]):new Promise((e,t)=>{let i=Array(r.length),n=null,a=!1,o=0,s=()=>{a||++o===r.length&&(a=!0,n?t(n):e(i))},l=e=>{a||(a=!0,t(e))};for(let e=0;e<r.length;e++)r[e].then(t=>{i[e]=t,s()},t=>{if(!sk(t))return void l(t);t.batchRequestIdx===e?l(t):(n||(n=t),s())})})}async _transactionWithCallback({callback:e,options:t}){let r={traceparent:this._tracingHelper.getTraceParent()},i={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},n=await this._engine.transaction("start",r,i),a;try{let t={kind:"itx",...n};a=await e(this._createItxClient(t)),await this._engine.transaction("commit",r,n)}catch(e){throw await this._engine.transaction("rollback",r,n).catch(()=>{}),e}return a}_createItxClient(e){return aS(aG(aS(this[aQ]?this[aQ]:this,[ab("_appliedParent",()=>this._appliedParent._createItxClient(e)),ab("_createPrismaPromise",()=>sv(e)),ab(sq,()=>e.id)])),[aE(a1)])}$transaction(e,t){let r;return r="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??sM,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},i={operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},n=async r=>{let{runInTransaction:i,args:n,...a}=r,o={...e,...a};n&&(o.args=t.middlewareArgsToRequestArgs(n)),void 0!==e.transaction&&!1===i&&delete o.transaction;let s=await function(e,t){let{jsModelName:r,action:i,clientMethod:n}=t;if(e._extensions.isEmpty())return e._executeRequest(t);let a=e._extensions.getAllQueryCallbacks(r??"$none",r?i:n);return function e(t,r,i,n=0){return t._createPrismaPromise(a=>{let o=r.customDataProxyFetch;return"transaction"in r&&void 0!==a&&(r.transaction?.kind==="batch"&&r.transaction.lock.then(),r.transaction=a),n===i.length?t._executeRequest(r):i[n]({model:r.model,operation:r.model?r.action:r.clientMethod,args:function(e){var t,r;if(e instanceof af){return new af((t=e).strings,t.values)}if(as(e)){return new aa((r=e).sql,r.values)}if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=a4(e[r]);return t}let i={};for(let t in e)i[t]=a4(e[t]);return i}(r.args??{}),__internalParams:r,query:(a,s=r)=>{let l=s.customDataProxyFetch;return s.customDataProxyFetch=a2(o,l),s.args=a,e(t,s,i,n+1)}})})}(e,t,a)}(this,o);return o.model?function({result:e,modelName:t,args:r,extensions:i,runtimeDataModel:n,globalOmit:a}){return i.isEmpty()||null==e||"object"!=typeof e||!n.models[t]?e:aX({result:e,args:r??{},modelName:t,runtimeDataModel:n,visitor:(e,t,r)=>{let n=nH(t);return function({result:e,modelName:t,select:r,omit:i,extensions:n}){let a=n.getAllComputedFields(t);if(!a)return e;let o=[],s=[];for(let t of Object.values(a)){if(i){if(i[t.name])continue;let e=t.needs.filter(e=>i[e]);e.length>0&&s.push(aE(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&s.push(aE(e))}(function(e,t){return t.every(t=>Object.prototype.hasOwnProperty.call(e,t))})(e,t.needs)&&o.push(function(e,t){return aw(ab(e.name,()=>e.compute(t)))}(t,aS(e,o)))}return o.length>0||s.length>0?aS(e,[...o,...s]):e}({result:e,modelName:n,select:r.select,omit:r.select?void 0:{...a?.[n],...r.omit},extensions:i})}})}({result:s,modelName:o.model,args:o.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):s};return this._tracingHelper.runInChildSpan(i.operation,()=>new au.AsyncResource("prisma-client-request").runInAsyncScope(()=>n(r)))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:i,action:n,model:a,argsMapper:o,transaction:s,unpacker:l,otelParentCtx:u,customDataProxyFetch:c}){try{e=o?o(e):e;let d=this._tracingHelper.runInChildSpan({name:"serialize"},()=>n5({modelName:a,runtimeDataModel:this._runtimeDataModel,action:n,args:e,clientMethod:t,callsite:i,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return ew.enabled("prisma:client")&&(sL("Prisma Client call:"),sL(`prisma.${t}(${function(e){if(void 0===e)return"";let t=nJ(e);return new nd(0,{colors:nm}).write(t).toString()}(e)})`),sL("Generated request:"),sL(JSON.stringify(d,null,2)+`
`)),s?.kind==="batch"&&await s.lock,this._requestHandler.request({protocolQuery:d,modelName:a,action:n,clientMethod:t,dataPath:r,callsite:i,args:e,extensions:this._extensions,transaction:s,unpacker:l,otelParentCtx:u,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:c})}catch(e){throw e.clientVersion=this._clientVersion,e}}$metrics=new ae(this);_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=aY}return t}function sF(e,t){var r;return Array.isArray(r=e)&&Array.isArray(r.raw)?[new af(e,t),sg]:[e,sy]}var sZ=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function sB(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!sZ.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}function sH(e){rm(e,{conflictCheck:"warn"})}},20298,(e,t,r)=>{Object.defineProperty(r,"__esModule",{value:!0});let{PrismaClientKnownRequestError:i,PrismaClientUnknownRequestError:n,PrismaClientRustPanicError:a,PrismaClientInitializationError:o,PrismaClientValidationError:s,getPrismaClient:l,sqltag:u,empty:c,join:d,raw:p,skip:f,Decimal:m,Debug:h,objectEnumValues:g,makeStrictEnum:y,Extensions:v,warnOnce:b,defineDmmfProperty:w,Public:_,getRuntime:x,createParam:k}=e.r(56209),S={};r.Prisma=S,r.$Enums={},S.prismaVersion={client:"6.17.1",engine:"272a37d34178c2894197e17273bf937f25acdeac"},S.PrismaClientKnownRequestError=i,S.PrismaClientUnknownRequestError=n,S.PrismaClientRustPanicError=a,S.PrismaClientInitializationError=o,S.PrismaClientValidationError=s,S.Decimal=m,S.sql=u,S.empty=c,S.join=d,S.raw=p,S.validator=_.validator,S.getExtensionContext=v.getExtensionContext,S.defineExtension=v.defineExtension,S.DbNull=g.instances.DbNull,S.JsonNull=g.instances.JsonNull,S.AnyNull=g.instances.AnyNull,S.NullTypes={DbNull:g.classes.DbNull,JsonNull:g.classes.JsonNull,AnyNull:g.classes.AnyNull};let O=e.r(14747);r.Prisma.TransactionIsolationLevel=y({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),r.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.SessionScalarFieldEnum={id:"id",expiresAt:"expiresAt",token:"token",createdAt:"createdAt",updatedAt:"updatedAt",ipAddress:"ipAddress",userAgent:"userAgent",userId:"userId"},r.Prisma.AccountScalarFieldEnum={id:"id",accountId:"accountId",providerId:"providerId",userId:"userId",accessToken:"accessToken",refreshToken:"refreshToken",idToken:"idToken",accessTokenExpiresAt:"accessTokenExpiresAt",refreshTokenExpiresAt:"refreshTokenExpiresAt",scope:"scope",password:"password",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.VerificationScalarFieldEnum={id:"id",identifier:"identifier",value:"value",expiresAt:"expiresAt",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.SortOrder={asc:"asc",desc:"desc"},r.Prisma.QueryMode={default:"default",insensitive:"insensitive"},r.Prisma.NullsOrder={first:"first",last:"last"},r.Prisma.ModelName={User:"User",Session:"Session",Account:"Account",Verification:"Verification"};let E={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"C:\\Users\\sengicarlos\\Desktop\\S_Tier Coding\\lms-course-platform\\lib\\generated\\prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"C:\\Users\\sengicarlos\\Desktop\\S_Tier Coding\\lms-course-platform\\prisma\\schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.17.1",engineVersion:"272a37d34178c2894197e17273bf937f25acdeac",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'generator client {\n  provider = "prisma-client-js"\n  output   = "../lib/generated/prisma"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id            String    @id\n  name          String\n  email         String\n  emailVerified Boolean   @default(false)\n  image         String?\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @default(now()) @updatedAt\n  sessions      Session[]\n  accounts      Account[]\n\n  @@unique([email])\n  @@map("user")\n}\n\nmodel Session {\n  id        String   @id\n  expiresAt DateTime\n  token     String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  ipAddress String?\n  userAgent String?\n  userId    String\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([token])\n  @@map("session")\n}\n\nmodel Account {\n  id                    String    @id\n  accountId             String\n  providerId            String\n  userId                String\n  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  accessToken           String?\n  refreshToken          String?\n  idToken               String?\n  accessTokenExpiresAt  DateTime?\n  refreshTokenExpiresAt DateTime?\n  scope                 String?\n  password              String?\n  createdAt             DateTime  @default(now())\n  updatedAt             DateTime  @updatedAt\n\n  @@map("account")\n}\n\nmodel Verification {\n  id         String   @id\n  identifier String\n  value      String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @default(now()) @updatedAt\n\n  @@map("verification")\n}\n',inlineSchemaHash:"bce50d1afda7db331478d0d4b1039ebf1f583252b7460b8c11ac03ecba79bb78",copyEngine:!0},I=e.r(22734);if(E.dirname="/ROOT/lib/generated/prisma",!I.existsSync(O.join("/ROOT/lib/generated/prisma","schema.prisma"))){let e=["lib/generated/prisma","generated/prisma"],t=e.find(e=>I.existsSync(O.join(process.cwd(),e,"schema.prisma")))??e[0];E.dirname=O.join(process.cwd(),t),E.isBundled=!0}E.runtimeDataModel=JSON.parse('{"models":{"User":{"dbName":"user","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"image","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":true},{"name":"sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Session","nativeType":null,"relationName":"SessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"accounts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Account","nativeType":null,"relationName":"AccountToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["email"]],"uniqueIndexes":[{"name":null,"fields":["email"]}],"isGenerated":false},"Session":{"dbName":"session","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SessionToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["token"]],"uniqueIndexes":[{"name":null,"fields":["token"]}],"isGenerated":false},"Account":{"dbName":"account","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accountId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"providerId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AccountToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"accessToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"idToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accessTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"scope","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Verification":{"dbName":"verification","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"identifier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"value","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}'),w(r.Prisma,E.runtimeDataModel),E.engineWasm=void 0,E.compilerWasm=void 0;let{warnEnvConflicts:T}=e.r(56209);T({rootEnvPath:E.relativeEnvPaths.rootEnvPath&&O.resolve(E.dirname,E.relativeEnvPaths.rootEnvPath),schemaEnvPath:E.relativeEnvPaths.schemaEnvPath&&O.resolve(E.dirname,E.relativeEnvPaths.schemaEnvPath)}),r.PrismaClient=l(E),Object.assign(r,S),O.join("/ROOT/lib/generated/prisma","query_engine-windows.dll.node"),O.join(process.cwd(),"lib/generated/prisma/query_engine-windows.dll.node"),O.join("/ROOT/lib/generated/prisma","schema.prisma"),O.join(process.cwd(),"lib/generated/prisma/schema.prisma")},63344,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationInSerializer=void 0,r.ApplicationInSerializer={_fromJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}),_toJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid})}},20828,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationOutSerializer=void 0,r.ApplicationOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt})}},95576,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationPatchSerializer=void 0,r.ApplicationPatchSerializer={_fromJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}),_toJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid})}},99177,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseApplicationOutSerializer=void 0;let i=e.r(20828);r.ListResponseApplicationOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.ApplicationOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.ApplicationOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},94598,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApiException=void 0,r.ApiException=class extends Error{constructor(e,t,r){super(`HTTP-Code: ${e}
Headers: ${JSON.stringify(r)}`),this.code=e,this.body=t,this.headers={},r.forEach((e,t)=>{this.headers[t]=e})}}},66951,e=>{"use strict";let t,r;e.s(["MAX",()=>i,"NIL",()=>n,"parse",()=>s,"stringify",()=>c,"v1",()=>y,"v1ToV6",()=>v,"v3",()=>w,"v4",()=>x,"v5",()=>k,"v6",()=>S,"v6ToV1",()=>O,"v7",()=>$,"validate",()=>o,"version",()=>A],66951),e.s([],97934),e.i(97934);let i="ffffffff-ffff-ffff-ffff-ffffffffffff",n="00000000-0000-0000-0000-000000000000",a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,o=function(e){return"string"==typeof e&&a.test(e)},s=function(e){let t;if(!o(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function u(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}let c=function(e,t=0){let r=u(e,t);if(!o(r))throw TypeError("Stringified UUID is invalid");return r};var d=e.i(66680);let p=new Uint8Array(256),f=p.length;function m(){return f>p.length-16&&(d.default.randomFillSync(p),f=0),p.slice(f,f+=16)}let h=0,g=0,y=function(e,i,n){let a=i&&n||0,o=i||Array(16),s=(e=e||{}).node,l=e.clockseq;if(e._v6||(s||(s=t),null==l&&(l=r)),null==s||null==l){let i=e.random||(e.rng||m)();null==s&&(s=[i[0],i[1],i[2],i[3],i[4],i[5]],t||e._v6||(s[0]|=1,t=s)),null==l&&(l=(i[6]<<8|i[7])&16383,void 0!==r||e._v6||(r=l))}let c=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:g+1,p=c-h+(d-g)/1e4;if(p<0&&void 0===e.clockseq&&(l=l+1&16383),(p<0||c>h)&&void 0===e.nsecs&&(d=0),d>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,g=d,r=l;let f=((0xfffffff&(c+=122192928e5))*1e4+d)%0x100000000;o[a++]=f>>>24&255,o[a++]=f>>>16&255,o[a++]=f>>>8&255,o[a++]=255&f;let y=c/0x100000000*1e4&0xfffffff;o[a++]=y>>>8&255,o[a++]=255&y,o[a++]=y>>>24&15|16,o[a++]=y>>>16&255,o[a++]=l>>>8|128,o[a++]=255&l;for(let e=0;e<6;++e)o[a+e]=s[e];return i||u(o)};function v(e){let t=function(e,t=!1){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?s(e):e);return"string"==typeof e?u(t):t}function b(e,t,r){function i(e,i,n,a){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof i&&(i=s(i)),(null==(o=i)?void 0:o.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(i),l.set(e,i.length),(l=r(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,n){a=a||0;for(let e=0;e<16;++e)n[a+e]=l[e];return n}return u(l)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}let w=b("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),d.default.createHash("md5").update(e).digest()}),_={randomUUID:d.default.randomUUID},x=function(e,t,r){if(_.randomUUID&&!t&&!e)return _.randomUUID();let i=(e=e||{}).random||(e.rng||m)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return u(i)},k=b("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),d.default.createHash("sha1").update(e).digest()});function S(e={},t,r=0){let i=y({...e,_v6:!0},new Uint8Array(16));if(i=v(i),t){for(let e=0;e<16;e++)t[r+e]=i[e];return t}return u(i)}function O(e){var t;let r=(t="string"==typeof e?s(e):e,Uint8Array.of((15&t[3])<<4|t[4]>>4&15,(15&t[4])<<4|(240&t[5])>>4,(15&t[5])<<4|15&t[6],t[7],(15&t[1])<<4|(240&t[2])>>4,(15&t[2])<<4|(240&t[3])>>4,16|(240&t[0])>>4,(15&t[0])<<4|(240&t[1])>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]));return"string"==typeof e?u(r):r}let E=null,I=null,T=0,$=function(e,t,r){e=e||{};let i=t&&r||0,n=t||new Uint8Array(16),a=e.random||(e.rng||m)(),o=void 0!==e.msecs?e.msecs:Date.now(),s=void 0!==e.seq?e.seq:null,l=I,c=E;return o>T&&void 0===e.msecs&&(T=o,null!==s&&(l=null,c=null)),null!==s&&(s>0x7fffffff&&(s=0x7fffffff),l=s>>>19&4095,c=524287&s),(null===l||null===c)&&(l=(l=127&a[6])<<8|a[7],c=(c=(c=63&a[8])<<8|a[9])<<5|a[10]>>>3),o+1e4>T&&null===s?++c>524287&&(c=0,++l>4095&&(l=0,T++)):T=o,I=l,E=c,n[i++]=T/0x10000000000&255,n[i++]=T/0x100000000&255,n[i++]=T/0x1000000&255,n[i++]=T/65536&255,n[i++]=T/256&255,n[i++]=255&T,n[i++]=l>>>4&15|112,n[i++]=255&l,n[i++]=c>>>13&63|128,n[i++]=c>>>5&255,n[i++]=c<<3&255|7&a[10],n[i++]=a[11],n[i++]=a[12],n[i++]=a[13],n[i++]=a[14],n[i++]=a[15],t||u(n)},A=function(e){if(!o(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},95585,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.SvixRequest=r.HttpMethod=r.LIB_VERSION=void 0;let n=e.r(94598),a=e.r(66951);r.LIB_VERSION="1.76.1";let o=`svix-libs/${r.LIB_VERSION}/javascript`;!function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"}(r.HttpMethod||(r.HttpMethod={})),r.SvixRequest=class{constructor(e,t){this.method=e,this.path=t,this.queryParams={},this.headerParams={}}setPathParam(e,t){let r=this.path.replace(`{${e}}`,encodeURIComponent(t));if(this.path===r)throw Error(`path parameter ${e} not found`);this.path=r}setQueryParam(e,t){if(null!=t)if("string"==typeof t)this.queryParams[e]=t;else if("boolean"==typeof t||"number"==typeof t)this.queryParams[e]=t.toString();else if(t instanceof Date)this.queryParams[e]=t.toISOString();else if(t instanceof Array)t.length>0&&(this.queryParams[e]=t.join(","));else throw Error(`query parameter ${e} has unsupported type`)}setHeaderParam(e,t){void 0!==t&&(this.headerParams[e]=t)}setBody(e){this.body=JSON.stringify(e)}send(e,t){return i(this,void 0,void 0,function*(){let r=yield this.sendInner(e);return 204==r.status?null:t(JSON.parse((yield r.text())))})}sendNoResponseBody(e){return i(this,void 0,void 0,function*(){yield this.sendInner(e)})}sendInner(e){var t,r;return i(this,void 0,void 0,function*(){let s=new URL(e.baseUrl+this.path);for(let[e,t]of Object.entries(this.queryParams))s.searchParams.set(e,t);void 0===this.headerParams["idempotency-key"]&&"POST"===this.method.toUpperCase()&&(this.headerParams["idempotency-key"]="auto_"+(0,a.v4)());let l=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);null!=this.body&&(this.headerParams["content-type"]="application/json");let u="credentials"in Request.prototype;return function(e){return i(this,void 0,void 0,function*(){if(e.status<300)return e;let t=yield e.text();if(422===e.status||e.status>=400&&e.status<=499)throw new n.ApiException(e.status,JSON.parse(t),e.headers);throw new n.ApiException(e.status,t,e.headers)})}((yield function e(t,r,n,a=50,o=2,s=1){return i(this,void 0,void 0,function*(){let i;try{let e=yield fetch(t,r);if(o<=0||e.status<500)return e}catch(e){if(o<=0)throw e}return yield(i=a,new Promise(e=>setTimeout(e,i))),r.headers["svix-retry-count"]=s.toString(),a=(null==n?void 0:n[s])||2*a,yield e(t,r,n,a,--o,++s)})}(s,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${e.token}`,"user-agent":o,"svix-req-id":l.toString()},this.headerParams),credentials:u?"same-origin":void 0,signal:void 0!==e.timeout?AbortSignal.timeout(e.timeout):void 0},e.retryScheduleInMs,null==(t=e.retryScheduleInMs)?void 0:t[0],(null==(r=e.retryScheduleInMs)?void 0:r.length)||e.numRetries)))})}}},97362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Application=void 0;let i=e.r(63344),n=e.r(20828),a=e.r(95576),o=e.r(99177),s=e.r(95585);r.Application=class{constructor(e){this.requestCtx=e}list(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,o.ListResponseApplicationOutSerializer._fromJsonObject)}create(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.ApplicationInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}getOrCreate(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app");return r.setQueryParam("get_if_exists",!0),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.ApplicationInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}get(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}");return t.setPathParam("app_id",e),t.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}update(e,t){let r=new s.SvixRequest(s.HttpMethod.PUT,"/api/v1/app/{app_id}");return r.setPathParam("app_id",e),r.setBody(i.ApplicationInSerializer._toJsonObject(t)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}delete(e){let t=new s.SvixRequest(s.HttpMethod.DELETE,"/api/v1/app/{app_id}");return t.setPathParam("app_id",e),t.sendNoResponseBody(this.requestCtx)}patch(e,t){let r=new s.SvixRequest(s.HttpMethod.PATCH,"/api/v1/app/{app_id}");return r.setPathParam("app_id",e),r.setBody(a.ApplicationPatchSerializer._toJsonObject(t)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}}},93814,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppPortalCapabilitySerializer=r.AppPortalCapability=void 0,function(e){e.ViewBase="ViewBase",e.ViewEndpointSecret="ViewEndpointSecret",e.ManageEndpointSecret="ManageEndpointSecret",e.ManageTransformations="ManageTransformations",e.CreateAttempts="CreateAttempts",e.ManageEndpoint="ManageEndpoint"}(r.AppPortalCapability||(r.AppPortalCapability={})),r.AppPortalCapabilitySerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},40096,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppPortalAccessInSerializer=void 0;let i=e.r(93814),n=e.r(63344);r.AppPortalAccessInSerializer={_fromJsonObject(e){var t;return{application:e.application?n.ApplicationInSerializer._fromJsonObject(e.application):void 0,capabilities:null==(t=e.capabilities)?void 0:t.map(e=>i.AppPortalCapabilitySerializer._fromJsonObject(e)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}},_toJsonObject(e){var t;return{application:e.application?n.ApplicationInSerializer._toJsonObject(e.application):void 0,capabilities:null==(t=e.capabilities)?void 0:t.map(e=>i.AppPortalCapabilitySerializer._toJsonObject(e)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}}}},83516,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppPortalAccessOutSerializer=void 0,r.AppPortalAccessOutSerializer={_fromJsonObject:e=>({token:e.token,url:e.url}),_toJsonObject:e=>({token:e.token,url:e.url})}},38202,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationTokenExpireInSerializer=void 0,r.ApplicationTokenExpireInSerializer={_fromJsonObject:e=>({expiry:e.expiry,sessionIds:e.sessionIds}),_toJsonObject:e=>({expiry:e.expiry,sessionIds:e.sessionIds})}},23975,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DashboardAccessOutSerializer=void 0,r.DashboardAccessOutSerializer={_fromJsonObject:e=>({token:e.token,url:e.url}),_toJsonObject:e=>({token:e.token,url:e.url})}},68170,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Authentication=void 0;let i=e.r(40096),n=e.r(83516),a=e.r(38202),o=e.r(23975),s=e.r(95585);r.Authentication=class{constructor(e){this.requestCtx=e}appPortalAccess(e,t,r){let a=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return a.setPathParam("app_id",e),a.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),a.setBody(i.AppPortalAccessInSerializer._toJsonObject(t)),a.send(this.requestCtx,n.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(e,t,r){let i=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(a.ApplicationTokenExpireInSerializer._toJsonObject(t)),i.sendNoResponseBody(this.requestCtx)}dashboardAccess(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return r.setPathParam("app_id",e),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.send(this.requestCtx,o.DashboardAccessOutSerializer._fromJsonObject)}logout(e){let t=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/logout");return t.setHeaderParam("idempotency-key",null==e?void 0:e.idempotencyKey),t.sendNoResponseBody(this.requestCtx)}}},1577,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTaskStatusSerializer=r.BackgroundTaskStatus=void 0,function(e){e.Running="running",e.Finished="finished",e.Failed="failed"}(r.BackgroundTaskStatus||(r.BackgroundTaskStatus={})),r.BackgroundTaskStatusSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},44081,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTaskTypeSerializer=r.BackgroundTaskType=void 0,function(e){e.EndpointReplay="endpoint.replay",e.EndpointRecover="endpoint.recover",e.ApplicationStats="application.stats",e.MessageBroadcast="message.broadcast",e.SdkGenerate="sdk.generate",e.EventTypeAggregate="event-type.aggregate",e.ApplicationPurgeContent="application.purge_content"}(r.BackgroundTaskType||(r.BackgroundTaskType={})),r.BackgroundTaskTypeSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},49527,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTaskOutSerializer=void 0;let i=e.r(1577),n=e.r(44081);r.BackgroundTaskOutSerializer={_fromJsonObject:e=>({data:e.data,id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({data:e.data,id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},57370,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseBackgroundTaskOutSerializer=void 0;let i=e.r(49527);r.ListResponseBackgroundTaskOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.BackgroundTaskOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.BackgroundTaskOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},76436,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTask=void 0;let i=e.r(49527),n=e.r(57370),a=e.r(95585);r.BackgroundTask=class{constructor(e){this.requestCtx=e}list(e){let t=new a.SvixRequest(a.HttpMethod.GET,"/api/v1/background-task");return t.setQueryParam("status",null==e?void 0:e.status),t.setQueryParam("task",null==e?void 0:e.task),t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,n.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(e){return this.list(e)}get(e){let t=new a.SvixRequest(a.HttpMethod.GET,"/api/v1/background-task/{task_id}");return t.setPathParam("task_id",e),t.send(this.requestCtx,i.BackgroundTaskOutSerializer._fromJsonObject)}}},89086,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointHeadersInSerializer=void 0,r.EndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})}},7263,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointHeadersOutSerializer=void 0,r.EndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})}},2383,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointHeadersPatchInSerializer=void 0,r.EndpointHeadersPatchInSerializer={_fromJsonObject:e=>({deleteHeaders:e.deleteHeaders,headers:e.headers}),_toJsonObject:e=>({deleteHeaders:e.deleteHeaders,headers:e.headers})}},6786,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointInSerializer=void 0,r.EndpointInSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version})}},11726,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointOutSerializer=void 0,r.EndpointOutSerializer={_fromJsonObject:e=>({channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version})}},53864,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointPatchSerializer=void 0,r.EndpointPatchSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version})}},34515,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointSecretOutSerializer=void 0,r.EndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},93644,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointSecretRotateInSerializer=void 0,r.EndpointSecretRotateInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},87800,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointStatsSerializer=void 0,r.EndpointStatsSerializer={_fromJsonObject:e=>({fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}),_toJsonObject:e=>({fail:e.fail,pending:e.pending,sending:e.sending,success:e.success})}},47123,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointTransformationInSerializer=void 0,r.EndpointTransformationInSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},49814,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointTransformationOutSerializer=void 0,r.EndpointTransformationOutSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},36819,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointTransformationPatchSerializer=void 0,r.EndpointTransformationPatchSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},34725,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointUpdateSerializer=void 0,r.EndpointUpdateSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version})}},92924,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventExampleInSerializer=void 0,r.EventExampleInSerializer={_fromJsonObject:e=>({eventType:e.eventType,exampleIndex:e.exampleIndex}),_toJsonObject:e=>({eventType:e.eventType,exampleIndex:e.exampleIndex})}},87465,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseEndpointOutSerializer=void 0;let i=e.r(11726);r.ListResponseEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.EndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.EndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},36094,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageOutSerializer=void 0,r.MessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp})}},29512,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RecoverInSerializer=void 0,r.RecoverInSerializer={_fromJsonObject:e=>({since:new Date(e.since),until:e.until?new Date(e.until):null}),_toJsonObject:e=>({since:e.since,until:e.until})}},28299,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RecoverOutSerializer=void 0;let i=e.r(1577),n=e.r(44081);r.RecoverOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},54609,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReplayInSerializer=void 0,r.ReplayInSerializer={_fromJsonObject:e=>({since:new Date(e.since),until:e.until?new Date(e.until):null}),_toJsonObject:e=>({since:e.since,until:e.until})}},56464,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReplayOutSerializer=void 0;let i=e.r(1577),n=e.r(44081);r.ReplayOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},72137,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Endpoint=void 0;let i=e.r(89086),n=e.r(7263),a=e.r(2383),o=e.r(6786),s=e.r(11726),l=e.r(53864),u=e.r(34515),c=e.r(93644),d=e.r(87800),p=e.r(47123),f=e.r(49814),m=e.r(36819),h=e.r(34725),g=e.r(92924),y=e.r(87465),v=e.r(36094),b=e.r(29512),w=e.r(28299),_=e.r(54609),x=e.r(56464),k=e.r(95585);r.Endpoint=class{constructor(e){this.requestCtx=e}list(e,t){let r=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return r.setPathParam("app_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("order",null==t?void 0:t.order),r.send(this.requestCtx,y.ListResponseEndpointOutSerializer._fromJsonObject)}create(e,t,r){let i=new k.SvixRequest(k.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(o.EndpointInSerializer._toJsonObject(t)),i.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}get(e,t){let r=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}update(e,t,r){let i=new k.SvixRequest(k.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(h.EndpointUpdateSerializer._toJsonObject(r)),i.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}delete(e,t){let r=new k.SvixRequest(k.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}patch(e,t,r){let i=new k.SvixRequest(k.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(l.EndpointPatchSerializer._toJsonObject(r)),i.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}getHeaders(e,t){let r=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,n.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t,r){let n=new k.SvixRequest(k.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setBody(i.EndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}headersUpdate(e,t,r){return this.updateHeaders(e,t,r)}patchHeaders(e,t,r){let i=new k.SvixRequest(k.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(a.EndpointHeadersPatchInSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}headersPatch(e,t,r){return this.patchHeaders(e,t,r)}recover(e,t,r,i){let n=new k.SvixRequest(k.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(b.RecoverInSerializer._toJsonObject(r)),n.send(this.requestCtx,w.RecoverOutSerializer._fromJsonObject)}replayMissing(e,t,r,i){let n=new k.SvixRequest(k.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(_.ReplayInSerializer._toJsonObject(r)),n.send(this.requestCtx,x.ReplayOutSerializer._fromJsonObject)}getSecret(e,t){let r=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,u.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,r,i){let n=new k.SvixRequest(k.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(c.EndpointSecretRotateInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}sendExample(e,t,r,i){let n=new k.SvixRequest(k.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(g.EventExampleInSerializer._toJsonObject(r)),n.send(this.requestCtx,v.MessageOutSerializer._fromJsonObject)}getStats(e,t,r){let i=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setQueryParam("since",null==r?void 0:r.since),i.setQueryParam("until",null==r?void 0:r.until),i.send(this.requestCtx,d.EndpointStatsSerializer._fromJsonObject)}transformationGet(e,t){let r=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,f.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(e,t,r){let i=new k.SvixRequest(k.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(m.EndpointTransformationPatchSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(e,t,r){let i=new k.SvixRequest(k.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(p.EndpointTransformationInSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}}},1722,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectorKindSerializer=r.ConnectorKind=void 0,function(e){e.Custom="Custom",e.CloseCrm="CloseCRM",e.CustomerIo="CustomerIO",e.Discord="Discord",e.Hubspot="Hubspot",e.Inngest="Inngest",e.Loops="Loops",e.Resend="Resend",e.Salesforce="Salesforce",e.Segment="Segment",e.Sendgrid="Sendgrid",e.Slack="Slack",e.Teams="Teams",e.TriggerDev="TriggerDev",e.Windmill="Windmill",e.Zapier="Zapier"}(r.ConnectorKind||(r.ConnectorKind={})),r.ConnectorKindSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},21059,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectorInSerializer=void 0;let i=e.r(1722);r.ConnectorInSerializer={_fromJsonObject:e=>({description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:e.kind?i.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}),_toJsonObject:e=>({description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:e.kind?i.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation})}},71816,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeInSerializer=void 0,r.EventTypeInSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas})}},1112,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EnvironmentInSerializer=void 0;let i=e.r(21059),n=e.r(71816);r.EnvironmentInSerializer={_fromJsonObject(e){var t,r;return{connectors:null==(t=e.connectors)?void 0:t.map(e=>i.ConnectorInSerializer._fromJsonObject(e)),eventTypes:null==(r=e.eventTypes)?void 0:r.map(e=>n.EventTypeInSerializer._fromJsonObject(e)),settings:e.settings}},_toJsonObject(e){var t,r;return{connectors:null==(t=e.connectors)?void 0:t.map(e=>i.ConnectorInSerializer._toJsonObject(e)),eventTypes:null==(r=e.eventTypes)?void 0:r.map(e=>n.EventTypeInSerializer._toJsonObject(e)),settings:e.settings}}}},29459,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectorOutSerializer=void 0;let i=e.r(1722);r.ConnectorOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,id:e.id,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:i.ConnectorKindSerializer._fromJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,id:e.id,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:i.ConnectorKindSerializer._toJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:e.updatedAt})}},40756,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeOutSerializer=void 0,r.EventTypeOutSerializer={_fromJsonObject:e=>({archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:e.updatedAt})}},89727,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EnvironmentOutSerializer=void 0;let i=e.r(29459),n=e.r(40756);r.EnvironmentOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),eventTypes:e.eventTypes.map(e=>n.EventTypeOutSerializer._fromJsonObject(e)),settings:e.settings,transformationTemplates:e.transformationTemplates.map(e=>i.ConnectorOutSerializer._fromJsonObject(e)),version:e.version}),_toJsonObject:e=>({createdAt:e.createdAt,eventTypes:e.eventTypes.map(e=>n.EventTypeOutSerializer._toJsonObject(e)),settings:e.settings,transformationTemplates:e.transformationTemplates.map(e=>i.ConnectorOutSerializer._toJsonObject(e)),version:e.version})}},56111,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Environment=void 0;let i=e.r(1112),n=e.r(89727),a=e.r(95585);r.Environment=class{constructor(e){this.requestCtx=e}export(e){let t=new a.SvixRequest(a.HttpMethod.POST,"/api/v1/environment/export");return t.setHeaderParam("idempotency-key",null==e?void 0:e.idempotencyKey),t.send(this.requestCtx,n.EnvironmentOutSerializer._fromJsonObject)}import(e,t){let r=new a.SvixRequest(a.HttpMethod.POST,"/api/v1/environment/import");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.EnvironmentInSerializer._toJsonObject(e)),r.sendNoResponseBody(this.requestCtx)}}},34425,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeImportOpenApiInSerializer=void 0,r.EventTypeImportOpenApiInSerializer={_fromJsonObject:e=>({dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}),_toJsonObject:e=>({dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw})}},80163,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeFromOpenApiSerializer=void 0,r.EventTypeFromOpenApiSerializer={_fromJsonObject:e=>({deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}),_toJsonObject:e=>({deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas})}},68472,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeImportOpenApiOutDataSerializer=void 0;let i=e.r(80163);r.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(e){var t;return{modified:e.modified,toModify:null==(t=e.to_modify)?void 0:t.map(e=>i.EventTypeFromOpenApiSerializer._fromJsonObject(e))}},_toJsonObject(e){var t;return{modified:e.modified,to_modify:null==(t=e.toModify)?void 0:t.map(e=>i.EventTypeFromOpenApiSerializer._toJsonObject(e))}}}},42816,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeImportOpenApiOutSerializer=void 0;let i=e.r(68472);r.EventTypeImportOpenApiOutSerializer={_fromJsonObject:e=>({data:i.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(e.data)}),_toJsonObject:e=>({data:i.EventTypeImportOpenApiOutDataSerializer._toJsonObject(e.data)})}},18687,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypePatchSerializer=void 0,r.EventTypePatchSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas})}},93501,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeUpdateSerializer=void 0,r.EventTypeUpdateSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas})}},88410,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseEventTypeOutSerializer=void 0;let i=e.r(40756);r.ListResponseEventTypeOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.EventTypeOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.EventTypeOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},92497,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventType=void 0;let i=e.r(34425),n=e.r(42816),a=e.r(71816),o=e.r(40756),s=e.r(18687),l=e.r(93501),u=e.r(88410),c=e.r(95585);r.EventType=class{constructor(e){this.requestCtx=e}list(e){let t=new c.SvixRequest(c.HttpMethod.GET,"/api/v1/event-type");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.setQueryParam("include_archived",null==e?void 0:e.includeArchived),t.setQueryParam("with_content",null==e?void 0:e.withContent),t.send(this.requestCtx,u.ListResponseEventTypeOutSerializer._fromJsonObject)}create(e,t){let r=new c.SvixRequest(c.HttpMethod.POST,"/api/v1/event-type");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(a.EventTypeInSerializer._toJsonObject(e)),r.send(this.requestCtx,o.EventTypeOutSerializer._fromJsonObject)}importOpenapi(e,t){let r=new c.SvixRequest(c.HttpMethod.POST,"/api/v1/event-type/import/openapi");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.EventTypeImportOpenApiInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(e){let t=new c.SvixRequest(c.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return t.setPathParam("event_type_name",e),t.send(this.requestCtx,o.EventTypeOutSerializer._fromJsonObject)}update(e,t){let r=new c.SvixRequest(c.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",e),r.setBody(l.EventTypeUpdateSerializer._toJsonObject(t)),r.send(this.requestCtx,o.EventTypeOutSerializer._fromJsonObject)}delete(e,t){let r=new c.SvixRequest(c.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",e),r.setQueryParam("expunge",null==t?void 0:t.expunge),r.sendNoResponseBody(this.requestCtx)}patch(e,t){let r=new c.SvixRequest(c.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",e),r.setBody(s.EventTypePatchSerializer._toJsonObject(t)),r.send(this.requestCtx,o.EventTypeOutSerializer._fromJsonObject)}}},50154,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Health=void 0;let i=e.r(95585);r.Health=class{constructor(e){this.requestCtx=e}get(){return new i.SvixRequest(i.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}}},75799,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSourceConsumerPortalAccessInSerializer=void 0,r.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject:e=>({expiry:e.expiry,readOnly:e.readOnly}),_toJsonObject:e=>({expiry:e.expiry,readOnly:e.readOnly})}},78075,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointHeadersInSerializer=void 0,r.IngestEndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})}},88302,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointHeadersOutSerializer=void 0,r.IngestEndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})}},27209,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointInSerializer=void 0,r.IngestEndpointInSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url})}},9002,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointOutSerializer=void 0,r.IngestEndpointOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url})}},61414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointSecretInSerializer=void 0,r.IngestEndpointSecretInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},79906,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointSecretOutSerializer=void 0,r.IngestEndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},55559,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointTransformationOutSerializer=void 0,r.IngestEndpointTransformationOutSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},81612,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointTransformationPatchSerializer=void 0,r.IngestEndpointTransformationPatchSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},79792,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointUpdateSerializer=void 0,r.IngestEndpointUpdateSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url})}},14232,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseIngestEndpointOutSerializer=void 0;let i=e.r(9002);r.ListResponseIngestEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.IngestEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.IngestEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},10935,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpoint=void 0;let i=e.r(78075),n=e.r(88302),a=e.r(27209),o=e.r(9002),s=e.r(61414),l=e.r(79906),u=e.r(55559),c=e.r(81612),d=e.r(79792),p=e.r(14232),f=e.r(95585);r.IngestEndpoint=class{constructor(e){this.requestCtx=e}list(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return r.setPathParam("source_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("order",null==t?void 0:t.order),r.send(this.requestCtx,p.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(e,t,r){let i=new f.SvixRequest(f.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return i.setPathParam("source_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(a.IngestEndpointInSerializer._toJsonObject(t)),i.send(this.requestCtx,o.IngestEndpointOutSerializer._fromJsonObject)}get(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,o.IngestEndpointOutSerializer._fromJsonObject)}update(e,t,r){let i=new f.SvixRequest(f.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return i.setPathParam("source_id",e),i.setPathParam("endpoint_id",t),i.setBody(d.IngestEndpointUpdateSerializer._toJsonObject(r)),i.send(this.requestCtx,o.IngestEndpointOutSerializer._fromJsonObject)}delete(e,t){let r=new f.SvixRequest(f.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}getHeaders(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,n.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t,r){let n=new f.SvixRequest(f.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("source_id",e),n.setPathParam("endpoint_id",t),n.setBody(i.IngestEndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getSecret(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,l.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,r,i){let n=new f.SvixRequest(f.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return n.setPathParam("source_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(s.IngestEndpointSecretInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getTransformation(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,u.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(e,t,r){let i=new f.SvixRequest(f.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("source_id",e),i.setPathParam("endpoint_id",t),i.setBody(c.IngestEndpointTransformationPatchSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}}},78869,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AdobeSignConfigSerializer=void 0,r.AdobeSignConfigSerializer={_fromJsonObject:e=>({clientId:e.clientId}),_toJsonObject:e=>({clientId:e.clientId})}},22030,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AirwallexConfigSerializer=void 0,r.AirwallexConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},85874,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CheckbookConfigSerializer=void 0,r.CheckbookConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},81368,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CronConfigSerializer=void 0,r.CronConfigSerializer={_fromJsonObject:e=>({contentType:e.contentType,payload:e.payload,schedule:e.schedule}),_toJsonObject:e=>({contentType:e.contentType,payload:e.payload,schedule:e.schedule})}},25390,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DocusignConfigSerializer=void 0,r.DocusignConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},11605,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EasypostConfigSerializer=void 0,r.EasypostConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},3654,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GithubConfigSerializer=void 0,r.GithubConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},14075,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HubspotConfigSerializer=void 0,r.HubspotConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},65426,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrumIoConfigSerializer=void 0,r.OrumIoConfigSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},11074,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PandaDocConfigSerializer=void 0,r.PandaDocConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},98134,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PortIoConfigSerializer=void 0,r.PortIoConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},76334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RutterConfigSerializer=void 0,r.RutterConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},55331,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SegmentConfigSerializer=void 0,r.SegmentConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},50438,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ShopifyConfigSerializer=void 0,r.ShopifyConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},92129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SlackConfigSerializer=void 0,r.SlackConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},50715,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StripeConfigSerializer=void 0,r.StripeConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},24867,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SvixConfigSerializer=void 0,r.SvixConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},26461,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TelnyxConfigSerializer=void 0,r.TelnyxConfigSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},61514,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VapiConfigSerializer=void 0,r.VapiConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},89751,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VeriffConfigSerializer=void 0,r.VeriffConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},63244,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ZoomConfigSerializer=void 0,r.ZoomConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},69405,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSourceInSerializer=void 0;let i=e.r(78869),n=e.r(22030),a=e.r(85874),o=e.r(81368),s=e.r(25390),l=e.r(11605),u=e.r(3654),c=e.r(14075),d=e.r(65426),p=e.r(11074),f=e.r(98134),m=e.r(76334),h=e.r(55331),g=e.r(50438),y=e.r(92129),v=e.r(50715),b=e.r(24867),w=e.r(26461),_=e.r(61514),x=e.r(89751),k=e.r(63244);r.IngestSourceInSerializer={_fromJsonObject(e){let t=e.type;return{type:t,config:function(t){switch(t){case"generic-webhook":return{};case"cron":return o.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return i.AdobeSignConfigSerializer._fromJsonObject(e.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return b.SvixConfigSerializer._fromJsonObject(e.config);case"checkbook":return a.CheckbookConfigSerializer._fromJsonObject(e.config);case"docusign":return s.DocusignConfigSerializer._fromJsonObject(e.config);case"easypost":return l.EasypostConfigSerializer._fromJsonObject(e.config);case"github":return u.GithubConfigSerializer._fromJsonObject(e.config);case"hubspot":return c.HubspotConfigSerializer._fromJsonObject(e.config);case"orum-io":return d.OrumIoConfigSerializer._fromJsonObject(e.config);case"panda-doc":return p.PandaDocConfigSerializer._fromJsonObject(e.config);case"port-io":return f.PortIoConfigSerializer._fromJsonObject(e.config);case"rutter":return m.RutterConfigSerializer._fromJsonObject(e.config);case"segment":return h.SegmentConfigSerializer._fromJsonObject(e.config);case"shopify":return g.ShopifyConfigSerializer._fromJsonObject(e.config);case"slack":return y.SlackConfigSerializer._fromJsonObject(e.config);case"stripe":return v.StripeConfigSerializer._fromJsonObject(e.config);case"zoom":return k.ZoomConfigSerializer._fromJsonObject(e.config);case"telnyx":return w.TelnyxConfigSerializer._fromJsonObject(e.config);case"vapi":return _.VapiConfigSerializer._fromJsonObject(e.config);case"veriff":return x.VeriffConfigSerializer._fromJsonObject(e.config);case"airwallex":return n.AirwallexConfigSerializer._fromJsonObject(e.config);default:throw Error(`Unexpected type: ${t}`)}}(t),metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=o.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=i.AdobeSignConfigSerializer._toJsonObject(e.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":t=b.SvixConfigSerializer._toJsonObject(e.config);break;case"checkbook":t=a.CheckbookConfigSerializer._toJsonObject(e.config);break;case"docusign":t=s.DocusignConfigSerializer._toJsonObject(e.config);break;case"easypost":t=l.EasypostConfigSerializer._toJsonObject(e.config);break;case"github":t=u.GithubConfigSerializer._toJsonObject(e.config);break;case"hubspot":t=c.HubspotConfigSerializer._toJsonObject(e.config);break;case"orum-io":t=d.OrumIoConfigSerializer._toJsonObject(e.config);break;case"panda-doc":t=p.PandaDocConfigSerializer._toJsonObject(e.config);break;case"port-io":t=f.PortIoConfigSerializer._toJsonObject(e.config);break;case"rutter":t=m.RutterConfigSerializer._toJsonObject(e.config);break;case"segment":t=h.SegmentConfigSerializer._toJsonObject(e.config);break;case"shopify":t=g.ShopifyConfigSerializer._toJsonObject(e.config);break;case"slack":t=y.SlackConfigSerializer._toJsonObject(e.config);break;case"stripe":t=v.StripeConfigSerializer._toJsonObject(e.config);break;case"zoom":t=k.ZoomConfigSerializer._toJsonObject(e.config);break;case"telnyx":t=w.TelnyxConfigSerializer._toJsonObject(e.config);break;case"vapi":t=_.VapiConfigSerializer._toJsonObject(e.config);break;case"veriff":t=x.VeriffConfigSerializer._toJsonObject(e.config);break;case"airwallex":t=n.AirwallexConfigSerializer._toJsonObject(e.config)}return{type:e.type,config:t,metadata:e.metadata,name:e.name,uid:e.uid}}}},74161,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AdobeSignConfigOutSerializer=void 0,r.AdobeSignConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},75920,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AirwallexConfigOutSerializer=void 0,r.AirwallexConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},75132,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CheckbookConfigOutSerializer=void 0,r.CheckbookConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},90603,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DocusignConfigOutSerializer=void 0,r.DocusignConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},70970,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EasypostConfigOutSerializer=void 0,r.EasypostConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},87264,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GithubConfigOutSerializer=void 0,r.GithubConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},91119,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HubspotConfigOutSerializer=void 0,r.HubspotConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},95422,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrumIoConfigOutSerializer=void 0,r.OrumIoConfigOutSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},92525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PandaDocConfigOutSerializer=void 0,r.PandaDocConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},71940,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PortIoConfigOutSerializer=void 0,r.PortIoConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},81348,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RutterConfigOutSerializer=void 0,r.RutterConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},6593,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SegmentConfigOutSerializer=void 0,r.SegmentConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},25289,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ShopifyConfigOutSerializer=void 0,r.ShopifyConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},71661,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SlackConfigOutSerializer=void 0,r.SlackConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},5346,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StripeConfigOutSerializer=void 0,r.StripeConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},63272,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SvixConfigOutSerializer=void 0,r.SvixConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},68524,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TelnyxConfigOutSerializer=void 0,r.TelnyxConfigOutSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},68677,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VapiConfigOutSerializer=void 0,r.VapiConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},45527,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VeriffConfigOutSerializer=void 0,r.VeriffConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},56477,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ZoomConfigOutSerializer=void 0,r.ZoomConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},94891,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSourceOutSerializer=void 0;let i=e.r(74161),n=e.r(75920),a=e.r(75132),o=e.r(81368),s=e.r(90603),l=e.r(70970),u=e.r(87264),c=e.r(91119),d=e.r(95422),p=e.r(92525),f=e.r(71940),m=e.r(81348),h=e.r(6593),g=e.r(25289),y=e.r(71661),v=e.r(5346),b=e.r(63272),w=e.r(68524),_=e.r(68677),x=e.r(45527),k=e.r(56477);r.IngestSourceOutSerializer={_fromJsonObject(e){let t=e.type;return{type:t,config:function(t){switch(t){case"generic-webhook":return{};case"cron":return o.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return i.AdobeSignConfigOutSerializer._fromJsonObject(e.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return b.SvixConfigOutSerializer._fromJsonObject(e.config);case"checkbook":return a.CheckbookConfigOutSerializer._fromJsonObject(e.config);case"docusign":return s.DocusignConfigOutSerializer._fromJsonObject(e.config);case"easypost":return l.EasypostConfigOutSerializer._fromJsonObject(e.config);case"github":return u.GithubConfigOutSerializer._fromJsonObject(e.config);case"hubspot":return c.HubspotConfigOutSerializer._fromJsonObject(e.config);case"orum-io":return d.OrumIoConfigOutSerializer._fromJsonObject(e.config);case"panda-doc":return p.PandaDocConfigOutSerializer._fromJsonObject(e.config);case"port-io":return f.PortIoConfigOutSerializer._fromJsonObject(e.config);case"rutter":return m.RutterConfigOutSerializer._fromJsonObject(e.config);case"segment":return h.SegmentConfigOutSerializer._fromJsonObject(e.config);case"shopify":return g.ShopifyConfigOutSerializer._fromJsonObject(e.config);case"slack":return y.SlackConfigOutSerializer._fromJsonObject(e.config);case"stripe":return v.StripeConfigOutSerializer._fromJsonObject(e.config);case"zoom":return k.ZoomConfigOutSerializer._fromJsonObject(e.config);case"telnyx":return w.TelnyxConfigOutSerializer._fromJsonObject(e.config);case"vapi":return _.VapiConfigOutSerializer._fromJsonObject(e.config);case"veriff":return x.VeriffConfigOutSerializer._fromJsonObject(e.config);case"airwallex":return n.AirwallexConfigOutSerializer._fromJsonObject(e.config);default:throw Error(`Unexpected type: ${t}`)}}(t),createdAt:new Date(e.createdAt),id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=o.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=i.AdobeSignConfigOutSerializer._toJsonObject(e.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":t=b.SvixConfigOutSerializer._toJsonObject(e.config);break;case"checkbook":t=a.CheckbookConfigOutSerializer._toJsonObject(e.config);break;case"docusign":t=s.DocusignConfigOutSerializer._toJsonObject(e.config);break;case"easypost":t=l.EasypostConfigOutSerializer._toJsonObject(e.config);break;case"github":t=u.GithubConfigOutSerializer._toJsonObject(e.config);break;case"hubspot":t=c.HubspotConfigOutSerializer._toJsonObject(e.config);break;case"orum-io":t=d.OrumIoConfigOutSerializer._toJsonObject(e.config);break;case"panda-doc":t=p.PandaDocConfigOutSerializer._toJsonObject(e.config);break;case"port-io":t=f.PortIoConfigOutSerializer._toJsonObject(e.config);break;case"rutter":t=m.RutterConfigOutSerializer._toJsonObject(e.config);break;case"segment":t=h.SegmentConfigOutSerializer._toJsonObject(e.config);break;case"shopify":t=g.ShopifyConfigOutSerializer._toJsonObject(e.config);break;case"slack":t=y.SlackConfigOutSerializer._toJsonObject(e.config);break;case"stripe":t=v.StripeConfigOutSerializer._toJsonObject(e.config);break;case"zoom":t=k.ZoomConfigOutSerializer._toJsonObject(e.config);break;case"telnyx":t=w.TelnyxConfigOutSerializer._toJsonObject(e.config);break;case"vapi":t=_.VapiConfigOutSerializer._toJsonObject(e.config);break;case"veriff":t=x.VeriffConfigOutSerializer._toJsonObject(e.config);break;case"airwallex":t=n.AirwallexConfigOutSerializer._toJsonObject(e.config)}return{type:e.type,config:t,createdAt:e.createdAt,id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}},30953,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseIngestSourceOutSerializer=void 0;let i=e.r(94891);r.ListResponseIngestSourceOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.IngestSourceOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.IngestSourceOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},77122,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RotateTokenOutSerializer=void 0,r.RotateTokenOutSerializer={_fromJsonObject:e=>({ingestUrl:e.ingestUrl}),_toJsonObject:e=>({ingestUrl:e.ingestUrl})}},39987,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSource=void 0;let i=e.r(69405),n=e.r(94891),a=e.r(30953),o=e.r(77122),s=e.r(95585);r.IngestSource=class{constructor(e){this.requestCtx=e}list(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/ingest/api/v1/source");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,a.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/ingest/api/v1/source");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.IngestSourceInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.IngestSourceOutSerializer._fromJsonObject)}get(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return t.setPathParam("source_id",e),t.send(this.requestCtx,n.IngestSourceOutSerializer._fromJsonObject)}update(e,t){let r=new s.SvixRequest(s.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",e),r.setBody(i.IngestSourceInSerializer._toJsonObject(t)),r.send(this.requestCtx,n.IngestSourceOutSerializer._fromJsonObject)}delete(e){let t=new s.SvixRequest(s.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return t.setPathParam("source_id",e),t.sendNoResponseBody(this.requestCtx)}rotateToken(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return r.setPathParam("source_id",e),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.send(this.requestCtx,o.RotateTokenOutSerializer._fromJsonObject)}}},22988,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Ingest=void 0;let i=e.r(23975),n=e.r(75799),a=e.r(10935),o=e.r(39987),s=e.r(95585);r.Ingest=class{constructor(e){this.requestCtx=e}get endpoint(){return new a.IngestEndpoint(this.requestCtx)}get source(){return new o.IngestSource(this.requestCtx)}dashboard(e,t,r){let a=new s.SvixRequest(s.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return a.setPathParam("source_id",e),a.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),a.setBody(n.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(t)),a.send(this.requestCtx,i.DashboardAccessOutSerializer._fromJsonObject)}}},95405,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationInSerializer=void 0,r.IntegrationInSerializer={_fromJsonObject:e=>({featureFlags:e.featureFlags,name:e.name}),_toJsonObject:e=>({featureFlags:e.featureFlags,name:e.name})}},92755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationKeyOutSerializer=void 0,r.IntegrationKeyOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},6347,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationOutSerializer=void 0,r.IntegrationOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:e.updatedAt})}},82958,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationUpdateSerializer=void 0,r.IntegrationUpdateSerializer={_fromJsonObject:e=>({featureFlags:e.featureFlags,name:e.name}),_toJsonObject:e=>({featureFlags:e.featureFlags,name:e.name})}},74401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseIntegrationOutSerializer=void 0;let i=e.r(6347);r.ListResponseIntegrationOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.IntegrationOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.IntegrationOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},41813,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Integration=void 0;let i=e.r(95405),n=e.r(92755),a=e.r(6347),o=e.r(82958),s=e.r(74401),l=e.r(95585);r.Integration=class{constructor(e){this.requestCtx=e}list(e,t){let r=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return r.setPathParam("app_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("order",null==t?void 0:t.order),r.send(this.requestCtx,s.ListResponseIntegrationOutSerializer._fromJsonObject)}create(e,t,r){let n=new l.SvixRequest(l.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return n.setPathParam("app_id",e),n.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),n.setBody(i.IntegrationInSerializer._toJsonObject(t)),n.send(this.requestCtx,a.IntegrationOutSerializer._fromJsonObject)}get(e,t){let r=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return r.setPathParam("app_id",e),r.setPathParam("integ_id",t),r.send(this.requestCtx,a.IntegrationOutSerializer._fromJsonObject)}update(e,t,r){let i=new l.SvixRequest(l.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return i.setPathParam("app_id",e),i.setPathParam("integ_id",t),i.setBody(o.IntegrationUpdateSerializer._toJsonObject(r)),i.send(this.requestCtx,a.IntegrationOutSerializer._fromJsonObject)}delete(e,t){let r=new l.SvixRequest(l.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return r.setPathParam("app_id",e),r.setPathParam("integ_id",t),r.sendNoResponseBody(this.requestCtx)}getKey(e,t){let r=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return r.setPathParam("app_id",e),r.setPathParam("integ_id",t),r.send(this.requestCtx,n.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(e,t,r){let i=new l.SvixRequest(l.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return i.setPathParam("app_id",e),i.setPathParam("integ_id",t),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.send(this.requestCtx,n.IntegrationKeyOutSerializer._fromJsonObject)}}},43580,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExpungeAllContentsOutSerializer=void 0;let i=e.r(1577),n=e.r(44081);r.ExpungeAllContentsOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},64056,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseMessageOutSerializer=void 0;let i=e.r(36094);r.ListResponseMessageOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.MessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.MessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},80720,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointConsumerSeekInSerializer=void 0,r.PollingEndpointConsumerSeekInSerializer={_fromJsonObject:e=>({after:new Date(e.after)}),_toJsonObject:e=>({after:e.after})}},54405,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointConsumerSeekOutSerializer=void 0,r.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject:e=>({iterator:e.iterator}),_toJsonObject:e=>({iterator:e.iterator})}},51975,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointMessageOutSerializer=void 0,r.PollingEndpointMessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp})}},19515,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointOutSerializer=void 0;let i=e.r(51975);r.PollingEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.PollingEndpointMessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator}),_toJsonObject:e=>({data:e.data.map(e=>i.PollingEndpointMessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator})}},92411,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessagePoller=void 0;let i=e.r(80720),n=e.r(54405),a=e.r(19515),o=e.r(95585);r.MessagePoller=class{constructor(e){this.requestCtx=e}poll(e,t,r){let i=new o.SvixRequest(o.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return i.setPathParam("app_id",e),i.setPathParam("sink_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.setQueryParam("event_type",null==r?void 0:r.eventType),i.setQueryParam("channel",null==r?void 0:r.channel),i.setQueryParam("after",null==r?void 0:r.after),i.send(this.requestCtx,a.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(e,t,r,i){let n=new o.SvixRequest(o.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return n.setPathParam("app_id",e),n.setPathParam("sink_id",t),n.setPathParam("consumer_id",r),n.setQueryParam("limit",null==i?void 0:i.limit),n.setQueryParam("iterator",null==i?void 0:i.iterator),n.send(this.requestCtx,a.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(e,t,r,a,s){let l=new o.SvixRequest(o.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return l.setPathParam("app_id",e),l.setPathParam("sink_id",t),l.setPathParam("consumer_id",r),l.setHeaderParam("idempotency-key",null==s?void 0:s.idempotencyKey),l.setBody(i.PollingEndpointConsumerSeekInSerializer._toJsonObject(a)),l.send(this.requestCtx,n.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}}},16572,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageInSerializer=void 0;let i=e.r(63344);r.MessageInSerializer={_fromJsonObject:e=>({application:e.application?i.ApplicationInSerializer._fromJsonObject(e.application):void 0,channels:e.channels,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}),_toJsonObject:e=>({application:e.application?i.ApplicationInSerializer._toJsonObject(e.application):void 0,channels:e.channels,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams})}},55114,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.messageInRaw=r.Message=void 0;let i=e.r(43580),n=e.r(64056),a=e.r(36094),o=e.r(92411),s=e.r(95585),l=e.r(16572);r.Message=class{constructor(e){this.requestCtx=e}get poller(){return new o.MessagePoller(this.requestCtx)}list(e,t){let r=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return r.setPathParam("app_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("channel",null==t?void 0:t.channel),r.setQueryParam("before",null==t?void 0:t.before),r.setQueryParam("after",null==t?void 0:t.after),r.setQueryParam("with_content",null==t?void 0:t.withContent),r.setQueryParam("tag",null==t?void 0:t.tag),r.setQueryParam("event_types",null==t?void 0:t.eventTypes),r.send(this.requestCtx,n.ListResponseMessageOutSerializer._fromJsonObject)}create(e,t,r){let i=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return i.setPathParam("app_id",e),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(l.MessageInSerializer._toJsonObject(t)),i.send(this.requestCtx,a.MessageOutSerializer._fromJsonObject)}expungeAllContents(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return r.setPathParam("app_id",e),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.send(this.requestCtx,i.ExpungeAllContentsOutSerializer._fromJsonObject)}get(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.send(this.requestCtx,a.MessageOutSerializer._fromJsonObject)}expungeContent(e,t){let r=new s.SvixRequest(s.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return r.setPathParam("app_id",e),r.setPathParam("msg_id",t),r.sendNoResponseBody(this.requestCtx)}},r.messageInRaw=function(e,t,r){return{eventType:e,payload:{},transformationsParams:{rawPayload:t,headers:r?{"content-type":r}:void 0}}}},6156,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageStatusSerializer=r.MessageStatus=void 0,function(e){e[e.Success=0]="Success",e[e.Pending=1]="Pending",e[e.Fail=2]="Fail",e[e.Sending=3]="Sending"}(r.MessageStatus||(r.MessageStatus={})),r.MessageStatusSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},43105,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageStatusTextSerializer=r.MessageStatusText=void 0,function(e){e.Success="success",e.Pending="pending",e.Fail="fail",e.Sending="sending"}(r.MessageStatusText||(r.MessageStatusText={})),r.MessageStatusTextSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},76581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointMessageOutSerializer=void 0;let i=e.r(6156),n=e.r(43105);r.EndpointMessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,payload:e.payload,status:i.MessageStatusSerializer._fromJsonObject(e.status),statusText:n.MessageStatusTextSerializer._fromJsonObject(e.statusText),tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt,payload:e.payload,status:i.MessageStatusSerializer._toJsonObject(e.status),statusText:n.MessageStatusTextSerializer._toJsonObject(e.statusText),tags:e.tags,timestamp:e.timestamp})}},81494,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseEndpointMessageOutSerializer=void 0;let i=e.r(76581);r.ListResponseEndpointMessageOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.EndpointMessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.EndpointMessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},71178,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageAttemptTriggerTypeSerializer=r.MessageAttemptTriggerType=void 0,function(e){e[e.Scheduled=0]="Scheduled",e[e.Manual=1]="Manual"}(r.MessageAttemptTriggerType||(r.MessageAttemptTriggerType={})),r.MessageAttemptTriggerTypeSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},86547,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageAttemptOutSerializer=void 0;let i=e.r(71178),n=e.r(36094),a=e.r(6156),o=e.r(43105);r.MessageAttemptOutSerializer={_fromJsonObject:e=>({endpointId:e.endpointId,id:e.id,msg:e.msg?n.MessageOutSerializer._fromJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:a.MessageStatusSerializer._fromJsonObject(e.status),statusText:o.MessageStatusTextSerializer._fromJsonObject(e.statusText),timestamp:new Date(e.timestamp),triggerType:i.MessageAttemptTriggerTypeSerializer._fromJsonObject(e.triggerType),url:e.url}),_toJsonObject:e=>({endpointId:e.endpointId,id:e.id,msg:e.msg?n.MessageOutSerializer._toJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:a.MessageStatusSerializer._toJsonObject(e.status),statusText:o.MessageStatusTextSerializer._toJsonObject(e.statusText),timestamp:e.timestamp,triggerType:i.MessageAttemptTriggerTypeSerializer._toJsonObject(e.triggerType),url:e.url})}},56092,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseMessageAttemptOutSerializer=void 0;let i=e.r(86547);r.ListResponseMessageAttemptOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.MessageAttemptOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.MessageAttemptOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},57198,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageEndpointOutSerializer=void 0;let i=e.r(6156),n=e.r(43105);r.MessageEndpointOutSerializer={_fromJsonObject:e=>({channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,rateLimit:e.rateLimit,status:i.MessageStatusSerializer._fromJsonObject(e.status),statusText:n.MessageStatusTextSerializer._fromJsonObject(e.statusText),uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt,rateLimit:e.rateLimit,status:i.MessageStatusSerializer._toJsonObject(e.status),statusText:n.MessageStatusTextSerializer._toJsonObject(e.statusText),uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version})}},85010,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseMessageEndpointOutSerializer=void 0;let i=e.r(57198);r.ListResponseMessageEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.MessageEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.MessageEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},23145,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageAttempt=void 0;let i=e.r(81494),n=e.r(56092),a=e.r(85010),o=e.r(86547),s=e.r(95585);r.MessageAttempt=class{constructor(e){this.requestCtx=e}listByEndpoint(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.setQueryParam("status",null==r?void 0:r.status),i.setQueryParam("status_code_class",null==r?void 0:r.statusCodeClass),i.setQueryParam("channel",null==r?void 0:r.channel),i.setQueryParam("tag",null==r?void 0:r.tag),i.setQueryParam("before",null==r?void 0:r.before),i.setQueryParam("after",null==r?void 0:r.after),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.setQueryParam("with_msg",null==r?void 0:r.withMsg),i.setQueryParam("event_types",null==r?void 0:r.eventTypes),i.send(this.requestCtx,n.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.setQueryParam("status",null==r?void 0:r.status),i.setQueryParam("status_code_class",null==r?void 0:r.statusCodeClass),i.setQueryParam("channel",null==r?void 0:r.channel),i.setQueryParam("tag",null==r?void 0:r.tag),i.setQueryParam("endpoint_id",null==r?void 0:r.endpointId),i.setQueryParam("before",null==r?void 0:r.before),i.setQueryParam("after",null==r?void 0:r.after),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.setQueryParam("event_types",null==r?void 0:r.eventTypes),i.send(this.requestCtx,n.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(e,t,r){let n=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setQueryParam("limit",null==r?void 0:r.limit),n.setQueryParam("iterator",null==r?void 0:r.iterator),n.setQueryParam("channel",null==r?void 0:r.channel),n.setQueryParam("tag",null==r?void 0:r.tag),n.setQueryParam("status",null==r?void 0:r.status),n.setQueryParam("before",null==r?void 0:r.before),n.setQueryParam("after",null==r?void 0:r.after),n.setQueryParam("with_content",null==r?void 0:r.withContent),n.setQueryParam("event_types",null==r?void 0:r.eventTypes),n.send(this.requestCtx,i.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setPathParam("attempt_id",r),i.send(this.requestCtx,o.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(e,t,r){let i=new s.SvixRequest(s.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setPathParam("attempt_id",r),i.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.send(this.requestCtx,a.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(e,t,r,i){let n=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return n.setPathParam("app_id",e),n.setPathParam("msg_id",t),n.setPathParam("endpoint_id",r),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.sendNoResponseBody(this.requestCtx)}}},78268,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointOutSerializer=void 0,r.OperationalWebhookEndpointOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url})}},17869,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseOperationalWebhookEndpointOutSerializer=void 0;let i=e.r(78268);r.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.OperationalWebhookEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.OperationalWebhookEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},75092,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointHeadersInSerializer=void 0,r.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})}},87412,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointHeadersOutSerializer=void 0,r.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})}},79261,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointInSerializer=void 0,r.OperationalWebhookEndpointInSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url})}},67908,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointSecretInSerializer=void 0,r.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},83208,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointSecretOutSerializer=void 0,r.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},39514,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointUpdateSerializer=void 0,r.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url})}},79732,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpoint=void 0;let i=e.r(17869),n=e.r(75092),a=e.r(87412),o=e.r(79261),s=e.r(78268),l=e.r(67908),u=e.r(83208),c=e.r(39514),d=e.r(95585);r.OperationalWebhookEndpoint=class{constructor(e){this.requestCtx=e}list(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,i.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(e,t){let r=new d.SvixRequest(d.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(o.OperationalWebhookEndpointInSerializer._toJsonObject(e)),r.send(this.requestCtx,s.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,s.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(e,t){let r=new d.SvixRequest(d.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",e),r.setBody(c.OperationalWebhookEndpointUpdateSerializer._toJsonObject(t)),r.send(this.requestCtx,s.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(e){let t=new d.SvixRequest(d.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return t.setPathParam("endpoint_id",e),t.sendNoResponseBody(this.requestCtx)}getHeaders(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,a.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t){let r=new d.SvixRequest(d.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return r.setPathParam("endpoint_id",e),r.setBody(n.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(t)),r.sendNoResponseBody(this.requestCtx)}getSecret(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,u.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,r){let i=new d.SvixRequest(d.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("endpoint_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(l.OperationalWebhookEndpointSecretInSerializer._toJsonObject(t)),i.sendNoResponseBody(this.requestCtx)}}},21002,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhook=void 0;let i=e.r(79732);r.OperationalWebhook=class{constructor(e){this.requestCtx=e}get endpoint(){return new i.OperationalWebhookEndpoint(this.requestCtx)}}},4593,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AggregateEventTypesOutSerializer=void 0;let i=e.r(1577),n=e.r(44081);r.AggregateEventTypesOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},45403,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppUsageStatsInSerializer=void 0,r.AppUsageStatsInSerializer={_fromJsonObject:e=>({appIds:e.appIds,since:new Date(e.since),until:new Date(e.until)}),_toJsonObject:e=>({appIds:e.appIds,since:e.since,until:e.until})}},7360,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppUsageStatsOutSerializer=void 0;let i=e.r(1577),n=e.r(44081);r.AppUsageStatsOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds})}},9821,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Statistics=void 0;let i=e.r(4593),n=e.r(45403),a=e.r(7360),o=e.r(95585);r.Statistics=class{constructor(e){this.requestCtx=e}aggregateAppStats(e,t){let r=new o.SvixRequest(o.HttpMethod.POST,"/api/v1/stats/usage/app");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(n.AppUsageStatsInSerializer._toJsonObject(e)),r.send(this.requestCtx,a.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new o.SvixRequest(o.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,i.AggregateEventTypesOutSerializer._fromJsonObject)}}},63279,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HTTPValidationError=r.ValidationError=r.HttpErrorOut=void 0;class i{static getAttributeTypeMap(){return i.attributeTypeMap}}r.HttpErrorOut=i,i.discriminator=void 0,i.mapping=void 0,i.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];class n{static getAttributeTypeMap(){return n.attributeTypeMap}}r.ValidationError=n,n.discriminator=void 0,n.mapping=void 0,n.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];class a{static getAttributeTypeMap(){return a.attributeTypeMap}}r.HTTPValidationError=a,a.discriminator=void 0,a.mapping=void 0,a.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}]},8882,(e,t,r)=>{"use strict";function i(e,t=""){if(!e)throw Error(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.timingSafeEqual=void 0,r.timingSafeEqual=function(e,t){if(e.byteLength!==t.byteLength)return!1;e instanceof DataView||(e=new DataView(ArrayBuffer.isView(e)?e.buffer:e)),t instanceof DataView||(t=new DataView(ArrayBuffer.isView(t)?t.buffer:t)),i(e instanceof DataView),i(t instanceof DataView);let r=e.byteLength,n=0,a=-1;for(;++a<r;)n|=e.getUint8(a)^t.getUint8(a);return 0===n}},8738,(e,t,r)=>{"use strict";var i=e.e&&e.e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",r=0;r<e.length-2;r+=3){var i=e[r]<<16|e[r+1]<<8|e[r+2];t+=this._encodeByte(i>>>18&63),t+=this._encodeByte(i>>>12&63),t+=this._encodeByte(i>>>6&63),t+=this._encodeByte(i>>>0&63)}var n=e.length-r;if(n>0){var i=e[r]<<16|(2===n?e[r+1]<<8:0);t+=this._encodeByte(i>>>18&63),t+=this._encodeByte(i>>>12&63),2===n?t+=this._encodeByte(i>>>6&63):t+=this._paddingCharacter||"",t+=this._paddingCharacter||""}return t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),r=e.length-t,i=new Uint8Array(this.maxDecodedLength(r)),n=0,a=0,o=0,s=0,l=0,u=0,c=0;a<r-4;a+=4)s=this._decodeChar(e.charCodeAt(a+0)),l=this._decodeChar(e.charCodeAt(a+1)),u=this._decodeChar(e.charCodeAt(a+2)),c=this._decodeChar(e.charCodeAt(a+3)),i[n++]=s<<2|l>>>4,i[n++]=l<<4|u>>>2,i[n++]=u<<6|c,o|=256&s,o|=256&l,o|=256&u,o|=256&c;if(a<r-1&&(s=this._decodeChar(e.charCodeAt(a)),l=this._decodeChar(e.charCodeAt(a+1)),i[n++]=s<<2|l>>>4,o|=256&s,o|=256&l),a<r-2&&(u=this._decodeChar(e.charCodeAt(a+2)),i[n++]=l<<4|u>>>2,o|=256&u),a<r-3&&(c=this._decodeChar(e.charCodeAt(a+3)),i[n++]=u<<6|c,o|=256&c),0!==o)throw Error("Base64Coder: incorrect characters for decoding");return i},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,String.fromCharCode(t+=62-e>>>8&3)},e.prototype._decodeChar=function(e){return 256+((42-e&e-44)>>>8&-256+e-43+62)+((46-e&e-48)>>>8&-256+e-47+63)+((47-e&e-58)>>>8&-256+e-48+52)+((64-e&e-91)>>>8&-256+e-65+0)+((96-e&e-123)>>>8&-256+e-97+26)},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var r=e.length-1;r>=0&&e[r]===this._paddingCharacter;r--)t++;if(e.length<4||t>2)throw Error("Base64Coder: incorrect padding")}return t},e}();r.Coder=n;var a=new n;r.encode=function(e){return a.encode(e)},r.decode=function(e){return a.decode(e)};var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,String.fromCharCode(t+=62-e>>>8&49)},t.prototype._decodeChar=function(e){return 256+((44-e&e-46)>>>8&-256+e-45+62)+((94-e&e-96)>>>8&-256+e-95+63)+((47-e&e-58)>>>8&-256+e-48+52)+((64-e&e-91)>>>8&-256+e-65+0)+((96-e&e-123)>>>8&-256+e-97+26)},t}(n);r.URLSafeCoder=o;var s=new o;r.encodeURLSafe=function(e){return s.encode(e)},r.decodeURLSafe=function(e){return s.decode(e)},r.encodedLength=function(e){return a.encodedLength(e)},r.maxDecodedLength=function(e){return a.maxDecodedLength(e)},r.decodedLength=function(e){return a.decodedLength(e)}},95345,(e,t,r)=>{!function(r,i){var n={};i(n);var a=n.default;for(var o in n)a[o]=n[o];if("object"==typeof t.exports)t.exports=a;else if("function"==typeof define&&define.amd)e.r,void 0!==a&&e.v(a);else r.sha256=a}(e.e,function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]);function r(e,r,i,n,a){for(var o,s,l,u,c,d,p,f,m,h,g,y,v;a>=64;){for(h=0,o=r[0],s=r[1],l=r[2],u=r[3],c=r[4],d=r[5],p=r[6],f=r[7];h<16;h++)g=n+4*h,e[h]=(255&i[g])<<24|(255&i[g+1])<<16|(255&i[g+2])<<8|255&i[g+3];for(h=16;h<64;h++)y=((m=e[h-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,v=((m=e[h-15])>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,e[h]=(y+e[h-7]|0)+(v+e[h-16]|0);for(h=0;h<64;h++)y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&p)|0)+(f+(t[h]+e[h]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&l^s&l)|0,f=p,p=d,d=c,c=u+y|0,u=l,l=s,s=o,o=y+v|0;r[0]+=o,r[1]+=s,r[2]+=l,r[3]+=u,r[4]+=c,r[5]+=d,r[6]+=p,r[7]+=f,n+=64,a-=64}return n}var i=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=0x6a09e667,this.state[1]=0xbb67ae85,this.state[2]=0x3c6ef372,this.state[3]=0xa54ff53a,this.state[4]=0x510e527f,this.state[5]=0x9b05688c,this.state[6]=0x1f83d9ab,this.state[7]=0x5be0cd19,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(var e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw Error("SHA256: can't update because hash was finished.");var i=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[i++],t--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(i=r(this.temp,this.state,e,i,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[i++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,i=this.bufferLength,n=t/0x20000000|0,a=t<<3,o=t%64<56?64:128;this.buffer[i]=128;for(var s=i+1;s<o-8;s++)this.buffer[s]=0;this.buffer[o-8]=n>>>24&255,this.buffer[o-7]=n>>>16&255,this.buffer[o-6]=n>>>8&255,this.buffer[o-5]=n>>>0&255,this.buffer[o-4]=a>>>24&255,this.buffer[o-3]=a>>>16&255,this.buffer[o-2]=a>>>8&255,this.buffer[o-1]=a>>>0&255,r(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(var s=0;s<8;s++)e[4*s+0]=this.state[s]>>>24&255,e[4*s+1]=this.state[s]>>>16&255,e[4*s+2]=this.state[s]>>>8&255,e[4*s+3]=this.state[s]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=i;var n=function(){function e(e){this.inner=new i,this.outer=new i,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)new i().update(e).finish(t).clean();else for(var r=0;r<e.length;r++)t[r]=e[r];for(var r=0;r<t.length;r++)t[r]^=54;this.inner.update(t);for(var r=0;r<t.length;r++)t[r]^=106;this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var r=0;r<t.length;r++)t[r]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function a(e){var t=new i().update(e),r=t.digest();return t.clean(),r}function o(e,t){var r=new n(e).update(t),i=r.digest();return r.clean(),i}e.HMAC=n,e.hash=a,e.default=a,e.hmac=o;var s=new Uint8Array(e.digestLength);e.hkdf=function(e,t,r,i){void 0===t&&(t=s),void 0===i&&(i=32);for(var a=new Uint8Array([1]),l=new n(o(t,e)),u=new Uint8Array(l.digestLength),c=u.length,d=new Uint8Array(i),p=0;p<i;p++)c===u.length&&(!function(e,t,r,i){var n=i[0];if(0===n)throw Error("hkdf: cannot expand more");t.reset(),n>1&&t.update(e),r&&t.update(r),t.update(i),t.finish(e),i[0]++}(u,l,r,a),c=0),d[p]=u[c++];return l.clean(),u.fill(0),a.fill(0),d},e.pbkdf2=function(e,t,r,i){for(var a=new n(e),o=a.digestLength,s=new Uint8Array(4),l=new Uint8Array(o),u=new Uint8Array(o),c=new Uint8Array(i),d=0;d*o<i;d++){var p=d+1;s[0]=p>>>24&255,s[1]=p>>>16&255,s[2]=p>>>8&255,s[3]=p>>>0&255,a.reset(),a.update(t),a.update(s),a.finish(u);for(var f=0;f<o;f++)l[f]=u[f];for(var f=2;f<=r;f++){a.reset(),a.update(u).finish(u);for(var m=0;m<o;m++)l[m]^=u[m]}for(var f=0;f<o&&d*o+f<i;f++)c[d*o+f]=l[f]}for(var d=0;d<o;d++)l[d]=u[d]=0;for(var d=0;d<4;d++)s[d]=0;return a.clean(),c}})},69472,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Webhook=r.WebhookVerificationError=void 0;let i=e.r(8882),n=e.r(8738),a=e.r(95345);class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype),this.name="ExtendableError",this.stack=Error(e).stack}}class s extends o{constructor(e){super(e),Object.setPrototypeOf(this,s.prototype),this.name="WebhookVerificationError"}}r.WebhookVerificationError=s;class l{constructor(e,t){if(!e)throw Error("Secret can't be empty.");if((null==t?void 0:t.format)==="raw")e instanceof Uint8Array?this.key=e:this.key=Uint8Array.from(e,e=>e.charCodeAt(0));else{if("string"!=typeof e)throw Error("Expected secret to be of type string");e.startsWith(l.prefix)&&(e=e.substring(l.prefix.length)),this.key=n.decode(e)}}verify(e,t){let r={};for(let e of Object.keys(t))r[e.toLowerCase()]=t[e];let n=r["svix-id"],a=r["svix-signature"],o=r["svix-timestamp"];if((!a||!n||!o)&&(n=r["webhook-id"],a=r["webhook-signature"],o=r["webhook-timestamp"],!a||!n||!o))throw new s("Missing required headers");let l=this.verifyTimestamp(o),u=this.sign(n,l,e).split(",")[1],c=a.split(" "),d=new globalThis.TextEncoder;for(let t of c){let[r,n]=t.split(",");if("v1"===r&&(0,i.timingSafeEqual)(d.encode(n),d.encode(u)))return JSON.parse(e.toString())}throw new s("No matching signature found")}sign(e,t,r){if("string"==typeof r);else if("Buffer"===r.constructor.name)r=r.toString();else throw Error("Expected payload to be of type string or Buffer. Please refer to https://docs.svix.com/receiving/verifying-payloads/how for more information.");let i=new TextEncoder,o=Math.floor(t.getTime()/1e3),s=i.encode(`${e}.${o}.${r}`),l=n.encode(a.hmac(this.key,s));return`v1,${l}`}verifyTimestamp(e){let t=Math.floor(Date.now()/1e3),r=parseInt(e,10);if(isNaN(r))throw new s("Invalid Signature Headers");if(t-r>300)throw new s("Message timestamp too old");if(r>t+300)throw new s("Message timestamp too new");return new Date(1e3*r)}}r.Webhook=l,l.prefix="whsec_"},39636,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointDisabledTriggerSerializer=r.EndpointDisabledTrigger=void 0,function(e){e.Manual="manual",e.Automatic="automatic"}(r.EndpointDisabledTrigger||(r.EndpointDisabledTrigger={})),r.EndpointDisabledTriggerSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},78353,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrderingSerializer=r.Ordering=void 0,function(e){e.Ascending="ascending",e.Descending="descending"}(r.Ordering||(r.Ordering={})),r.OrderingSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},29405,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StatusCodeClassSerializer=r.StatusCodeClass=void 0,function(e){e[e.CodeNone=0]="CodeNone",e[e.Code1xx=100]="Code1xx",e[e.Code2xx=200]="Code2xx",e[e.Code3xx=300]="Code3xx",e[e.Code4xx=400]="Code4xx",e[e.Code5xx=500]="Code5xx"}(r.StatusCodeClass||(r.StatusCodeClass={})),r.StatusCodeClassSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},52561,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StatusCodeClass=r.Ordering=r.MessageStatusText=r.MessageStatus=r.MessageAttemptTriggerType=r.EndpointDisabledTrigger=r.ConnectorKind=r.BackgroundTaskType=r.BackgroundTaskStatus=r.AppPortalCapability=void 0;var i=e.r(93814);Object.defineProperty(r,"AppPortalCapability",{enumerable:!0,get:function(){return i.AppPortalCapability}});var n=e.r(1577);Object.defineProperty(r,"BackgroundTaskStatus",{enumerable:!0,get:function(){return n.BackgroundTaskStatus}});var a=e.r(44081);Object.defineProperty(r,"BackgroundTaskType",{enumerable:!0,get:function(){return a.BackgroundTaskType}});var o=e.r(1722);Object.defineProperty(r,"ConnectorKind",{enumerable:!0,get:function(){return o.ConnectorKind}});var s=e.r(39636);Object.defineProperty(r,"EndpointDisabledTrigger",{enumerable:!0,get:function(){return s.EndpointDisabledTrigger}});var l=e.r(71178);Object.defineProperty(r,"MessageAttemptTriggerType",{enumerable:!0,get:function(){return l.MessageAttemptTriggerType}});var u=e.r(6156);Object.defineProperty(r,"MessageStatus",{enumerable:!0,get:function(){return u.MessageStatus}});var c=e.r(43105);Object.defineProperty(r,"MessageStatusText",{enumerable:!0,get:function(){return c.MessageStatusText}});var d=e.r(78353);Object.defineProperty(r,"Ordering",{enumerable:!0,get:function(){return d.Ordering}});var p=e.r(29405);Object.defineProperty(r,"StatusCodeClass",{enumerable:!0,get:function(){return p.StatusCodeClass}})},5244,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.Svix=r.messageInRaw=r.ValidationError=r.HttpErrorOut=r.HTTPValidationError=r.ApiException=void 0;let a=e.r(97362),o=e.r(68170),s=e.r(76436),l=e.r(72137),u=e.r(56111),c=e.r(92497),d=e.r(50154),p=e.r(22988),f=e.r(41813),m=e.r(55114),h=e.r(23145),g=e.r(21002),y=e.r(9821),v=e.r(79732);var b=e.r(94598);Object.defineProperty(r,"ApiException",{enumerable:!0,get:function(){return b.ApiException}});var w=e.r(63279);Object.defineProperty(r,"HTTPValidationError",{enumerable:!0,get:function(){return w.HTTPValidationError}}),Object.defineProperty(r,"HttpErrorOut",{enumerable:!0,get:function(){return w.HttpErrorOut}}),Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return w.ValidationError}}),n(e.r(69472),r),n(e.r(52561),r);var _=e.r(55114);Object.defineProperty(r,"messageInRaw",{enumerable:!0,get:function(){return _.messageInRaw}});let x=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}];r.Svix=class{constructor(e,t={}){var r,i,n;let a=null==(r=x.find(t=>t.region===e.split(".")[1]))?void 0:r.url,o=null!=(n=null!=(i=t.serverUrl)?i:a)?n:"https://api.svix.com";if(t.retryScheduleInMs){this.requestCtx={baseUrl:o,token:e,timeout:t.requestTimeout,retryScheduleInMs:t.retryScheduleInMs};return}if(t.numRetries){this.requestCtx={baseUrl:o,token:e,timeout:t.requestTimeout,numRetries:t.numRetries};return}this.requestCtx={baseUrl:o,token:e,timeout:t.requestTimeout}}get application(){return new a.Application(this.requestCtx)}get authentication(){return new o.Authentication(this.requestCtx)}get backgroundTask(){return new s.BackgroundTask(this.requestCtx)}get endpoint(){return new l.Endpoint(this.requestCtx)}get environment(){return new u.Environment(this.requestCtx)}get eventType(){return new c.EventType(this.requestCtx)}get health(){return new d.Health(this.requestCtx)}get ingest(){return new p.Ingest(this.requestCtx)}get integration(){return new f.Integration(this.requestCtx)}get message(){return new m.Message(this.requestCtx)}get messageAttempt(){return new h.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new g.OperationalWebhook(this.requestCtx)}get statistics(){return new y.Statistics(this.requestCtx)}get operationalWebhookEndpoint(){return new v.OperationalWebhookEndpoint(this.requestCtx)}}},96201,e=>{"use strict";let t,r,i,n,a;e.s(["handler",()=>wW,"patchFetch",()=>wH,"routeModule",()=>wJ,"serverHooks",()=>wB,"workAsyncStorage",()=>wF,"workUnitAsyncStorage",()=>wZ],96201);var o,s=e.i(78416),l=e.i(82847),u=e.i(11197),c=e.i(33997),d=e.i(36057),p=e.i(81683),f=e.i(95182),m=e.i(15329),h=e.i(64788),g=e.i(15234),y=e.i(33636),v=e.i(65579),b=e.i(43664),w=e.i(42560),_=e.i(93695);e.i(57382);var x=e.i(2777);function k(){let e="undefined"!=typeof globalThis&&globalThis.crypto;if(e&&"object"==typeof e.subtle&&null!=e.subtle)return e.subtle;throw Error("crypto.subtle must be defined")}e.s(["GET",()=>wq,"POST",()=>wM],42687);let S=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function O(){return{root:{key:""},static:new S}}function E(e){return e.split("/").filter(Boolean)}function I(e,t){let r=new S;for(let[i,n]of t){let t=i<0?e.slice(-1*i).join("/"):e[i];if("string"==typeof n)r[n]=t;else{let e=t.match(n);if(e)for(let t in e.groups)r[t]=e.groups[t]}}return r}function T(e,t="",r,i){let n=E(r),a=e.root,o=0,s=[];for(let e=0;e<n.length;e++){let t=n[e];if(t.startsWith("**")){a.wildcard||(a.wildcard={key:"**"}),a=a.wildcard,s.push([-e,t.split(":")[1]||"_",2===t.length]);break}if("*"===t||t.includes(":")){a.param||(a.param={key:"*"}),a=a.param;let r="*"===t;s.push([e,r?`_${o++}`:function(e){if(!e.includes(":",1))return e.slice(1);let t=e.replace(/:(\w+)/g,(e,t)=>`(?<${t}>\\w+)`);return RegExp(`^${t}$`)}(t),r]);continue}let r=a.static?.[t];if(r)a=r;else{let e={key:t};a.static||(a.static=new S),a.static[t]=e,a=e}}let l=s.length>0;a.methods||(a.methods=new S),a.methods[t]||(a.methods[t]=[]),a.methods[t].push({data:i||null,paramsMap:l?s:void 0}),l||(e.static[r]=a)}var $=Object.defineProperty,A={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511},P=function(e,t){class r extends e{#t;constructor(...e){if(function(){let e=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===e?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(e,"writable")?e.writable:void 0!==e.set}()){let t=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...e),Error.stackTraceLimit=t}else super(...e);let t=Error().stack;t&&(this.#t=function(e){let t=e.split("\n    at ");return t.length<=1?e:(t.splice(1,1),t.join("\n    at "))}(t.replace(/^Error/,this.name)))}get errorStack(){return this.#t}}return Object.defineProperty(r.prototype,"constructor",{get:()=>t,enumerable:!1,configurable:!0}),r}(class extends Error{constructor(e="INTERNAL_SERVER_ERROR",t,r={},i="number"==typeof e?e:A[e]){super(t?.message,t?.cause?{cause:t.cause}:void 0),this.status=e,this.body=t,this.headers=r,this.statusCode=i,this.name="APIError",this.status=e,this.headers=r,this.statusCode=i,this.body=t?{code:t?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...t}:void 0}},Error);async function j(e){let t=e.headers.get("content-type")||"";if(e.body){if(t.includes("application/json"))return await e.json();if(t.includes("application/x-www-form-urlencoded")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e.toString()}),r}if(t.includes("multipart/form-data")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e}),r}return t.includes("text/plain")?await e.text():t.includes("application/octet-stream")?await e.arrayBuffer():t.includes("application/pdf")||t.includes("image/")||t.includes("video/")?await e.blob():t.includes("application/stream")||e.body instanceof ReadableStream?e.body:await e.text()}}function R(e){return e instanceof P||e?.name==="APIError"}function N(e,t){if(e instanceof Response)return t?.headers instanceof Headers&&t.headers.forEach((t,r)=>{e.headers.set(r,t)}),e;if(e&&"object"==typeof e&&"_flag"in e&&"json"===e._flag){let r=e.body,i=e.routerResponse;if(i instanceof Response)return i;let n=new Headers({...i?.headers,...e.headers,...t?.headers,"Content-Type":"application/json"});return new Response(JSON.stringify(r),{...i,headers:n,status:e.status??t?.status??i?.status,statusText:t?.statusText??i?.statusText})}if(R(e))return N(e.body,{status:t?.status??e.statusCode,statusText:e.status.toString(),headers:t?.headers||e.headers});let r=e,i=new Headers(t?.headers);return e?"string"==typeof e?(r=e,i.set("Content-Type","text/plain")):e instanceof ArrayBuffer||ArrayBuffer.isView(e)?(r=e,i.set("Content-Type","application/octet-stream")):e instanceof Blob?(r=e,i.set("Content-Type",e.type||"application/octet-stream")):e instanceof FormData?r=e:e instanceof URLSearchParams?(r=e,i.set("Content-Type","application/x-www-form-urlencoded")):e instanceof ReadableStream?(r=e,i.set("Content-Type","application/octet-stream")):function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(e)&&(r=function(e,t,r){let i=0,n=new WeakMap;return JSON.stringify(e,(e,t)=>{if("bigint"==typeof t)return t.toString();if("object"==typeof t&&null!==t){if(n.has(t))return`[Circular ref-${n.get(t)}]`;n.set(t,i++)}return t},void 0)}(e),i.set("Content-Type","application/json")):(null===e&&(r=JSON.stringify(null)),i.set("content-type","application/json")),new Response(r,{...t,headers:i})}async function U(e,t={}){let r={body:t.body,query:t.query};if(e.body){let i=await e.body["~standard"].validate(t.body);if(i.issues)return{data:null,error:C(i.issues,"body")};r.body=i.value}if(e.query){let i=await e.query["~standard"].validate(t.query);if(i.issues)return{data:null,error:C(i.issues,"query")};r.query=i.value}return e.requireHeaders&&!t.headers?{data:null,error:{message:"Headers is required"}}:e.requireRequest&&!t.request?{data:null,error:{message:"Request is required"}}:{data:r,error:null}}function C(e,t){let r=[];for(let t of e){let e=t.message;r.push(e)}return{message:`Invalid ${t} parameters`}}var D={name:"HMAC",hash:"SHA-256"},z=async e=>{let t="string"==typeof e?new TextEncoder().encode(e):e;return await k().importKey("raw",t,D,!1,["sign","verify"])},L=async(e,t,r)=>{try{let i=atob(e),n=new Uint8Array(i.length);for(let e=0,t=i.length;e<t;e++)n[e]=i.charCodeAt(e);return await k().verify(D,r,n,new TextEncoder().encode(t))}catch(e){return!1}},M=async(e,t)=>{let r=await z(t);return btoa(String.fromCharCode(...new Uint8Array(await k().sign(D.name,r,new TextEncoder().encode(e)))))},q=async(e,t)=>{let r=await M(e,t);return encodeURIComponent(e=`${e}.${r}`)},V=(e,t)=>{let r=e;if(t)if("secure"===t)r="__Secure-"+e;else{if("host"!==t)return;r="__Host-"+e}return r},J=(e,t,r={})=>{let i;if(i=r?.prefix==="secure"?`__Secure-${e}=${t}`:r?.prefix==="host"?`__Host-${e}=${t}`:`${e}=${t}`,e.startsWith("__Secure-")&&!r.secure&&(r.secure=!0),e.startsWith("__Host-")&&(r.secure||(r.secure=!0),"/"!==r.path&&(r.path="/"),r.domain&&(r.domain=void 0)),r&&"number"==typeof r.maxAge&&r.maxAge>=0){if(r.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");i+=`; Max-Age=${Math.floor(r.maxAge)}`}if(r.domain&&"host"!==r.prefix&&(i+=`; Domain=${r.domain}`),r.path&&(i+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");i+=`; Expires=${r.expires.toUTCString()}`}return r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite&&(i+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.partitioned&&(r.secure||(r.secure=!0),i+="; Partitioned"),i},F=async(e,t,r,i)=>J(e,t=await q(t,r),i),Z=async(e,{options:t,path:r})=>{let i=new Headers,{data:n,error:a}=await U(t,e);if(a)throw new P(400,{message:a.message,code:"VALIDATION_ERROR"});let o="headers"in e?e.headers instanceof Headers?e.headers:new Headers(e.headers):"request"in e&&e.request instanceof Request?e.request.headers:null,s=o?.get("cookie"),l=s?function(e){if("string"!=typeof e)throw TypeError("argument str must be a string");let t=new Map,r=0;for(;r<e.length;){let i=e.indexOf("=",r);if(-1===i)break;let n=e.indexOf(";",r);if(-1===n)n=e.length;else if(n<i){r=e.lastIndexOf(";",i-1)+1;continue}let a=e.slice(r,i).trim();if(!t.has(a)){let r=e.slice(i+1,n).trim();34===r.codePointAt(0)&&(r=r.slice(1,-1)),t.set(a,function(e){try{return e.includes("%")?decodeURIComponent(e):e}catch{return e}}(r))}r=n+1}return t}(s):void 0,u={...e,body:n.body,query:n.query,path:e.path||r,context:"context"in e&&e.context?e.context:{},returned:void 0,headers:e?.headers,request:e?.request,params:"params"in e?e.params:void 0,method:e.method,setHeader:(e,t)=>{i.set(e,t)},getHeader:e=>o?o.get(e):null,getCookie:(e,t)=>{let r=V(e,t);return r&&l?.get(r)||null},getSignedCookie:async(e,t,r)=>{let i=V(e,r);if(!i)return null;let n=l?.get(i);if(!n)return null;let a=n.lastIndexOf(".");if(a<1)return null;let o=n.substring(0,a),s=n.substring(a+1);if(44!==s.length||!s.endsWith("="))return null;let u=await z(t);return!!await L(s,o,u)&&o},setCookie:(e,t,r)=>{let n=((e,t,r)=>J(e,t=encodeURIComponent(t),r))(e,t,r);return i.append("set-cookie",n),n},setSignedCookie:async(e,t,r,n)=>{let a=await F(e,t,r,n);return i.append("set-cookie",a),a},redirect:e=>(i.set("location",e),new P("FOUND",void 0,i)),error:(e,t,r)=>new P(e,t,r),json:(t,r)=>e.asResponse?{body:r?.body||t,routerResponse:r,_flag:"json"}:t,responseHeaders:i};for(let e of t.use||[]){let t=await e({...u,returnHeaders:!0,asResponse:!1});t.response&&Object.assign(u.context,t.response),t.headers&&t.headers.forEach((e,t)=>{u.responseHeaders.set(t,e)})}return u};function B(e,t){let r=async r=>{let i="function"==typeof e?e:t,n=await Z(r,{options:"function"==typeof e?{}:e,path:"/"});if(!i)throw Error("handler must be defined");let a=await i(n),o=n.responseHeaders;return r.returnHeaders?{headers:o,response:a}:a};return r.options="function"==typeof e?{}:e,r}B.create=e=>function(t,r){if("function"==typeof t)return B({use:e?.use},t);if(!r)throw Error("Middleware handler is required");return B({...t,method:"*",use:[...e?.use||[],...t.use||[]]},r)};var H=(e,t,r)=>{let i=async(...i)=>{let n=i[0]||{},a=await Z(n,{options:t,path:e}),o=await r(a).catch(async e=>{if(R(e)){let r=t.onAPIError;if(r&&await r(e),n.asResponse)return e}throw e}),s=a.responseHeaders;return n.asResponse?N(o,{headers:s}):n.returnHeaders?{headers:s,response:o}:o};return i.options=t,i.path=e,i};function W(e,t,r){function i(r,i){var n;for(let a in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(n=r._zod).traits??(n.traits=new Set),r._zod.traits.add(e),t(r,i),o.prototype)a in r||Object.defineProperty(r,a,{value:o.prototype[a].bind(r)});r._zod.constr=o,r._zod.def=i}let n=r?.Parent??Object;class a extends n{}function o(e){var t;let n=r?.Parent?new a:this;for(let r of(i(n,e),(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred))r();return n}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}H.create=e=>(t,r,i)=>H(t,{...r,use:[...r?.use||[],...e?.use||[]]},i),Object.freeze({status:"aborted"}),Symbol("zod_brand");var K=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Q={};function G(e){return e&&Object.assign(Q,e),Q}var Y={};function X(e){return e}function ee(e){return e}function et(e){}function er(e){throw Error()}function ei(e){}function en(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function ea(e,t="|"){return e.map(e=>e$(e)).join(t)}function eo(e,t){return"bigint"==typeof t?t.toString():t}function es(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function el(e){return null==e}function eu(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function ec(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}function ed(e,t,r){Object.defineProperty(e,t,{get(){{let i=r();return e[t]=i,i}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function ep(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ef(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function em(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r})}function eh(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<e;i++)r+=t[Math.floor(Math.random()*t.length)];return r}function eg(e){return JSON.stringify(e)}((e,t)=>{for(var r in t)$(e,r,{get:t[r],enumerable:!0})})(Y,{BIGINT_FORMAT_RANGES:()=>ej,Class:()=>eH,NUMBER_FORMAT_RANGES:()=>eP,aborted:()=>eL,allowsEval:()=>eb,assert:()=>ei,assertEqual:()=>X,assertIs:()=>et,assertNever:()=>er,assertNotEqual:()=>ee,assignProp:()=>ep,cached:()=>es,captureStackTrace:()=>ey,cleanEnum:()=>eB,cleanRegex:()=>eu,clone:()=>eE,createTransparentProxy:()=>eT,defineLazy:()=>ed,esc:()=>eg,escapeRegex:()=>eO,extend:()=>eU,finalizeIssue:()=>eV,floatSafeRemainder:()=>ec,getElementAtPath:()=>ef,getEnumValues:()=>en,getLengthableOrigin:()=>eF,getParsedType:()=>ex,getSizableOrigin:()=>eJ,isObject:()=>ev,isPlainObject:()=>ew,issue:()=>eZ,joinValues:()=>ea,jsonStringifyReplacer:()=>eo,merge:()=>eC,normalizeParams:()=>eI,nullish:()=>el,numKeys:()=>e_,omit:()=>eN,optionalKeys:()=>eA,partial:()=>eD,pick:()=>eR,prefixIssues:()=>eM,primitiveTypes:()=>eS,promiseAllObject:()=>em,propertyKeyTypes:()=>ek,randomString:()=>eh,required:()=>ez,stringifyPrimitive:()=>e$,unwrapMessage:()=>eq});var ey=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ev(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}var eb=es(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function ew(e){if(!1===ev(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==ev(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function e_(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var ex=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},ek=new Set(["string","number","symbol"]),eS=new Set(["string","number","bigint","boolean","symbol","undefined"]);function eO(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function eE(e,t,r){let i=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(i._zod.parent=e),i}function eI(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function eT(e){let t;return new Proxy({},{get:(r,i,n)=>(t??(t=e()),Reflect.get(t,i,n)),set:(r,i,n,a)=>(t??(t=e()),Reflect.set(t,i,n,a)),has:(r,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(r,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(r,i,n)=>(t??(t=e()),Reflect.defineProperty(t,i,n))})}function e$(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function eA(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}var eP={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ej={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function eR(e,t){let r={},i=e._zod.def;for(let e in t){if(!(e in i.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&(r[e]=i.shape[e])}return eE(e,{...e._zod.def,shape:r,checks:[]})}function eN(e,t){let r={...e._zod.def.shape},i=e._zod.def;for(let e in t){if(!(e in i.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return eE(e,{...e._zod.def,shape:r,checks:[]})}function eU(e,t){if(!ew(t))throw Error("Invalid input to extend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return ep(this,"shape",r),r},checks:[]};return eE(e,r)}function eC(e,t){return eE(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return ep(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function eD(e,t,r){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)n[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return eE(t,{...t._zod.def,shape:n,checks:[]})}function ez(e,t,r){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)n[t]=new e({type:"nonoptional",innerType:i[t]});return eE(t,{...t._zod.def,shape:n,checks:[]})}function eL(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function eM(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function eq(e){return"string"==typeof e?e:e?.message}function eV(e,t,r){let i={...e,path:e.path??[]};return e.message||(i.message=eq(e.inst?._zod.def?.error?.(e))??eq(t?.error?.(e))??eq(r.customError?.(e))??eq(r.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function eJ(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function eF(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function eZ(...e){let[t,r,i]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:i}:{...t}}function eB(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var eH=class{constructor(...e){}},eW=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,eo,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},eK=W("$ZodError",eW),eQ=W("$ZodError",eW,{Parent:Error}),eG=e=>(t,r,i)=>{let n=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new K;return a.issues.length?{success:!1,error:new(e??eK)(a.issues.map(e=>eV(e,n,G())))}:{success:!0,data:a.value}},eY=eG(eQ),eX=e=>async(t,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>eV(e,n,G())))}:{success:!0,data:a.value}},e0=eX(eQ),e1=W("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),e4=W("$ZodCheckMaxLength",(e,t)=>{var r;e1.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!el(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;if(i.length<=t.maximum)return;let n=eF(i);r.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),e6=W("$ZodCheckMinLength",(e,t)=>{var r;e1.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!el(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;if(i.length>=t.minimum)return;let n=eF(i);r.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),e2=W("$ZodCheckLengthEquals",(e,t)=>{var r;e1.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!el(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let i=r.value,n=i.length;if(n===t.length)return;let a=eF(i),o=n>t.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),e5=W("$ZodCheckOverwrite",(e,t)=>{e1.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}),e3=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}},e8={major:4,minor:0,patch:0},e9=W("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=e8;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let r of t._zod.onattach)r(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let i,n=eL(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(n)continue;let t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&r?.async===!1)throw new K;if(i||o instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(n||(n=eL(e,t)))});else{if(e.issues.length===t)continue;n||(n=eL(e,t))}}return i?i.then(()=>e):e};e._zod.run=(r,n)=>{let a=e._zod.parse(r,n);if(a instanceof Promise){if(!1===n.async)throw new K;return a.then(e=>t(e,i,n))}return t(a,i,n)}}e["~standard"]={validate:t=>{try{let r=eY(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return e0(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),e7=W("$ZodUnknown",(e,t)=>{e9.init(e,t),e._zod.parse=e=>e}),te=W("$ZodNever",(e,t)=>{e9.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function tt(e,t,r){e.issues.length&&t.issues.push(...eM(r,e.issues)),t.value[r]=e.value}var tr=W("$ZodArray",(e,t)=>{e9.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let a=[];for(let e=0;e<n.length;e++){let o=n[e],s=t.element._zod.run({value:o,issues:[]},i);s instanceof Promise?a.push(s.then(t=>tt(t,r,e))):tt(s,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function ti(e,t,r){e.issues.length&&t.issues.push(...eM(r,e.issues)),t.value[r]=e.value}function tn(e,t,r,i){e.issues.length?void 0===i[r]?r in i?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...eM(r,e.issues)):void 0===e.value?r in i&&(t.value[r]=void 0):t.value[r]=e.value}var ta=W("$ZodObject",(e,t)=>{let r,i;e9.init(e,t);let n=es(()=>{let e=Object.keys(t.shape);for(let r of e)if(!(t.shape[r]instanceof e9))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=eA(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}});ed(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(r[t]??(r[t]=new Set),i.values))r[t].add(e)}return r});let a=!Q.jitless,o=a&&eb.value,s=t.catchall;e._zod.parse=(l,u)=>{i??(i=n.value);let c=l.value;if(!ev(c))return l.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),l;let d=[];if(a&&o&&u?.async===!1&&!0!==u.jitless)r||(r=(e=>{let t=new e3(["shape","payload","ctx"]),r=n.value,i=e=>{let t=eg(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let a=Object.create(null),o=0;for(let e of r.keys)a[e]=`key_${o++}`;for(let e of(t.write("const newResult = {}"),r.keys))if(r.optionalKeys.has(e)){let r=a[e];t.write(`const ${r} = ${i(e)};`);let n=eg(e);t.write(`
        if (${r}.issues.length) {
          if (input[${n}] === undefined) {
            if (${n} in input) {
              newResult[${n}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${r}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${n}, ...iss.path] : [${n}],
              }))
            );
          }
        } else if (${r}.value === undefined) {
          if (${n} in input) newResult[${n}] = undefined;
        } else {
          newResult[${n}] = ${r}.value;
        }
        `)}else{let r=a[e];t.write(`const ${r} = ${i(e)};`),t.write(`
          if (${r}.issues.length) payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${eg(e)}, ...iss.path] : [${eg(e)}]
          })));`),t.write(`newResult[${eg(e)}] = ${r}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");let s=t.compile();return(t,r)=>s(e,t,r)})(t.shape)),l=r(l,u);else{l.value={};let e=i.shape;for(let t of i.keys){let r=e[t],i=r._zod.run({value:c[t],issues:[]},u),n="optional"===r._zod.optin&&"optional"===r._zod.optout;i instanceof Promise?d.push(i.then(e=>n?tn(e,l,t,c):ti(e,l,t))):n?tn(i,l,t,c):ti(i,l,t)}}if(!s)return d.length?Promise.all(d).then(()=>l):l;let p=[],f=i.keySet,m=s._zod,h=m.def.type;for(let e of Object.keys(c)){if(f.has(e))continue;if("never"===h){p.push(e);continue}let t=m.run({value:c[e],issues:[]},u);t instanceof Promise?d.push(t.then(t=>ti(t,l,e))):ti(t,l,e)}return(p.length&&l.issues.push({code:"unrecognized_keys",keys:p,input:c,inst:e}),d.length)?Promise.all(d).then(()=>l):l}});function to(e,t,r,i){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>eV(e,i,G())))}),t}var ts=W("$ZodUnion",(e,t)=>{e9.init(e,t),ed(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),ed(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),ed(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),ed(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>eu(e.source)).join("|")})$`)}}),e._zod.parse=(r,i)=>{let n=!1,a=[];for(let e of t.options){let t=e._zod.run({value:r.value,issues:[]},i);if(t instanceof Promise)a.push(t),n=!0;else{if(0===t.issues.length)return t;a.push(t)}}return n?Promise.all(a).then(t=>to(t,r,e,i)):to(a,r,e,i)}}),tl=W("$ZodIntersection",(e,t)=>{e9.init(e,t),e._zod.parse=(e,r)=>{let i=e.value,n=t.left._zod.run({value:i,issues:[]},r),a=t.right._zod.run({value:i,issues:[]},r);return n instanceof Promise||a instanceof Promise?Promise.all([n,a]).then(([t,r])=>tu(e,t,r)):tu(e,n,a)}});function tu(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),eL(e))return e;let i=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(ew(t)&&ew(r)){let i=Object.keys(r),n=Object.keys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};a[i]=n.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let i=[];for(let n=0;n<t.length;n++){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};i.push(a.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}var tc=W("$ZodEnum",(e,t)=>{e9.init(e,t);let r=en(t.entries);e._zod.values=new Set(r),e._zod.pattern=RegExp(`^(${r.filter(e=>ek.has(typeof e)).map(e=>"string"==typeof e?eO(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let n=t.value;return e._zod.values.has(n)||t.issues.push({code:"invalid_value",values:r,input:n,inst:e}),t}}),td=W("$ZodTransform",(e,t)=>{e9.init(e,t),e._zod.parse=(e,r)=>{let i=t.transform(e.value,e);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(t=>(e.value=t,e));if(i instanceof Promise)throw new K;return e.value=i,e}}),tp=W("$ZodOptional",(e,t)=>{e9.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ed(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ed(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${eu(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,r):void 0===e.value?e:t.innerType._zod.run(e,r)}),tf=W("$ZodNullable",(e,t)=>{e9.init(e,t),ed(e._zod,"optin",()=>t.innerType._zod.optin),ed(e._zod,"optout",()=>t.innerType._zod.optout),ed(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${eu(e.source)}|null)$`):void 0}),ed(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),tm=W("$ZodDefault",(e,t)=>{e9.init(e,t),e._zod.optin="optional",ed(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(e=>th(e,t)):th(i,t)}});function th(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}var tg=W("$ZodPrefault",(e,t)=>{e9.init(e,t),e._zod.optin="optional",ed(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),ty=W("$ZodNonOptional",(e,t)=>{e9.init(e,t),ed(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,i)=>{let n=t.innerType._zod.run(r,i);return n instanceof Promise?n.then(t=>tv(t,e)):tv(n,e)}});function tv(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var tb=W("$ZodCatch",(e,t)=>{e9.init(e,t),e._zod.optin="optional",ed(e._zod,"optout",()=>t.innerType._zod.optout),ed(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>eV(e,r,G()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>eV(e,r,G()))},input:e.value}),e.issues=[]),e)}}),tw=W("$ZodPipe",(e,t)=>{e9.init(e,t),ed(e._zod,"values",()=>t.in._zod.values),ed(e._zod,"optin",()=>t.in._zod.optin),ed(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(e,r)=>{let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>t_(e,t,r)):t_(i,t,r)}});function t_(e,t,r){return eL(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}var tx=W("$ZodReadonly",(e,t)=>{e9.init(e,t),ed(e._zod,"propValues",()=>t.innerType._zod.propValues),ed(e._zod,"values",()=>t.innerType._zod.values),ed(e._zod,"optin",()=>t.innerType._zod.optin),ed(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(tk):tk(i)}});function tk(e){return e.value=Object.freeze(e.value),e}var tS=W("$ZodCustom",(e,t)=>{e1.init(e,t),e9.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let i=r.value,n=t.fn(i);if(n instanceof Promise)return n.then(t=>tO(t,r,i,e));tO(n,r,i,e)}});function tO(e,t,r,i){if(!e){let e={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(eZ(e))}}Symbol("ZodOutput"),Symbol("ZodInput");var tE=new class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function tI(e,t){return new e6({check:"min_length",...eI(t),minimum:e})}var tT=(e,t)=>{eK.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>(function(e,t){let r=t||function(e){return e.message},i={_errors:[]},n=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>n({issues:e}));else if("invalid_key"===t.code)n({issues:t.issues});else if("invalid_element"===t.code)n({issues:t.issues});else if(0===t.path.length)i._errors.push(r(t));else{let e=i,n=0;for(;n<t.path.length;){let i=t.path[n];n===t.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(r(t))):e[i]=e[i]||{_errors:[]},e=e[i],n++}}};return n(e),i})(e,t)},flatten:{value:t=>(function(e,t=e=>e.message){let r={},i=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}})(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})};W("ZodError",tT);var t$=W("ZodError",tT,{Parent:Error}),tA=(e,t,r,i)=>{let n=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:t,issues:[]},n);if(a instanceof Promise)throw new K;if(a.issues.length){let e=new(i?.Err??t$)(a.issues.map(e=>eV(e,n,G())));throw ey(e,i?.callee),e}return a.value},tP=async(e,t,r,i)=>{let n=r?Object.assign(r,{async:!0}):{async:!0},a=e._zod.run({value:t,issues:[]},n);if(a instanceof Promise&&(a=await a),a.issues.length){let e=new(i?.Err??t$)(a.issues.map(e=>eV(e,n,G())));throw ey(e,i?.callee),e}return a.value},tj=eG(t$),tR=eX(t$),tN=W("ZodType",(e,t)=>(e9.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>eE(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>tA(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>tj(e,t,r),e.parseAsync=async(t,r)=>tP(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>tR(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(function(e,t={}){return new t1({type:"custom",check:"custom",fn:e,...eI(t)})}(t,r)),e.superRefine=t=>e.check(function(e){let t=function(e){let t=new e1({check:"custom"});return t._zod.check=e,t}(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(Y.issue(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(Y.issue(e)))},e(r.value,r)));return t}(t)),e.overwrite=t=>e.check(new e5({check:"overwrite",tx:t})),e.optional=()=>tZ(e),e.nullable=()=>tH(e),e.nullish=()=>tZ(tH(e)),e.nonoptional=t=>{var r,i;return r=e,i=t,new tQ({type:"nonoptional",innerType:r,...Y.normalizeParams(i)})},e.array=()=>(function(e,t){return new tz({type:"array",element:e,...eI(void 0)})})(e),e.or=t=>new tM({type:"union",options:[e,t],...Y.normalizeParams(void 0)}),e.and=t=>{var r;return r=e,new tq({type:"intersection",left:r,right:t})},e.transform=t=>tX(e,new tJ({type:"transform",transform:t})),e.default=t=>(function(e,t){return new tW({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})})(e,t),e.prefault=t=>(function(e,t){return new tK({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})})(e,t),e.catch=t=>(function(e,t){return new tG({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})})(e,t),e.pipe=t=>tX(e,t),e.readonly=()=>new t0({type:"readonly",innerType:e}),e.describe=t=>{let r=e.clone();return tE.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>tE.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return tE.get(e);let r=e.clone();return tE.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),tU=W("ZodUnknown",(e,t)=>{e7.init(e,t),tN.init(e,t)});function tC(){return new tU({type:"unknown"})}var tD=W("ZodNever",(e,t)=>{te.init(e,t),tN.init(e,t)}),tz=W("ZodArray",(e,t)=>{tr.init(e,t),tN.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(tI(t,r)),e.nonempty=t=>e.check(tI(1,t)),e.max=(t,r)=>e.check(new e4({check:"max_length",...eI(r),maximum:t})),e.length=(t,r)=>e.check(new e2({check:"length_equals",...eI(r),length:t})),e.unwrap=()=>e.element}),tL=W("ZodObject",(e,t)=>{ta.init(e,t),tN.init(e,t),Y.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>(function(e,t){return new tV({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...Y.normalizeParams(void 0)})})(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:tC()}),e.loose=()=>e.clone({...e._zod.def,catchall:tC()}),e.strict=()=>e.clone({...e._zod.def,catchall:new tD({type:"never",...eI(void 0)})}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>Y.extend(e,t),e.merge=t=>Y.merge(e,t),e.pick=t=>Y.pick(e,t),e.omit=t=>Y.omit(e,t),e.partial=(...t)=>Y.partial(tF,e,t[0]),e.required=(...t)=>Y.required(tQ,e,t[0])}),tM=W("ZodUnion",(e,t)=>{ts.init(e,t),tN.init(e,t),e.options=t.options}),tq=W("ZodIntersection",(e,t)=>{tl.init(e,t),tN.init(e,t)}),tV=W("ZodEnum",(e,t)=>{tc.init(e,t),tN.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let n={};for(let i of e)if(r.has(i))n[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new tV({...t,checks:[],...Y.normalizeParams(i),entries:n})},e.exclude=(e,i)=>{let n={...t.entries};for(let t of e)if(r.has(t))delete n[t];else throw Error(`Key ${t} not found in enum`);return new tV({...t,checks:[],...Y.normalizeParams(i),entries:n})}}),tJ=W("ZodTransform",(e,t)=>{td.init(e,t),tN.init(e,t),e._zod.parse=(r,i)=>{r.addIssue=i=>{"string"==typeof i?r.issues.push(Y.issue(i,r.value,t)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!0),r.issues.push(Y.issue(i)))};let n=t.transform(r.value,r);return n instanceof Promise?n.then(e=>(r.value=e,r)):(r.value=n,r)}}),tF=W("ZodOptional",(e,t)=>{tp.init(e,t),tN.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tZ(e){return new tF({type:"optional",innerType:e})}var tB=W("ZodNullable",(e,t)=>{tf.init(e,t),tN.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tH(e){return new tB({type:"nullable",innerType:e})}var tW=W("ZodDefault",(e,t)=>{tm.init(e,t),tN.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),tK=W("ZodPrefault",(e,t)=>{tg.init(e,t),tN.init(e,t),e.unwrap=()=>e._zod.def.innerType}),tQ=W("ZodNonOptional",(e,t)=>{ty.init(e,t),tN.init(e,t),e.unwrap=()=>e._zod.def.innerType}),tG=W("ZodCatch",(e,t)=>{tb.init(e,t),tN.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),tY=W("ZodPipe",(e,t)=>{tw.init(e,t),tN.init(e,t),e.in=t.in,e.out=t.out});function tX(e,t){return new tY({type:"pipe",in:e,out:t})}var t0=W("ZodReadonly",(e,t)=>{tx.init(e,t),tN.init(e,t)}),t1=W("ZodCustom",(e,t)=>{tS.init(e,t),tN.init(e,t)}),t4={};function t6(e){switch(e.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function t2(e){let t=[];return e.metadata?.openapi?.parameters?t.push(...e.metadata.openapi.parameters):e.query instanceof tL&&Object.entries(e.query.shape).forEach(([e,r])=>{r instanceof tL&&t.push({name:e,in:"query",schema:{type:t6(r),..."minLength"in r&&r.minLength?{minLength:r.minLength}:{},description:r.description}})}),t}function t5(e){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...e}}async function t3(e,t){return Object.entries(e).forEach(([e,t])=>{let r=t.options;if(!r.metadata?.SERVER_ONLY&&("GET"===r.method&&(t4[t.path]={get:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:t2(r),responses:t5(r.metadata?.openapi?.responses)}}),"POST"===r.method)){let e=function(e){if(e.metadata?.openapi?.requestBody)return e.metadata.openapi.requestBody;if(e.body&&(e.body instanceof tL||e.body instanceof tF)){let t=e.body.shape;if(!t)return;let r={},i=[];return Object.entries(t).forEach(([e,t])=>{t instanceof tL&&(r[e]={type:t6(t),description:t.description},t instanceof tF||i.push(e))}),{required:!(e.body instanceof tF)&&!!e.body,content:{"application/json":{schema:{type:"object",properties:r,required:i}}}}}}(r);t4[t.path]={post:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:t2(r),...e?{requestBody:e}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:t5(r.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{schemas:{}},security:[{apiKeyCookie:[]}],servers:[{url:t?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:t4}}e.s(["$brand",()=>t7,"$input",()=>su,"$output",()=>sl,"NEVER",()=>t8,"TimePrecision",()=>sD,"ZodAny",()=>cP,"ZodArray",()=>cq,"ZodBase64",()=>u8,"ZodBase64URL",()=>u7,"ZodBigInt",()=>cw,"ZodBigIntFormat",()=>cx,"ZodBoolean",()=>cv,"ZodCIDRv4",()=>u6,"ZodCIDRv6",()=>u5,"ZodCUID",()=>uJ,"ZodCUID2",()=>uZ,"ZodCatch",()=>dx,"ZodCodec",()=>dT,"ZodCustom",()=>dM,"ZodCustomStringFormat",()=>ca,"ZodDate",()=>cL,"ZodDefault",()=>dm,"ZodDiscriminatedUnion",()=>cQ,"ZodE164",()=>ct,"ZodEmail",()=>uI,"ZodEmoji",()=>uL,"ZodEnum",()=>c7,"ZodError",()=>ul,"ZodFile",()=>dn,"ZodFirstPartyTypeKind",()=>o,"ZodFunction",()=>dz,"ZodGUID",()=>u$,"ZodIPv4",()=>uX,"ZodIPv6",()=>u1,"ZodISODate",()=>ut,"ZodISODateTime",()=>l7,"ZodISODuration",()=>ua,"ZodISOTime",()=>ui,"ZodIntersection",()=>cY,"ZodIssueCode",()=>dK,"ZodJWT",()=>ci,"ZodKSUID",()=>uG,"ZodLazy",()=>dN,"ZodLiteral",()=>dr,"ZodMap",()=>c5,"ZodNaN",()=>dS,"ZodNanoID",()=>uq,"ZodNever",()=>cU,"ZodNonOptional",()=>dv,"ZodNull",()=>c$,"ZodNullable",()=>dd,"ZodNumber",()=>cc,"ZodNumberFormat",()=>cp,"ZodObject",()=>cF,"ZodOptional",()=>du,"ZodPipe",()=>dE,"ZodPrefault",()=>dg,"ZodPromise",()=>dC,"ZodReadonly",()=>dA,"ZodRealError",()=>uu,"ZodRecord",()=>c4,"ZodSet",()=>c8,"ZodString",()=>uS,"ZodStringFormat",()=>uE,"ZodSuccess",()=>dw,"ZodSymbol",()=>cO,"ZodTemplateLiteral",()=>dj,"ZodTransform",()=>ds,"ZodTuple",()=>c0,"ZodType",()=>ux,"ZodULID",()=>uH,"ZodURL",()=>uC,"ZodUUID",()=>uP,"ZodUndefined",()=>cI,"ZodUnion",()=>cW,"ZodUnknown",()=>cR,"ZodVoid",()=>cD,"ZodXID",()=>uK,"_ZodString",()=>uk,"_default",()=>dh,"_function",()=>dL,"any",()=>cj,"array",()=>cV,"base64",()=>u9,"base64url",()=>ce,"bigint",()=>c_,"boolean",()=>cb,"catch",()=>dk,"check",()=>dq,"cidrv4",()=>u2,"cidrv6",()=>u3,"clone",()=>rC,"codec",()=>d$,"coerce",()=>pe,"config",()=>ri,"core",()=>d8,"cuid",()=>uF,"cuid2",()=>uB,"custom",()=>dV,"date",()=>cM,"decode",()=>uh,"decodeAsync",()=>uy,"default",()=>pr,"discriminatedUnion",()=>cG,"e164",()=>cr,"email",()=>uT,"emoji",()=>uM,"encode",()=>um,"encodeAsync",()=>ug,"endsWith",()=>l_,"enum",()=>de,"file",()=>da,"flattenError",()=>ia,"float32",()=>cm,"float64",()=>ch,"formatError",()=>io,"function",()=>dL,"getErrorMap",()=>dG,"globalRegistry",()=>sp,"gt",()=>li,"gte",()=>ln,"guid",()=>uA,"hash",()=>cu,"hex",()=>cl,"hostname",()=>cs,"httpUrl",()=>uz,"includes",()=>lb,"instanceof",()=>dZ,"int",()=>cf,"int32",()=>cg,"int64",()=>ck,"intersection",()=>cX,"ipv4",()=>u0,"ipv6",()=>u4,"iso",()=>d7,"json",()=>dH,"jwt",()=>cn,"keyof",()=>cJ,"ksuid",()=>uY,"lazy",()=>dU,"length",()=>lh,"literal",()=>di,"locales",()=>d9,"looseObject",()=>cH,"lowercase",()=>ly,"lt",()=>lt,"lte",()=>lr,"map",()=>c3,"maxLength",()=>lf,"maxSize",()=>lc,"mime",()=>lk,"minLength",()=>lm,"minSize",()=>ld,"multipleOf",()=>lu,"nan",()=>dO,"nanoid",()=>uV,"nativeEnum",()=>dt,"negative",()=>lo,"never",()=>cC,"nonnegative",()=>ll,"nonoptional",()=>db,"nonpositive",()=>ls,"normalize",()=>lO,"null",()=>cA,"nullable",()=>dp,"nullish",()=>df,"number",()=>cd,"object",()=>cZ,"optional",()=>dc,"overwrite",()=>lS,"parse",()=>uc,"parseAsync",()=>ud,"partialRecord",()=>c2,"pipe",()=>dI,"positive",()=>la,"prefault",()=>dy,"preprocess",()=>dW,"prettifyError",()=>iu,"promise",()=>dD,"property",()=>lx,"readonly",()=>dP,"record",()=>c6,"refine",()=>dJ,"regex",()=>lg,"regexes",()=>l8,"registry",()=>sd,"safeDecode",()=>ub,"safeDecodeAsync",()=>u_,"safeEncode",()=>uv,"safeEncodeAsync",()=>uw,"safeParse",()=>up,"safeParseAsync",()=>uf,"set",()=>c9,"setErrorMap",()=>dQ,"size",()=>lp,"startsWith",()=>lw,"strictObject",()=>cB,"string",()=>uO,"stringFormat",()=>co,"stringbool",()=>dB,"success",()=>d_,"superRefine",()=>dF,"symbol",()=>cE,"templateLiteral",()=>dR,"toJSONSchema",()=>l3,"toLowerCase",()=>lI,"toUpperCase",()=>lT,"transform",()=>dl,"treeifyError",()=>is,"trim",()=>lE,"tuple",()=>c1,"uint32",()=>cy,"uint64",()=>cS,"ulid",()=>uW,"undefined",()=>cT,"union",()=>cK,"unknown",()=>cN,"uppercase",()=>lv,"url",()=>uD,"util",()=>l9,"uuid",()=>uj,"uuidv4",()=>uR,"uuidv6",()=>uN,"uuidv7",()=>uU,"void",()=>cz,"xid",()=>uQ,"z",()=>pi],75237),e.s(["default",()=>pr],89271),e.s([],78424),e.s([],57240),e.s(["$ZodAsyncError",()=>re,"$ZodEncodeError",()=>rt,"$brand",()=>t7,"$constructor",()=>t9,"NEVER",()=>t8,"config",()=>ri,"globalConfig",()=>rr],48874);let t8=Object.freeze({status:"aborted"});function t9(e,t,r){function i(r,i){var n;for(let a in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(n=r._zod).traits??(n.traits=new Set),r._zod.traits.add(e),t(r,i),o.prototype)a in r||Object.defineProperty(r,a,{value:o.prototype[a].bind(r)});r._zod.constr=o,r._zod.def=i}let n=r?.Parent??Object;class a extends n{}function o(e){var t;let n=r?.Parent?new a:this;for(let r of(i(n,e),(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred))r();return n}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}let t7=Symbol("zod_brand");class re extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class rt extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let rr={};function ri(e){return e&&Object.assign(rr,e),rr}function rn(e){return e}function ra(e){return e}function ro(e){}function rs(e){throw Error()}function rl(e){}function ru(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function rc(e,t="|"){return e.map(e=>rL(e)).join(t)}function rd(e,t){return"bigint"==typeof t?t.toString():t}function rp(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function rf(e){return null==e}function rm(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function rh(e,t){let r=(e.toString().split(".")[1]||"").length,i=t.toString(),n=(i.split(".")[1]||"").length;if(0===n&&/\d?e-\d?/.test(i)){let e=i.match(/\d?e-(\d?)/);e?.[1]&&(n=Number.parseInt(e[1]))}let a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}e.s(["_decode",()=>i_,"_decodeAsync",()=>iO,"_encode",()=>ib,"_encodeAsync",()=>ik,"_parse",()=>ic,"_parseAsync",()=>ip,"_safeDecode",()=>i$,"_safeDecodeAsync",()=>iR,"_safeEncode",()=>iI,"_safeEncodeAsync",()=>iP,"_safeParse",()=>ih,"_safeParseAsync",()=>iy,"decode",()=>ix,"decodeAsync",()=>iE,"encode",()=>iw,"encodeAsync",()=>iS,"parse",()=>id,"parseAsync",()=>im,"safeDecode",()=>iA,"safeDecodeAsync",()=>iN,"safeEncode",()=>iT,"safeEncodeAsync",()=>ij,"safeParse",()=>ig,"safeParseAsync",()=>iv],85893),e.s(["$ZodError",()=>ir,"$ZodRealError",()=>ii,"flattenError",()=>ia,"formatError",()=>io,"prettifyError",()=>iu,"toDotPath",()=>il,"treeifyError",()=>is],4329),e.s(["BIGINT_FORMAT_RANGES",()=>rV,"Class",()=>ie,"NUMBER_FORMAT_RANGES",()=>rq,"aborted",()=>rQ,"allowsEval",()=>rT,"assert",()=>rl,"assertEqual",()=>rn,"assertIs",()=>ro,"assertNever",()=>rs,"assertNotEqual",()=>ra,"assignProp",()=>rb,"base64ToUint8Array",()=>r2,"base64urlToUint8Array",()=>r3,"cached",()=>rp,"captureStackTrace",()=>rE,"cleanEnum",()=>r6,"cleanRegex",()=>rm,"clone",()=>rC,"cloneDef",()=>r_,"createTransparentProxy",()=>rz,"defineLazy",()=>ry,"esc",()=>rO,"escapeRegex",()=>rU,"extend",()=>rZ,"finalizeIssue",()=>rX,"floatSafeRemainder",()=>rh,"getElementAtPath",()=>rx,"getEnumValues",()=>ru,"getLengthableOrigin",()=>r1,"getParsedType",()=>rj,"getSizableOrigin",()=>r0,"hexToUint8Array",()=>r9,"isObject",()=>rI,"isPlainObject",()=>r$,"issue",()=>r4,"joinValues",()=>rc,"jsonStringifyReplacer",()=>rd,"merge",()=>rH,"mergeDefs",()=>rw,"normalizeParams",()=>rD,"nullish",()=>rf,"numKeys",()=>rP,"objectClone",()=>rv,"omit",()=>rF,"optionalKeys",()=>rM,"partial",()=>rW,"pick",()=>rJ,"prefixIssues",()=>rG,"primitiveTypes",()=>rN,"promiseAllObject",()=>rk,"propertyKeyTypes",()=>rR,"randomString",()=>rS,"required",()=>rK,"safeExtend",()=>rB,"shallowClone",()=>rA,"stringifyPrimitive",()=>rL,"uint8ArrayToBase64",()=>r5,"uint8ArrayToBase64url",()=>r8,"uint8ArrayToHex",()=>r7,"unwrapMessage",()=>rY],57460);let rg=Symbol("evaluating");function ry(e,t,r){let i;Object.defineProperty(e,t,{get(){if(i!==rg)return void 0===i&&(i=rg,i=r()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function rv(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function rb(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function rw(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function r_(e){return rw(e._zod.def)}function rx(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function rk(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r})}function rS(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<e;i++)r+=t[Math.floor(Math.random()*t.length)];return r}function rO(e){return JSON.stringify(e)}let rE="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function rI(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let rT=rp(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function r$(e){if(!1===rI(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==rI(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function rA(e){return r$(e)?{...e}:Array.isArray(e)?[...e]:e}function rP(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let rj=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},rR=new Set(["string","number","symbol"]),rN=new Set(["string","number","bigint","boolean","symbol","undefined"]);function rU(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rC(e,t,r){let i=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(i._zod.parent=e),i}function rD(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function rz(e){let t;return new Proxy({},{get:(r,i,n)=>(t??(t=e()),Reflect.get(t,i,n)),set:(r,i,n,a)=>(t??(t=e()),Reflect.set(t,i,n,a)),has:(r,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(r,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(r,i,n)=>(t??(t=e()),Reflect.defineProperty(t,i,n))})}function rL(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function rM(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let rq={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},rV={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function rJ(e,t){let r=e._zod.def,i=rw(e._zod.def,{get shape(){let e={};for(let i in t){if(!(i in r.shape))throw Error(`Unrecognized key: "${i}"`);t[i]&&(e[i]=r.shape[i])}return rb(this,"shape",e),e},checks:[]});return rC(e,i)}function rF(e,t){let r=e._zod.def,i=rw(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete i[e]}return rb(this,"shape",i),i},checks:[]});return rC(e,i)}function rZ(e,t){if(!r$(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=rw(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return rb(this,"shape",r),r},checks:[]});return rC(e,i)}function rB(e,t){if(!r$(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return rb(this,"shape",r),r},checks:e._zod.def.checks};return rC(e,r)}function rH(e,t){let r=rw(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return rb(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return rC(e,r)}function rW(e,t,r){let i=rw(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)n[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return rb(this,"shape",n),n},checks:[]});return rC(t,i)}function rK(e,t,r){let i=rw(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)n[t]=new e({type:"nonoptional",innerType:i[t]});return rb(this,"shape",n),n},checks:[]});return rC(t,i)}function rQ(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function rG(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function rY(e){return"string"==typeof e?e:e?.message}function rX(e,t,r){let i={...e,path:e.path??[]};return e.message||(i.message=rY(e.inst?._zod.def?.error?.(e))??rY(t?.error?.(e))??rY(r.customError?.(e))??rY(r.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function r0(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function r1(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function r4(...e){let[t,r,i]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:i}:{...t}}function r6(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function r2(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function r5(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function r3(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return r2(t+r)}function r8(e){return r5(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function r9(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function r7(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class ie{constructor(...e){}}let it=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,rd,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ir=t9("$ZodError",it),ii=t9("$ZodError",it,{Parent:Error});function ia(e,t=e=>e.message){let r={},i=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}}function io(e,t=e=>e.message){let r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code&&n.errors.length)n.errors.map(e=>i({issues:e}));else if("invalid_key"===n.code)i({issues:n.issues});else if("invalid_element"===n.code)i({issues:n.issues});else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}function is(e,t=e=>e.message){let r={errors:[]},i=(e,n=[])=>{var a,o;for(let s of e.issues)if("invalid_union"===s.code&&s.errors.length)s.errors.map(e=>i({issues:e},s.path));else if("invalid_key"===s.code)i({issues:s.issues},s.path);else if("invalid_element"===s.code)i({issues:s.issues},s.path);else{let e=[...n,...s.path];if(0===e.length){r.errors.push(t(s));continue}let i=r,l=0;for(;l<e.length;){let r=e[l],n=l===e.length-1;"string"==typeof r?(i.properties??(i.properties={}),(a=i.properties)[r]??(a[r]={errors:[]}),i=i.properties[r]):(i.items??(i.items=[]),(o=i.items)[r]??(o[r]={errors:[]}),i=i.items[r]),n&&i.errors.push(t(s)),l++}}};return i(e),r}function il(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function iu(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${il(r.path)}`);return t.join("\n")}let ic=e=>(t,r,i,n)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new re;if(o.issues.length){let t=new(n?.Err??e)(o.issues.map(e=>rX(e,a,ri())));throw rE(t,n?.callee),t}return o.value},id=ic(ii),ip=e=>async(t,r,i,n)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let t=new(n?.Err??e)(o.issues.map(e=>rX(e,a,ri())));throw rE(t,n?.callee),t}return o.value},im=ip(ii),ih=e=>(t,r,i)=>{let n=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new re;return a.issues.length?{success:!1,error:new(e??ir)(a.issues.map(e=>rX(e,n,ri())))}:{success:!0,data:a.value}},ig=ih(ii),iy=e=>async(t,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>rX(e,n,ri())))}:{success:!0,data:a.value}},iv=iy(ii),ib=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ic(e)(t,r,n)},iw=ib(ii),i_=e=>(t,r,i)=>ic(e)(t,r,i),ix=i_(ii),ik=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ip(e)(t,r,n)},iS=ik(ii),iO=e=>async(t,r,i)=>ip(e)(t,r,i),iE=iO(ii),iI=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ih(e)(t,r,n)},iT=iI(ii),i$=e=>(t,r,i)=>ih(e)(t,r,i),iA=i$(ii),iP=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return iy(e)(t,r,n)},ij=iP(ii),iR=e=>async(t,r,i)=>iy(e)(t,r,i),iN=iR(ii);e.s(["$ZodAny",()=>aj,"$ZodArray",()=>az,"$ZodBase64",()=>ay,"$ZodBase64URL",()=>ab,"$ZodBigInt",()=>aI,"$ZodBigIntFormat",()=>aT,"$ZodBoolean",()=>aE,"$ZodCIDRv4",()=>am,"$ZodCIDRv6",()=>ah,"$ZodCUID",()=>ai,"$ZodCUID2",()=>an,"$ZodCatch",()=>oa,"$ZodCodec",()=>ou,"$ZodCustom",()=>ov,"$ZodCustomStringFormat",()=>ak,"$ZodDate",()=>aC,"$ZodDefault",()=>a7,"$ZodDiscriminatedUnion",()=>aB,"$ZodE164",()=>aw,"$ZodEmail",()=>n7,"$ZodEmoji",()=>at,"$ZodEnum",()=>a4,"$ZodFile",()=>a2,"$ZodFunction",()=>oh,"$ZodGUID",()=>n8,"$ZodIPv4",()=>ap,"$ZodIPv6",()=>af,"$ZodISODate",()=>au,"$ZodISODateTime",()=>al,"$ZodISODuration",()=>ad,"$ZodISOTime",()=>ac,"$ZodIntersection",()=>aH,"$ZodJWT",()=>ax,"$ZodKSUID",()=>as,"$ZodLazy",()=>oy,"$ZodLiteral",()=>a6,"$ZodMap",()=>aY,"$ZodNaN",()=>oo,"$ZodNanoID",()=>ar,"$ZodNever",()=>aN,"$ZodNonOptional",()=>or,"$ZodNull",()=>aP,"$ZodNullable",()=>a9,"$ZodNumber",()=>aS,"$ZodNumberFormat",()=>aO,"$ZodObject",()=>aV,"$ZodObjectJIT",()=>aJ,"$ZodOptional",()=>a8,"$ZodPipe",()=>os,"$ZodPrefault",()=>ot,"$ZodPromise",()=>og,"$ZodReadonly",()=>op,"$ZodRecord",()=>aG,"$ZodSet",()=>a0,"$ZodString",()=>n5,"$ZodStringFormat",()=>n3,"$ZodSuccess",()=>on,"$ZodSymbol",()=>a$,"$ZodTemplateLiteral",()=>om,"$ZodTransform",()=>a5,"$ZodTuple",()=>aK,"$ZodType",()=>n2,"$ZodULID",()=>aa,"$ZodURL",()=>ae,"$ZodUUID",()=>n9,"$ZodUndefined",()=>aA,"$ZodUnion",()=>aZ,"$ZodUnknown",()=>aR,"$ZodVoid",()=>aU,"$ZodXID",()=>ao,"isValidBase64",()=>ag,"isValidBase64URL",()=>av,"isValidJWT",()=>a_],47329),e.s(["$ZodCheck",()=>nj,"$ZodCheckBigIntFormat",()=>nz,"$ZodCheckEndsWith",()=>nG,"$ZodCheckGreaterThan",()=>nU,"$ZodCheckIncludes",()=>nK,"$ZodCheckLengthEquals",()=>nF,"$ZodCheckLessThan",()=>nN,"$ZodCheckLowerCase",()=>nH,"$ZodCheckMaxLength",()=>nV,"$ZodCheckMaxSize",()=>nL,"$ZodCheckMimeType",()=>n0,"$ZodCheckMinLength",()=>nJ,"$ZodCheckMinSize",()=>nM,"$ZodCheckMultipleOf",()=>nC,"$ZodCheckNumberFormat",()=>nD,"$ZodCheckOverwrite",()=>n1,"$ZodCheckProperty",()=>nX,"$ZodCheckRegex",()=>nB,"$ZodCheckSizeEquals",()=>nq,"$ZodCheckStartsWith",()=>nQ,"$ZodCheckStringFormat",()=>nZ,"$ZodCheckUpperCase",()=>nW],65106),e.s(["base64",()=>i5,"base64url",()=>i3,"bigint",()=>no,"boolean",()=>nu,"browserEmail",()=>iX,"cidrv4",()=>i6,"cidrv6",()=>i2,"cuid",()=>iU,"cuid2",()=>iC,"date",()=>nt,"datetime",()=>nn,"domain",()=>i9,"duration",()=>iq,"e164",()=>i7,"email",()=>iW,"emoji",()=>i0,"extendedDuration",()=>iV,"guid",()=>iJ,"hex",()=>nm,"hostname",()=>i8,"html5Email",()=>iK,"idnEmail",()=>iY,"integer",()=>ns,"ipv4",()=>i1,"ipv6",()=>i4,"ksuid",()=>iL,"lowercase",()=>np,"md5_base64",()=>nv,"md5_base64url",()=>nb,"md5_hex",()=>ny,"nanoid",()=>iM,"null",()=>nc,"number",()=>nl,"rfc5322Email",()=>iQ,"sha1_base64",()=>n_,"sha1_base64url",()=>nx,"sha1_hex",()=>nw,"sha256_base64",()=>nS,"sha256_base64url",()=>nO,"sha256_hex",()=>nk,"sha384_base64",()=>nI,"sha384_base64url",()=>nT,"sha384_hex",()=>nE,"sha512_base64",()=>nA,"sha512_base64url",()=>nP,"sha512_hex",()=>n$,"string",()=>na,"time",()=>ni,"ulid",()=>iD,"undefined",()=>nd,"unicodeEmail",()=>iG,"uppercase",()=>nf,"uuid",()=>iF,"uuid4",()=>iZ,"uuid6",()=>iB,"uuid7",()=>iH,"xid",()=>iz],78621);let iU=/^[cC][^\s-]{8,}$/,iC=/^[0-9a-z]+$/,iD=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iz=/^[0-9a-vA-V]{20}$/,iL=/^[A-Za-z0-9]{27}$/,iM=/^[a-zA-Z0-9_-]{21}$/,iq=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,iV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iJ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,iF=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,iZ=iF(4),iB=iF(6),iH=iF(7),iW=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,iK=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,iQ=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,iG=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,iY=iG,iX=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function i0(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let i1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,i4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,i6=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,i2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,i5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,i3=/^[A-Za-z0-9_-]*$/,i8=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,i9=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,i7=/^\+(?:[0-9]){6,14}[0-9]$/,ne="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nt=RegExp(`^${ne}$`);function nr(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ni(e){return RegExp(`^${nr(e)}$`)}function nn(e){let t=nr({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${t}(?:${r.join("|")})`;return RegExp(`^${ne}T(?:${i})$`)}let na=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},no=/^-?\d+n?$/,ns=/^-?\d+$/,nl=/^-?\d+(?:\.\d+)?/,nu=/^(?:true|false)$/i,nc=/^null$/i,nd=/^undefined$/i,np=/^[^A-Z]*$/,nf=/^[^a-z]*$/,nm=/^[0-9a-fA-F]*$/;function nh(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function ng(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let ny=/^[0-9a-fA-F]{32}$/,nv=nh(22,"=="),nb=ng(22),nw=/^[0-9a-fA-F]{40}$/,n_=nh(27,"="),nx=ng(27),nk=/^[0-9a-fA-F]{64}$/,nS=nh(43,"="),nO=ng(43),nE=/^[0-9a-fA-F]{96}$/,nI=nh(64,""),nT=ng(64),n$=/^[0-9a-fA-F]{128}$/,nA=nh(86,"=="),nP=ng(86),nj=t9("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),nR={number:"number",bigint:"bigint",object:"date"},nN=t9("$ZodCheckLessThan",(e,t)=>{nj.init(e,t);let r=nR[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nU=t9("$ZodCheckGreaterThan",(e,t)=>{nj.init(e,t);let r=nR[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nC=t9("$ZodCheckMultipleOf",(e,t)=>{nj.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===rh(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),nD=t9("$ZodCheckNumberFormat",(e,t)=>{nj.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),i=r?"int":"number",[n,a]=rq[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=a,r&&(i.pattern=ns)}),e._zod.check=o=>{let s=o.value;if(r){if(!Number.isInteger(s))return void o.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}s<n&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inst:e})}}),nz=t9("$ZodCheckBigIntFormat",(e,t)=>{nj.init(e,t);let[r,i]=rV[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=r,n.maximum=i}),e._zod.check=n=>{let a=n.value;a<r&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>i&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inst:e})}}),nL=t9("$ZodCheckMaxSize",(e,t)=>{var r;nj.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!rf(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;i.size<=t.maximum||r.issues.push({origin:r0(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),nM=t9("$ZodCheckMinSize",(e,t)=>{var r;nj.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!rf(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;i.size>=t.minimum||r.issues.push({origin:r0(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),nq=t9("$ZodCheckSizeEquals",(e,t)=>{var r;nj.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!rf(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let i=r.value,n=i.size;if(n===t.size)return;let a=n>t.size;r.issues.push({origin:r0(i),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),nV=t9("$ZodCheckMaxLength",(e,t)=>{var r;nj.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!rf(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;if(i.length<=t.maximum)return;let n=r1(i);r.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),nJ=t9("$ZodCheckMinLength",(e,t)=>{var r;nj.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!rf(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;if(i.length>=t.minimum)return;let n=r1(i);r.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),nF=t9("$ZodCheckLengthEquals",(e,t)=>{var r;nj.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!rf(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let i=r.value,n=i.length;if(n===t.length)return;let a=r1(i),o=n>t.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),nZ=t9("$ZodCheckStringFormat",(e,t)=>{var r,i;nj.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),nB=t9("$ZodCheckRegex",(e,t)=>{nZ.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),nH=t9("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=np),nZ.init(e,t)}),nW=t9("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=nf),nZ.init(e,t)}),nK=t9("$ZodCheckIncludes",(e,t)=>{nj.init(e,t);let r=rU(t.includes),i=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=i,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),nQ=t9("$ZodCheckStartsWith",(e,t)=>{nj.init(e,t);let r=RegExp(`^${rU(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),nG=t9("$ZodCheckEndsWith",(e,t)=>{nj.init(e,t);let r=RegExp(`.*${rU(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function nY(e,t,r){e.issues.length&&t.issues.push(...rG(r,e.issues))}let nX=t9("$ZodCheckProperty",(e,t)=>{nj.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>nY(r,e,t.property));nY(r,e,t.property)}}),n0=t9("$ZodCheckMimeType",(e,t)=>{nj.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:t.mime,input:i.value.type,inst:e,continue:!t.abort})}}),n1=t9("$ZodCheckOverwrite",(e,t)=>{nj.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["Doc",()=>n4],17904);class n4{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["version",()=>n6],7092);let n6={major:4,minor:1,patch:12},n2=t9("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=n6;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let r of t._zod.onattach)r(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let i,n=rQ(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(n)continue;let t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&r?.async===!1)throw new re;if(i||o instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(n||(n=rQ(e,t)))});else{if(e.issues.length===t)continue;n||(n=rQ(e,t))}}return i?i.then(()=>e):e},r=(r,n,a)=>{if(rQ(r))return r.aborted=!0,r;let o=t(n,i,a);if(o instanceof Promise){if(!1===a.async)throw new re;return o.then(t=>e._zod.parse(t,a))}return e._zod.parse(o,a)};e._zod.run=(n,a)=>{if(a.skipChecks)return e._zod.parse(n,a);if("backward"===a.direction){let t=e._zod.parse({value:n.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,n,a)):r(t,n,a)}let o=e._zod.parse(n,a);if(o instanceof Promise){if(!1===a.async)throw new re;return o.then(e=>t(e,i,a))}return t(o,i,a)}}e["~standard"]={validate:t=>{try{let r=ig(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return iv(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),n5=t9("$ZodString",(e,t)=>{n2.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??na(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),n3=t9("$ZodStringFormat",(e,t)=>{nZ.init(e,t),n5.init(e,t)}),n8=t9("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=iJ),n3.init(e,t)}),n9=t9("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=iF(e))}else t.pattern??(t.pattern=iF());n3.init(e,t)}),n7=t9("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=iW),n3.init(e,t)}),ae=t9("$ZodURL",(e,t)=>{n3.init(e,t),e._zod.check=r=>{try{let i=r.value.trim(),n=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:i8.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=n.href:r.value=i;return}catch(i){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),at=t9("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=i0()),n3.init(e,t)}),ar=t9("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=iM),n3.init(e,t)}),ai=t9("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=iU),n3.init(e,t)}),an=t9("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=iC),n3.init(e,t)}),aa=t9("$ZodULID",(e,t)=>{t.pattern??(t.pattern=iD),n3.init(e,t)}),ao=t9("$ZodXID",(e,t)=>{t.pattern??(t.pattern=iz),n3.init(e,t)}),as=t9("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=iL),n3.init(e,t)}),al=t9("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=nn(t)),n3.init(e,t)}),au=t9("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=nt),n3.init(e,t)}),ac=t9("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=ni(t)),n3.init(e,t)}),ad=t9("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=iq),n3.init(e,t)}),ap=t9("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=i1),n3.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),af=t9("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=i4),n3.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),am=t9("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=i6),n3.init(e,t)}),ah=t9("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=i2),n3.init(e,t),e._zod.check=r=>{let i=r.value.split("/");try{if(2!==i.length)throw Error();let[e,t]=i;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function ag(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let ay=t9("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=i5),n3.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{ag(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function av(e){if(!i3.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return ag(t.padEnd(4*Math.ceil(t.length/4),"="))}let ab=t9("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=i3),n3.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{av(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),aw=t9("$ZodE164",(e,t)=>{t.pattern??(t.pattern=i7),n3.init(e,t)});function a_(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[i]=r;if(!i)return!1;let n=JSON.parse(atob(i));if("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))return!1;return!0}catch{return!1}}let ax=t9("$ZodJWT",(e,t)=>{n3.init(e,t),e._zod.check=r=>{a_(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),ak=t9("$ZodCustomStringFormat",(e,t)=>{n3.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),aS=t9("$ZodNumber",(e,t)=>{n2.init(e,t),e._zod.pattern=e._zod.bag.pattern??nl,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let n=r.value;if("number"==typeof n&&!Number.isNaN(n)&&Number.isFinite(n))return r;let a="number"==typeof n?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...a?{received:a}:{}}),r}}),aO=t9("$ZodNumber",(e,t)=>{nD.init(e,t),aS.init(e,t)}),aE=t9("$ZodBoolean",(e,t)=>{n2.init(e,t),e._zod.pattern=nu,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let n=r.value;return"boolean"==typeof n||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),r}}),aI=t9("$ZodBigInt",(e,t)=>{n2.init(e,t),e._zod.pattern=no,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),aT=t9("$ZodBigInt",(e,t)=>{nz.init(e,t),aI.init(e,t)}),a$=t9("$ZodSymbol",(e,t)=>{n2.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return"symbol"==typeof i||t.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),t}}),aA=t9("$ZodUndefined",(e,t)=>{n2.init(e,t),e._zod.pattern=nd,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),t}}),aP=t9("$ZodNull",(e,t)=>{n2.init(e,t),e._zod.pattern=nc,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let i=t.value;return null===i||t.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),t}}),aj=t9("$ZodAny",(e,t)=>{n2.init(e,t),e._zod.parse=e=>e}),aR=t9("$ZodUnknown",(e,t)=>{n2.init(e,t),e._zod.parse=e=>e}),aN=t9("$ZodNever",(e,t)=>{n2.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),aU=t9("$ZodVoid",(e,t)=>{n2.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),t}}),aC=t9("$ZodDate",(e,t)=>{n2.init(e,t),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let n=r.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:e}),r}});function aD(e,t,r){e.issues.length&&t.issues.push(...rG(r,e.issues)),t.value[r]=e.value}let az=t9("$ZodArray",(e,t)=>{n2.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let a=[];for(let e=0;e<n.length;e++){let o=n[e],s=t.element._zod.run({value:o,issues:[]},i);s instanceof Promise?a.push(s.then(t=>aD(t,r,e))):aD(s,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function aL(e,t,r,i){e.issues.length&&t.issues.push(...rG(r,e.issues)),void 0===e.value?r in i&&(t.value[r]=void 0):t.value[r]=e.value}function aM(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=rM(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function aq(e,t,r,i,n,a){let o=[],s=n.keySet,l=n.catchall._zod,u=l.def.type;for(let n of Object.keys(t)){if(s.has(n))continue;if("never"===u){o.push(n);continue}let a=l.run({value:t[n],issues:[]},i);a instanceof Promise?e.push(a.then(e=>aL(e,r,n,t))):aL(a,r,n,t)}return(o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:a}),e.length)?Promise.all(e).then(()=>r):r}let aV=t9("$ZodObject",(e,t)=>{let r;n2.init(e,t);let i=Object.getOwnPropertyDescriptor(t,"shape");if(!i?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let n=rp(()=>aM(t));ry(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(r[t]??(r[t]=new Set),i.values))r[t].add(e)}return r});let a=t.catchall;e._zod.parse=(t,i)=>{r??(r=n.value);let o=t.value;if(!rI(o))return t.issues.push({expected:"object",code:"invalid_type",input:o,inst:e}),t;t.value={};let s=[],l=r.shape;for(let e of r.keys){let r=l[e]._zod.run({value:o[e],issues:[]},i);r instanceof Promise?s.push(r.then(r=>aL(r,t,e,o))):aL(r,t,e,o)}return a?aq(s,o,t,i,n.value,e):s.length?Promise.all(s).then(()=>t):t}}),aJ=t9("$ZodObjectJIT",(e,t)=>{let r,i;aV.init(e,t);let n=e._zod.parse,a=rp(()=>aM(t)),o=!rr.jitless,s=o&&rT.value,l=t.catchall;e._zod.parse=(u,c)=>{i??(i=a.value);let d=u.value;return rI(d)?o&&s&&c?.async===!1&&!0!==c.jitless?(r||(r=(e=>{let t=new n4(["shape","payload","ctx"]),r=a.value,i=e=>{let t=rO(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let n=Object.create(null),o=0;for(let e of r.keys)n[e]=`key_${o++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=n[e],a=rO(e);t.write(`const ${r} = ${i(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let s=t.compile();return(t,r)=>s(e,t,r)})(t.shape)),u=r(u,c),l)?aq([],d,u,c,i,e):u:n(u,c):(u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u)}});function aF(e,t,r,i){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let n=e.filter(e=>!rQ(e));return 1===n.length?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>rX(e,i,ri())))}),t)}let aZ=t9("$ZodUnion",(e,t)=>{n2.init(e,t),ry(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),ry(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),ry(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),ry(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>rm(e.source)).join("|")})$`)}});let r=1===t.options.length,i=t.options[0]._zod.run;e._zod.parse=(n,a)=>{if(r)return i(n,a);let o=!1,s=[];for(let e of t.options){let t=e._zod.run({value:n.value,issues:[]},a);if(t instanceof Promise)s.push(t),o=!0;else{if(0===t.issues.length)return t;s.push(t)}}return o?Promise.all(s).then(t=>aF(t,n,e,a)):aF(s,n,e,a)}}),aB=t9("$ZodDiscriminatedUnion",(e,t)=>{aZ.init(e,t);let r=e._zod.parse;ry(e._zod,"propValues",()=>{let e={};for(let r of t.options){let i=r._zod.propValues;if(!i||0===Object.keys(i).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(i))for(let i of(e[t]||(e[t]=new Set),r))e[t].add(i)}return e});let i=rp(()=>{let e=t.options,r=new Map;for(let i of e){let e=i._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,i)}}return r});e._zod.parse=(n,a)=>{let o=n.value;if(!rI(o))return n.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),n;let s=i.value.get(o?.[t.discriminator]);return s?s._zod.run(n,a):t.unionFallback?r(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),n)}}),aH=t9("$ZodIntersection",(e,t)=>{n2.init(e,t),e._zod.parse=(e,r)=>{let i=e.value,n=t.left._zod.run({value:i,issues:[]},r),a=t.right._zod.run({value:i,issues:[]},r);return n instanceof Promise||a instanceof Promise?Promise.all([n,a]).then(([t,r])=>aW(e,t,r)):aW(e,n,a)}});function aW(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),rQ(e))return e;let i=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(r$(t)&&r$(r)){let i=Object.keys(r),n=Object.keys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};a[i]=n.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let i=[];for(let n=0;n<t.length;n++){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};i.push(a.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}let aK=t9("$ZodTuple",(e,t)=>{n2.init(e,t);let r=t.items,i=r.length-[...r].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(n,a)=>{let o=n.value;if(!Array.isArray(o))return n.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[];if(!t.rest){let t=o.length>r.length,a=o.length<i-1;if(t||a)return n.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:o,inst:e,origin:"array"}),n}let l=-1;for(let e of r){if(++l>=o.length&&l>=i)continue;let t=e._zod.run({value:o[l],issues:[]},a);t instanceof Promise?s.push(t.then(e=>aQ(e,n,l))):aQ(t,n,l)}if(t.rest)for(let e of o.slice(r.length)){l++;let r=t.rest._zod.run({value:e,issues:[]},a);r instanceof Promise?s.push(r.then(e=>aQ(e,n,l))):aQ(r,n,l)}return s.length?Promise.all(s).then(()=>n):n}});function aQ(e,t,r){e.issues.length&&t.issues.push(...rG(r,e.issues)),t.value[r]=e.value}let aG=t9("$ZodRecord",(e,t)=>{n2.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!r$(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:e}),r;let a=[];if(t.keyType._zod.values){let o,s=t.keyType._zod.values;for(let e of(r.value={},s))if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){let o=t.valueType._zod.run({value:n[e],issues:[]},i);o instanceof Promise?a.push(o.then(t=>{t.issues.length&&r.issues.push(...rG(e,t.issues)),r.value[e]=t.value})):(o.issues.length&&r.issues.push(...rG(e,o.issues)),r.value[e]=o.value)}for(let e in n)s.has(e)||(o=o??[]).push(e);o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:e,keys:o})}else for(let o of(r.value={},Reflect.ownKeys(n))){if("__proto__"===o)continue;let s=t.keyType._zod.run({value:o,issues:[]},i);if(s instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(s.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map(e=>rX(e,i,ri())),input:o,path:[o],inst:e}),r.value[s.value]=s.value;continue}let l=t.valueType._zod.run({value:n[o],issues:[]},i);l instanceof Promise?a.push(l.then(e=>{e.issues.length&&r.issues.push(...rG(o,e.issues)),r.value[s.value]=e.value})):(l.issues.length&&r.issues.push(...rG(o,l.issues)),r.value[s.value]=l.value)}return a.length?Promise.all(a).then(()=>r):r}}),aY=t9("$ZodMap",(e,t)=>{n2.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:e}),r;let a=[];for(let[o,s]of(r.value=new Map,n)){let l=t.keyType._zod.run({value:o,issues:[]},i),u=t.valueType._zod.run({value:s,issues:[]},i);l instanceof Promise||u instanceof Promise?a.push(Promise.all([l,u]).then(([t,a])=>{aX(t,a,r,o,n,e,i)})):aX(l,u,r,o,n,e,i)}return a.length?Promise.all(a).then(()=>r):r}});function aX(e,t,r,i,n,a,o){e.issues.length&&(rR.has(typeof i)?r.issues.push(...rG(i,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:a,issues:e.issues.map(e=>rX(e,o,ri()))})),t.issues.length&&(rR.has(typeof i)?r.issues.push(...rG(i,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:i,issues:t.issues.map(e=>rX(e,o,ri()))})),r.value.set(e.value,t.value)}let a0=t9("$ZodSet",(e,t)=>{n2.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:e,expected:"set",code:"invalid_type"}),r;let a=[];for(let e of(r.value=new Set,n)){let n=t.valueType._zod.run({value:e,issues:[]},i);n instanceof Promise?a.push(n.then(e=>a1(e,r))):a1(n,r)}return a.length?Promise.all(a).then(()=>r):r}});function a1(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let a4=t9("$ZodEnum",(e,t)=>{n2.init(e,t);let r=ru(t.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=RegExp(`^(${r.filter(e=>rR.has(typeof e)).map(e=>"string"==typeof e?rU(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{let a=t.value;return i.has(a)||t.issues.push({code:"invalid_value",values:r,input:a,inst:e}),t}}),a6=t9("$ZodLiteral",(e,t)=>{if(n2.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?rU(e):e?rU(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,i)=>{let n=r.value;return e._zod.values.has(n)||r.issues.push({code:"invalid_value",values:t.values,input:n,inst:e}),r}}),a2=t9("$ZodFile",(e,t)=>{n2.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return i instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),t}}),a5=t9("$ZodTransform",(e,t)=>{n2.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new rt(e.constructor.name);let n=t.transform(r.value,r);if(i.async)return(n instanceof Promise?n:Promise.resolve(n)).then(e=>(r.value=e,r));if(n instanceof Promise)throw new re;return r.value=n,r}});function a3(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let a8=t9("$ZodOptional",(e,t)=>{n2.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ry(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ry(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${rm(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>a3(t,e.value)):a3(i,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),a9=t9("$ZodNullable",(e,t)=>{n2.init(e,t),ry(e._zod,"optin",()=>t.innerType._zod.optin),ry(e._zod,"optout",()=>t.innerType._zod.optout),ry(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${rm(e.source)}|null)$`):void 0}),ry(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),a7=t9("$ZodDefault",(e,t)=>{n2.init(e,t),e._zod.optin="optional",ry(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(e=>oe(e,t)):oe(i,t)}});function oe(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let ot=t9("$ZodPrefault",(e,t)=>{n2.init(e,t),e._zod.optin="optional",ry(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),or=t9("$ZodNonOptional",(e,t)=>{n2.init(e,t),ry(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,i)=>{let n=t.innerType._zod.run(r,i);return n instanceof Promise?n.then(t=>oi(t,e)):oi(n,e)}});function oi(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let on=t9("$ZodSuccess",(e,t)=>{n2.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new rt("ZodSuccess");let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===i.issues.length,e)}}),oa=t9("$ZodCatch",(e,t)=>{n2.init(e,t),ry(e._zod,"optin",()=>t.innerType._zod.optin),ry(e._zod,"optout",()=>t.innerType._zod.optout),ry(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>rX(e,r,ri()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>rX(e,r,ri()))},input:e.value}),e.issues=[]),e)}}),oo=t9("$ZodNaN",(e,t)=>{n2.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),os=t9("$ZodPipe",(e,t)=>{n2.init(e,t),ry(e._zod,"values",()=>t.in._zod.values),ry(e._zod,"optin",()=>t.in._zod.optin),ry(e._zod,"optout",()=>t.out._zod.optout),ry(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>ol(e,t.in,r)):ol(i,t.in,r)}let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>ol(e,t.out,r)):ol(i,t.out,r)}});function ol(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let ou=t9("$ZodCodec",(e,t)=>{n2.init(e,t),ry(e._zod,"values",()=>t.in._zod.values),ry(e._zod,"optin",()=>t.in._zod.optin),ry(e._zod,"optout",()=>t.out._zod.optout),ry(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>oc(e,t,r)):oc(i,t,r)}{let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>oc(e,t,r)):oc(i,t,r)}}});function oc(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let i=t.transform(e.value,e);return i instanceof Promise?i.then(i=>od(e,i,t.out,r)):od(e,i,t.out,r)}{let i=t.reverseTransform(e.value,e);return i instanceof Promise?i.then(i=>od(e,i,t.in,r)):od(e,i,t.in,r)}}function od(e,t,r,i){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},i)}let op=t9("$ZodReadonly",(e,t)=>{n2.init(e,t),ry(e._zod,"propValues",()=>t.innerType._zod.propValues),ry(e._zod,"values",()=>t.innerType._zod.values),ry(e._zod,"optin",()=>t.innerType._zod.optin),ry(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(of):of(i)}});function of(e){return e.value=Object.freeze(e.value),e}let om=t9("$ZodTemplateLiteral",(e,t)=>{n2.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let i=+!!t.startsWith("^"),n=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(i,n))}else if(null===e||rN.has(typeof e))r.push(rU(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,i)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),oh=t9("$ZodFunction",(e,t)=>(n2.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let i=Reflect.apply(t,this,e._def.input?id(e._def.input,r):r);return e._def.output?id(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let i=e._def.input?await im(e._def.input,r):r,n=await Reflect.apply(t,this,i);return e._def.output?await im(e._def.output,n):n}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new aK({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),og=t9("$ZodPromise",(e,t)=>{n2.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),oy=t9("$ZodLazy",(e,t)=>{n2.init(e,t),ry(e._zod,"innerType",()=>t.getter()),ry(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),ry(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),ry(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),ry(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),ov=t9("$ZodCustom",(e,t)=>{nj.init(e,t),n2.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let i=r.value,n=t.fn(i);if(n instanceof Promise)return n.then(t=>ob(t,r,i,e));ob(n,r,i,e)}});function ob(e,t,r,i){if(!e){let e={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(r4(e))}}function ow(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :   ${rL(r.values[0])}`;return`  :     : ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${i.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${rc(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}}})()}}function o_(){return{localeError:(()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${rL(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}}})()}}function ox(e,t,r,i){let n=Math.abs(e),a=n%10,o=n%100;return o>=11&&o<=19?i:1===a?t:a>=2&&a<=4?r:i}function ok(){return{localeError:(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])}`;return` :    ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=ox(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${r.origin??""}  ${i.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=ox(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${r.origin}  ${i.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}}})()}}function oS(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])}`;return` :    ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${i.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${i.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :     ${r.pattern}`;let e="";return"emoji"===r.format&&(e=""),"datetime"===r.format&&(e=""),"date"===r.format&&(e=""),"time"===r.format&&(e=""),"duration"===r.format&&(e=""),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}}})()}}function oO(){return{localeError:(()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${rL(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${rc(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",i=e[r.origin]??null;if(i)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${i.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",i=e[r.origin]??null;if(i)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${i.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}}})()}}function oE(){return{localeError:(()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${rL(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${rc(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}}})()}}function oI(){return{localeError:(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{var n,a,o,s;switch(i.code){case"invalid_type":return`Ugyldigt input: forventede ${t[n=i.expected]??n}, fik ${t[a=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(i.input)]??a}`;case"invalid_value":if(1===i.values.length)return`Ugyldig v\xe6rdi: forventede ${rL(i.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${rc(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",n=e[i.origin]??null,a=t[o=i.origin]??o;if(n)return`For stor: forventede ${a??"value"} ${n.verb} ${r} ${i.maximum.toString()} ${n.unit??"elementer"}`;return`For stor: forventede ${a??"value"} havde ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",n=e[i.origin]??null,a=t[s=i.origin]??s;if(n)return`For lille: forventede ${a} ${n.verb} ${r} ${i.minimum.toString()} ${n.unit}`;return`For lille: forventede ${a} havde ${r} ${i.minimum.toString()}`}case"invalid_format":if("starts_with"===i.format)return`Ugyldig streng: skal starte med "${i.prefix}"`;if("ends_with"===i.format)return`Ugyldig streng: skal ende med "${i.suffix}"`;if("includes"===i.format)return`Ugyldig streng: skal indeholde "${i.includes}"`;if("regex"===i.format)return`Ugyldig streng: skal matche m\xf8nsteret ${i.pattern}`;return`Ugyldig ${r[i.format]??i.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${rc(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${i.origin}`;default:return"Ugyldigt input"}}})()}}function oT(){return{localeError:(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${rL(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${i.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${i.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${rc(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}}})()}}function o$(){return{localeError:(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${rL(r.values[0])}`;return`Invalid option: expected one of ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${i.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${i.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}}})()}}function oA(){return{localeError:(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiis ${r.expected}, riceviis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiis ${rL(r.values[0])}`;return`Nevalida opcio: atendiis unu el ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${i.unit??"elementojn"}`;return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Tro malgranda: atendiis ke ${r.origin} havu ${t}${r.minimum.toString()} ${i.unit}`;return`Tro malgranda: atendiis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komencii per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finii per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} losilo${r.keys.length>1?"j":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}}})()}}function oP(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(e){return t[e]??e}let i={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r(t.expected)}, recibido ${r((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${rL(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${rc(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${i}${t.maximum.toString()} ${n.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${a??"valor"} fuera ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado peque\xf1o: se esperaba que ${a} tuviera ${i}${t.minimum.toString()} ${n.unit}`;return`Demasiado peque\xf1o: se esperaba que ${a} fuera ${i}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${i[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${rc(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r(t.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${r(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}}function oj(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])} `;return` :    ${rc(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}}})()}}function oR(){return{localeError:(()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${rL(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Liian suuri: ${i.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${i.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Liian pieni: ${i.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${i.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${rc(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}}})()}}function oN(){return{localeError:(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${rL(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${rc(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Trop grand : ${r.origin??"valeur"} doit ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Trop petit : ${r.origin} doit ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${rc(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}}})()}}function oU(){return{localeError:(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${rL(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",i=e[r.origin]??null;if(i)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${i.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",i=e[r.origin]??null;if(i)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${rc(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}}})()}}function oC(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${rL(r.values[0])}`;return`  :     ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??"value"}   ${t}${r.maximum.toString()} ${i.unit??"elements"}`;return` : ${r.origin??"value"}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}   ${t}${r.minimum.toString()} ${i.unit}`;return` : ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :   "${r.prefix}"`;if("ends_with"===r.format)return`  :    "${r.suffix}"`;if("includes"===r.format)return`  :   "${r.includes}"`;if("regex"===r.format)return`  :    ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :     ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}  ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}}})()}}function oD(){return{localeError:(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${rL(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${i.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${i.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}}})()}}function oz(){return{localeError:(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${rL(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}}})()}}function oL(){return{localeError:(()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return r=>{switch(r.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} \xfear sem \xe1 a\xf0 vera ${r.expected}`;case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${rL(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${i.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${i.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${rc(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}}})()}}function oM(){return{localeError:(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${rL(r.values[0])}`;return`Opzione non valida: atteso uno tra ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${i.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${i.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${rc(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}}})()}}function oq(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`: ${rL(r.values[0])}`;return`: ${rc(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin??""}${r.maximum.toString()}${i.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin}${r.minimum.toString()}${i.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${rc(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}}})()}}function oV(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])}`;return` :  - ${rc(r.values,"|")}-`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :  ${r.origin??""} ${i.verb} ${t}${r.maximum.toString()} ${i.unit}`;return` :  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :  ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return` :  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"-`;if("ends_with"===r.format)return` :   "${r.suffix}"-`;if("includes"===r.format)return` :   "${r.includes}"-`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :   ${r.divisor}- `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`  ${r.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${r.origin}-`;default:return` `}}})()}}function oJ(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  ${rL(r.values[0])}`;return`  ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`  ${r.origin} ${t} ${r.minimum.toString()} ${i.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${rc(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}}})()}}function oF(){return oJ()}function oZ(){return{localeError:(()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])}  `;return` : ${rc(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",i=""===t?" ":" ",n=e[r.origin]??null,a=n?.unit??"";if(n)return`${r.origin??""}  : ${r.maximum.toString()}${a} ${t}${i}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${i}`}case"too_small":{let t=r.inclusive?"":"",i=""===t?" ":" ",n=e[r.origin]??null,a=n?.unit??"";if(n)return`${r.origin??""}  : ${r.minimum.toString()}${a} ${t}${i}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${i}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${rc(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}}})()}}e.s([],16593);let oB=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},oH=e=>e.charAt(0).toUpperCase()+e.slice(1);function oW(e){let t=Math.abs(e),r=t%10,i=t%100;return i>=11&&i<=19||0===r?"many":1===r?"one":"few"}function oK(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,r,i,n){let a=e[t]??null;return null===a?a:{unit:a.unit[r],verb:a.verb[n][i?"inclusive":"notInclusive"]}}let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":let i;return`Gautas tipas ${oB(typeof(i=e.input),i)}, o tiktasi - ${oB(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${rL(e.values[0])}`;return`Privalo bti vienas i ${rc(e.values,"|")} pasirinkim`;case"too_big":{let r=oB(e.origin),i=t(e.origin,oW(Number(e.maximum)),e.inclusive??!1,"smaller");if(i?.verb)return`${oH(r??e.origin??"reikm")} ${i.verb} ${e.maximum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${oH(r??e.origin??"reikm")} turi bti ${n} ${e.maximum.toString()} ${i?.unit}`}case"too_small":{let r=oB(e.origin),i=t(e.origin,oW(Number(e.minimum)),e.inclusive??!1,"bigger");if(i?.verb)return`${oH(r??e.origin??"reikm")} ${i.verb} ${e.minimum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${oH(r??e.origin??"reikm")} turi bti ${n} ${e.minimum.toString()} ${i?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${r[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${rc(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=oB(e.origin);return`${oH(t??e.origin??"reikm")} turi klaiding vest`}}}})()}}function oQ(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${rL(r.values[0])}`;return` :    ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${i.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${i.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}}})()}}function oG(){return{localeError:(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${rL(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: dijangka ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${rc(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}}})()}}function oY(){return{localeError:(()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${rL(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} ${i.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} ${i.unit} bevat`;return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}}})()}}function oX(){return{localeError:(()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${rL(r.values[0])}`;return`Ugyldig valg: forventet en av ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${i.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${i.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${rc(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}}})()}}function o0(){return{localeError:(()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${rL(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${i.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${i.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}}})()}}function o1(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])} `;return` :    ${rc(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}}})()}}function o4(){return{localeError:(()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${rL(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${i.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${i.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}}})()}}function o6(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${rL(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${i.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${i.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}}})()}}function o2(e,t,r,i){let n=Math.abs(e),a=n%10,o=n%100;return o>=11&&o<=19?i:1===a?t:a>=2&&a<=4?r:i}function o5(){return{localeError:(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])}`;return` :    ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=o2(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=o2(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}}})()}}function o3(){return{localeError:(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${rL(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${i.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${i.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${rc(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}}})()}}function o8(){return{localeError:(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${rL(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${i.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${rc(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}}})()}}function o9(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${rL(r.values[0])}`;return` :  ${rc(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${i.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :  ${r.origin} ${t}${r.minimum.toString()} ${i.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}}})()}}function o7(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`:  ${rL(r.values[0])}`;return`:  ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin} ${t} ${r.minimum.toString()} ${i.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${rc(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}}})()}}function se(){return{localeError:(()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return r=>{switch(r.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz deer: beklenen ${rL(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()} ${i.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile balamal`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${r.keys.length>1?"lar":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}}})()}}function st(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${rL(r.values[0])}`;return` :    ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ,  ${r.origin??""} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ,  ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${rc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}}})()}}function sr(){return st()}function si(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return`  : ${rL(r.values[0])}  `;return` : ${rc(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${rc(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}}})()}}function sn(){return{localeError:(()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return r=>{switch(r.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${r.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${rL(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Qu\xe1 nh: mong i ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${rc(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}}})()}}function sa(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${rL(r.values[0])}`;return` ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` ${r.origin??""} ${t}${r.maximum.toString()} ${i.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${rc(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}}})()}}function so(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${rL(r.values[0])}`;return` ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` ${r.origin}  ${t}${r.minimum.toString()} ${i.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${rc(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}}})()}}function ss(){return{localeError:(()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return r=>{switch(r.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${r.expected}, \xe0m a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${rL(r.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${rc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${r.origin??"iye"} ${i.verb} ${t}${r.maximum} ${i.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${r.origin} ${i.verb} ${t}${r.minimum} ${i.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`r a\xece: gbd br pl\xfa "${r.prefix}"`;if("ends_with"===r.format)return`r a\xece: gbd par\xed pl\xfa "${r.suffix}"`;if("includes"===r.format)return`r a\xece: gbd n\xed "${r.includes}"`;if("regex"===r.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${r.pattern}`;return`A\xece: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${rc(r.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${r.origin}`}}})()}}e.s(["$ZodRegistry",()=>sc,"$input",()=>su,"$output",()=>sl,"globalRegistry",()=>sp,"registry",()=>sd],18699);let sl=Symbol("ZodOutput"),su=Symbol("ZodInput");class sc{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function sd(){return new sc}let sp=sd();function sf(e,t){return new e({type:"string",...rD(t)})}function sm(e,t){return new e({type:"string",coerce:!0,...rD(t)})}function sh(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...rD(t)})}function sg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...rD(t)})}function sy(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...rD(t)})}function sv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...rD(t)})}function sb(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...rD(t)})}function sw(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...rD(t)})}function s_(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...rD(t)})}function sx(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...rD(t)})}function sk(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...rD(t)})}function sS(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...rD(t)})}function sO(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...rD(t)})}function sE(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...rD(t)})}function sI(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...rD(t)})}function sT(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...rD(t)})}function s$(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...rD(t)})}function sA(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...rD(t)})}function sP(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...rD(t)})}function sj(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...rD(t)})}function sR(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...rD(t)})}function sN(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...rD(t)})}function sU(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...rD(t)})}function sC(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...rD(t)})}e.s(["TimePrecision",()=>sD,"_any",()=>s2,"_array",()=>l$,"_base64",()=>sR,"_base64url",()=>sN,"_bigint",()=>sG,"_boolean",()=>sK,"_catch",()=>lH,"_check",()=>l4,"_cidrv4",()=>sP,"_cidrv6",()=>sj,"_coercedBigint",()=>sY,"_coercedBoolean",()=>sQ,"_coercedDate",()=>s7,"_coercedNumber",()=>sJ,"_coercedString",()=>sm,"_cuid",()=>sS,"_cuid2",()=>sO,"_custom",()=>lX,"_date",()=>s9,"_default",()=>lF,"_discriminatedUnion",()=>lP,"_e164",()=>sU,"_email",()=>sh,"_emoji",()=>sx,"_endsWith",()=>l_,"_enum",()=>lD,"_file",()=>lM,"_float32",()=>sZ,"_float64",()=>sB,"_gt",()=>li,"_gte",()=>ln,"_guid",()=>sg,"_includes",()=>lb,"_int",()=>sF,"_int32",()=>sH,"_int64",()=>sX,"_intersection",()=>lj,"_ipv4",()=>s$,"_ipv6",()=>sA,"_isoDate",()=>sL,"_isoDateTime",()=>sz,"_isoDuration",()=>sq,"_isoTime",()=>sM,"_jwt",()=>sC,"_ksuid",()=>sT,"_lazy",()=>lG,"_length",()=>lh,"_literal",()=>lL,"_lowercase",()=>ly,"_lt",()=>lt,"_lte",()=>lr,"_map",()=>lU,"_max",()=>lr,"_maxLength",()=>lf,"_maxSize",()=>lc,"_mime",()=>lk,"_min",()=>ln,"_minLength",()=>lm,"_minSize",()=>ld,"_multipleOf",()=>lu,"_nan",()=>le,"_nanoid",()=>sk,"_nativeEnum",()=>lz,"_negative",()=>lo,"_never",()=>s3,"_nonnegative",()=>ll,"_nonoptional",()=>lZ,"_nonpositive",()=>ls,"_normalize",()=>lO,"_null",()=>s6,"_nullable",()=>lJ,"_number",()=>sV,"_optional",()=>lV,"_overwrite",()=>lS,"_pipe",()=>lW,"_positive",()=>la,"_promise",()=>lY,"_property",()=>lx,"_readonly",()=>lK,"_record",()=>lN,"_refine",()=>l0,"_regex",()=>lg,"_set",()=>lC,"_size",()=>lp,"_startsWith",()=>lw,"_string",()=>sf,"_stringFormat",()=>l2,"_stringbool",()=>l6,"_success",()=>lB,"_superRefine",()=>l1,"_symbol",()=>s1,"_templateLiteral",()=>lQ,"_toLowerCase",()=>lI,"_toUpperCase",()=>lT,"_transform",()=>lq,"_trim",()=>lE,"_tuple",()=>lR,"_uint32",()=>sW,"_uint64",()=>s0,"_ulid",()=>sE,"_undefined",()=>s4,"_union",()=>lA,"_unknown",()=>s5,"_uppercase",()=>lv,"_url",()=>s_,"_uuid",()=>sy,"_uuidv4",()=>sv,"_uuidv6",()=>sb,"_uuidv7",()=>sw,"_void",()=>s8,"_xid",()=>sI],75072);let sD={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function sz(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...rD(t)})}function sL(e,t){return new e({type:"string",format:"date",check:"string_format",...rD(t)})}function sM(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...rD(t)})}function sq(e,t){return new e({type:"string",format:"duration",check:"string_format",...rD(t)})}function sV(e,t){return new e({type:"number",checks:[],...rD(t)})}function sJ(e,t){return new e({type:"number",coerce:!0,checks:[],...rD(t)})}function sF(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...rD(t)})}function sZ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...rD(t)})}function sB(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...rD(t)})}function sH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...rD(t)})}function sW(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...rD(t)})}function sK(e,t){return new e({type:"boolean",...rD(t)})}function sQ(e,t){return new e({type:"boolean",coerce:!0,...rD(t)})}function sG(e,t){return new e({type:"bigint",...rD(t)})}function sY(e,t){return new e({type:"bigint",coerce:!0,...rD(t)})}function sX(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...rD(t)})}function s0(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...rD(t)})}function s1(e,t){return new e({type:"symbol",...rD(t)})}function s4(e,t){return new e({type:"undefined",...rD(t)})}function s6(e,t){return new e({type:"null",...rD(t)})}function s2(e){return new e({type:"any"})}function s5(e){return new e({type:"unknown"})}function s3(e,t){return new e({type:"never",...rD(t)})}function s8(e,t){return new e({type:"void",...rD(t)})}function s9(e,t){return new e({type:"date",...rD(t)})}function s7(e,t){return new e({type:"date",coerce:!0,...rD(t)})}function le(e,t){return new e({type:"nan",...rD(t)})}function lt(e,t){return new nN({check:"less_than",...rD(t),value:e,inclusive:!1})}function lr(e,t){return new nN({check:"less_than",...rD(t),value:e,inclusive:!0})}function li(e,t){return new nU({check:"greater_than",...rD(t),value:e,inclusive:!1})}function ln(e,t){return new nU({check:"greater_than",...rD(t),value:e,inclusive:!0})}function la(e){return li(0,e)}function lo(e){return lt(0,e)}function ls(e){return lr(0,e)}function ll(e){return ln(0,e)}function lu(e,t){return new nC({check:"multiple_of",...rD(t),value:e})}function lc(e,t){return new nL({check:"max_size",...rD(t),maximum:e})}function ld(e,t){return new nM({check:"min_size",...rD(t),minimum:e})}function lp(e,t){return new nq({check:"size_equals",...rD(t),size:e})}function lf(e,t){return new nV({check:"max_length",...rD(t),maximum:e})}function lm(e,t){return new nJ({check:"min_length",...rD(t),minimum:e})}function lh(e,t){return new nF({check:"length_equals",...rD(t),length:e})}function lg(e,t){return new nB({check:"string_format",format:"regex",...rD(t),pattern:e})}function ly(e){return new nH({check:"string_format",format:"lowercase",...rD(e)})}function lv(e){return new nW({check:"string_format",format:"uppercase",...rD(e)})}function lb(e,t){return new nK({check:"string_format",format:"includes",...rD(t),includes:e})}function lw(e,t){return new nQ({check:"string_format",format:"starts_with",...rD(t),prefix:e})}function l_(e,t){return new nG({check:"string_format",format:"ends_with",...rD(t),suffix:e})}function lx(e,t,r){return new nX({check:"property",property:e,schema:t,...rD(r)})}function lk(e,t){return new n0({check:"mime_type",mime:e,...rD(t)})}function lS(e){return new n1({check:"overwrite",tx:e})}function lO(e){return lS(t=>t.normalize(e))}function lE(){return lS(e=>e.trim())}function lI(){return lS(e=>e.toLowerCase())}function lT(){return lS(e=>e.toUpperCase())}function l$(e,t,r){return new e({type:"array",element:t,...rD(r)})}function lA(e,t,r){return new e({type:"union",options:t,...rD(r)})}function lP(e,t,r,i){return new e({type:"union",options:r,discriminator:t,...rD(i)})}function lj(e,t,r){return new e({type:"intersection",left:t,right:r})}function lR(e,t,r,i){let n=r instanceof n2,a=n?i:r;return new e({type:"tuple",items:t,rest:n?r:null,...rD(a)})}function lN(e,t,r,i){return new e({type:"record",keyType:t,valueType:r,...rD(i)})}function lU(e,t,r,i){return new e({type:"map",keyType:t,valueType:r,...rD(i)})}function lC(e,t,r){return new e({type:"set",valueType:t,...rD(r)})}function lD(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...rD(r)})}function lz(e,t,r){return new e({type:"enum",entries:t,...rD(r)})}function lL(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...rD(r)})}function lM(e,t){return new e({type:"file",...rD(t)})}function lq(e,t){return new e({type:"transform",transform:t})}function lV(e,t){return new e({type:"optional",innerType:t})}function lJ(e,t){return new e({type:"nullable",innerType:t})}function lF(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():rA(r)}})}function lZ(e,t,r){return new e({type:"nonoptional",innerType:t,...rD(r)})}function lB(e,t){return new e({type:"success",innerType:t})}function lH(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function lW(e,t,r){return new e({type:"pipe",in:t,out:r})}function lK(e,t){return new e({type:"readonly",innerType:t})}function lQ(e,t,r){return new e({type:"template_literal",parts:t,...rD(r)})}function lG(e,t){return new e({type:"lazy",getter:t})}function lY(e,t){return new e({type:"promise",innerType:t})}function lX(e,t,r){let i=rD(r);return i.abort??(i.abort=!0),new e({type:"custom",check:"custom",fn:t,...i})}function l0(e,t,r){return new e({type:"custom",check:"custom",fn:t,...rD(r)})}function l1(e){let t=l4(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(r4(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(r4(e)))},e(r.value,r)));return t}function l4(e,t){let r=new nj({check:"custom",...rD(t)});return r._zod.check=e,r}function l6(e,t){let r=rD(t),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(i=i.map(e=>"string"==typeof e?e.toLowerCase():e),n=n.map(e=>"string"==typeof e?e.toLowerCase():e));let a=new Set(i),o=new Set(n),s=e.Codec??ou,l=e.Boolean??aE,u=new s({type:"pipe",in:new(e.String??n5)({type:"string",error:r.error}),out:new l({type:"boolean",error:r.error}),transform:(e,t)=>{let i=e;return"sensitive"!==r.case&&(i=i.toLowerCase()),!!a.has(i)||!o.has(i)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?i[0]||"true":n[0]||"false",error:r.error});return u}function l2(e,t,r,i={}){let n=rD(i),a={...rD(i),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...n};return r instanceof RegExp&&(a.pattern=r),new e(a)}e.s(["JSONSchemaGenerator",()=>l5,"toJSONSchema",()=>l3],5386);class l5{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??sp,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let i=e._zod.def,n=this.seen.get(e);if(n)return n.count++,t.schemaPath.includes(e)&&(n.cycle=t.path),n.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let o=e._zod.toJSONSchema?.();if(o)a.schema=o;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},n=e._zod.parent;if(n)a.ref=n,this.process(n,r),this.seen.get(n).isParent=!0;else{let t=a.schema;switch(i.type){case"string":{t.type="string";let{minimum:r,maximum:i,format:n,patterns:o,contentEncoding:s}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof i&&(t.maxLength=i),n&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[n]??n,""===t.format&&delete t.format),s&&(t.contentEncoding=s),o&&o.size>0){let e=[...o];1===e.length?t.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:i,format:n,multipleOf:a,exclusiveMaximum:o,exclusiveMinimum:s}=e._zod.bag;"string"==typeof n&&n.includes("int")?t.type="integer":t.type="number","number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=s,t.exclusiveMinimum=!0):t.exclusiveMinimum=s),"number"==typeof r&&(t.minimum=r,"number"==typeof s&&"draft-4"!==this.target&&(s>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=o,t.exclusiveMaximum=!0):t.exclusiveMaximum=o),"number"==typeof i&&(t.maximum=i,"number"==typeof o&&"draft-4"!==this.target&&(o<=i?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof a&&(t.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:n,maximum:a}=e._zod.bag;"number"==typeof n&&(t.minItems=n),"number"==typeof a&&(t.maxItems=a),t.type="array",t.items=this.process(i.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=i.shape;for(let i in e)t.properties[i]=this.process(e[i],{...r,path:[...r.path,"properties",i]});let n=new Set([...new Set(Object.keys(e))].filter(e=>{let t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));n.size>0&&(t.required=Array.from(n)),i.catchall?._zod.def.type==="never"?t.additionalProperties=!1:i.catchall?i.catchall&&(t.additionalProperties=this.process(i.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":t.anyOf=i.options.map((e,t)=>this.process(e,{...r,path:[...r.path,"anyOf",t]}));break;case"intersection":{let e=this.process(i.left,{...r,path:[...r.path,"allOf",0]}),n=this.process(i.right,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...a(e)?e.allOf:[e],...a(n)?n.allOf:[n]];break}case"tuple":{t.type="array";let n="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",o=i.items.map((e,t)=>this.process(e,{...r,path:[...r.path,n,t]})),s=i.rest?this.process(i.rest,{...r,path:[...r.path,a,..."openapi-3.0"===this.target?[i.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=o,s&&(t.items=s)):"openapi-3.0"===this.target?(t.items={anyOf:o},s&&t.items.anyOf.push(s),t.minItems=o.length,s||(t.maxItems=o.length)):(t.items=o,s&&(t.additionalItems=s));let{minimum:l,maximum:u}=e._zod.bag;"number"==typeof l&&(t.minItems=l),"number"==typeof u&&(t.maxItems=u);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(i.keyType,{...r,path:[...r.path,"propertyNames"]})),t.additionalProperties=this.process(i.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=ru(i.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of i.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[r]:t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:n,mime:a}=e._zod.bag;void 0!==i&&(r.minLength=i),void 0!==n&&(r.maxLength=n),a?1===a.length?(r.contentMediaType=a[0],Object.assign(t,r)):t.anyOf=a.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(i.innerType,r);"openapi-3.0"===this.target?(a.ref=i.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,r),a.ref=i.innerType;break;case"default":this.process(i.innerType,r),a.ref=i.innerType,t.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,r),a.ref=i.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,r),a.ref=i.innerType;try{e=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,r),a.ref=e;break}case"readonly":this.process(i.innerType,r),a.ref=i.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let s=this.metadataRegistry.get(e);return s&&Object.assign(a.schema,s),"input"===this.io&&function e(t,r){let i=r??{seen:new Set};if(i.seen.has(t))return!1;i.seen.add(t);let n=t._zod.def;switch(n.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return e(n.element,i);case"object":for(let t in n.shape)if(e(n.shape[t],i))return!0;return!1;case"union":for(let t of n.options)if(e(t,i))return!0;return!1;case"intersection":return e(n.left,i)||e(n.right,i);case"tuple":for(let t of n.items)if(e(t,i))return!0;if(n.rest&&e(n.rest,i))return!0;return!1;case"record":case"map":return e(n.keyType,i)||e(n.valueType,i);case"set":return e(n.valueType,i);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return e(n.innerType,i);case"lazy":return e(n.getter(),i);case"transform":return!0;case"pipe":return e(n.in,i)||e(n.out,i)}throw Error(`Unknown schema type: ${n.type}`)}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},i=this.seen.get(e);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let n=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let i=r.external.registry.get(e[0])?.id,n=r.external.uri??(e=>e);if(i)return{ref:n(i)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${n("__shared")}#/${t}/${a}`}}if(e[1]===i)return{ref:"#"};let n=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:n+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:i}=n(e);t.def={...t.schema},i&&(t.defId=i);let a=t.schema;for(let e in a)delete a[e];a.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let i=t[1];if(e===t[0]){a(t);continue}if(r.external){let i=r.external.registry.get(t[0])?.id;if(e!==t[0]&&i){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id||i.cycle||i.count>1&&"ref"===r.reused){a(t);continue}}let o=(e,t)=>{let r=this.seen.get(e),i=r.def??r.schema,n={...i};if(null===r.ref)return;let a=r.ref;if(r.ref=null,a){o(a,t);let e=this.seen.get(a).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(i.allOf=i.allOf??[],i.allOf.push(e)):(Object.assign(i,e),Object.assign(i,n))}r.isParent||this.override({zodSchema:e,jsonSchema:i,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())o(e[0],{target:this.target});let s={};if("draft-2020-12"===this.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?s.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?s.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");s.$id=r.external.uri(t)}Object.assign(s,i.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}r.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch(e){throw Error("Error converting schema to JSON.")}}}function l3(e,t){if(e instanceof sc){let r=new l5(t),i={};for(let t of e._idmap.entries()){let[e,i]=t;r.process(i)}let n={},a={registry:e,uri:t?.uri,defs:i};for(let i of e._idmap.entries()){let[e,o]=i;n[e]=r.emit(o,{...t,external:a})}return Object.keys(i).length>0&&(n.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:i}),{schemas:n}}let r=new l5(t);return r.process(e),r.emit(e,t)}e.s([],13210),e.s(["ZodAny",()=>cP,"ZodArray",()=>cq,"ZodBase64",()=>u8,"ZodBase64URL",()=>u7,"ZodBigInt",()=>cw,"ZodBigIntFormat",()=>cx,"ZodBoolean",()=>cv,"ZodCIDRv4",()=>u6,"ZodCIDRv6",()=>u5,"ZodCUID",()=>uJ,"ZodCUID2",()=>uZ,"ZodCatch",()=>dx,"ZodCodec",()=>dT,"ZodCustom",()=>dM,"ZodCustomStringFormat",()=>ca,"ZodDate",()=>cL,"ZodDefault",()=>dm,"ZodDiscriminatedUnion",()=>cQ,"ZodE164",()=>ct,"ZodEmail",()=>uI,"ZodEmoji",()=>uL,"ZodEnum",()=>c7,"ZodFile",()=>dn,"ZodFunction",()=>dz,"ZodGUID",()=>u$,"ZodIPv4",()=>uX,"ZodIPv6",()=>u1,"ZodIntersection",()=>cY,"ZodJWT",()=>ci,"ZodKSUID",()=>uG,"ZodLazy",()=>dN,"ZodLiteral",()=>dr,"ZodMap",()=>c5,"ZodNaN",()=>dS,"ZodNanoID",()=>uq,"ZodNever",()=>cU,"ZodNonOptional",()=>dv,"ZodNull",()=>c$,"ZodNullable",()=>dd,"ZodNumber",()=>cc,"ZodNumberFormat",()=>cp,"ZodObject",()=>cF,"ZodOptional",()=>du,"ZodPipe",()=>dE,"ZodPrefault",()=>dg,"ZodPromise",()=>dC,"ZodReadonly",()=>dA,"ZodRecord",()=>c4,"ZodSet",()=>c8,"ZodString",()=>uS,"ZodStringFormat",()=>uE,"ZodSuccess",()=>dw,"ZodSymbol",()=>cO,"ZodTemplateLiteral",()=>dj,"ZodTransform",()=>ds,"ZodTuple",()=>c0,"ZodType",()=>ux,"ZodULID",()=>uH,"ZodURL",()=>uC,"ZodUUID",()=>uP,"ZodUndefined",()=>cI,"ZodUnion",()=>cW,"ZodUnknown",()=>cR,"ZodVoid",()=>cD,"ZodXID",()=>uK,"_ZodString",()=>uk,"_default",()=>dh,"_function",()=>dL,"any",()=>cj,"array",()=>cV,"base64",()=>u9,"base64url",()=>ce,"bigint",()=>c_,"boolean",()=>cb,"catch",()=>dk,"check",()=>dq,"cidrv4",()=>u2,"cidrv6",()=>u3,"codec",()=>d$,"cuid",()=>uF,"cuid2",()=>uB,"custom",()=>dV,"date",()=>cM,"discriminatedUnion",()=>cG,"e164",()=>cr,"email",()=>uT,"emoji",()=>uM,"enum",()=>de,"file",()=>da,"float32",()=>cm,"float64",()=>ch,"function",()=>dL,"guid",()=>uA,"hash",()=>cu,"hex",()=>cl,"hostname",()=>cs,"httpUrl",()=>uz,"instanceof",()=>dZ,"int",()=>cf,"int32",()=>cg,"int64",()=>ck,"intersection",()=>cX,"ipv4",()=>u0,"ipv6",()=>u4,"json",()=>dH,"jwt",()=>cn,"keyof",()=>cJ,"ksuid",()=>uY,"lazy",()=>dU,"literal",()=>di,"looseObject",()=>cH,"map",()=>c3,"nan",()=>dO,"nanoid",()=>uV,"nativeEnum",()=>dt,"never",()=>cC,"nonoptional",()=>db,"null",()=>cA,"nullable",()=>dp,"nullish",()=>df,"number",()=>cd,"object",()=>cZ,"optional",()=>dc,"partialRecord",()=>c2,"pipe",()=>dI,"prefault",()=>dy,"preprocess",()=>dW,"promise",()=>dD,"readonly",()=>dP,"record",()=>c6,"refine",()=>dJ,"set",()=>c9,"strictObject",()=>cB,"string",()=>uO,"stringFormat",()=>co,"stringbool",()=>dB,"success",()=>d_,"superRefine",()=>dF,"symbol",()=>cE,"templateLiteral",()=>dR,"transform",()=>dl,"tuple",()=>c1,"uint32",()=>cy,"uint64",()=>cS,"ulid",()=>uW,"undefined",()=>cT,"union",()=>cK,"unknown",()=>cN,"url",()=>uD,"uuid",()=>uj,"uuidv4",()=>uR,"uuidv6",()=>uN,"uuidv7",()=>uU,"void",()=>cz,"xid",()=>uQ],66904),e.s(["$ZodAny",()=>aj,"$ZodArray",()=>az,"$ZodBase64",()=>ay,"$ZodBase64URL",()=>ab,"$ZodBigInt",()=>aI,"$ZodBigIntFormat",()=>aT,"$ZodBoolean",()=>aE,"$ZodCIDRv4",()=>am,"$ZodCIDRv6",()=>ah,"$ZodCUID",()=>ai,"$ZodCUID2",()=>an,"$ZodCatch",()=>oa,"$ZodCodec",()=>ou,"$ZodCustom",()=>ov,"$ZodCustomStringFormat",()=>ak,"$ZodDate",()=>aC,"$ZodDefault",()=>a7,"$ZodDiscriminatedUnion",()=>aB,"$ZodE164",()=>aw,"$ZodEmail",()=>n7,"$ZodEmoji",()=>at,"$ZodEnum",()=>a4,"$ZodFile",()=>a2,"$ZodFunction",()=>oh,"$ZodGUID",()=>n8,"$ZodIPv4",()=>ap,"$ZodIPv6",()=>af,"$ZodISODate",()=>au,"$ZodISODateTime",()=>al,"$ZodISODuration",()=>ad,"$ZodISOTime",()=>ac,"$ZodIntersection",()=>aH,"$ZodJWT",()=>ax,"$ZodKSUID",()=>as,"$ZodLazy",()=>oy,"$ZodLiteral",()=>a6,"$ZodMap",()=>aY,"$ZodNaN",()=>oo,"$ZodNanoID",()=>ar,"$ZodNever",()=>aN,"$ZodNonOptional",()=>or,"$ZodNull",()=>aP,"$ZodNullable",()=>a9,"$ZodNumber",()=>aS,"$ZodNumberFormat",()=>aO,"$ZodObject",()=>aV,"$ZodObjectJIT",()=>aJ,"$ZodOptional",()=>a8,"$ZodPipe",()=>os,"$ZodPrefault",()=>ot,"$ZodPromise",()=>og,"$ZodReadonly",()=>op,"$ZodRecord",()=>aG,"$ZodSet",()=>a0,"$ZodString",()=>n5,"$ZodStringFormat",()=>n3,"$ZodSuccess",()=>on,"$ZodSymbol",()=>a$,"$ZodTemplateLiteral",()=>om,"$ZodTransform",()=>a5,"$ZodTuple",()=>aK,"$ZodType",()=>n2,"$ZodULID",()=>aa,"$ZodURL",()=>ae,"$ZodUUID",()=>n9,"$ZodUndefined",()=>aA,"$ZodUnion",()=>aZ,"$ZodUnknown",()=>aR,"$ZodVoid",()=>aU,"$ZodXID",()=>ao,"clone",()=>rC,"isValidBase64",()=>ag,"isValidBase64URL",()=>av,"isValidJWT",()=>a_],80562),e.i(47329);var l8=e.i(78621),l8=l8,l9=e.i(57460),l9=l9;e.s([],39494),e.s(["ZodISODate",()=>ut,"ZodISODateTime",()=>l7,"ZodISODuration",()=>ua,"ZodISOTime",()=>ui,"date",()=>ur,"datetime",()=>ue,"duration",()=>uo,"time",()=>un],14334);let l7=t9("ZodISODateTime",(e,t)=>{al.init(e,t),uE.init(e,t)});function ue(e){return sz(l7,e)}let ut=t9("ZodISODate",(e,t)=>{au.init(e,t),uE.init(e,t)});function ur(e){return sL(ut,e)}let ui=t9("ZodISOTime",(e,t)=>{ac.init(e,t),uE.init(e,t)});function un(e){return sM(ui,e)}let ua=t9("ZodISODuration",(e,t)=>{ad.init(e,t),uE.init(e,t)});function uo(e){return sq(ua,e)}e.s(["decode",()=>uh,"decodeAsync",()=>uy,"encode",()=>um,"encodeAsync",()=>ug,"parse",()=>uc,"parseAsync",()=>ud,"safeDecode",()=>ub,"safeDecodeAsync",()=>u_,"safeEncode",()=>uv,"safeEncodeAsync",()=>uw,"safeParse",()=>up,"safeParseAsync",()=>uf],21638),e.s(["ZodError",()=>ul,"ZodRealError",()=>uu],17446);let us=(e,t)=>{ir.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>io(e,t)},flatten:{value:t=>ia(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,rd,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,rd,2)}},isEmpty:{get:()=>0===e.issues.length}})},ul=t9("ZodError",us),uu=t9("ZodError",us,{Parent:Error}),uc=ic(uu),ud=ip(uu),up=ih(uu),uf=iy(uu),um=ib(uu),uh=i_(uu),ug=ik(uu),uy=iO(uu),uv=iI(uu),ub=i$(uu),uw=iP(uu),u_=iR(uu),ux=t9("ZodType",(e,t)=>(n2.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(l9.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>rC(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>uc(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>up(e,t,r),e.parseAsync=async(t,r)=>ud(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>uf(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>um(e,t,r),e.decode=(t,r)=>uh(e,t,r),e.encodeAsync=async(t,r)=>ug(e,t,r),e.decodeAsync=async(t,r)=>uy(e,t,r),e.safeEncode=(t,r)=>uv(e,t,r),e.safeDecode=(t,r)=>ub(e,t,r),e.safeEncodeAsync=async(t,r)=>uw(e,t,r),e.safeDecodeAsync=async(t,r)=>u_(e,t,r),e.refine=(t,r)=>e.check(dJ(t,r)),e.superRefine=t=>e.check(l1(t)),e.overwrite=t=>e.check(lS(t)),e.optional=()=>dc(e),e.nullable=()=>dp(e),e.nullish=()=>dc(dp(e)),e.nonoptional=t=>db(e,t),e.array=()=>cV(e),e.or=t=>cK([e,t]),e.and=t=>cX(e,t),e.transform=t=>dI(e,dl(t)),e.default=t=>dh(e,t),e.prefault=t=>dy(e,t),e.catch=t=>dk(e,t),e.pipe=t=>dI(e,t),e.readonly=()=>dP(e),e.describe=t=>{let r=e.clone();return sp.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>sp.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return sp.get(e);let r=e.clone();return sp.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),uk=t9("_ZodString",(e,t)=>{n5.init(e,t),ux.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(lg(...t)),e.includes=(...t)=>e.check(lb(...t)),e.startsWith=(...t)=>e.check(lw(...t)),e.endsWith=(...t)=>e.check(l_(...t)),e.min=(...t)=>e.check(lm(...t)),e.max=(...t)=>e.check(lf(...t)),e.length=(...t)=>e.check(lh(...t)),e.nonempty=(...t)=>e.check(lm(1,...t)),e.lowercase=t=>e.check(ly(t)),e.uppercase=t=>e.check(lv(t)),e.trim=()=>e.check(lE()),e.normalize=(...t)=>e.check(lO(...t)),e.toLowerCase=()=>e.check(lI()),e.toUpperCase=()=>e.check(lT())}),uS=t9("ZodString",(e,t)=>{n5.init(e,t),uk.init(e,t),e.email=t=>e.check(sh(uI,t)),e.url=t=>e.check(s_(uC,t)),e.jwt=t=>e.check(sC(ci,t)),e.emoji=t=>e.check(sx(uL,t)),e.guid=t=>e.check(sg(u$,t)),e.uuid=t=>e.check(sy(uP,t)),e.uuidv4=t=>e.check(sv(uP,t)),e.uuidv6=t=>e.check(sb(uP,t)),e.uuidv7=t=>e.check(sw(uP,t)),e.nanoid=t=>e.check(sk(uq,t)),e.guid=t=>e.check(sg(u$,t)),e.cuid=t=>e.check(sS(uJ,t)),e.cuid2=t=>e.check(sO(uZ,t)),e.ulid=t=>e.check(sE(uH,t)),e.base64=t=>e.check(sR(u8,t)),e.base64url=t=>e.check(sN(u7,t)),e.xid=t=>e.check(sI(uK,t)),e.ksuid=t=>e.check(sT(uG,t)),e.ipv4=t=>e.check(s$(uX,t)),e.ipv6=t=>e.check(sA(u1,t)),e.cidrv4=t=>e.check(sP(u6,t)),e.cidrv6=t=>e.check(sj(u5,t)),e.e164=t=>e.check(sU(ct,t)),e.datetime=t=>e.check(ue(t)),e.date=t=>e.check(ur(t)),e.time=t=>e.check(un(t)),e.duration=t=>e.check(uo(t))});function uO(e){return sf(uS,e)}let uE=t9("ZodStringFormat",(e,t)=>{n3.init(e,t),uk.init(e,t)}),uI=t9("ZodEmail",(e,t)=>{n7.init(e,t),uE.init(e,t)});function uT(e){return sh(uI,e)}let u$=t9("ZodGUID",(e,t)=>{n8.init(e,t),uE.init(e,t)});function uA(e){return sg(u$,e)}let uP=t9("ZodUUID",(e,t)=>{n9.init(e,t),uE.init(e,t)});function uj(e){return sy(uP,e)}function uR(e){return sv(uP,e)}function uN(e){return sb(uP,e)}function uU(e){return sw(uP,e)}let uC=t9("ZodURL",(e,t)=>{ae.init(e,t),uE.init(e,t)});function uD(e){return s_(uC,e)}function uz(e){return s_(uC,{protocol:/^https?$/,hostname:l8.domain,...l9.normalizeParams(e)})}let uL=t9("ZodEmoji",(e,t)=>{at.init(e,t),uE.init(e,t)});function uM(e){return sx(uL,e)}let uq=t9("ZodNanoID",(e,t)=>{ar.init(e,t),uE.init(e,t)});function uV(e){return sk(uq,e)}let uJ=t9("ZodCUID",(e,t)=>{ai.init(e,t),uE.init(e,t)});function uF(e){return sS(uJ,e)}let uZ=t9("ZodCUID2",(e,t)=>{an.init(e,t),uE.init(e,t)});function uB(e){return sO(uZ,e)}let uH=t9("ZodULID",(e,t)=>{aa.init(e,t),uE.init(e,t)});function uW(e){return sE(uH,e)}let uK=t9("ZodXID",(e,t)=>{ao.init(e,t),uE.init(e,t)});function uQ(e){return sI(uK,e)}let uG=t9("ZodKSUID",(e,t)=>{as.init(e,t),uE.init(e,t)});function uY(e){return sT(uG,e)}let uX=t9("ZodIPv4",(e,t)=>{ap.init(e,t),uE.init(e,t)});function u0(e){return s$(uX,e)}let u1=t9("ZodIPv6",(e,t)=>{af.init(e,t),uE.init(e,t)});function u4(e){return sA(u1,e)}let u6=t9("ZodCIDRv4",(e,t)=>{am.init(e,t),uE.init(e,t)});function u2(e){return sP(u6,e)}let u5=t9("ZodCIDRv6",(e,t)=>{ah.init(e,t),uE.init(e,t)});function u3(e){return sj(u5,e)}let u8=t9("ZodBase64",(e,t)=>{ay.init(e,t),uE.init(e,t)});function u9(e){return sR(u8,e)}let u7=t9("ZodBase64URL",(e,t)=>{ab.init(e,t),uE.init(e,t)});function ce(e){return sN(u7,e)}let ct=t9("ZodE164",(e,t)=>{aw.init(e,t),uE.init(e,t)});function cr(e){return sU(ct,e)}let ci=t9("ZodJWT",(e,t)=>{ax.init(e,t),uE.init(e,t)});function cn(e){return sC(ci,e)}let ca=t9("ZodCustomStringFormat",(e,t)=>{ak.init(e,t),uE.init(e,t)});function co(e,t,r={}){return l2(ca,e,t,r)}function cs(e){return l2(ca,"hostname",l8.hostname,e)}function cl(e){return l2(ca,"hex",l8.hex,e)}function cu(e,t){let r=t?.enc??"hex",i=`${e}_${r}`,n=l8[i];if(!n)throw Error(`Unrecognized hash format: ${i}`);return l2(ca,i,n,t)}let cc=t9("ZodNumber",(e,t)=>{aS.init(e,t),ux.init(e,t),e.gt=(t,r)=>e.check(li(t,r)),e.gte=(t,r)=>e.check(ln(t,r)),e.min=(t,r)=>e.check(ln(t,r)),e.lt=(t,r)=>e.check(lt(t,r)),e.lte=(t,r)=>e.check(lr(t,r)),e.max=(t,r)=>e.check(lr(t,r)),e.int=t=>e.check(cf(t)),e.safe=t=>e.check(cf(t)),e.positive=t=>e.check(li(0,t)),e.nonnegative=t=>e.check(ln(0,t)),e.negative=t=>e.check(lt(0,t)),e.nonpositive=t=>e.check(lr(0,t)),e.multipleOf=(t,r)=>e.check(lu(t,r)),e.step=(t,r)=>e.check(lu(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function cd(e){return sV(cc,e)}let cp=t9("ZodNumberFormat",(e,t)=>{aO.init(e,t),cc.init(e,t)});function cf(e){return sF(cp,e)}function cm(e){return sZ(cp,e)}function ch(e){return sB(cp,e)}function cg(e){return sH(cp,e)}function cy(e){return sW(cp,e)}let cv=t9("ZodBoolean",(e,t)=>{aE.init(e,t),ux.init(e,t)});function cb(e){return sK(cv,e)}let cw=t9("ZodBigInt",(e,t)=>{aI.init(e,t),ux.init(e,t),e.gte=(t,r)=>e.check(ln(t,r)),e.min=(t,r)=>e.check(ln(t,r)),e.gt=(t,r)=>e.check(li(t,r)),e.gte=(t,r)=>e.check(ln(t,r)),e.min=(t,r)=>e.check(ln(t,r)),e.lt=(t,r)=>e.check(lt(t,r)),e.lte=(t,r)=>e.check(lr(t,r)),e.max=(t,r)=>e.check(lr(t,r)),e.positive=t=>e.check(li(BigInt(0),t)),e.negative=t=>e.check(lt(BigInt(0),t)),e.nonpositive=t=>e.check(lr(BigInt(0),t)),e.nonnegative=t=>e.check(ln(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(lu(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function c_(e){return sG(cw,e)}let cx=t9("ZodBigIntFormat",(e,t)=>{aT.init(e,t),cw.init(e,t)});function ck(e){return sX(cx,e)}function cS(e){return s0(cx,e)}let cO=t9("ZodSymbol",(e,t)=>{a$.init(e,t),ux.init(e,t)});function cE(e){return s1(cO,e)}let cI=t9("ZodUndefined",(e,t)=>{aA.init(e,t),ux.init(e,t)});function cT(e){return s4(cI,e)}let c$=t9("ZodNull",(e,t)=>{aP.init(e,t),ux.init(e,t)});function cA(e){return s6(c$,e)}let cP=t9("ZodAny",(e,t)=>{aj.init(e,t),ux.init(e,t)});function cj(){return s2(cP)}let cR=t9("ZodUnknown",(e,t)=>{aR.init(e,t),ux.init(e,t)});function cN(){return s5(cR)}let cU=t9("ZodNever",(e,t)=>{aN.init(e,t),ux.init(e,t)});function cC(e){return s3(cU,e)}let cD=t9("ZodVoid",(e,t)=>{aU.init(e,t),ux.init(e,t)});function cz(e){return s8(cD,e)}let cL=t9("ZodDate",(e,t)=>{aC.init(e,t),ux.init(e,t),e.min=(t,r)=>e.check(ln(t,r)),e.max=(t,r)=>e.check(lr(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function cM(e){return s9(cL,e)}let cq=t9("ZodArray",(e,t)=>{az.init(e,t),ux.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(lm(t,r)),e.nonempty=t=>e.check(lm(1,t)),e.max=(t,r)=>e.check(lf(t,r)),e.length=(t,r)=>e.check(lh(t,r)),e.unwrap=()=>e.element});function cV(e,t){return l$(cq,e,t)}function cJ(e){return de(Object.keys(e._zod.def.shape))}let cF=t9("ZodObject",(e,t)=>{aJ.init(e,t),ux.init(e,t),l9.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>de(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:cN()}),e.loose=()=>e.clone({...e._zod.def,catchall:cN()}),e.strict=()=>e.clone({...e._zod.def,catchall:cC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>l9.extend(e,t),e.safeExtend=t=>l9.safeExtend(e,t),e.merge=t=>l9.merge(e,t),e.pick=t=>l9.pick(e,t),e.omit=t=>l9.omit(e,t),e.partial=(...t)=>l9.partial(du,e,t[0]),e.required=(...t)=>l9.required(dv,e,t[0])});function cZ(e,t){return new cF({type:"object",shape:e??{},...l9.normalizeParams(t)})}function cB(e,t){return new cF({type:"object",shape:e,catchall:cC(),...l9.normalizeParams(t)})}function cH(e,t){return new cF({type:"object",shape:e,catchall:cN(),...l9.normalizeParams(t)})}let cW=t9("ZodUnion",(e,t)=>{aZ.init(e,t),ux.init(e,t),e.options=t.options});function cK(e,t){return new cW({type:"union",options:e,...l9.normalizeParams(t)})}let cQ=t9("ZodDiscriminatedUnion",(e,t)=>{cW.init(e,t),aB.init(e,t)});function cG(e,t,r){return new cQ({type:"union",options:t,discriminator:e,...l9.normalizeParams(r)})}let cY=t9("ZodIntersection",(e,t)=>{aH.init(e,t),ux.init(e,t)});function cX(e,t){return new cY({type:"intersection",left:e,right:t})}let c0=t9("ZodTuple",(e,t)=>{aK.init(e,t),ux.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function c1(e,t,r){let i=t instanceof n2,n=i?r:t;return new c0({type:"tuple",items:e,rest:i?t:null,...l9.normalizeParams(n)})}let c4=t9("ZodRecord",(e,t)=>{aG.init(e,t),ux.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function c6(e,t,r){return new c4({type:"record",keyType:e,valueType:t,...l9.normalizeParams(r)})}function c2(e,t,r){let i=rC(e);return i._zod.values=void 0,new c4({type:"record",keyType:i,valueType:t,...l9.normalizeParams(r)})}let c5=t9("ZodMap",(e,t)=>{aY.init(e,t),ux.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function c3(e,t,r){return new c5({type:"map",keyType:e,valueType:t,...l9.normalizeParams(r)})}let c8=t9("ZodSet",(e,t)=>{a0.init(e,t),ux.init(e,t),e.min=(...t)=>e.check(ld(...t)),e.nonempty=t=>e.check(ld(1,t)),e.max=(...t)=>e.check(lc(...t)),e.size=(...t)=>e.check(lp(...t))});function c9(e,t){return new c8({type:"set",valueType:e,...l9.normalizeParams(t)})}let c7=t9("ZodEnum",(e,t)=>{a4.init(e,t),ux.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let n={};for(let i of e)if(r.has(i))n[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new c7({...t,checks:[],...l9.normalizeParams(i),entries:n})},e.exclude=(e,i)=>{let n={...t.entries};for(let t of e)if(r.has(t))delete n[t];else throw Error(`Key ${t} not found in enum`);return new c7({...t,checks:[],...l9.normalizeParams(i),entries:n})}});function de(e,t){return new c7({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...l9.normalizeParams(t)})}function dt(e,t){return new c7({type:"enum",entries:e,...l9.normalizeParams(t)})}let dr=t9("ZodLiteral",(e,t)=>{a6.init(e,t),ux.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function di(e,t){return new dr({type:"literal",values:Array.isArray(e)?e:[e],...l9.normalizeParams(t)})}let dn=t9("ZodFile",(e,t)=>{a2.init(e,t),ux.init(e,t),e.min=(t,r)=>e.check(ld(t,r)),e.max=(t,r)=>e.check(lc(t,r)),e.mime=(t,r)=>e.check(lk(Array.isArray(t)?t:[t],r))});function da(e){return lM(dn,e)}let ds=t9("ZodTransform",(e,t)=>{a5.init(e,t),ux.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new rt(e.constructor.name);r.addIssue=i=>{"string"==typeof i?r.issues.push(l9.issue(i,r.value,t)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(l9.issue(i)))};let n=t.transform(r.value,r);return n instanceof Promise?n.then(e=>(r.value=e,r)):(r.value=n,r)}});function dl(e){return new ds({type:"transform",transform:e})}let du=t9("ZodOptional",(e,t)=>{a8.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dc(e){return new du({type:"optional",innerType:e})}let dd=t9("ZodNullable",(e,t)=>{a9.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dp(e){return new dd({type:"nullable",innerType:e})}function df(e){return dc(dp(e))}let dm=t9("ZodDefault",(e,t)=>{a7.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function dh(e,t){return new dm({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():l9.shallowClone(t)}})}let dg=t9("ZodPrefault",(e,t)=>{ot.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dy(e,t){return new dg({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():l9.shallowClone(t)}})}let dv=t9("ZodNonOptional",(e,t)=>{or.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function db(e,t){return new dv({type:"nonoptional",innerType:e,...l9.normalizeParams(t)})}let dw=t9("ZodSuccess",(e,t)=>{on.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function d_(e){return new dw({type:"success",innerType:e})}let dx=t9("ZodCatch",(e,t)=>{oa.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function dk(e,t){return new dx({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let dS=t9("ZodNaN",(e,t)=>{oo.init(e,t),ux.init(e,t)});function dO(e){return le(dS,e)}let dE=t9("ZodPipe",(e,t)=>{os.init(e,t),ux.init(e,t),e.in=t.in,e.out=t.out});function dI(e,t){return new dE({type:"pipe",in:e,out:t})}let dT=t9("ZodCodec",(e,t)=>{dE.init(e,t),ou.init(e,t)});function d$(e,t,r){return new dT({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let dA=t9("ZodReadonly",(e,t)=>{op.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dP(e){return new dA({type:"readonly",innerType:e})}let dj=t9("ZodTemplateLiteral",(e,t)=>{om.init(e,t),ux.init(e,t)});function dR(e,t){return new dj({type:"template_literal",parts:e,...l9.normalizeParams(t)})}let dN=t9("ZodLazy",(e,t)=>{oy.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.getter()});function dU(e){return new dN({type:"lazy",getter:e})}let dC=t9("ZodPromise",(e,t)=>{og.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dD(e){return new dC({type:"promise",innerType:e})}let dz=t9("ZodFunction",(e,t)=>{oh.init(e,t),ux.init(e,t)});function dL(e){return new dz({type:"function",input:Array.isArray(e?.input)?c1(e?.input):e?.input??cV(cN()),output:e?.output??cN()})}let dM=t9("ZodCustom",(e,t)=>{ov.init(e,t),ux.init(e,t)});function dq(e){let t=new nj({check:"custom"});return t._zod.check=e,t}function dV(e,t){return lX(dM,e??(()=>!0),t)}function dJ(e,t={}){return l0(dM,e,t)}function dF(e){return l1(e)}function dZ(e,t={error:`Input not instance of ${e.name}`}){let r=new dM({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...l9.normalizeParams(t)});return r._zod.bag.Class=e,r}let dB=(...e)=>l6({Codec:dT,Boolean:cv,String:uS},...e);function dH(e){let t=dU(()=>cK([uO(e),cd(),cb(),cA(),cV(t),c6(uO(),t)]));return t}function dW(e,t){return dI(dl(e),t)}e.s(["ZodFirstPartyTypeKind",()=>o,"ZodIssueCode",()=>dK,"getErrorMap",()=>dG,"setErrorMap",()=>dQ],43158);let dK={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function dQ(e){ri({customError:e})}function dG(){return ri().customError}function dY(e){return sm(uS,e)}function dX(e){return sJ(cc,e)}function d0(e){return sQ(cv,e)}function d1(e){return sY(cw,e)}function d4(e){return s7(cL,e)}o||(o={}),e.s(["bigint",()=>d1,"boolean",()=>d0,"date",()=>d4,"number",()=>dX,"string",()=>dY],14948),ri(o$()),e.s(["$brand",()=>t7,"$input",()=>su,"$output",()=>sl,"NEVER",()=>t8,"TimePrecision",()=>sD,"ZodAny",()=>cP,"ZodArray",()=>cq,"ZodBase64",()=>u8,"ZodBase64URL",()=>u7,"ZodBigInt",()=>cw,"ZodBigIntFormat",()=>cx,"ZodBoolean",()=>cv,"ZodCIDRv4",()=>u6,"ZodCIDRv6",()=>u5,"ZodCUID",()=>uJ,"ZodCUID2",()=>uZ,"ZodCatch",()=>dx,"ZodCodec",()=>dT,"ZodCustom",()=>dM,"ZodCustomStringFormat",()=>ca,"ZodDate",()=>cL,"ZodDefault",()=>dm,"ZodDiscriminatedUnion",()=>cQ,"ZodE164",()=>ct,"ZodEmail",()=>uI,"ZodEmoji",()=>uL,"ZodEnum",()=>c7,"ZodError",()=>ul,"ZodFile",()=>dn,"ZodFirstPartyTypeKind",()=>o,"ZodFunction",()=>dz,"ZodGUID",()=>u$,"ZodIPv4",()=>uX,"ZodIPv6",()=>u1,"ZodISODate",()=>ut,"ZodISODateTime",()=>l7,"ZodISODuration",()=>ua,"ZodISOTime",()=>ui,"ZodIntersection",()=>cY,"ZodIssueCode",()=>dK,"ZodJWT",()=>ci,"ZodKSUID",()=>uG,"ZodLazy",()=>dN,"ZodLiteral",()=>dr,"ZodMap",()=>c5,"ZodNaN",()=>dS,"ZodNanoID",()=>uq,"ZodNever",()=>cU,"ZodNonOptional",()=>dv,"ZodNull",()=>c$,"ZodNullable",()=>dd,"ZodNumber",()=>cc,"ZodNumberFormat",()=>cp,"ZodObject",()=>cF,"ZodOptional",()=>du,"ZodPipe",()=>dE,"ZodPrefault",()=>dg,"ZodPromise",()=>dC,"ZodReadonly",()=>dA,"ZodRealError",()=>uu,"ZodRecord",()=>c4,"ZodSet",()=>c8,"ZodString",()=>uS,"ZodStringFormat",()=>uE,"ZodSuccess",()=>dw,"ZodSymbol",()=>cO,"ZodTemplateLiteral",()=>dj,"ZodTransform",()=>ds,"ZodTuple",()=>c0,"ZodType",()=>ux,"ZodULID",()=>uH,"ZodURL",()=>uC,"ZodUUID",()=>uP,"ZodUndefined",()=>cI,"ZodUnion",()=>cW,"ZodUnknown",()=>cR,"ZodVoid",()=>cD,"ZodXID",()=>uK,"_ZodString",()=>uk,"_default",()=>dh,"_function",()=>dL,"any",()=>cj,"array",()=>cV,"base64",()=>u9,"base64url",()=>ce,"bigint",()=>c_,"boolean",()=>cb,"catch",()=>dk,"check",()=>dq,"cidrv4",()=>u2,"cidrv6",()=>u3,"clone",()=>rC,"codec",()=>d$,"coerce",()=>pe,"config",()=>ri,"core",()=>d8,"cuid",()=>uF,"cuid2",()=>uB,"custom",()=>dV,"date",()=>cM,"decode",()=>uh,"decodeAsync",()=>uy,"discriminatedUnion",()=>cG,"e164",()=>cr,"email",()=>uT,"emoji",()=>uM,"encode",()=>um,"encodeAsync",()=>ug,"endsWith",()=>l_,"enum",()=>de,"file",()=>da,"flattenError",()=>ia,"float32",()=>cm,"float64",()=>ch,"formatError",()=>io,"function",()=>dL,"getErrorMap",()=>dG,"globalRegistry",()=>sp,"gt",()=>li,"gte",()=>ln,"guid",()=>uA,"hash",()=>cu,"hex",()=>cl,"hostname",()=>cs,"httpUrl",()=>uz,"includes",()=>lb,"instanceof",()=>dZ,"int",()=>cf,"int32",()=>cg,"int64",()=>ck,"intersection",()=>cX,"ipv4",()=>u0,"ipv6",()=>u4,"iso",()=>d7,"json",()=>dH,"jwt",()=>cn,"keyof",()=>cJ,"ksuid",()=>uY,"lazy",()=>dU,"length",()=>lh,"literal",()=>di,"locales",()=>d9,"looseObject",()=>cH,"lowercase",()=>ly,"lt",()=>lt,"lte",()=>lr,"map",()=>c3,"maxLength",()=>lf,"maxSize",()=>lc,"mime",()=>lk,"minLength",()=>lm,"minSize",()=>ld,"multipleOf",()=>lu,"nan",()=>dO,"nanoid",()=>uV,"nativeEnum",()=>dt,"negative",()=>lo,"never",()=>cC,"nonnegative",()=>ll,"nonoptional",()=>db,"nonpositive",()=>ls,"normalize",()=>lO,"null",()=>cA,"nullable",()=>dp,"nullish",()=>df,"number",()=>cd,"object",()=>cZ,"optional",()=>dc,"overwrite",()=>lS,"parse",()=>uc,"parseAsync",()=>ud,"partialRecord",()=>c2,"pipe",()=>dI,"positive",()=>la,"prefault",()=>dy,"preprocess",()=>dW,"prettifyError",()=>iu,"promise",()=>dD,"property",()=>lx,"readonly",()=>dP,"record",()=>c6,"refine",()=>dJ,"regex",()=>lg,"regexes",()=>l8,"registry",()=>sd,"safeDecode",()=>ub,"safeDecodeAsync",()=>u_,"safeEncode",()=>uv,"safeEncodeAsync",()=>uw,"safeParse",()=>up,"safeParseAsync",()=>uf,"set",()=>c9,"setErrorMap",()=>dQ,"size",()=>lp,"startsWith",()=>lw,"strictObject",()=>cB,"string",()=>uO,"stringFormat",()=>co,"stringbool",()=>dB,"success",()=>d_,"superRefine",()=>dF,"symbol",()=>cE,"templateLiteral",()=>dR,"toJSONSchema",()=>l3,"toLowerCase",()=>lI,"toUpperCase",()=>lT,"transform",()=>dl,"treeifyError",()=>is,"trim",()=>lE,"tuple",()=>c1,"uint32",()=>cy,"uint64",()=>cS,"ulid",()=>uW,"undefined",()=>cT,"union",()=>cK,"unknown",()=>cN,"uppercase",()=>lv,"url",()=>uD,"util",()=>l9,"uuid",()=>uj,"uuidv4",()=>uR,"uuidv6",()=>uN,"uuidv7",()=>uU,"void",()=>cz,"xid",()=>uQ],69288),e.i(78424),e.s(["$ZodAny",()=>aj,"$ZodArray",()=>az,"$ZodAsyncError",()=>re,"$ZodBase64",()=>ay,"$ZodBase64URL",()=>ab,"$ZodBigInt",()=>aI,"$ZodBigIntFormat",()=>aT,"$ZodBoolean",()=>aE,"$ZodCIDRv4",()=>am,"$ZodCIDRv6",()=>ah,"$ZodCUID",()=>ai,"$ZodCUID2",()=>an,"$ZodCatch",()=>oa,"$ZodCheck",()=>nj,"$ZodCheckBigIntFormat",()=>nz,"$ZodCheckEndsWith",()=>nG,"$ZodCheckGreaterThan",()=>nU,"$ZodCheckIncludes",()=>nK,"$ZodCheckLengthEquals",()=>nF,"$ZodCheckLessThan",()=>nN,"$ZodCheckLowerCase",()=>nH,"$ZodCheckMaxLength",()=>nV,"$ZodCheckMaxSize",()=>nL,"$ZodCheckMimeType",()=>n0,"$ZodCheckMinLength",()=>nJ,"$ZodCheckMinSize",()=>nM,"$ZodCheckMultipleOf",()=>nC,"$ZodCheckNumberFormat",()=>nD,"$ZodCheckOverwrite",()=>n1,"$ZodCheckProperty",()=>nX,"$ZodCheckRegex",()=>nB,"$ZodCheckSizeEquals",()=>nq,"$ZodCheckStartsWith",()=>nQ,"$ZodCheckStringFormat",()=>nZ,"$ZodCheckUpperCase",()=>nW,"$ZodCodec",()=>ou,"$ZodCustom",()=>ov,"$ZodCustomStringFormat",()=>ak,"$ZodDate",()=>aC,"$ZodDefault",()=>a7,"$ZodDiscriminatedUnion",()=>aB,"$ZodE164",()=>aw,"$ZodEmail",()=>n7,"$ZodEmoji",()=>at,"$ZodEncodeError",()=>rt,"$ZodEnum",()=>a4,"$ZodError",()=>ir,"$ZodFile",()=>a2,"$ZodFunction",()=>oh,"$ZodGUID",()=>n8,"$ZodIPv4",()=>ap,"$ZodIPv6",()=>af,"$ZodISODate",()=>au,"$ZodISODateTime",()=>al,"$ZodISODuration",()=>ad,"$ZodISOTime",()=>ac,"$ZodIntersection",()=>aH,"$ZodJWT",()=>ax,"$ZodKSUID",()=>as,"$ZodLazy",()=>oy,"$ZodLiteral",()=>a6,"$ZodMap",()=>aY,"$ZodNaN",()=>oo,"$ZodNanoID",()=>ar,"$ZodNever",()=>aN,"$ZodNonOptional",()=>or,"$ZodNull",()=>aP,"$ZodNullable",()=>a9,"$ZodNumber",()=>aS,"$ZodNumberFormat",()=>aO,"$ZodObject",()=>aV,"$ZodObjectJIT",()=>aJ,"$ZodOptional",()=>a8,"$ZodPipe",()=>os,"$ZodPrefault",()=>ot,"$ZodPromise",()=>og,"$ZodReadonly",()=>op,"$ZodRealError",()=>ii,"$ZodRecord",()=>aG,"$ZodRegistry",()=>sc,"$ZodSet",()=>a0,"$ZodString",()=>n5,"$ZodStringFormat",()=>n3,"$ZodSuccess",()=>on,"$ZodSymbol",()=>a$,"$ZodTemplateLiteral",()=>om,"$ZodTransform",()=>a5,"$ZodTuple",()=>aK,"$ZodType",()=>n2,"$ZodULID",()=>aa,"$ZodURL",()=>ae,"$ZodUUID",()=>n9,"$ZodUndefined",()=>aA,"$ZodUnion",()=>aZ,"$ZodUnknown",()=>aR,"$ZodVoid",()=>aU,"$ZodXID",()=>ao,"$brand",()=>t7,"$constructor",()=>t9,"$input",()=>su,"$output",()=>sl,"Doc",()=>n4,"JSONSchema",()=>d3,"JSONSchemaGenerator",()=>l5,"NEVER",()=>t8,"TimePrecision",()=>sD,"_any",()=>s2,"_array",()=>l$,"_base64",()=>sR,"_base64url",()=>sN,"_bigint",()=>sG,"_boolean",()=>sK,"_catch",()=>lH,"_check",()=>l4,"_cidrv4",()=>sP,"_cidrv6",()=>sj,"_coercedBigint",()=>sY,"_coercedBoolean",()=>sQ,"_coercedDate",()=>s7,"_coercedNumber",()=>sJ,"_coercedString",()=>sm,"_cuid",()=>sS,"_cuid2",()=>sO,"_custom",()=>lX,"_date",()=>s9,"_decode",()=>i_,"_decodeAsync",()=>iO,"_default",()=>lF,"_discriminatedUnion",()=>lP,"_e164",()=>sU,"_email",()=>sh,"_emoji",()=>sx,"_encode",()=>ib,"_encodeAsync",()=>ik,"_endsWith",()=>l_,"_enum",()=>lD,"_file",()=>lM,"_float32",()=>sZ,"_float64",()=>sB,"_gt",()=>li,"_gte",()=>ln,"_guid",()=>sg,"_includes",()=>lb,"_int",()=>sF,"_int32",()=>sH,"_int64",()=>sX,"_intersection",()=>lj,"_ipv4",()=>s$,"_ipv6",()=>sA,"_isoDate",()=>sL,"_isoDateTime",()=>sz,"_isoDuration",()=>sq,"_isoTime",()=>sM,"_jwt",()=>sC,"_ksuid",()=>sT,"_lazy",()=>lG,"_length",()=>lh,"_literal",()=>lL,"_lowercase",()=>ly,"_lt",()=>lt,"_lte",()=>lr,"_map",()=>lU,"_max",()=>lr,"_maxLength",()=>lf,"_maxSize",()=>lc,"_mime",()=>lk,"_min",()=>ln,"_minLength",()=>lm,"_minSize",()=>ld,"_multipleOf",()=>lu,"_nan",()=>le,"_nanoid",()=>sk,"_nativeEnum",()=>lz,"_negative",()=>lo,"_never",()=>s3,"_nonnegative",()=>ll,"_nonoptional",()=>lZ,"_nonpositive",()=>ls,"_normalize",()=>lO,"_null",()=>s6,"_nullable",()=>lJ,"_number",()=>sV,"_optional",()=>lV,"_overwrite",()=>lS,"_parse",()=>ic,"_parseAsync",()=>ip,"_pipe",()=>lW,"_positive",()=>la,"_promise",()=>lY,"_property",()=>lx,"_readonly",()=>lK,"_record",()=>lN,"_refine",()=>l0,"_regex",()=>lg,"_safeDecode",()=>i$,"_safeDecodeAsync",()=>iR,"_safeEncode",()=>iI,"_safeEncodeAsync",()=>iP,"_safeParse",()=>ih,"_safeParseAsync",()=>iy,"_set",()=>lC,"_size",()=>lp,"_startsWith",()=>lw,"_string",()=>sf,"_stringFormat",()=>l2,"_stringbool",()=>l6,"_success",()=>lB,"_superRefine",()=>l1,"_symbol",()=>s1,"_templateLiteral",()=>lQ,"_toLowerCase",()=>lI,"_toUpperCase",()=>lT,"_transform",()=>lq,"_trim",()=>lE,"_tuple",()=>lR,"_uint32",()=>sW,"_uint64",()=>s0,"_ulid",()=>sE,"_undefined",()=>s4,"_union",()=>lA,"_unknown",()=>s5,"_uppercase",()=>lv,"_url",()=>s_,"_uuid",()=>sy,"_uuidv4",()=>sv,"_uuidv6",()=>sb,"_uuidv7",()=>sw,"_void",()=>s8,"_xid",()=>sI,"clone",()=>rC,"config",()=>ri,"decode",()=>ix,"decodeAsync",()=>iE,"encode",()=>iw,"encodeAsync",()=>iS,"flattenError",()=>ia,"formatError",()=>io,"globalConfig",()=>rr,"globalRegistry",()=>sp,"isValidBase64",()=>ag,"isValidBase64URL",()=>av,"isValidJWT",()=>a_,"locales",()=>d5,"parse",()=>id,"parseAsync",()=>im,"prettifyError",()=>iu,"regexes",()=>d2,"registry",()=>sd,"safeDecode",()=>iA,"safeDecodeAsync",()=>iN,"safeEncode",()=>iT,"safeEncodeAsync",()=>ij,"safeParse",()=>ig,"safeParseAsync",()=>iv,"toDotPath",()=>il,"toJSONSchema",()=>l3,"treeifyError",()=>is,"util",()=>d6,"version",()=>n6],54868),e.i(57240),e.i(48874),e.i(85893),e.i(4329),e.i(80562),e.i(65106),e.i(7092);var d6=l9,d2=l8;e.s(["ar",()=>ow,"az",()=>o_,"be",()=>ok,"bg",()=>oS,"ca",()=>oO,"cs",()=>oE,"da",()=>oI,"de",()=>oT,"en",()=>o$,"eo",()=>oA,"es",()=>oP,"fa",()=>oj,"fi",()=>oR,"fr",()=>oN,"frCA",()=>oU,"he",()=>oC,"hu",()=>oD,"id",()=>oz,"is",()=>oL,"it",()=>oM,"ja",()=>oq,"ka",()=>oV,"kh",()=>oF,"km",()=>oJ,"ko",()=>oZ,"lt",()=>oK,"mk",()=>oQ,"ms",()=>oG,"nl",()=>oY,"no",()=>oX,"ota",()=>o0,"pl",()=>o4,"ps",()=>o1,"pt",()=>o6,"ru",()=>o5,"sl",()=>o3,"sv",()=>o8,"ta",()=>o9,"th",()=>o7,"tr",()=>se,"ua",()=>sr,"uk",()=>st,"ur",()=>si,"vi",()=>sn,"yo",()=>ss,"zhCN",()=>sa,"zhTW",()=>so],17749),e.i(16593);var d5=e.i(17749);e.i(18699),e.i(17904),e.i(75072),e.i(5386);var d3=e.i(13210),d8=e.i(54868);e.i(66904),e.s(["endsWith",()=>l_,"gt",()=>li,"gte",()=>ln,"includes",()=>lb,"length",()=>lh,"lowercase",()=>ly,"lt",()=>lt,"lte",()=>lr,"maxLength",()=>lf,"maxSize",()=>lc,"mime",()=>lk,"minLength",()=>lm,"minSize",()=>ld,"multipleOf",()=>lu,"negative",()=>lo,"nonnegative",()=>ll,"nonpositive",()=>ls,"normalize",()=>lO,"overwrite",()=>lS,"positive",()=>la,"property",()=>lx,"regex",()=>lg,"size",()=>lp,"startsWith",()=>lw,"toLowerCase",()=>lI,"toUpperCase",()=>lT,"trim",()=>lE,"uppercase",()=>lv],26090),e.i(39494),e.i(26090),e.i(17446),e.i(21638),e.s(["$brand",()=>t7,"ZodFirstPartyTypeKind",()=>o,"ZodIssueCode",()=>dK,"config",()=>ri,"getErrorMap",()=>dG,"setErrorMap",()=>dQ],6536),e.i(43158),e.i(6536);var l8=l8,l9=l9,d9=d5,d7=e.i(14334),pe=e.i(14948),pt=e.i(69288);let pr=pt;e.i(89271);var pi=pt;e.i(75237);var pe=pe;let pn=(e,t="ms")=>new Date(Date.now()+("sec"===t?1e3*e:e));class pa extends Error{constructor(e,t){super(e),this.name="BetterAuthError",this.message=e,this.cause=t,this.stack=""}}let po=Object.create(null),ps=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?po:globalThis),pl=new Proxy(po,{get:(e,t)=>ps()[t]??po[t],has:(e,t)=>t in ps()||t in po,set:(e,t,r)=>(ps(!0)[t]=r,!0),deleteProperty(e,t){if(!t)return!1;let r=ps(!0);return delete r[t],!0},ownKeys:()=>Object.keys(ps(!0))}),pu="undefined"!=typeof process&&process.env&&"production"||"",pc="production"===pu,pd="dev"===pu||"development"===pu,pp=()=>"test"===pu||function(e){return!!e&&"false"!==e}(pl.TEST);function pf(e,t){return"undefined"!=typeof process&&process.env?process.env[e]??t:"undefined"!=typeof Deno?Deno.env.get(e)??t:"undefined"!=typeof Bun?Bun.env[e]??t:t}function pm(e,t=!0){let r=pf(e);return r?"0"!==r&&"false"!==r.toLowerCase()&&""!==r:t}let ph={get BETTER_AUTH_TELEMETRY_ENDPOINT(){return pf("BETTER_AUTH_TELEMETRY_ENDPOINT","https://telemetry.better-auth.com/v1/track")}};function pg(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function py(e,t,r){let i="",n=0,a=0;for(let r of e)for(n=n<<8|r,a+=8;a>=6;)a-=6,i+=t[n>>a&63];if(a>0&&(i+=t[n<<6-a&63]),r){let e=(4-i.length%4)%4;i+="=".repeat(e)}return i}function pv(e,t){let r=new Map;for(let e=0;e<t.length;e++)r.set(t[e],e);let i=[],n=0,a=0;for(let t of e){if("="===t)break;let e=r.get(t);if(void 0===e)throw Error(`Invalid Base64 character: ${t}`);n=n<<6|e,(a+=6)>=8&&(a-=8,i.push(n>>a&255))}return Uint8Array.from(i)}let pb={encode(e,t={}){let r=pg(!1);return py("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){"string"!=typeof e&&(e=new TextDecoder().decode(e));let t=pg(e.includes("-")||e.includes("_"));return pv(e,t)}},pw={encode(e,t={}){let r=pg(!0);return py("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){let t=pg(e.includes("-")||e.includes("_"));return pv(e,t)}},p_={encode:e=>{if("string"==typeof e&&(e=new TextEncoder().encode(e)),0===e.byteLength)return"";let t=new Uint8Array(e),r="";for(let e of t)r+=e.toString(16).padStart(2,"0");return r},decode:e=>{if(!e)return"";if("string"==typeof e){if(e.length%2!=0||!RegExp("^[0123456789abcdef]+$").test(e))throw Error("Invalid hexadecimal string");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return new TextDecoder().decode(t)}return new TextDecoder().decode(e)}},px=(e="SHA-256",t="none")=>{let r={importKey:async(t,r)=>k().importKey("raw","string"==typeof t?new TextEncoder().encode(t):t,{name:"HMAC",hash:{name:e}},!1,[r]),sign:async(e,i)=>{"string"==typeof e&&(e=await r.importKey(e,"sign"));let n=await k().sign("HMAC",e,"string"==typeof i?new TextEncoder().encode(i):i);return"hex"===t?p_.encode(n):"base64"===t||"base64url"===t||"base64urlnopad"===t?pw.encode(n,{padding:"base64urlnopad"!==t}):n},verify:async(e,i,n)=>("string"==typeof e&&(e=await r.importKey(e,"verify")),"hex"===t&&(n=p_.decode(n)),("base64"===t||"base64url"===t||"base64urlnopad"===t)&&(n=await pb.decode(n)),k().verify("HMAC",e,"string"==typeof n?new TextEncoder().encode(n):n,"string"==typeof i?new TextEncoder().encode(i):i))};return r},pk={eterm:4,cons25:4,console:4,cygwin:4,dtterm:4,gnome:4,hurd:4,jfbterm:4,konsole:4,kterm:4,mlterm:4,mosh:24,putty:4,st:4,"rxvt-unicode-24bit":24,terminator:24,"xterm-kitty":24},pS=new Map(Object.entries({APPVEYOR:8,BUILDKITE:8,CIRCLECI:24,DRONE:8,GITEA_ACTIONS:24,GITHUB_ACTIONS:24,GITLAB_CI:8,TRAVIS:8})),pO=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/],pE={reset:"\x1b[0m",bright:"\x1b[1m",dim:"\x1b[2m",fg:{red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m"},bg:{black:"\x1b[40m"}},pI=["info","success","warn","error","debug"];function pT(e,t){return pI.indexOf(t)<=pI.indexOf(e)}let p$={info:pE.fg.blue,success:pE.fg.green,warn:pE.fg.yellow,error:pE.fg.red,debug:pE.fg.magenta},pA=e=>{let t=e?.disabled!==!0,r=e?.level??"error",i=e?.disableColors!==void 0?!e.disableColors:1!==function(){if(void 0!==pf("FORCE_COLOR"))switch(pf("FORCE_COLOR")){case"":case"1":case"true":return 4;case"2":return 8;case"3":return 24;default:return 1}if(void 0!==pf("NODE_DISABLE_COLORS")&&""!==pf("NODE_DISABLE_COLORS")||void 0!==pf("NO_COLOR")&&""!==pf("NO_COLOR")||"dumb"===pf("TERM"))return 1;if("undefined"!=typeof process&&"win32"===process.platform||pf("TMUX"))return 24;if("TF_BUILD"in pl&&"AGENT_NAME"in pl)return 4;if("CI"in pl){for(let{0:e,1:t}of pS)if(e in pl)return t;return"codeship"===pf("CI_NAME")?8:1}if("TEAMCITY_VERSION"in pl)return null!==/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(pf("TEAMCITY_VERSION"))?4:1;switch(pf("TERM_PROGRAM")){case"iTerm.app":if(!pf("TERM_PROGRAM_VERSION")||null!==/^[0-2]\./.exec(pf("TERM_PROGRAM_VERSION")))return 8;return 24;case"HyperTerm":case"MacTerm":return 24;case"Apple_Terminal":return 8}if("truecolor"===pf("COLORTERM")||"24bit"===pf("COLORTERM"))return 24;if(pf("TERM")){if(null!==/truecolor/.exec(pf("TERM")))return 24;if(null!==/^xterm-256/.exec(pf("TERM")))return 8;let e=pf("TERM").toLowerCase();if(pk[e])return pk[e];if(pO.some(t=>null!==t.exec(e)))return 4}return pf("COLORTERM")?4:1}();return{...Object.fromEntries(pI.map(n=>[n,(...[a,...o])=>((n,a,o=[])=>{if(!t||!pT(r,n))return;let s=((e,t,r)=>{let i=new Date().toISOString();return r?`${pE.dim}${i}${pE.reset} ${p$[e]}${e.toUpperCase()}${pE.reset} ${pE.bright}[Better Auth]:${pE.reset} ${t}`:`${i} ${e.toUpperCase()} [Better Auth]: ${t}`})(n,a,i);if(!e||"function"!=typeof e.log)return void("error"===n?console.error(s,...o):"warn"===n?console.warn(s,...o):console.log(s,...o));e.log("success"===n?"info":n,a,...o)})(n,a,o)])),get level(){return r}}},pP=pA();function pj(e){try{if("string"!=typeof e)return e;return JSON.parse(e,function(e,t){if("string"==typeof t&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$/.test(t)){let e=new Date(t);if(!isNaN(e.getTime()))return e}return t})}catch(e){return pP.error("Error parsing JSON",{error:e}),null}}function pR(e,t="/api/auth"){if(function(e){try{let t=new URL(e).pathname.replace(/\/+$/,"")||"/";return"/"!==t}catch(t){throw new pa(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}(e))return e;let r=e.replace(/\/+$/,"");return t&&"/"!==t?(t=t.startsWith("/")?t:`/${t}`,`${r}${t}`):r}function pN(e,t,r,i){if(e)return pR(e,t);if(!1!==i){let e=pl.BETTER_AUTH_URL||pl.NEXT_PUBLIC_BETTER_AUTH_URL||pl.PUBLIC_BETTER_AUTH_URL||pl.NUXT_PUBLIC_BETTER_AUTH_URL||pl.NUXT_PUBLIC_AUTH_URL||("/"!==pl.BASE_URL?pl.BASE_URL:void 0);if(e)return pR(e,t)}let n=r?.headers.get("x-forwarded-host"),a=r?.headers.get("x-forwarded-proto");if(n&&a)return pR(`${a}://${n}`,t);if(r){let e=pU(r.url);if(!e)throw new pa("Could not get origin from request. Please provide a valid base URL.");return pR(e,t)}}function pU(e){try{return new URL(e).origin}catch(e){return null}}function pC(e){try{return new URL(e).protocol}catch(e){return null}}function pD(e){try{return new URL(e).host}catch(t){return e}}let pz=new Map,pL={decode:(e,t="utf-8")=>(pz.has(t)||pz.set(t,new TextDecoder(t)),pz.get(t).decode(e)),encode:new TextEncoder().encode};function pM(e,t){if("string"==typeof e){var r=e;if("string"!=typeof r||0===r.length||r.length>100)throw Error(`Value provided to ms.parse() must be a string with length between 1 and 99. value=${JSON.stringify(r)}`);let t=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec(r);if(!t?.groups)return NaN;let{value:i,unit:n="ms"}=t.groups,a=parseFloat(i),o=n.toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"months":case"month":case"mo":return 26298e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return 864e5*a;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*a;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*a;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:throw Error(`Unknown unit "${o}" provided to ms.parse(). value=${JSON.stringify(r)}`)}}if("number"==typeof e){var i=e;if("number"!=typeof i||!Number.isFinite(i))throw Error("Value provided to ms.format() must be of type number.");let t=Math.abs(i);return t>=315576e5?`${Math.round(i/315576e5)}y`:t>=26298e5?`${Math.round(i/26298e5)}mo`:t>=6048e5?`${Math.round(i/6048e5)}w`:t>=864e5?`${Math.round(i/864e5)}d`:t>=36e5?`${Math.round(i/36e5)}h`:t>=6e4?`${Math.round(i/6e4)}m`:t>=1e3?`${Math.round(i/1e3)}s`:`${i}ms`}throw Error(`Value provided to ms() must be a string or number. value=${JSON.stringify(e)}`)}function pq(e){let t=(e.advanced?.useSecureCookies!==void 0?e.advanced?.useSecureCookies:void 0!==e.baseURL?!!e.baseURL.startsWith("https://"):pc)?"__Secure-":"",r=!!e.advanced?.crossSubDomainCookies?.enabled,i=r?e.advanced?.crossSubDomainCookies?.domain||(e.baseURL?new URL(e.baseURL).hostname:void 0):void 0;if(r&&!i)throw new pa("baseURL is required when crossSubdomainCookies are enabled");return function(n,a={}){let o=e.advanced?.cookiePrefix||"better-auth",s=e.advanced?.cookies?.[n]?.name||`${o}.${n}`,l=e.advanced?.cookies?.[n]?.attributes;return{name:`${t}${s}`,attributes:{secure:!!t,sameSite:"lax",path:"/",httpOnly:!0,...r?{domain:i}:{},...e.advanced?.defaultCookieAttributes,...a,...l}}}}async function pV(e,t,r){if(e.context.options.session?.cookieCache?.enabled){let i={session:Object.entries(t.session).reduce((t,[r,i])=>{let n=e.context.options.session?.additionalFields?.[r];return n&&!1===n.returned||(t[r]=i),t},{}),user:t.user},n={...e.context.authCookies.sessionData.options,maxAge:r?void 0:e.context.authCookies.sessionData.options.maxAge},a=pn(n.maxAge||60,"sec").getTime(),o=pw.encode(JSON.stringify({session:i,expiresAt:a,signature:await px("SHA-256","base64urlnopad").sign(e.context.secret,JSON.stringify({...i,expiresAt:a}))}),{padding:!1});if(o.length>4093)return void e.context?.logger?.error(`Session data exceeds cookie size limit (${o.length} bytes > 4093 bytes). Consider reducing session data size or disabling cookie cache. Session will not be cached in cookie.`);e.setCookie(e.context.authCookies.sessionData.name,o,n)}}async function pJ(e,t,r,i){let n=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);r=void 0!==r?r:!!n;let a=e.context.authCookies.sessionToken.options,o=r?void 0:e.context.sessionConfig.expiresIn;await e.setSignedCookie(e.context.authCookies.sessionToken.name,t.session.token,e.context.secret,{...a,maxAge:o,...i}),r&&await e.setSignedCookie(e.context.authCookies.dontRememberToken.name,"true",e.context.secret,e.context.authCookies.dontRememberToken.options),await pV(e,t,r),e.context.setNewSession(t),e.context.options.secondaryStorage&&await e.context.secondaryStorage?.set(t.session.token,JSON.stringify({user:t.user,session:t.session}),Math.floor((new Date(t.session.expiresAt).getTime()-Date.now())/1e3))}function pF(e,t){e.setCookie(e.context.authCookies.sessionToken.name,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.setCookie(e.context.authCookies.sessionData.name,"",{...e.context.authCookies.sessionData.options,maxAge:0}),t||e.setCookie(e.context.authCookies.dontRememberToken.name,"",{...e.context.authCookies.dontRememberToken.options,maxAge:0})}var pe=pe;let pZ=B(async()=>({})),pB=B.create({use:[pZ,B(async()=>({}))]}),pH=H.create({use:[pZ]}),pW={USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_USER:"Failed to create user",FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_UPDATE_USER:"Failed to update user",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL:"Invalid email",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",SOCIAL_ACCOUNT_ALREADY_LINKED:"Social account already linked",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"Invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"User already exists. Use another email.",EMAIL_CAN_NOT_BE_UPDATED:"Email can not be updated",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action.",FAILED_TO_UNLINK_LAST_ACCOUNT:"You can't unlink your last account",ACCOUNT_NOT_FOUND:"Account not found",USER_ALREADY_HAS_PASSWORD:"User already has a password. Provide that to delete the account."},pK=dc(cZ({disableCookieCache:pe.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:pe.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),pQ=()=>pH("/get-session",{method:"GET",query:pK,requireHeaders:!0,metadata:{openapi:{description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async e=>{try{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)return null;let r=e.getCookie(e.context.authCookies.sessionData.name),i=r?pj(pL.decode(pw.decode(r))):null;if(i&&!await px("SHA-256","base64urlnopad").verify(e.context.secret,JSON.stringify({...i.session,expiresAt:i.expiresAt}),i.signature)){let t=e.context.authCookies.sessionData.name;return e.setCookie(t,"",{maxAge:0}),e.json(null)}let n=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);if(i?.session&&e.context.options.session?.cookieCache?.enabled&&!e.query?.disableCookieCache){let t=i.session;if(!(i.expiresAt<Date.now()||t.session.expiresAt<new Date))return e.context.session=t,e.json(t);{let t=e.context.authCookies.sessionData.name;e.setCookie(t,"",{maxAge:0})}}let a=await e.context.internalAdapter.findSession(t);if(e.context.session=a,!a||a.session.expiresAt<new Date)return pF(e),a&&await e.context.internalAdapter.deleteSession(a.session.token),e.json(null);if(n||e.query?.disableRefresh)return e.json(a);let o=e.context.sessionConfig.expiresIn,s=e.context.sessionConfig.updateAge;if(a.session.expiresAt.valueOf()-1e3*o+1e3*s<=Date.now()&&(!e.query?.disableRefresh||!e.context.options.session?.disableSessionRefresh)){let t=await e.context.internalAdapter.updateSession(a.session.token,{expiresAt:pn(e.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!t)return pF(e),e.json(null,{status:401});let r=(t.expiresAt.valueOf()-Date.now())/1e3;return await pJ(e,{session:t,user:a.user},!1,{maxAge:r}),e.json({session:t,user:a.user})}return await pV(e,a,!!n),e.json(a)}catch(t){throw e.context.logger.error("INTERNAL_SERVER_ERROR",t),new P("INTERNAL_SERVER_ERROR",{message:pW.FAILED_TO_GET_SESSION})}}),pG=async(e,t)=>{if(e.context.session)return e.context.session;let r=await pQ()({...e,asResponse:!1,headers:e.headers,returnHeaders:!1,query:{...t,...e.query}}).catch(e=>null);return e.context.session=r,r},pY=pB(async e=>{let t=await pG(e);if(!t?.session)throw new P("UNAUTHORIZED");return{session:t}}),pX=pB(async e=>{let t=await pG(e,{disableCookieCache:!0});if(!t?.session)throw new P("UNAUTHORIZED");return{session:t}});pB(async e=>{let t=await pG(e);if(!t?.session&&(e.request||e.headers))throw new P("UNAUTHORIZED");return{session:t}});let p0=pB(async e=>{let t=await pG(e);if(!t?.session)throw new P("UNAUTHORIZED");if(0===e.context.sessionConfig.freshAge)return{session:t};let r=e.context.sessionConfig.freshAge,i=t.session.updatedAt?.valueOf()||t.session.createdAt.valueOf();if(!(Date.now()-i<1e3*r))throw new P("FORBIDDEN",{message:"Session is not fresh"});return{session:t}}),p1=pH("/revoke-session",{method:"POST",body:cZ({token:uO().meta({description:"The token to revoke"})}),use:[pX],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.body.token,r=await e.context.internalAdapter.findSession(t);if(!r)throw new P("BAD_REQUEST",{message:"Session not found"});if(r.session.userId!==e.context.session.user.id)throw new P("UNAUTHORIZED");try{await e.context.internalAdapter.deleteSession(t)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new P("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),p4=pH("/revoke-sessions",{method:"POST",use:[pX],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{try{await e.context.internalAdapter.deleteSessions(e.context.session.user.id)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new P("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),p6=pH("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[pX],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.context.session;if(!t.user)throw new P("UNAUTHORIZED");let r=(await e.context.internalAdapter.listSessions(t.user.id)).filter(e=>e.expiresAt>new Date).filter(t=>t.token!==e.context.session.session.token);return await Promise.all(r.map(t=>e.context.internalAdapter.deleteSession(t.token))),e.json({status:!0})});function p2(e,t){return{digest:async r=>{let i=new TextEncoder,n="string"==typeof r?i.encode(r):r,a=await k().digest(e,n);return"hex"===t?Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join(""):"base64"===t||"base64url"===t||"base64urlnopad"===t?t.includes("url")?pw.encode(a,{padding:"base64urlnopad"!==t}):pb.encode(a):a}}}function p5(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function p3(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function p8(e,t,r=""){let i=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,n=e?.length,a=void 0!==t;if(!i||a&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function p9(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function p7(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function fe(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let ft=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],fr="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,fi=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),fn={_0:48,_9:57,A:65,F:70,a:97,f:102};function fa(e){return e>=fn._0&&e<=fn._9?e-fn._0:e>=fn.A&&e<=fn.F?e-(fn.A-10):e>=fn.a&&e<=fn.f?e-(fn.a-10):void 0}function fo(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error('"output" expected Uint8Array of length '+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function fs(e){return Uint8Array.from(e)}function fl(e=32){let t="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof t?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}function fu(e,t=fl){let{nonceLength:r}=e;p3(r);let i=(e,t)=>{let r=function(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];p8(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}(e,t);return t.fill(0),r};return(n,...a)=>({encrypt(o){p8(o);let s=t(r),l=e(n,s,...a).encrypt(o);return l instanceof Promise?l.then(e=>i(s,e)):i(s,l)},decrypt(t){p8(t);let i=t.subarray(0,r),o=t.subarray(r);return e(n,i,...a).decrypt(o)}})}let fc=e=>Uint8Array.from(e.split(""),e=>e.charCodeAt(0)),fd=fc("expand 16-byte k"),fp=fc("expand 32-byte k"),ff=p7(fd),fm=p7(fp);function fh(e,t){return e<<t|e>>>32-t}function fg(e){return e.byteOffset%4==0}let fy=0x100000000-1,fv=Uint32Array.of();function fb(e,t){let{allowShortKeys:r,extendNonceFn:i,counterLength:n,counterRight:a,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return p3(n),p3(o),p5(a),p5(r),(t,s,l,u,c=0)=>{let d,p;p8(t,void 0,"key"),p8(s,void 0,"nonce"),p8(l,void 0,"data");let f=l.length;if(void 0===u&&(u=new Uint8Array(f)),p8(u,void 0,"output"),p3(c),c<0||c>=fy)throw Error("arx: counter overflow");if(u.length<f)throw Error(`arx: output (${u.length}) is shorter than data (${f})`);let m=[],h=t.length;if(32===h)m.push(d=fs(t)),p=fm;else if(16===h&&r)(d=new Uint8Array(32)).set(t),d.set(t,16),p=ff,m.push(d);else throw p8(t,32,"arx key"),Error("invalid key size");fg(s)||m.push(s=fs(s));let g=p7(d);if(i){if(24!==s.length)throw Error("arx: extended nonce must be 24 bytes");i(p,g,p7(s.subarray(0,16)),g),s=s.subarray(16)}let y=16-n;if(y!==s.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(s,a?0:12-s.length),s=e,m.push(s)}return!function(e,t,r,i,n,a,o,s){let l=n.length,u=new Uint8Array(64),c=p7(u),d=fg(n)&&fg(a),p=d?p7(n):fv,f=d?p7(a):fv;for(let m=0;m<l;o++){if(e(t,r,i,c,o,s),o>=fy)throw Error("arx: counter overflow");let h=Math.min(64,l-m);if(d&&64===h){let e=m/4;if(m%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)f[r=e+t]=p[r]^c[t];m+=64;continue}for(let e=0,t;e<h;e++)a[t=m+e]=n[t]^u[e];m+=h}}(e,p,g,p7(s),l,u,c,o),fe(...m),u}}function fw(e,t){return 255&e[t++]|(255&e[t++])<<8}class f_{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(e){let t=fw(e=fs(p8(e,32,"key")),0),r=fw(e,2),i=fw(e,4),n=fw(e,6),a=fw(e,8),o=fw(e,10),s=fw(e,12),l=fw(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|n<<9)&8191,this.r[4]=(n>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|s<<5)&8065,this.r[8]=(s>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=fw(e,16+2*t)}process(e,t,r=!1){let{h:i,r:n}=this,a=n[0],o=n[1],s=n[2],l=n[3],u=n[4],c=n[5],d=n[6],p=n[7],f=n[8],m=n[9],h=fw(e,t+0),g=fw(e,t+2),y=fw(e,t+4),v=fw(e,t+6),b=fw(e,t+8),w=fw(e,t+10),_=fw(e,t+12),x=fw(e,t+14),k=i[0]+(8191&h),S=i[1]+((h>>>13|g<<3)&8191),O=i[2]+((g>>>10|y<<6)&8191),E=i[3]+((y>>>7|v<<9)&8191),I=i[4]+((v>>>4|b<<12)&8191),T=i[5]+(b>>>1&8191),$=i[6]+((b>>>14|w<<2)&8191),A=i[7]+((w>>>11|_<<5)&8191),P=i[8]+((_>>>8|x<<8)&8191),j=i[9]+(x>>>5|2048*!r),R=0,N=0+k*a+5*m*S+5*f*O+5*p*E+5*d*I;R=N>>>13,N&=8191,N+=5*c*T+5*u*$+5*l*A+5*s*P+5*o*j,R+=N>>>13,N&=8191;let U=R+k*o+S*a+5*m*O+5*f*E+5*p*I;R=U>>>13,U&=8191,U+=5*d*T+5*c*$+5*u*A+5*l*P+5*s*j,R+=U>>>13,U&=8191;let C=R+k*s+S*o+O*a+5*m*E+5*f*I;R=C>>>13,C&=8191,C+=5*p*T+5*d*$+5*c*A+5*u*P+5*l*j,R+=C>>>13,C&=8191;let D=R+k*l+S*s+O*o+E*a+5*m*I;R=D>>>13,D&=8191,D+=5*f*T+5*p*$+5*d*A+5*c*P+5*u*j,R+=D>>>13,D&=8191;let z=R+k*u+S*l+O*s+E*o+I*a;R=z>>>13,z&=8191,z+=5*m*T+5*f*$+5*p*A+5*d*P+5*c*j,R+=z>>>13,z&=8191;let L=R+k*c+S*u+O*l+E*s+I*o;R=L>>>13,L&=8191,L+=T*a+5*m*$+5*f*A+5*p*P+5*d*j,R+=L>>>13,L&=8191;let M=R+k*d+S*c+O*u+E*l+I*s;R=M>>>13,M&=8191,M+=T*o+$*a+5*m*A+5*f*P+5*p*j,R+=M>>>13,M&=8191;let q=R+k*p+S*d+O*c+E*u+I*l;R=q>>>13,q&=8191,q+=T*s+$*o+A*a+5*m*P+5*f*j,R+=q>>>13,q&=8191;let V=R+k*f+S*p+O*d+E*c+I*u;R=V>>>13,V&=8191,V+=T*l+$*s+A*o+P*a+5*m*j,R+=V>>>13,V&=8191;let J=R+k*m+S*f+O*p+E*d+I*c;R=J>>>13,J&=8191,J+=T*u+$*l+A*s+P*o+j*a,R+=J>>>13,J&=8191,N=8191&(R=(R=(R<<2)+R|0)+N|0),R>>>=13,U+=R,i[0]=N,i[1]=U,i[2]=C,i[3]=D,i[4]=z,i[5]=L,i[6]=M,i[7]=q,i[8]=V,i[9]=J}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=i,i=e[t]>>>13,e[t]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+i,i=r[t]>>>13,r[t]&=8191;r[9]-=8192;let n=(1^i)-1;for(let e=0;e<10;e++)r[e]&=n;n=~n;for(let t=0;t<10;t++)e[t]=e[t]&n|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=65535&a;for(let r=1;r<8;r++)a=(e[r]+t[r]|0)+(a>>>16)|0,e[r]=65535&a;fe(r)}update(e){p9(this),p8(e);let{buffer:t,blockLen:r}=this,i=(e=fs(e)).length;for(let n=0;n<i;){let a=Math.min(r-this.pos,i-n);if(a===r){for(;r<=i-n;n+=r)this.process(e,n);continue}t.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){fe(this.h,this.r,this.buffer,this.pad)}digestInto(e){p9(this);p8(e,void 0,"output");let t=this.outputLen;if(e.length<t)throw Error("digestInto() expects output buffer of length at least "+t);this.finished=!0;let{buffer:r,h:i}=this,{pos:n}=this;if(n){for(r[n++]=1;n<16;n++)r[n]=0;this.process(r,0,!0)}this.finalize();let a=0;for(let t=0;t<8;t++)e[a++]=i[t]>>>0,e[a++]=i[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let fx=function(e){let t=(t,r)=>e(r).update(t).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new f_(e));function fk(e,t,r,i,n,a=20){let o=e[0],s=e[1],l=e[2],u=e[3],c=t[0],d=t[1],p=t[2],f=t[3],m=t[4],h=t[5],g=t[6],y=t[7],v=r[0],b=r[1],w=r[2],_=o,x=s,k=l,S=u,O=c,E=d,I=p,T=f,$=m,A=h,P=g,j=y,R=n,N=v,U=b,C=w;for(let e=0;e<a;e+=2)$=$+(R=fh(R^(_=_+O|0),16))|0,_=_+(O=fh(O^$,12))|0,$=$+(R=fh(R^_,8))|0,O=fh(O^$,7),A=A+(N=fh(N^(x=x+E|0),16))|0,x=x+(E=fh(E^A,12))|0,A=A+(N=fh(N^x,8))|0,E=fh(E^A,7),P=P+(U=fh(U^(k=k+I|0),16))|0,k=k+(I=fh(I^P,12))|0,P=P+(U=fh(U^k,8))|0,I=fh(I^P,7),j=j+(C=fh(C^(S=S+T|0),16))|0,S=S+(T=fh(T^j,12))|0,j=j+(C=fh(C^S,8))|0,T=fh(T^j,7),P=P+(C=fh(C^(_=_+E|0),16))|0,_=_+(E=fh(E^P,12))|0,P=P+(C=fh(C^_,8))|0,E=fh(E^P,7),j=j+(R=fh(R^(x=x+I|0),16))|0,x=x+(I=fh(I^j,12))|0,j=j+(R=fh(R^x,8))|0,I=fh(I^j,7),$=$+(N=fh(N^(k=k+T|0),16))|0,k=k+(T=fh(T^$,12))|0,$=$+(N=fh(N^k,8))|0,T=fh(T^$,7),A=A+(U=fh(U^(S=S+O|0),16))|0,S=S+(O=fh(O^A,12))|0,A=A+(U=fh(U^S,8))|0,O=fh(O^A,7);let D=0;i[D++]=o+_|0,i[D++]=s+x|0,i[D++]=l+k|0,i[D++]=u+S|0,i[D++]=c+O|0,i[D++]=d+E|0,i[D++]=p+I|0,i[D++]=f+T|0,i[D++]=m+$|0,i[D++]=h+A|0,i[D++]=g+P|0,i[D++]=y+j|0,i[D++]=n+R|0,i[D++]=v+N|0,i[D++]=b+U|0,i[D++]=w+C|0}let fS=fb(fk,{counterRight:!1,counterLength:4,allowShortKeys:!1}),fO=fb(fk,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,r,i){let n=e[0],a=e[1],o=e[2],s=e[3],l=t[0],u=t[1],c=t[2],d=t[3],p=t[4],f=t[5],m=t[6],h=t[7],g=r[0],y=r[1],v=r[2],b=r[3];for(let e=0;e<20;e+=2)p=p+(g=fh(g^(n=n+l|0),16))|0,n=n+(l=fh(l^p,12))|0,p=p+(g=fh(g^n,8))|0,l=fh(l^p,7),f=f+(y=fh(y^(a=a+u|0),16))|0,a=a+(u=fh(u^f,12))|0,f=f+(y=fh(y^a,8))|0,u=fh(u^f,7),m=m+(v=fh(v^(o=o+c|0),16))|0,o=o+(c=fh(c^m,12))|0,m=m+(v=fh(v^o,8))|0,c=fh(c^m,7),h=h+(b=fh(b^(s=s+d|0),16))|0,s=s+(d=fh(d^h,12))|0,h=h+(b=fh(b^s,8))|0,d=fh(d^h,7),m=m+(b=fh(b^(n=n+u|0),16))|0,n=n+(u=fh(u^m,12))|0,m=m+(b=fh(b^n,8))|0,u=fh(u^m,7),h=h+(g=fh(g^(a=a+c|0),16))|0,a=a+(c=fh(c^h,12))|0,h=h+(g=fh(g^a,8))|0,c=fh(c^h,7),p=p+(y=fh(y^(o=o+d|0),16))|0,o=o+(d=fh(d^p,12))|0,p=p+(y=fh(y^o,8))|0,d=fh(d^p,7),f=f+(v=fh(v^(s=s+l|0),16))|0,s=s+(l=fh(l^f,12))|0,f=f+(v=fh(v^s,8))|0,l=fh(l^f,7);let w=0;i[w++]=n,i[w++]=a,i[w++]=o,i[w++]=s,i[w++]=g,i[w++]=y,i[w++]=v,i[w++]=b},allowShortKeys:!1}),fE=new Uint8Array(16),fI=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(fE.subarray(r))},fT=new Uint8Array(32);function f$(e,t,r,i,n){void 0!==n&&p8(n,void 0,"AAD");let a=e(t,r,fT),o=function(e,t,r){p5(r);let i=new Uint8Array(16),n=new DataView(i.buffer,i.byteOffset,i.byteLength);return n.setBigUint64(0,BigInt(t),r),n.setBigUint64(8,BigInt(e),r),i}(i.length,n?n.length:0,!0),s=fx.create(a);n&&fI(s,n),fI(s,i),s.update(o);let l=s.digest();return fe(a,o),l}let fA=e=>(t,r,i)=>({encrypt(n,a){let o=n.length;(a=fo(o+16,a,!1)).set(n);let s=a.subarray(0,-16);e(t,r,s,s,1);let l=f$(e,t,r,s,i);return a.set(l,o),fe(l),a},decrypt(n,a){a=fo(n.length-16,a,!1);let o=n.subarray(0,-16),s=n.subarray(-16),l=f$(e,t,r,o,i);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}(s,l))throw Error("invalid tag");return a.set(n.subarray(0,-16)),e(t,r,a,a,1),fe(l),a}});fA(fS);let fP=((e,t)=>{function r(i,...n){if(p8(i,void 0,"key"),!ft)throw Error("Non little-endian hardware is not yet supported");void 0!==e.nonceLength&&p8(n[0],e.varSizeNonce?void 0:e.nonceLength,"nonce");let a=e.tagLength;a&&void 0!==n[1]&&p8(n[1],void 0,"AAD");let o=t(i,...n),s=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");p8(t,void 0,"output")}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,p8(e),s(o.encrypt.length,t),o.encrypt(e,t)},decrypt(e,t){if(p8(e),a&&e.length<a)throw Error('"ciphertext" expected length bigger than tagLength='+a);return s(o.decrypt.length,t),o.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:24,tagLength:16},fA(fO)),fj=new TextEncoder,fR=new TextDecoder;function fN(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let i of e)t.set(i,r),r+=i.length;return t}function fU(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:fR.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=fR.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),i=new Uint8Array(e.length);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function fC(e){let t=e;return("string"==typeof t&&(t=fj.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class fD extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class fz extends fD{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class fL extends fD{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class fM extends fD{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class fq extends fD{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class fV extends fD{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class fJ extends fD{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class fF extends fD{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class fZ extends fD{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class fB extends fD{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class fH extends fD{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class fW extends fD{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}let fK=(e,t)=>{let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:e};default:throw new fq(`alg ${e} is not supported either by JOSE or your javascript runtime`)}},fQ=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function fG(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function fY(e,t){return e.name===t}function fX(e){return parseInt(e.name.slice(4),10)}function f0(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}function f1(e,t,...r){return f0(`Key for the ${e} algorithm must be `,t,...r)}let f4=async(e,t,r)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(((e,...t)=>f0("Key must be ",e,...t))(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return!function(e,t,r){switch(t){case"HS256":case"HS384":case"HS512":{if(!fY(e.algorithm,"HMAC"))throw fG("HMAC");let r=parseInt(t.slice(2),10);if(fX(e.algorithm.hash)!==r)throw fG(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!fY(e.algorithm,"RSASSA-PKCS1-v1_5"))throw fG("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(fX(e.algorithm.hash)!==r)throw fG(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!fY(e.algorithm,"RSA-PSS"))throw fG("RSA-PSS");let r=parseInt(t.slice(2),10);if(fX(e.algorithm.hash)!==r)throw fG(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!fY(e.algorithm,"Ed25519"))throw fG("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!fY(e.algorithm,t))throw fG(t);break;case"ES256":case"ES384":case"ES512":{if(!fY(e.algorithm,"ECDSA"))throw fG("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw fG(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}(t,e,r),t},f6=async(e,t,r)=>{let i=await f4(e,t,"sign");return fQ(e,i),new Uint8Array(await crypto.subtle.sign(fK(e,i.algorithm),i,r))},f2=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};function f5(e){return e?.[Symbol.toStringTag]==="CryptoKey"}function f3(e){return e?.[Symbol.toStringTag]==="KeyObject"}let f8=e=>f5(e)||f3(e),f9=e=>{if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function f7(e){return f9(e)&&"string"==typeof e.kty}let me=e=>e?.[Symbol.toStringTag],mt=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let i;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):i=r;break;case e.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):i=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):i="wrapKey";break;case"decrypt"===r:i=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(i&&t.key_ops?.includes?.(i)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0},mr=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?((e,t,r)=>{if(!(t instanceof Uint8Array)){if(f7(t)){if(function(e){return"oct"===e.kty&&"string"==typeof e.k}(t)&&mt(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!f8(t))throw TypeError(f1(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${me(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r):((e,t,r)=>{if(f7(t))switch(r){case"decrypt":case"sign":if(function(e){return"oct"!==e.kty&&("AKP"===e.kty&&"string"==typeof e.priv||"string"==typeof e.d)}(t)&&mt(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d&&void 0===e.priv}(t)&&mt(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!f8(t))throw TypeError(f1(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${me(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${me(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${me(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${me(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${me(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)},mi=(e,t,r,i,n)=>{let a;if(void 0!==n.crit&&i?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!a.has(o))throw new fq(`Extension Header Parameter "${o}" is not recognized`);if(void 0===n[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&void 0===i[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(i.crit)},mn=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new fq('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new fq('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new fq('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new fq('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new fq('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),i={...e};return"AKP"!==i.kty&&delete i.alg,delete i.use,crypto.subtle.importKey("jwk",i,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)},ma=async(e,r,i,n=!1)=>{let a=(t||=new WeakMap).get(e);if(a?.[i])return a[i];let o=await mn({...r,alg:i});return n&&Object.freeze(e),a?a[i]=o:t.set(e,{[i]:o}),o},mo=async(e,r)=>{if(e instanceof Uint8Array||f5(e))return e;if(f3(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,r)=>{let i,n=(t||=new WeakMap).get(e);if(n?.[r])return n[r];let a="public"===e.type,o=!!a;if("x25519"===e.asymmetricKeyType){switch(r){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}i=e.toCryptoKey(e.asymmetricKeyType,o,a?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==r&&"Ed25519"!==r)throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(r!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let t;switch(r){case"RSA-OAEP":t="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":t="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":t="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":t="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(r.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:t},o,a?["encrypt"]:["decrypt"]);i=e.toCryptoKey({name:r.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:t},o,[a?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let t=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!t)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===r&&"P-256"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},o,[a?"verify":"sign"])),"ES384"===r&&"P-384"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},o,[a?"verify":"sign"])),"ES512"===r&&"P-521"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},o,[a?"verify":"sign"])),r.startsWith("ECDH-ES")&&(i=e.toCryptoKey({name:"ECDH",namedCurve:t},o,a?[]:["deriveBits"]))}if(!i)throw TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[r]=i:t.set(e,{[r]:i}),i})(e,r)}catch(e){if(e instanceof TypeError)throw e}let i=e.export({format:"jwk"});return ma(e,i,r)}if(f7(e))return e.k?fU(e.k):ma(e,e,r,!0);throw Error("unreachable")};class ms{#r;#i;#n;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#r=e}setProtectedHeader(e){if(this.#i)throw TypeError("setProtectedHeader can only be called once");return this.#i=e,this}setUnprotectedHeader(e){if(this.#n)throw TypeError("setUnprotectedHeader can only be called once");return this.#n=e,this}async sign(e,t){let r;if(!this.#i&&!this.#n)throw new fV("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!f2(this.#i,this.#n))throw new fV("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let i={...this.#i,...this.#n},n=mi(fV,new Map([["b64",!0]]),t?.crit,this.#i,i),a=!0;if(n.has("b64")&&"boolean"!=typeof(a=this.#i.b64))throw new fV('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=i;if("string"!=typeof o||!o)throw new fV('JWS "alg" (Algorithm) Header Parameter missing or invalid');mr(o,e,"sign");let s=this.#r;a&&(s=fj.encode(fC(s)));let l=fN(r=this.#i?fj.encode(fC(JSON.stringify(this.#i))):fj.encode(""),fj.encode("."),s),u=await mo(e,o),c={signature:fC(await f6(o,u,l)),payload:""};return a&&(c.payload=fR.decode(s)),this.#n&&(c.header=this.#n),this.#i&&(c.protected=fR.decode(r)),c}}class ml{#a;constructor(e){this.#a=new ms(e)}setProtectedHeader(e){return this.#a.setProtectedHeader(e),this}async sign(e,t){let r=await this.#a.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}let mu=e=>Math.floor(e.getTime()/1e3),mc=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,md=e=>{let t,r=mc.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let i=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*i);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*i);break;case"day":case"days":case"d":t=Math.round(86400*i);break;case"week":case"weeks":case"w":t=Math.round(604800*i);break;default:t=Math.round(0x1e187e0*i)}return"-"===r[1]||"ago"===r[4]?-t:t};function mp(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let mf=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class mm{#r;constructor(e){if(!f9(e))throw TypeError("JWT Claims Set MUST be an object");this.#r=structuredClone(e)}data(){return fj.encode(JSON.stringify(this.#r))}get iss(){return this.#r.iss}set iss(e){this.#r.iss=e}get sub(){return this.#r.sub}set sub(e){this.#r.sub=e}get aud(){return this.#r.aud}set aud(e){this.#r.aud=e}set jti(e){this.#r.jti=e}set nbf(e){"number"==typeof e?this.#r.nbf=mp("setNotBefore",e):e instanceof Date?this.#r.nbf=mp("setNotBefore",mu(e)):this.#r.nbf=mu(new Date)+md(e)}set exp(e){"number"==typeof e?this.#r.exp=mp("setExpirationTime",e):e instanceof Date?this.#r.exp=mp("setExpirationTime",mu(e)):this.#r.exp=mu(new Date)+md(e)}set iat(e){void 0===e?this.#r.iat=mu(new Date):e instanceof Date?this.#r.iat=mp("setIssuedAt",mu(e)):"string"==typeof e?this.#r.iat=mp("setIssuedAt",mu(new Date)+md(e)):this.#r.iat=mp("setIssuedAt",e)}}class mh{#i;#o;constructor(e={}){this.#o=new mm(e)}setIssuer(e){return this.#o.iss=e,this}setSubject(e){return this.#o.sub=e,this}setAudience(e){return this.#o.aud=e,this}setJti(e){return this.#o.jti=e,this}setNotBefore(e){return this.#o.nbf=e,this}setExpirationTime(e){return this.#o.exp=e,this}setIssuedAt(e){return this.#o.iat=e,this}setProtectedHeader(e){return this.#i=e,this}async sign(e,t){let r=new ml(this.#o.data());if(r.setProtectedHeader(this.#i),Array.isArray(this.#i?.crit)&&this.#i.crit.includes("b64")&&!1===this.#i.b64)throw new fJ("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}function mg(e,t=""){if(!Number.isSafeInteger(e)||e<0){let r=t&&`"${t}" `;throw Error(`${r}expected integer >= 0, got ${e}`)}}function my(e,t,r=""){let i=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,n=e?.length,a=void 0!==t;if(!i||a&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function mv(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash must wrapped by utils.createHasher");mg(e.outputLen),mg(e.blockLen)}function mb(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function mw(e,t){my(e,void 0,"digestInto() output");let r=t.outputLen;if(e.length<r)throw Error('"digestInto() output" expected to be of length >='+r)}function m_(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function mx(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function mk(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mS(e,t){return e<<32-t|e>>>t}function mO(e,t){return e<<t|e>>>32-t>>>0}let mE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e},mI="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,mT={_0:48,_9:57,A:65,F:70,a:97,f:102};function m$(e){return e>=mT._0&&e<=mT._9?e-mT._0:e>=mT.A&&e<=mT.F?e-(mT.A-10):e>=mT.a&&e<=mT.f?e-(mT.a-10):void 0}let mA=async()=>{};async function mP(e,t,r){let i=Date.now();for(let n=0;n<e;n++){r(n);let e=Date.now()-i;e>=0&&e<t||(await mA(),i+=e)}}function mj(e,t=""){if("string"==typeof e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}return my(e,void 0,t)}function mR(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options must be object or undefined");return Object.assign(e,t)}class mN{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,t){if(mv(e),my(t,void 0,"key"),this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,i=new Uint8Array(r);i.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),mx(i)}update(e){return mb(this),this.iHash.update(e),this}digestInto(e){mb(this),my(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:a,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let mU=(e,t,r)=>new mN(e,t).update(r).digest();function mC(e,t,r,i){var n;let a,{c:o,dkLen:s,DK:l,PRF:u,PRFSalt:c}=function(e,t,r,i){mv(e);let{c:n,dkLen:a,asyncTick:o}=mR({dkLen:32,asyncTick:10},i);if(mg(n,"c"),mg(a,"dkLen"),mg(o,"asyncTick"),n<1)throw Error("iterations (c) must be >= 1");let s=mj(t,"password"),l=mj(r,"salt"),u=new Uint8Array(a),c=mU.create(e,s),d=c._cloneInto().update(l);return{c:n,dkLen:a,asyncTick:o,DK:u,PRF:c,PRFSalt:d}}(e,t,r,i),d=new Uint8Array(4),p=mk(d),f=new Uint8Array(u.outputLen);for(let e=1,t=0;t<s;e++,t+=u.outputLen){let r=l.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(a=c._cloneInto(a)).update(d).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<o;e++){u._cloneInto(a).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return n=a,u.destroy(),c.destroy(),n&&n.destroy(),mx(f),l}mU.create=(e,t)=>new mN(e,t);class mD{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,t,r,i){this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=mk(this.buffer)}update(e){mb(this),my(e);let{view:t,buffer:r,blockLen:i}=this,n=e.length;for(let a=0;a<n;){let o=Math.min(i-this.pos,n-a);if(o===i){let t=mk(e);for(;i<=n-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mb(this),mw(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:a}=this;t[a++]=128,mx(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;r.setBigUint64(i-8,BigInt(8*this.length),n),this.process(r,0);let o=mk(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen must be aligned to 32bit");let l=s/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,u[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){(e||=new this.constructor).set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=n,e.length=i,e.pos=o,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let mz=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),mL=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),mM=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),mq=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),mV=BigInt(0x100000000-1),mJ=BigInt(32);function mF(e,t=!1){let r=e.length,i=new Uint32Array(r),n=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:o}=function(e,t=!1){return t?{h:Number(e&mV),l:Number(e>>mJ&mV)}:{h:0|Number(e>>mJ&mV),l:0|Number(e&mV)}}(e[a],t);[i[a],n[a]]=[r,o]}return[i,n]}let mZ=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),mB=new Uint32Array(64);class mH extends mD{constructor(e){super(64,e,8,!1)}get(){let{A:e,B:t,C:r,D:i,E:n,F:a,G:o,H:s}=this;return[e,t,r,i,n,a,o,s]}set(e,t,r,i,n,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)mB[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=mB[e-15],r=mB[e-2],i=mS(t,7)^mS(t,18)^t>>>3,n=mS(r,17)^mS(r,19)^r>>>10;mB[e]=n+mB[e-7]+i+mB[e-16]|0}let{A:r,B:i,C:n,D:a,E:o,F:s,G:l,H:u}=this;for(let e=0;e<64;e++){var c,d,p,f;let t=u+(mS(o,6)^mS(o,11)^mS(o,25))+((c=o)&s^~c&l)+mZ[e]+mB[e]|0,m=(mS(r,2)^mS(r,13)^mS(r,22))+((d=r)&(p=i)^d&(f=n)^p&f)|0;u=l,l=s,s=o,o=a+t|0,a=n,n=i,i=r,r=t+m|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,n,a,o,s,l,u)}roundClean(){mx(mB)}destroy(){this.set(0,0,0,0,0,0,0,0),mx(this.buffer)}}class mW extends mH{A=0|mz[0];B=0|mz[1];C=0|mz[2];D=0|mz[3];E=0|mz[4];F=0|mz[5];G=0|mz[6];H=0|mz[7];constructor(){super(32)}}let mK=mF(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),mQ=mK[0],mG=mK[1],mY=new Uint32Array(80),mX=new Uint32Array(80),m0=function(e,t={}){let r=(t,r)=>e(r).update(t).digest(),i=e(void 0);return r.outputLen=i.outputLen,r.blockLen=i.blockLen,r.create=t=>e(t),Object.assign(r,t),Object.freeze(r)}(()=>new mW,{oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,1])});function m1(e,t,r,i,n,a){let o=e[t++]^r[i++],s=e[t++]^r[i++],l=e[t++]^r[i++],u=e[t++]^r[i++],c=e[t++]^r[i++],d=e[t++]^r[i++],p=e[t++]^r[i++],f=e[t++]^r[i++],m=e[t++]^r[i++],h=e[t++]^r[i++],g=e[t++]^r[i++],y=e[t++]^r[i++],v=e[t++]^r[i++],b=e[t++]^r[i++],w=e[t++]^r[i++],_=e[t++]^r[i++],x=o,k=s,S=l,O=u,E=c,I=d,T=p,$=f,A=m,P=h,j=g,R=y,N=v,U=b,C=w,D=_;for(let e=0;e<8;e+=2)E^=mO(x+N|0,7),A^=mO(E+x|0,9),N^=mO(A+E|0,13),x^=mO(N+A|0,18),P^=mO(I+k|0,7),U^=mO(P+I|0,9),k^=mO(U+P|0,13),I^=mO(k+U|0,18),C^=mO(j+T|0,7),S^=mO(C+j|0,9),T^=mO(S+C|0,13),j^=mO(T+S|0,18),O^=mO(D+R|0,7),$^=mO(O+D|0,9),R^=mO($+O|0,13),D^=mO(R+$|0,18),k^=mO(x+O|0,7),S^=mO(k+x|0,9),O^=mO(S+k|0,13),x^=mO(O+S|0,18),T^=mO(I+E|0,7),$^=mO(T+I|0,9),E^=mO($+T|0,13),I^=mO(E+$|0,18),R^=mO(j+P|0,7),A^=mO(R+j|0,9),P^=mO(A+R|0,13),j^=mO(P+A|0,18),N^=mO(D+C|0,7),U^=mO(N+D|0,9),C^=mO(U+N|0,13),D^=mO(C+U|0,18);n[a++]=o+x|0,n[a++]=s+k|0,n[a++]=l+S|0,n[a++]=u+O|0,n[a++]=c+E|0,n[a++]=d+I|0,n[a++]=p+T|0,n[a++]=f+$|0,n[a++]=m+A|0,n[a++]=h+P|0,n[a++]=g+j|0,n[a++]=y+R|0,n[a++]=v+N|0,n[a++]=b+U|0,n[a++]=w+C|0,n[a++]=_+D|0}function m4(e,t,r,i,n){let a=i+0,o=i+16*n;for(let i=0;i<16;i++)r[o+i]=e[t+(2*n-1)*16+i];for(let i=0;i<n;i++,a+=16,t+=16)m1(r,o,e,t,r,a),i>0&&(o+=16),m1(r,a,e,t+=16,r,o)}async function m6(e,t,r){let{N:i,r:n,p:a,dkLen:o,blockSize32:s,V:l,B32:u,B:c,tmp:d,blockMixCb:p,asyncTick:f}=function(e,t,r){let{N:i,r:n,p:a,dkLen:o,asyncTick:s,maxmem:l,onProgress:u}=mR({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(mg(i,"N"),mg(n,"r"),mg(a,"p"),mg(o,"dkLen"),mg(s,"asyncTick"),mg(l,"maxmem"),void 0!==u&&"function"!=typeof u)throw Error("progressCb must be a function");let c=128*n,d=c/4;if(i<=1||(i&i-1)!=0||i>0x100000000)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(a<1||a>0x1fffffffe0/c)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(o<1||o>0x1fffffffe0)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(c*(i+a)>l)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+l);let p=mC(m0,e,t,{c:1,dkLen:c*a}),f=m_(p),m=m_(new Uint8Array(c*i)),h=m_(new Uint8Array(c)),g=()=>{};if(u){let e=2*i*a,t=Math.max(Math.floor(e/1e4),1),r=0;g=()=>{r++,u&&(!(r%t)||r===e)&&u(r/e)}}return{N:i,r:n,p:a,dkLen:o,blockSize32:d,V:m,B32:f,B:p,tmp:h,blockMixCb:g,asyncTick:s}}(e,t,r);mE(u);for(let e=0;e<a;e++){let t=s*e;for(let e=0;e<s;e++)l[e]=u[t+e];let r=0;await mP(i-1,f,()=>{m4(l,r,l,r+=s,n),p()}),m4(l,(i-1)*s,u,t,n),p(),await mP(i,f,()=>{let e=(u[t+s-16]&i-1)>>>0;for(let r=0;r<s;r++)d[r]=u[t+r]^l[e*s+r];m4(d,0,u,t,n),p()})}mE(u);let m=mC(m0,e,c,{c:1,dkLen:o});return mx(c,l,d),m}function m2(e){switch(e){case"a-z":return"abcdefghijklmnopqrstuvwxyz";case"A-Z":return"ABCDEFGHIJKLMNOPQRSTUVWXYZ";case"0-9":return"0123456789";case"-_":return"-_";default:throw Error(`Unsupported alphabet: ${e}`)}}function m5(...e){let t=e.map(m2).join("");if(0===t.length)throw Error("No valid characters provided for random string generation.");let r=t.length;return(e,...i)=>{let n;if(e<=0)throw Error("Length must be a positive integer.");let a=t,o=r;i.length>0&&(o=(a=i.map(m2).join("")).length);let s=Math.floor(256/o)*o,l=new Uint8Array(2*e),u=l.length,c="",d=u;for(;c.length<e;)d>=u&&(crypto.getRandomValues(l),d=0),(n=l[d++])<s&&(c+=a[n%o]);return c}}let m3=m5("a-z","0-9","A-Z","-_");async function m8(e,t,r=3600){return await new mh(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+r).sign(new TextEncoder().encode(t))}async function m9(e){let t=await p2("SHA-256").digest(e);return pb.encode(t)}let m7={N:16384,r:16,p:1,dkLen:64};async function he(e,t){return await m6(e.normalize("NFKC"),t,{N:m7.N,p:m7.p,r:m7.r,dkLen:m7.dkLen,maxmem:128*m7.N*m7.r*2})}let ht=async e=>{let t=p_.encode(crypto.getRandomValues(new Uint8Array(16))),r=await he(e,t);return`${t}:${p_.encode(r)}`},hr=async({hash:e,password:t})=>{let[r,i]=e.split(":");if(!r||!i)throw new pa("Invalid password hash");return function(e,t){let r=new Uint8Array(e),i=new Uint8Array(t),n=r.length^i.length,a=Math.max(r.length,i.length);for(let e=0;e<a;e++)n|=(e<r.length?r[e]:0)^(e<i.length?i[e]:0);return 0===n}(await he(t,r),function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(mI)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=m$(e.charCodeAt(n)),a=m$(e.charCodeAt(n+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+a}return i}(i))},hi=async({key:e,data:t})=>{let r=await p2("SHA-256").digest(e),i=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(t);return function(e){if(p8(e),fr)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=fi[e[r]];return t}(fu(fP)(new Uint8Array(r)).encrypt(i))},hn=async({key:e,data:t})=>{let r=await p2("SHA-256").digest(e),i=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(fr)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=fa(e.charCodeAt(n)),a=fa(e.charCodeAt(n+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+a}return i}(t),n=fu(fP)(new Uint8Array(r));return new TextDecoder().decode(n.decrypt(i))};var ha=Object.defineProperty,ho=Object.defineProperties,hs=Object.getOwnPropertyDescriptors,hl=Object.getOwnPropertySymbols,hu=Object.prototype.hasOwnProperty,hc=Object.prototype.propertyIsEnumerable,hd=(e,t,r)=>t in e?ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hp=(e,t)=>{for(var r in t||(t={}))hu.call(t,r)&&hd(e,r,t[r]);if(hl)for(var r of hl(t))hc.call(t,r)&&hd(e,r,t[r]);return e},hf=(e,t)=>ho(e,hs(t)),hm=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},hh=async(e,t)=>{var r,i,n,a,o,s;let l=t||{},u={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:l,hooks:u};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let i=await (null==(r=c.init)?void 0:r.call(c,e.toString(),t));l=i.options||l,e=i.url}u.onRequest.push(null==(i=c.hooks)?void 0:i.onRequest),u.onResponse.push(null==(n=c.hooks)?void 0:n.onResponse),u.onSuccess.push(null==(a=c.hooks)?void 0:a.onSuccess),u.onError.push(null==(o=c.hooks)?void 0:o.onError),u.onRetry.push(null==(s=c.hooks)?void 0:s.onRetry)}return{url:e,options:l,hooks:u}},hg=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},hy=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}},hv=async e=>{let t={},r=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let i=await r(e.auth.token);if(!i)return t;t.authorization=`Bearer ${i}`}else if("Basic"===e.auth.type){let i=r(e.auth.username),n=r(e.auth.password);if(!i||!n)return t;t.authorization=`Basic ${btoa(`${i}:${n}`)}`}else if("Custom"===e.auth.type){let i=r(e.auth.value);if(!i)return t;t.authorization=`${r(e.auth.prefix)} ${i}`}}return t},hb=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function hw(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function h_(e){try{return JSON.parse(e)}catch(t){return e}}async function hx(e){let t=new Headers(null==e?void 0:e.headers);for(let[r,i]of Object.entries(await hv(e)||{}))t.set(r,i);if(!t.has("content-type")){let r=hw(null==e?void 0:e.body)?"application/json":null;r&&t.set("content-type",r)}return t}var hk=class e extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function hS(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new hk(r.issues);return r.value}var hO=["get","post","put","patch","delete"],hE=async(e,t)=>{var r,i,n,a,o,s,l,u;let{hooks:c,url:d,options:p}=await hh(e,t),f=function(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(p),m=new AbortController,h=null!=(r=p.signal)?r:m.signal,g=function(e,t){let{baseURL:r,params:i,query:n}=t||{query:{},params:{},baseURL:""},a=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];hO.includes(t)&&(e=e.replace(`@${t}/`,"/"))}a.endsWith("/")||(a+="/");let[o,s]=e.replace(a,"").split("?"),l=new URLSearchParams(s);for(let[e,t]of Object.entries(n||{}))null!=t&&l.set(e,String(t));if(i)if(Array.isArray(i))for(let[e,t]of o.split("/").filter(e=>e.startsWith(":")).entries()){let r=i[e];o=o.replace(t,r)}else for(let[e,t]of Object.entries(i))o=o.replace(`:${e}`,String(t));(o=o.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(o=o.slice(1));let u=l.toString();return(u=u.length>0?`?${u}`.replace(/\+/g,"%20"):"",a.startsWith("http"))?new URL(`${o}${u}`,a):`${a}${o}${u}`}(d,p),y=function(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(hw(e.body)&&!t.has("content-type")){for(let[t,r]of Object.entries(null==e?void 0:e.body))r instanceof Date&&(e.body[t]=r.toISOString());return JSON.stringify(e.body)}return e.body}(p),v=await hx(p),b=function(e,t){var r;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let i=null==(r=e.split("@")[1])?void 0:r.split("/")[0];return hO.includes(i)?i.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}(d,p),w=hf(hp({},p),{url:g,headers:v,body:y,method:b,signal:h});for(let e of c.onRequest)if(e){let t=await e(w);t instanceof Object&&(w=t)}("pipeTo"in w&&"function"==typeof w.pipeTo||"function"==typeof(null==(i=null==t?void 0:t.body)?void 0:i.pipe))&&!("duplex"in w)&&(w.duplex="half");let{clearTimeout:_}=function(e,t){let r;return!(null==e?void 0:e.signal)&&(null==e?void 0:e.timeout)&&(r=setTimeout(()=>null==t?void 0:t.abort(),null==e?void 0:e.timeout)),{abortTimeout:r,clearTimeout:()=>{r&&clearTimeout(r)}}}(p,m),x=await f(w.url,w);_();let k={response:x,request:w};for(let e of c.onResponse)if(e){let r=await e(hf(hp({},k),{response:(null==(n=null==t?void 0:t.hookOptions)?void 0:n.cloneResponse)?x.clone():x}));r instanceof Response?x=r:r instanceof Object&&(x=r.response)}if(x.ok){if("HEAD"===w.method)return{data:"",error:null};let e=function(e){let t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let i=t.split(";").shift()||"";return hb.test(i)?"json":r.has(i)||i.startsWith("text/")?"text":"blob"}(x),r={data:"",response:x,request:w};if("json"===e||"text"===e){let e=await x.text(),t=null!=(a=w.jsonParser)?a:h_;r.data=await t(e)}else r.data=await x[e]();for(let e of((null==w?void 0:w.output)&&w.output&&!w.disableValidation&&(r.data=await hS(w.output,r.data)),c.onSuccess))e&&await e(hf(hp({},r),{response:(null==(o=null==t?void 0:t.hookOptions)?void 0:o.cloneResponse)?x.clone():x}));return(null==t?void 0:t.throw)?r.data:{data:r.data,error:null}}let S=null!=(s=null==t?void 0:t.jsonParser)?s:h_,O=await x.text(),E=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(O),I=E?await S(O):null,T={response:x,responseText:O,request:w,error:hf(hp({},I),{status:x.status,statusText:x.statusText})};for(let e of c.onError)e&&await e(hf(hp({},T),{response:(null==(l=null==t?void 0:t.hookOptions)?void 0:l.cloneResponse)?x.clone():x}));if(null==t?void 0:t.retry){let r=function(e){if("number"==typeof e)return new hg({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new hg(e);case"exponential":return new hy(e);default:throw Error("Invalid retry strategy")}}(t.retry),i=null!=(u=t.retryAttempt)?u:0;if(await r.shouldAttemptRetry(i,x)){for(let e of c.onRetry)e&&await e(k);let n=r.getDelay(i);return await new Promise(e=>setTimeout(e,n)),await hE(e,hf(hp({},t),{retryAttempt:i+1}))}}if(null==t?void 0:t.throw)throw new hm(x.status,x.statusText,E?I:O);return{data:null,error:hf(hp({},I),{status:x.status,statusText:x.statusText})}};let hI=async(e,t,r,i)=>{let n=await f4(e,t,"verify");fQ(e,n);let a=fK(e,n.algorithm);try{return await crypto.subtle.verify(a,n,r,i)}catch{return!1}};async function hT(e,t,r){let i,n;if(!f9(e))throw new fV("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new fV('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new fV("JWS Protected Header incorrect type");if(void 0===e.payload)throw new fV("JWS Payload missing");if("string"!=typeof e.signature)throw new fV("JWS Signature missing or incorrect type");if(void 0!==e.header&&!f9(e.header))throw new fV("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{let t=fU(e.protected);a=JSON.parse(fR.decode(t))}catch{throw new fV("JWS Protected Header is invalid")}if(!f2(a,e.header))throw new fV("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let o={...a,...e.header},s=mi(fV,new Map([["b64",!0]]),r?.crit,a,o),l=!0;if(s.has("b64")&&"boolean"!=typeof(l=a.b64))throw new fV('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:u}=o;if("string"!=typeof u||!u)throw new fV('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&((e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)})("algorithms",r.algorithms);if(c&&!c.has(u))throw new fM('"alg" (Algorithm) Header Parameter value not allowed');if(l){if("string"!=typeof e.payload)throw new fV("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new fV("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(a,e),d=!0),mr(u,t,"verify");let p=fN(fj.encode(e.protected??""),fj.encode("."),"string"==typeof e.payload?fj.encode(e.payload):e.payload);try{i=fU(e.signature)}catch{throw new fV("Failed to base64url decode the signature")}let f=await mo(t,u);if(!await hI(u,f,i,p))throw new fW;if(l)try{n=fU(e.payload)}catch{throw new fV("Failed to base64url decode the payload")}else n="string"==typeof e.payload?fj.encode(e.payload):e.payload;let m={payload:n};return(void 0!==e.protected&&(m.protectedHeader=a),void 0!==e.header&&(m.unprotectedHeader=e.header),d)?{...m,key:f}:m}async function h$(e,t,r){if(e instanceof Uint8Array&&(e=fR.decode(e)),"string"!=typeof e)throw new fV("Compact JWS must be a string or Uint8Array");let{0:i,1:n,2:a,length:o}=e.split(".");if(3!==o)throw new fV("Invalid Compact JWS");let s=await hT({payload:n,protected:i,signature:a},t,r),l={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}async function hA(e,t,r){let i=await h$(e,t,r);if(i.protectedHeader.crit?.includes("b64")&&!1===i.protectedHeader.b64)throw new fJ("JWTs MUST NOT use unencoded payload");let n={payload:function(e,t,r={}){var i,n;let a,o;try{a=JSON.parse(fR.decode(t))}catch{}if(!f9(a))throw new fJ("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||mf(e.typ)!==mf(s)))throw new fz('unexpected "typ" JWT header value',a,"typ","check_failed");let{requiredClaims:l=[],issuer:u,subject:c,audience:d,maxTokenAge:p}=r,f=[...l];for(let e of(void 0!==p&&f.push("iat"),void 0!==d&&f.push("aud"),void 0!==c&&f.push("sub"),void 0!==u&&f.push("iss"),new Set(f.reverse())))if(!(e in a))throw new fz(`missing required "${e}" claim`,a,e,"missing");if(u&&!(Array.isArray(u)?u:[u]).includes(a.iss))throw new fz('unexpected "iss" claim value',a,"iss","check_failed");if(c&&a.sub!==c)throw new fz('unexpected "sub" claim value',a,"sub","check_failed");if(d&&(i=a.aud,n="string"==typeof d?[d]:d,"string"==typeof i?!n.includes(i):!(Array.isArray(i)&&n.some(Set.prototype.has.bind(new Set(i))))))throw new fz('unexpected "aud" claim value',a,"aud","check_failed");switch(typeof r.clockTolerance){case"string":o=md(r.clockTolerance);break;case"number":o=r.clockTolerance;break;case"undefined":o=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:m}=r,h=mu(m||new Date);if((void 0!==a.iat||p)&&"number"!=typeof a.iat)throw new fz('"iat" claim must be a number',a,"iat","invalid");if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new fz('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>h+o)throw new fz('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new fz('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=h-o)throw new fL('"exp" claim timestamp check failed',a,"exp","check_failed")}if(p){let e=h-a.iat;if(e-o>("number"==typeof p?p:md(p)))throw new fL('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(e<0-o)throw new fz('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a}(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return"function"==typeof t?{...n,key:i.key}:n}function hP(e){let t,r;if("string"!=typeof e)throw new fJ("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new fJ("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new fJ("Invalid JWT");if(!i)throw new fJ("JWTs must contain a payload");try{t=fU(i)}catch{throw new fJ("Failed to base64url decode the payload")}try{r=JSON.parse(fR.decode(t))}catch{throw new fJ("Failed to parse the decoded payload as JSON")}if(!f9(r))throw new fJ("Invalid JWT Claims Set");return r}function hj(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(fR.decode(fU(t)));if(!f9(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}async function hR(e,t,r){let i;if(!f9(e))throw TypeError("JWK must be an object");switch(t??=e.alg,i??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return fU(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new fq('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return mn({...e,alg:t,ext:i});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return mn({...e,ext:i});case"EC":case"OKP":return mn({...e,alg:t,ext:i});default:throw new fq('Unsupported "kty" (Key Type) Parameter value')}}function hN(e){return f9(e)}class hU{#s;#l=new WeakMap;constructor(e){if(!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(hN)}(e))throw new fF("JSON Web Key Set malformed");this.#s=structuredClone(e)}jwks(){return this.#s}async getKey(e,t){let{alg:r,kid:i}={...e,...t?.header},n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new fq('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this.#s.keys.filter(e=>{let t=n===e.kty;if(t&&"string"==typeof i&&(t=i===e.kid),t&&("string"==typeof e.alg||"AKP"===n)&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":case"EdDSA":t="Ed25519"===e.crv}return t}),{0:o,length:s}=a;if(0===s)throw new fZ;if(1!==s){let e=new fB,t=this.#l;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await hC(t,e,r)}catch{}},e}return hC(this.#l,o,r)}}async function hC(e,t,r){let i=e.get(t)||e.set(t,{}).get(t);if(void 0===i[r]){let e=await hR({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new fF("JSON Web Key Set members must be public keys");i[r]=e}return i[r]}function hD(e){let t=new hU(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>structuredClone(t.jwks()),enumerable:!1,configurable:!1,writable:!1}}),r}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(r="jose/v6.1.0");let hz=Symbol();async function hL(e,t,r,i=fetch){let n=await i(e,{method:"GET",signal:r,redirect:"manual",headers:t}).catch(e=>{if("TimeoutError"===e.name)throw new fH;throw e});if(200!==n.status)throw new fD("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await n.json()}catch{throw new fD("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let hM=Symbol();class hq{#u;#c;#d;#p;#f;#m;#h;#g;#y;#v;constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this.#u=new URL(e.href),this.#c="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this.#d="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this.#p="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,this.#h=new Headers(t?.headers),r&&!this.#h.has("User-Agent")&&this.#h.set("User-Agent",r),this.#h.has("accept")||(this.#h.set("accept","application/json"),this.#h.append("accept","application/jwk-set+json")),this.#g=t?.[hz],t?.[hM]!==void 0&&(this.#v=t?.[hM],function(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!f9(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,f9)}(t?.[hM],this.#p)&&(this.#f=this.#v.uat,this.#y=hD(this.#v.jwks)))}pendingFetch(){return!!this.#m}coolingDown(){return"number"==typeof this.#f&&Date.now()<this.#f+this.#d}fresh(){return"number"==typeof this.#f&&Date.now()<this.#f+this.#p}jwks(){return this.#y?.jwks()}async getKey(e,t){this.#y&&this.fresh()||await this.reload();try{return await this.#y(e,t)}catch(r){if(r instanceof fZ&&!1===this.coolingDown())return await this.reload(),this.#y(e,t);throw r}}async reload(){this.#m&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this.#m=void 0),this.#m||=hL(this.#u.href,this.#h,AbortSignal.timeout(this.#c),this.#g).then(e=>{this.#y=hD(e),this.#v&&(this.#v.uat=Date.now(),this.#v.jwks=e),this.#f=Date.now(),this.#m=void 0}).catch(e=>{throw this.#m=void 0,e}),await this.#m}}let hV=e=>m5("a-z","A-Z","0-9")(e||32);var pe=pe;let hJ=cZ({id:uO(),createdAt:cM().default(()=>new Date),updatedAt:cM().default(()=>new Date)});function hF(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e))}function hZ(e){return(...t)=>t.reduce((t,r)=>(function e(t,r,i=".",n){if(!hF(r))return e(t,{},i,n);let a=Object.assign({},r);for(let r in t){if("__proto__"===r||"constructor"===r)continue;let o=t[r];null!=o&&(n&&n(a,r,o,i)||(Array.isArray(o)&&Array.isArray(a[r])?a[r]=[...o,...a[r]]:hF(o)&&hF(a[r])?a[r]=e(o,a[r],(i?`${i}.`:"")+r.toString(),n):a[r]=o))}return a})(t,r,"",e),{})}hJ.extend({email:uO().transform(e=>e.toLowerCase()),emailVerified:cb().default(!1),name:uO(),image:uO().nullish()}),hJ.extend({providerId:uO(),accountId:uO(),userId:pe.string(),accessToken:uO().nullish(),refreshToken:uO().nullish(),idToken:uO().nullish(),accessTokenExpiresAt:cM().nullish(),refreshTokenExpiresAt:cM().nullish(),scope:uO().nullish(),password:uO().nullish()}),hJ.extend({userId:pe.string(),expiresAt:cM(),token:uO(),ipAddress:uO().nullish(),userAgent:uO().nullish()}),hJ.extend({value:uO(),expiresAt:cM(),identifier:uO()});let hB=hZ();function hH(e){return"-"===e||"^"===e||"$"===e||"+"===e||"."===e||"("===e||")"===e||"|"===e||"["===e||"]"===e||"{"===e||"}"===e||"*"===e||"?"===e||"\\"===e?`\\${e}`:e}function hW(e,t){if("string"!=typeof t)throw TypeError(`Sample must be a string, but ${typeof t} given`);return e.test(t)}function hK(e,t){if("string"!=typeof e&&!Array.isArray(e))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof e} given`);if(("string"==typeof t||"boolean"==typeof t)&&(t={separator:t}),2==arguments.length&&!(void 0===t||"object"==typeof t&&null!==t&&!Array.isArray(t)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof t} given`);if("\\"===(t=t||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let r=function e(t,r=!0){if(Array.isArray(t)){let i=t.map(t=>`^${e(t,r)}$`);return`(?:${i.join("|")})`}let i="",n="",a=".";!0===r?(i="/",n="[/\\\\]",a="[^/\\\\]"):r&&((n=function(e){let t="";for(let r=0;r<e.length;r++)t+=hH(e[r]);return t}(i=r)).length>1?(n=`(?:${n})`,a=`((?!${n}).)`):a=`[^${n}]`);let o=r?`${n}+?`:"",s=r?`${n}*?`:"",l=r?t.split(i):[t],u="";for(let e=0;e<l.length;e++){let t=l[e],i=l[e+1],n="";if(t||!(e>0)){if(r&&(n=e===l.length-1?s:"**"!==i?o:""),r&&"**"===t){n&&(u+=0===e?"":n,u+=`(?:${a}*?${n})*?`);continue}for(let e=0;e<t.length;e++){let r=t[e];"\\"===r?e<t.length-1&&(u+=hH(t[e+1]),e++):"?"===r?u+=a:"*"===r?u+=`${a}*?`:u+=hH(r)}u+=n}}return u}(e,t.separator),i=RegExp(`^${r}$`,t.flags),n=hW.bind(null,i);return n.options=t,n.pattern=e,n.regexp=i,n}hZ((e,t,r)=>{if(void 0!==e[t]&&"function"==typeof r)return e[t]=r(e[t]),!0}),hZ((e,t,r)=>{if(Array.isArray(e[t])&&"function"==typeof r)return e[t]=r(e[t]),!0});let hQ=pB(async e=>{if(e.request?.method!=="POST"||!e.request)return;let{body:t,query:r,context:i}=e,n=e.headers?.get("origin")||e.headers?.get("referer")||"",a=t?.callbackURL||r?.callbackURL,o=t?.redirectTo,s=t?.errorCallbackURL,l=t?.newUserCallbackURL,u=Array.isArray(i.options.trustedOrigins)?i.trustedOrigins:[...i.trustedOrigins,...await i.options.trustedOrigins?.(e.request)||[]],c=e.headers?.has("cookie"),d=(t,r)=>{if(t&&!u.some(e=>((e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*"))return t.includes("://")?hK(t)(pU(e)||e):hK(t)(pD(e));let r=pC(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===pU(e)})(t,e)||t?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(t)))throw e.context.logger.error(`Invalid ${r}: ${t}`),e.context.logger.info(`If it's a valid URL, please add ${t} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${u}`),new P("FORBIDDEN",{message:`Invalid ${r}`})};c&&!e.context.options.advanced?.disableCSRFCheck&&d(n,"origin"),a&&d(a,"callbackURL"),o&&d(o,"redirectURL"),s&&d(s,"errorCallbackURL"),l&&d(l,"newUserCallbackURL")}),hG=e=>pB(async t=>{if(!t.request)return;let{context:r}=t,i=e(t),n=Array.isArray(r.options.trustedOrigins)?r.trustedOrigins:[...r.trustedOrigins,...await r.options.trustedOrigins?.(t.request)||[]],a=(e,r)=>{if(e&&!n.some(t=>((e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*"))return t.includes("://")?hK(t)(pU(e)||e):hK(t)(pD(e));let r=pC(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===pU(e)})(e,t)||e?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(e)))throw t.context.logger.error(`Invalid ${r}: ${e}`),t.context.logger.info(`If it's a valid URL, please add ${e} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${n}`),new P("FORBIDDEN",{message:`Invalid ${r}`})};for(let e of Array.isArray(i)?i:[i])a(e,"callbackURL")});async function hY(e,t,r,i=3600){return await m8({email:t.toLowerCase(),updateTo:r},e,i)}async function hX(e,t){if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new P("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await hY(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:t,url:i,token:r},e.request)}let h0=pH("/send-verification-email",{method:"POST",body:cZ({email:uT().meta({description:"The email to send the verification email to"}),callbackURL:uO().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async e=>{if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new P("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:t}=e.body,r=await pG(e);if(!r){let r=await e.context.internalAdapter.findUserByEmail(t);return r&&await hX(e,r.user),e.json({status:!0})}if(r?.user.emailVerified)throw new P("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(r?.user.email!==t)throw new P("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await hX(e,r.user),e.json({status:!0})}),h1=pH("/verify-email",{method:"GET",query:cZ({token:uO().meta({description:"The token to verify the email"}),callbackURL:uO().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[hG(e=>e.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string",description:"User ID"},email:{type:"string",description:"User email"},name:{type:"string",description:"User name"},image:{type:"string",description:"User image URL"},emailVerified:{type:"boolean",description:"Indicates if the user email is verified"},createdAt:{type:"string",description:"User creation date"},updatedAt:{type:"string",description:"User update date"}},required:["id","email","name","image","emailVerified","createdAt","updatedAt"]},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async e=>{let t;function r(t){if(e.query.callbackURL){if(e.query.callbackURL.includes("?"))throw e.redirect(`${e.query.callbackURL}&error=${t}`);throw e.redirect(`${e.query.callbackURL}?error=${t}`)}throw new P("UNAUTHORIZED",{message:t})}let{token:i}=e.query;try{t=await hA(i,new TextEncoder().encode(e.context.secret),{algorithms:["HS256"]})}catch(e){if(e instanceof fL)return r("token_expired");return r("invalid_token")}let n=cZ({email:uO().email(),updateTo:uO().optional()}).parse(t.payload),a=await e.context.internalAdapter.findUserByEmail(n.email);if(!a)return r("user_not_found");if(n.updateTo){let t=await pG(e);if(!t||t.user.email!==n.email){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return r("unauthorized")}let i=await e.context.internalAdapter.updateUserByEmail(n.email,{email:n.updateTo,emailVerified:!1},e),a=await hY(e.context.secret,n.updateTo);if(await e.context.options.emailVerification?.sendVerificationEmail?.({user:i,url:`${e.context.baseURL}/verify-email?token=${a}&callbackURL=${e.query.callbackURL||"/"}`,token:a},e.request),await pJ(e,{session:t.session,user:{...t.user,email:n.updateTo,emailVerified:!1}}),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:{id:i.id,email:i.email,name:i.name,image:i.image,emailVerified:i.emailVerified,createdAt:i.createdAt,updatedAt:i.updatedAt}})}e.context.options.emailVerification?.onEmailVerification&&await e.context.options.emailVerification.onEmailVerification(a.user,e.request);let o=await e.context.internalAdapter.updateUserByEmail(n.email,{emailVerified:!0},e);if(e.context.options.emailVerification?.afterEmailVerification&&await e.context.options.emailVerification.afterEmailVerification(o,e.request),e.context.options.emailVerification?.autoSignInAfterVerification){let t=await pG(e);if(t&&t.user.email===n.email)await pJ(e,{session:t.session,user:{...t.user,emailVerified:!0}});else{let t=await e.context.internalAdapter.createSession(a.user.id,e);if(!t)throw new P("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await pJ(e,{session:t,user:{...a.user,emailVerified:!0}})}}if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:null})}),h4={isAction:!1};async function h6(e,t){let r=e.body?.callbackURL||e.context.options.baseURL;if(!r)throw new P("BAD_REQUEST",{message:"callbackURL is required"});let i=m3(128),n=m3(32),a=e.context.createAuthCookie("state",{maxAge:3e5});await e.setSignedCookie(a.name,n,e.context.secret,a.attributes);let o=JSON.stringify({callbackURL:r,codeVerifier:i,errorURL:e.body?.errorCallbackURL,newUserURL:e.body?.newUserCallbackURL,link:t,expiresAt:Date.now()+6e5,requestSignUp:e.body?.requestSignUp}),s=new Date;s.setMinutes(s.getMinutes()+10);let l=await e.context.internalAdapter.createVerificationValue({value:o,identifier:n,expiresAt:s},e);if(!l)throw e.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new P("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:l.identifier,codeVerifier:i}}async function h2(e){let t=e.query.state||e.body.state,r=await e.context.internalAdapter.findVerificationValue(t);if(!r){e.context.logger.error("State Mismatch. Verification not found",{state:t});let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=please_restart_the_process`)}let i=cZ({callbackURL:uO(),codeVerifier:uO(),errorURL:uO().optional(),newUserURL:uO().optional(),expiresAt:cd(),link:cZ({email:uO(),userId:pe.string()}).optional(),requestSignUp:cb().optional()}).parse(JSON.parse(r.value));i.errorURL||(i.errorURL=`${e.context.baseURL}/error`);let n=e.context.createAuthCookie("state"),a=await e.getSignedCookie(n.name,e.context.secret);if(!e.context.oauthConfig?.skipStateCookieCheck&&(!a||a!==t)){let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=state_mismatch`)}if(e.setCookie(n.name,"",{maxAge:0}),i.expiresAt<Date.now()){await e.context.internalAdapter.deleteVerificationValue(r.id);let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}return await e.context.internalAdapter.deleteVerificationValue(r.id),i}async function h5(e){let t=await p2("SHA-256").digest(e);return pw.encode(new Uint8Array(t),{padding:!1})}function h3(e){return{tokenType:e.token_type,accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?pn(e.expires_in,"sec"):void 0,refreshTokenExpiresAt:e.refresh_token_expires_in?pn(e.refresh_token_expires_in,"sec"):void 0,scopes:e?.scope?"string"==typeof e.scope?e.scope.split(" "):e.scope:[],idToken:e.id_token}}function h8(e,t){return t.options.account?.encryptOAuthTokens&&e?hi({key:t.secret,data:e}):e}async function h9(e,{userInfo:t,account:r,callbackURL:i,disableSignUp:n,overrideUserInfo:a}){let o=await e.context.internalAdapter.findOAuthUser(t.email.toLowerCase(),r.accountId,r.providerId).catch(t=>{pP.error("Better auth was unable to query your database.\nError: ",t);let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=internal_server_error`)}),s=o?.user,l=!s;if(o){let i=o.accounts.find(e=>e.providerId===r.providerId&&e.accountId===r.accountId);if(i){if(e.context.options.account?.updateAccountOnSignIn!==!1){let t=Object.fromEntries(Object.entries({idToken:r.idToken,accessToken:await h8(r.accessToken,e.context),refreshToken:await h8(r.refreshToken,e.context),accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope}).filter(([e,t])=>void 0!==t));Object.keys(t).length>0&&await e.context.internalAdapter.updateAccount(i.id,t,e)}t.emailVerified&&!o.user.emailVerified&&t.email.toLowerCase()===o.user.email&&await e.context.internalAdapter.updateUser(o.user.id,{emailVerified:!0})}else{let i=e.context.options.account?.accountLinking?.trustedProviders;if(!i?.includes(r.providerId)&&!t.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return pd&&pP.warn(`User already exist but account isn't linked to ${r.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await e.context.internalAdapter.linkAccount({providerId:r.providerId,accountId:t.id.toString(),userId:o.user.id,accessToken:await h8(r.accessToken,e.context),refreshToken:await h8(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope},e)}catch(e){return pP.error("Unable to link account",e),{error:"unable to link account",data:null}}t.emailVerified&&!o.user.emailVerified&&t.email.toLowerCase()===o.user.email&&await e.context.internalAdapter.updateUser(o.user.id,{emailVerified:!0})}if(a){let{id:r,...i}=t;await e.context.internalAdapter.updateUser(o.user.id,{...i,email:t.email.toLowerCase(),emailVerified:t.email.toLowerCase()===o.user.email&&o.user.emailVerified||t.emailVerified})}}else{if(n)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:n,...a}=t;if(s=await e.context.internalAdapter.createOAuthUser({...a,email:t.email.toLowerCase()},{accessToken:await h8(r.accessToken,e.context),refreshToken:await h8(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope,providerId:r.providerId,accountId:t.id.toString()},e).then(e=>e?.user),!t.emailVerified&&s&&e.context.options.emailVerification?.sendOnSignUp){let t=await hY(e.context.secret,s.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${i}`;await e.context.options.emailVerification?.sendVerificationEmail?.({user:s,url:r,token:t},e.request)}}catch(e){if(pP.error(e),e instanceof P)return{error:e.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!s)return{error:"unable to create user",data:null,isRegister:!1};let u=await e.context.internalAdapter.createSession(s.id,e);return u?{data:{session:u,user:s},error:null,isRegister:l}:{error:"unable to create session",data:null,isRegister:!1}}async function h7({id:e,options:t,authorizationEndpoint:r,state:i,codeVerifier:n,scopes:a,claims:o,redirectURI:s,duration:l,prompt:u,accessType:c,responseType:d,display:p,loginHint:f,hd:m,responseMode:h,additionalParams:g,scopeJoiner:y}){let v=new URL(r);v.searchParams.set("response_type",d||"code");let b=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;if(v.searchParams.set("client_id",b),v.searchParams.set("state",i),v.searchParams.set("scope",a.join(y||" ")),v.searchParams.set("redirect_uri",t.redirectURI||s),l&&v.searchParams.set("duration",l),p&&v.searchParams.set("display",p),f&&v.searchParams.set("login_hint",f),u&&v.searchParams.set("prompt",u),m&&v.searchParams.set("hd",m),c&&v.searchParams.set("access_type",c),h&&v.searchParams.set("response_mode",h),n){let e=await h5(n);v.searchParams.set("code_challenge_method","S256"),v.searchParams.set("code_challenge",e)}if(o){let e=o.reduce((e,t)=>(e[t]=null,e),{});v.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...e}}))}return g&&Object.entries(g).forEach(([e,t])=>{v.searchParams.set(e,t)}),v}async function ge({code:e,codeVerifier:t,redirectURI:r,options:i,tokenEndpoint:n,authentication:a,deviceId:o,headers:s,additionalParams:l={},resource:u}){let{body:c,headers:d}=function({code:e,codeVerifier:t,redirectURI:r,options:i,authentication:n,deviceId:a,headers:o,additionalParams:s={},resource:l}){let u=new URLSearchParams,c={"content-type":"application/x-www-form-urlencoded",accept:"application/json","user-agent":"better-auth",...o};if(u.set("grant_type","authorization_code"),u.set("code",e),t&&u.set("code_verifier",t),i.clientKey&&u.set("client_key",i.clientKey),a&&u.set("device_id",a),u.set("redirect_uri",i.redirectURI||r),l)if("string"==typeof l)u.append("resource",l);else for(let e of l)u.append("resource",e);if("basic"===n){let e=Array.isArray(i.clientId)?i.clientId[0]:i.clientId,t=pb.encode(`${e}:${i.clientSecret??""}`);c.authorization=`Basic ${t}`}else{let e=Array.isArray(i.clientId)?i.clientId[0]:i.clientId;u.set("client_id",e),i.clientSecret&&u.set("client_secret",i.clientSecret)}for(let[e,t]of Object.entries(s))u.has(e)||u.append(e,t);return{body:u,headers:c}}({code:e,codeVerifier:t,redirectURI:r,options:i,authentication:a,deviceId:o,headers:s,additionalParams:l,resource:u}),{data:p,error:f}=await hE(n,{method:"POST",body:c,headers:d});if(f)throw f;return h3(p)}async function gt({refreshToken:e,options:t,tokenEndpoint:r,authentication:i,extraParams:n}){let{body:a,headers:o}=function({refreshToken:e,options:t,authentication:r,extraParams:i,resource:n}){let a=new URLSearchParams,o={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(a.set("grant_type","refresh_token"),a.set("refresh_token",e),"basic"===r){let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;e?o.authorization="Basic "+pb.encode(`${e}:${t.clientSecret??""}`):o.authorization="Basic "+pb.encode(`:${t.clientSecret??""}`)}else{let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;a.set("client_id",e),t.clientSecret&&a.set("client_secret",t.clientSecret)}if(n)if("string"==typeof n)a.append("resource",n);else for(let e of n)a.append("resource",e);if(i)for(let[e,t]of Object.entries(i))a.set(e,t);return{body:a,headers:o}}({refreshToken:e,options:t,authentication:i,extraParams:n}),{data:s,error:l}=await hE(r,{method:"POST",body:a,headers:o});if(l)throw l;let u={accessToken:s.access_token,refreshToken:s.refresh_token,tokenType:s.token_type,scopes:s.scope?.split(" "),idToken:s.id_token};return s.expires_in&&(u.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*s.expires_in)),u}let gr=async e=>{let{data:t}=await hE("https://appleid.apple.com/auth/keys");if(!t?.keys)throw new P("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await hR(r,r.alg)},gi=async(e,t,r)=>{let i=`https://cognito-idp.${t}.amazonaws.com/${r}/.well-known/jwks.json`;try{let{data:t}=await hE(i);if(!t?.keys)throw new P("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await hR(r,r.alg)}catch(e){throw pP.error("Failed to fetch Cognito public key:",e),e}},gn=(e="")=>e.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://"),ga={apple:e=>({id:"apple",name:"Apple",async createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["email","name"];return e.scope&&n.push(...e.scope),r&&n.push(...r),await h7({id:"apple",options:e,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:n,state:t,redirectURI:i,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://appleid.apple.com/auth/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let{kid:i,alg:n}=hj(t);if(!i||!n)return!1;let a=await gr(i),{payload:o}=await hA(t,a,{algorithms:[n],issuer:"https://appleid.apple.com",audience:e.audience&&e.audience.length?e.audience:e.appBundleIdentifier?e.appBundleIdentifier:e.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(e=>{void 0!==o[e]&&(o[e]=!!o[e])}),(!r||o.nonce===r)&&!!o},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=hP(t.idToken);if(!r)return null;let i=t.user?`${t.user.name?.firstName} ${t.user.name?.lastName}`:r.name||r.email,n="boolean"==typeof r.email_verified?r.email_verified:"true"===r.email_verified,a={...r,name:i},o=await e.mapProfileToUser?.(a);return{user:{id:r.sub,name:a.name,emailVerified:n,email:r.email,...o},data:a}},options:e}),atlassian:e=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw pP.error("Client Id and Secret are required for Atlassian"),new pa("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new pa("codeVerifier is required for Atlassian");let a=e.disableDefaultScope?[]:["read:jira-user","offline_access"];return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"atlassian",options:e,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n,additionalParams:{audience:"api.atlassian.com"},prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;try{let{data:r}=await hE("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name,email:r.email,image:r.picture,emailVerified:!1,...i},data:r}}catch(e){return pP.error("Failed to fetch user info from Figma:",e),null}},options:e}),cognito:e=>{if(!e.domain||!e.region||!e.userPoolId)throw pP.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new pa("DOMAIN_AND_REGION_REQUIRED");let t=e.domain.replace(/^https?:\/\//,""),r=`https://${t}/oauth2/authorize`,i=`https://${t}/oauth2/token`,n=`https://${t}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:t,scopes:i,codeVerifier:n,redirectURI:a}){if(!e.clientId)throw pP.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new pa("CLIENT_ID_AND_SECRET_REQUIRED");if(e.requireClientSecret&&!e.clientSecret)throw pP.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new pa("CLIENT_SECRET_REQUIRED");let o=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&o.push(...e.scope),i&&o.push(...i),await h7({id:"cognito",options:{...e},authorizationEndpoint:r,scopes:o,state:t,codeVerifier:n,redirectURI:a,prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>ge({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:i}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{let{kid:i,alg:n}=hj(t);if(!i||!n)return!1;let a=await gi(i,e.region,e.userPoolId),o=`https://cognito-idp.${e.region}.amazonaws.com/${e.userPoolId}`,{payload:s}=await hA(t,a,{algorithms:[n],issuer:o,audience:e.clientId,maxTokenAge:"1h"});if(r&&s.nonce!==r)return!1;return!0}catch(e){return pP.error("Failed to verify ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken)try{let r=hP(t.idToken);if(!r)return null;let i=r.name||r.given_name||r.username||r.email,n={...r,name:i},a=await e.mapProfileToUser?.(n);return{user:{id:r.sub,name:n.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...a},data:n}}catch(e){pP.error("Failed to decode ID token:",e)}if(t.accessToken)try{let{data:r}=await hE(n,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(r){let t=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.given_name||r.username,email:r.email,image:r.picture,emailVerified:r.email_verified,...t},data:r}}}catch(e){pP.error("Failed to fetch user info from Cognito:",e)}return null},options:e}},discord:e=>({id:"discord",name:"Discord",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["identify","email"];r&&n.push(...r),e.scope&&n.push(...e.scope);let a=n.includes("bot")&&void 0!==e.permissions?`&permissions=${e.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${n.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}&prompt=${e.prompt||"none"}${a}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;if(null===r.avatar){let e="0"===r.discriminator?Number(BigInt(r.id)>>BigInt(22))%6:parseInt(r.discriminator)%5;r.image_url=`https://cdn.discordapp.com/embed/avatars/${e}.png`}else{let e=r.avatar.startsWith("a_")?"gif":"png";r.image_url=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}.${e}`}let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.global_name||r.username||"",email:r.email,emailVerified:r.verified,image:r.image_url,...n},data:r}},options:e}),facebook:e=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:t,scopes:r,redirectURI:i,loginHint:n}){let a=e.disableDefaultScope?[]:["email","public_profile"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await h7({id:"facebook",options:e,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:a,state:t,redirectURI:i,loginHint:n,additionalParams:e.configId?{config_id:e.configId}:{}})},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);if(3===t.split(".").length)try{let{payload:i}=await hA(t,function(e,t){let r=new hq(e,void 0),i=async(e,t)=>r.getKey(e,t);return Object.defineProperties(i,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>r.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>r.jwks(),enumerable:!0,configurable:!1,writable:!1}}),i}(new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/")),{algorithms:["RS256"],audience:e.clientId,issuer:"https://www.facebook.com"});if(r&&i.nonce!==r)return!1;return!!i}catch(e){return!1}return!0},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken&&3===t.idToken.split(".").length){let r=hP(t.idToken),i={id:r.sub,name:r.name,email:r.email,picture:{data:{url:r.picture,height:100,width:100,is_silhouette:!1}}},n=await e.mapProfileToUser?.({...i,email_verified:!0});return{user:{...i,emailVerified:!0,...n},data:r}}let r=["id","name","email","picture",...e?.fields||[]],{data:i,error:n}=await hE("https://graph.facebook.com/me?fields="+r.join(","),{auth:{type:"Bearer",token:t.accessToken}});if(n)return null;let a=await e.mapProfileToUser?.(i);return{user:{id:i.id,name:i.name,email:i.email,image:i.picture.data.url,emailVerified:i.email_verified,...a},data:i}},options:e}),figma:e=>({id:"figma",name:"Figma",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw pP.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new pa("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new pa("codeVerifier is required for Figma");let a=e.disableDefaultScope?[]:["file_read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await h7({id:"figma",options:e,authorizationEndpoint:"https://www.figma.com/oauth",scopes:a,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await hE("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return pP.error("Failed to fetch user from Figma"),null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.handle,email:r.email,image:r.img_url,emailVerified:!!r.email,...i},data:r}}catch(e){return pP.error("Failed to fetch user info from Figma:",e),null}},options:e}),github:e=>({id:"github",name:"GitHub",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["read:user","user:email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"github",options:e,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:a,state:t,redirectURI:n,loginHint:i,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://github.com/login/oauth/access_token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${t.accessToken}`}});if(i)return null;let{data:n}=await hE("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});!r.email&&n&&(r.email=(n.find(e=>e.primary)??n[0])?.email);let a=n?.find(e=>e.email===r.email)?.verified??!1,o=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name||r.login,email:r.email,image:r.avatar_url,emailVerified:a,...o},data:r}},options:e}),microsoft:e=>{let t=e.tenantId||"common",r=e.authority||"https://login.microsoftonline.com",i=`${r}/${t}/oauth2/v2.0/authorize`,n=`${r}/${t}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),h7({id:"microsoft",options:e,authorizationEndpoint:i,state:t.state,codeVerifier:t.codeVerifier,scopes:r,redirectURI:t.redirectURI,prompt:e.prompt,loginHint:t.loginHint})},validateAuthorizationCode:({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=hP(t.idToken),i=e.profilePhotoSize||48;await hE(`https://graph.microsoft.com/v1.0/me/photos/${i}x${i}/$value`,{headers:{Authorization:`Bearer ${t.accessToken}`},async onResponse(t){if(!e.disableProfilePhoto&&t.response.ok)try{let e=t.response.clone(),i=await e.arrayBuffer(),n=pb.encode(i);r.picture=`data:image/jpeg;base64, ${n}`}catch(e){pP.error(e&&"object"==typeof e&&"name"in e?e.name:"",e)}}});let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:!0,...n},data:r}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),gt({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},extraParams:{scope:r.join(" ")},tokenEndpoint:n})},options:e}},google:e=>({id:"google",name:"Google",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n,loginHint:a,display:o}){if(!e.clientId||!e.clientSecret)throw pP.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new pa("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new pa("codeVerifier is required for Google");let s=e.disableDefaultScope?[]:["email","profile","openid"];return e.scope&&s.push(...e.scope),r&&s.push(...r),await h7({id:"google",options:e,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:s,state:t,codeVerifier:i,redirectURI:n,prompt:e.prompt,accessType:e.accessType,display:o||e.display,loginHint:a,hd:e.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let i=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${t}`,{data:n}=await hE(i);return!!n&&n.aud===e.clientId&&("https://accounts.google.com"===n.iss||"accounts.google.com"===n.iss)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=hP(t.idToken),i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...i},data:r}},options:e}),huggingface:e=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"huggingface",options:e,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.preferred_username,email:r.email,image:r.picture,emailVerified:r.email_verified??!1,...n},data:r}},options:e}),slack:e=>({id:"slack",name:"Slack",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["openid","profile","email"];r&&n.push(...r),e.scope&&n.push(...e.scope);let a=new URL("https://slack.com/openid/connect/authorize");return a.searchParams.set("scope",n.join(" ")),a.searchParams.set("response_type","code"),a.searchParams.set("client_id",e.clientId),a.searchParams.set("redirect_uri",e.redirectURI||i),a.searchParams.set("state",t),a},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r["https://slack.com/user_id"],name:r.name||"",email:r.email,emailVerified:r.email_verified,image:r.picture||r["https://slack.com/user_image_512"],...n},data:r}},options:e}),spotify:e=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["user-read-email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"spotify",options:e,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,email:r.email,image:r.images[0]?.url,emailVerified:!1,...n},data:r}},options:e}),twitch:e=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["user:read:email","openid"];return e.scope&&n.push(...e.scope),r&&n.push(...r),h7({id:"twitch",redirectURI:i,options:e,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:n,state:t,claims:e.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=t.idToken;if(!r)return pP.error("No idToken found in token"),null;let i=hP(r),n=await e.mapProfileToUser?.(i);return{user:{id:i.sub,name:i.preferred_username,email:i.email,image:i.picture,emailVerified:i.email_verified,...n},data:i}},options:e}),twitter:e=>({id:"twitter",name:"Twitter",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),h7({id:"twitter",options:e,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:r,state:t.state,codeVerifier:t.codeVerifier,redirectURI:t.redirectURI})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>ge({code:t,codeVerifier:r,authentication:"basic",redirectURI:i,options:e,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let{data:n,error:a}=await hE("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}}),o=!1;!a&&n?.data?.confirmed_email&&(r.data.email=n.data.confirmed_email,o=!0);let s=await e.mapProfileToUser?.(r);return{user:{id:r.data.id,name:r.data.name,email:r.data.email||r.data.username||null,image:r.data.profile_image_url,emailVerified:o,...s},data:r}},options:e}),dropbox:e=>({id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:t,scopes:r,codeVerifier:i,redirectURI:n})=>{let a=e.disableDefaultScope?[]:["account_info.read"];e.scope&&a.push(...e.scope),r&&a.push(...r);let o={};return e.accessType&&(o.token_access_type=e.accessType),await h7({id:"dropbox",options:e,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:a,state:t,redirectURI:n,codeVerifier:i,additionalParams:o})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>await ge({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://api.dropboxapi.com/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name?.display_name,email:r.email,emailVerified:r.email_verified||!1,image:r.profile_photo_url,...n},data:r}},options:e}),kick:e=>({id:"kick",name:"Kick",createAuthorizationURL({state:t,scopes:r,redirectURI:i,codeVerifier:n}){let a=e.disableDefaultScope?[]:["user:read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"kick",redirectURI:i,options:e,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:a,codeVerifier:n,state:t})},validateAuthorizationCode:async({code:t,redirectURI:r,codeVerifier:i})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=r.data[0],a=await e.mapProfileToUser?.(n);return{user:{id:n.user_id,name:n.name,email:n.email,image:n.profile_picture,emailVerified:!0,...a},data:n}},options:e}),linear:e=>{let t="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"linear",options:e,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:a,state:t,redirectURI:n,loginHint:i})},validateAuthorizationCode:async({code:r,redirectURI:i})=>ge({code:r,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>gt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(i||!r?.data?.viewer)return null;let n=r.data.viewer,a=await e.mapProfileToUser?.(n);return{user:{id:r.data.viewer.id,name:r.data.viewer.name,email:r.data.viewer.email,image:r.data.viewer.avatarUrl,emailVerified:!0,...a},data:n}},options:e}},linkedin:e=>{let t="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:t,scopes:r,redirectURI:i,loginHint:n})=>{let a=e.disableDefaultScope?[]:["profile","email","openid"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await h7({id:"linkedin",options:e,authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",scopes:a,state:t,loginHint:n,redirectURI:i})},validateAuthorizationCode:async({code:r,redirectURI:i})=>await ge({code:r,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>gt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,emailVerified:r.email_verified||!1,image:r.picture,...n},data:r}},options:e}},gitlab:e=>{let{authorizationEndpoint:t,tokenEndpoint:r,userinfoEndpoint:i}=(e=>{let t=e||"https://gitlab.com";return{authorizationEndpoint:gn(`${t}/oauth/authorize`),tokenEndpoint:gn(`${t}/oauth/token`),userinfoEndpoint:gn(`${t}/api/v4/user`)}})(e.issuer),n="gitlab";return{id:n,name:"Gitlab",createAuthorizationURL:async({state:r,scopes:i,codeVerifier:a,loginHint:o,redirectURI:s})=>{let l=e.disableDefaultScope?[]:["read_user"];return e.scope&&l.push(...e.scope),i&&l.push(...i),await h7({id:n,options:e,authorizationEndpoint:t,scopes:l,state:r,redirectURI:s,codeVerifier:a,loginHint:o})},validateAuthorizationCode:async({code:t,redirectURI:i,codeVerifier:n})=>ge({code:t,redirectURI:i,options:e,codeVerifier:n,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://gitlab.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await hE(i,{headers:{authorization:`Bearer ${t.accessToken}`}});if(n||"active"!==r.state||r.locked)return null;let a=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name??r.username,email:r.email,image:r.avatar_url,emailVerified:!0,...a},data:r}},options:e}},tiktok:e=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["user.info.profile"];return e.scope&&n.push(...e.scope),r&&n.push(...r),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${n.join(",")}&response_type=code&client_key=${e.clientKey}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:e.redirectURI||r,options:{clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:e.clientKey}}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://open.tiktokapis.com/v2/user/info/?fields=open_id,avatar_large_url,display_name,username",{headers:{authorization:`Bearer ${t.accessToken}`}});return i?null:{user:{email:r.data.user.email||r.data.user.username,id:r.data.user.open_id,name:r.data.user.display_name||r.data.user.username,image:r.data.user.avatar_large_url,emailVerified:!!r.data.user.email},data:r}},options:e}),reddit:e=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["identity"];return e.scope&&n.push(...e.scope),r&&n.push(...r),h7({id:"reddit",options:e,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:n,state:t,redirectURI:i,duration:e.duration})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let i=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:e.redirectURI||r}),n={"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${pb.encode(`${e.clientId}:${e.clientSecret}`)}`},{data:a,error:o}=await hE("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:n,body:i.toString()});if(o)throw o;return h3(a)},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name,email:r.oauth_client_id,emailVerified:r.has_verified_email,image:r.icon_img?.split("?")[0],...n},data:r}},options:e}),roblox:e=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["openid","profile"];return e.scope&&n.push(...e.scope),r&&n.push(...r),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${n.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}&prompt=${e.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.nickname||r.preferred_username||"",image:r.picture,email:r.preferred_username||null,emailVerified:!0,...n},data:{...r}}},options:e}),salesforce:e=>{let t="sandbox"===(e.environment??"production"),r=e.loginUrl?`https://${e.loginUrl}/services/oauth2/authorize`:t?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",i=e.loginUrl?`https://${e.loginUrl}/services/oauth2/token`:t?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",n=e.loginUrl?`https://${e.loginUrl}/services/oauth2/userinfo`:t?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:t,scopes:i,codeVerifier:n,redirectURI:a}){if(!e.clientId||!e.clientSecret)throw pP.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new pa("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new pa("codeVerifier is required for Salesforce");let o=e.disableDefaultScope?[]:["openid","email","profile"];return e.scope&&o.push(...e.scope),i&&o.push(...i),h7({id:"salesforce",options:e,authorizationEndpoint:r,scopes:o,state:t,codeVerifier:n,redirectURI:e.redirectURI||a})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>ge({code:t,codeVerifier:r,redirectURI:e.redirectURI||n,options:e,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await hE(n,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return pP.error("Failed to fetch user info from Salesforce"),null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.user_id,name:r.name,email:r.email,image:r.photos?.picture||r.photos?.thumbnail,emailVerified:r.email_verified??!1,...i},data:r}}catch(e){return pP.error("Failed to fetch user info from Salesforce:",e),null}},options:e}},vk:e=>({id:"vk",name:"VK",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["email","phone"];return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"vk",options:e,authorizationEndpoint:"https://id.vk.com/authorize",scopes:a,state:t,redirectURI:n,codeVerifier:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i,deviceId:n})=>ge({code:t,codeVerifier:r,redirectURI:e.redirectURI||i,options:e,deviceId:n,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;let r=new URLSearchParams({access_token:t.accessToken,client_id:e.clientId}).toString(),{data:i,error:n}=await hE("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(n||!i.user.email)return null;let a=await e.mapProfileToUser?.(i);return{user:{id:i.user.user_id,first_name:i.user.first_name,last_name:i.user.last_name,email:i.user.email,image:i.user.avatar,emailVerified:!!i.user.email,birthday:i.user.birthday,sex:i.user.sex,name:`${i.user.first_name} ${i.user.last_name}`,...a},data:i}},options:e}),zoom:e=>{let t={pkce:!0,...e};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:e,redirectURI:r,codeVerifier:i})=>{let n=new URLSearchParams({response_type:"code",redirect_uri:t.redirectURI?t.redirectURI:r,client_id:t.clientId,state:e});if(t.pkce){let e=await h5(i);n.set("code_challenge_method","S256"),n.set("code_challenge",e)}let a=new URL("https://zoom.us/oauth/authorize");return a.search=n.toString(),a},validateAuthorizationCode:async({code:e,redirectURI:r,codeVerifier:i})=>ge({code:e,redirectURI:t.redirectURI||r,codeVerifier:i,options:t,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),async getUserInfo(e){if(t.getUserInfo)return t.getUserInfo(e);let{data:r,error:i}=await hE("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${e.accessToken}`}});if(i)return null;let n=await t.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,image:r.pic_url,email:r.email,emailVerified:!!r.verified,...n},data:{...r}}}}},notion:e=>{let t="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let a=(e.disableDefaultScope,[]);return e.scope&&a.push(...e.scope),r&&a.push(...r),h7({id:"notion",options:e,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:a,state:t,redirectURI:n,loginHint:i,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:r,redirectURI:i})=>ge({code:r,redirectURI:i,options:e,tokenEndpoint:t,authentication:"basic"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>gt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"Notion-Version":"2022-06-28"}});if(i||!r)return null;let n=r.bot?.owner?.user;if(!n)return null;let a=await e.mapProfileToUser?.(n);return{user:{id:n.id,name:n.name||"Notion User",email:n.person?.email||null,image:n.avatar_url,emailVerified:!!n.person?.email,...a},data:n}},options:e}},kakao:e=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return e.scope&&n.push(...e.scope),r&&n.push(...r),h7({id:"kakao",options:e,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:n,state:t,redirectURI:i})},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i||!r)return null;let n=await e.mapProfileToUser?.(r),a=r.kakao_account||{},o=a.profile||{};return{user:{id:String(r.id),name:o.nickname||a.name||void 0,email:a.email,image:o.profile_image_url||o.thumbnail_image_url,emailVerified:!!a.is_email_valid&&!!a.is_email_verified,...n},data:r}},options:e}),naver:e=>({id:"naver",name:"Naver",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["profile","email"];return e.scope&&n.push(...e.scope),r&&n.push(...r),h7({id:"naver",options:e,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:n,state:t,redirectURI:i})},validateAuthorizationCode:async({code:t,redirectURI:r})=>ge({code:t,redirectURI:r,options:e,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>gt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await hE("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i||!r||"00"!==r.resultcode)return null;let n=await e.mapProfileToUser?.(r),a=r.response||{};return{user:{id:a.id,name:a.name||a.nickname,email:a.email,image:a.profile_image,emailVerified:!1,...n},data:r}},options:e}),line:e=>{let t="https://api.line.me/oauth2/v2.1/token";return{id:"line",name:"LINE",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n,loginHint:a}){let o=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&o.push(...e.scope),r&&o.push(...r),await h7({id:"line",options:e,authorizationEndpoint:"https://access.line.me/oauth2/v2.1/authorize",scopes:o,state:t,codeVerifier:i,redirectURI:n,loginHint:a})},validateAuthorizationCode:async({code:r,codeVerifier:i,redirectURI:n})=>ge({code:r,codeVerifier:i,redirectURI:n,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>gt({refreshToken:r,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:t}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let i=new URLSearchParams;i.set("id_token",t),i.set("client_id",e.clientId),r&&i.set("nonce",r);let{data:n,error:a}=await hE("https://api.line.me/oauth2/v2.1/verify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:i});return!a&&!!n&&n.aud===e.clientId&&(!r||!n.nonce||n.nonce===r)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=null;if(t.idToken)try{r=hP(t.idToken)}catch{}if(!r){let{data:e}=await hE("https://api.line.me/oauth2/v2.1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});r=e||null}if(!r)return null;let i=await e.mapProfileToUser?.(r),n=r.sub||r.userId,a=r.name||r.displayName,o=r.picture||r.pictureUrl||void 0;return{user:{id:n,name:a,email:r.email,image:o,emailVerified:!1,...i},data:r}},options:e}},paypal:e=>{let t="sandbox"===(e.environment||"sandbox"),r=t?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",i=t?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",n=t?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:t,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw pP.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new pa("CLIENT_ID_AND_SECRET_REQUIRED");return await h7({id:"paypal",options:e,authorizationEndpoint:r,scopes:[],state:t,codeVerifier:i,redirectURI:n,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let n=pb.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await hE(i,{method:"POST",headers:{Authorization:`Basic ${n}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:r}).toString()});if(!e.data)throw new pa("FAILED_TO_GET_ACCESS_TOKEN");let a=e.data;return{accessToken:a.access_token,refreshToken:a.refresh_token,accessTokenExpiresAt:a.expires_in?new Date(Date.now()+1e3*a.expires_in):void 0,idToken:a.id_token}}catch(e){throw pP.error("PayPal token exchange failed:",e),new pa("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=pb.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await hE(i,{method:"POST",headers:{Authorization:`Basic ${r}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:t}).toString()});if(!e.data)throw new pa("FAILED_TO_REFRESH_ACCESS_TOKEN");let n=e.data;return{accessToken:n.access_token,refreshToken:n.refresh_token,accessTokenExpiresAt:n.expires_in?new Date(Date.now()+1e3*n.expires_in):void 0}}catch(e){throw pP.error("PayPal token refresh failed:",e),new pa("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{return!!hP(t).sub}catch(e){return pP.error("Failed to verify PayPal ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return pP.error("Access token is required to fetch PayPal user info"),null;try{let r=await hE(`${n}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${t.accessToken}`,Accept:"application/json"}});if(!r.data)return pP.error("Failed to fetch user info from PayPal"),null;let i=r.data,a=await e.mapProfileToUser?.(i);return{user:{id:i.user_id,name:i.name,email:i.email,image:i.picture,emailVerified:i.email_verified,...a},data:i}}catch(e){return pP.error("Failed to fetch user info from PayPal:",e),null}},options:e}}},go=de(Object.keys(ga)).or(uO()),gs=pH("/sign-in/social",{method:"POST",body:cZ({callbackURL:uO().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:uO().optional(),errorCallbackURL:uO().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:go,disableRedirect:cb().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:dc(cZ({token:uO().meta({description:"ID token from the provider"}),nonce:uO().meta({description:"Nonce used to generate the token"}).optional(),accessToken:uO().meta({description:"Access token from the provider"}).optional(),refreshToken:uO().meta({description:"Refresh token from the provider"}).optional(),expiresAt:cd().meta({description:"Expiry date of the token"}).optional()})),scopes:cV(uO()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:cb().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:uO().meta({description:"The login hint to use for the authorization code request"}).optional()}),metadata:{openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token",url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}}},required:["redirect","token","user"]}}}}}}}},async e=>{let t=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!t)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new P("NOT_FOUND",{message:pW.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!t.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new P("NOT_FOUND",{message:pW.ID_TOKEN_NOT_SUPPORTED});let{token:r,nonce:i}=e.body.idToken;if(!await t.verifyIdToken(r,i))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new P("UNAUTHORIZED",{message:pW.INVALID_TOKEN});let n=await t.getUserInfo({idToken:r,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!n||!n?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new P("UNAUTHORIZED",{message:pW.FAILED_TO_GET_USER_INFO});if(!n.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new P("UNAUTHORIZED",{message:pW.USER_EMAIL_NOT_FOUND});let a=await h9(e,{userInfo:{...n.user,email:n.user.email,id:String(n.user.id),name:n.user.name||"",image:n.user.image,emailVerified:n.user.emailVerified||!1},account:{providerId:t.id,accountId:String(n.user.id),accessToken:e.body.idToken.accessToken},callbackURL:e.body.callbackURL,disableSignUp:t.disableImplicitSignUp&&!e.body.requestSignUp||t.disableSignUp});if(a.error)throw new P("UNAUTHORIZED",{message:a.error});return await pJ(e,a.data),e.json({redirect:!1,token:a.data.session.token,url:void 0,user:{id:a.data.user.id,email:a.data.user.email,name:a.data.user.name,image:a.data.user.image,emailVerified:a.data.user.emailVerified,createdAt:a.data.user.createdAt,updatedAt:a.data.user.updatedAt}})}let{codeVerifier:r,state:i}=await h6(e),n=await t.createAuthorizationURL({state:i,codeVerifier:r,redirectURI:`${e.context.baseURL}/callback/${t.id}`,scopes:e.body.scopes,loginHint:e.body.loginHint});return e.json({url:n.toString(),redirect:!e.body.disableRedirect})}),gl=pH("/sign-in/email",{method:"POST",body:cZ({email:uO().meta({description:"Email of the user"}),password:uO().meta({description:"Password of the user"}),callbackURL:uO().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:cb().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{openapi:{description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}},required:["redirect","token","user"]}}}}}}}},async e=>{if(!e.context.options?.emailAndPassword?.enabled)throw e.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new P("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:t,password:r}=e.body;if(!uO().email().safeParse(t).success)throw new P("BAD_REQUEST",{message:pW.INVALID_EMAIL});let i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)throw await e.context.password.hash(r),e.context.logger.error("User not found",{email:t}),new P("UNAUTHORIZED",{message:pW.INVALID_EMAIL_OR_PASSWORD});let n=i.accounts.find(e=>"credential"===e.providerId);if(!n)throw e.context.logger.error("Credential account not found",{email:t}),new P("UNAUTHORIZED",{message:pW.INVALID_EMAIL_OR_PASSWORD});let a=n?.password;if(!a)throw e.context.logger.error("Password not found",{email:t}),new P("UNAUTHORIZED",{message:pW.INVALID_EMAIL_OR_PASSWORD});if(!await e.context.password.verify({hash:a,password:r}))throw e.context.logger.error("Invalid password"),new P("UNAUTHORIZED",{message:pW.INVALID_EMAIL_OR_PASSWORD});if(e.context.options?.emailAndPassword?.requireEmailVerification&&!i.user.emailVerified){if(!e.context.options?.emailVerification?.sendVerificationEmail)throw new P("FORBIDDEN",{message:pW.EMAIL_NOT_VERIFIED});if(e.context.options?.emailVerification?.sendOnSignIn){let t=await hY(e.context.secret,i.user.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:i.user,url:r,token:t},e.request)}throw new P("FORBIDDEN",{message:pW.EMAIL_NOT_VERIFIED})}let o=await e.context.internalAdapter.createSession(i.user.id,e,!1===e.body.rememberMe);if(!o)throw e.context.logger.error("Failed to create session"),new P("UNAUTHORIZED",{message:pW.FAILED_TO_CREATE_SESSION});return await pJ(e,{session:o,user:i.user},!1===e.body.rememberMe),e.json({redirect:!!e.body.callbackURL,token:o.token,url:e.body.callbackURL,user:{id:i.user.id,email:i.user.email,name:i.user.name,image:i.user.image,emailVerified:i.user.emailVerified,createdAt:i.user.createdAt,updatedAt:i.user.updatedAt}})}),gu=cZ({code:uO().optional(),error:uO().optional(),device_id:uO().optional(),error_description:uO().optional(),state:uO().optional(),user:uO().optional()}),gc=pH("/callback/:id",{method:["GET","POST"],body:gu.optional(),query:gu.optional(),metadata:h4},async e=>{let t,r,i,n=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;try{if("GET"===e.method)t=gu.parse(e.query);else if("POST"===e.method)t=gu.parse(e.body);else throw Error("Unsupported method")}catch(t){throw e.context.logger.error("INVALID_CALLBACK_REQUEST",t),e.redirect(`${n}?error=invalid_callback_request`)}let{code:a,error:o,state:s,error_description:l,device_id:u}=t;if(!s){e.context.logger.error("State not found",o);let t=n.includes("?")?"&":"?",r=`${n}${t}state=state_not_found`;throw e.redirect(r)}let{codeVerifier:c,callbackURL:d,link:p,errorURL:f,newUserURL:m,requestSignUp:h}=await h2(e);function g(t,r){let i=f??n,a=new URLSearchParams({error:t});r&&a.set("error_description",r);let o=i.includes("?")?"&":"?",s=`${i}${o}${a.toString()}`;throw e.redirect(s)}if(o&&g(o,l),!a)throw e.context.logger.error("Code not found"),g("no_code");let y=e.context.socialProviders.find(t=>t.id===e.params.id);if(!y)throw e.context.logger.error("Oauth provider with id",e.params.id,"not found"),g("oauth_provider_not_found");try{r=await y.validateAuthorizationCode({code:a,codeVerifier:c,deviceId:u,redirectURI:`${e.context.baseURL}/callback/${y.id}`})}catch(t){throw e.context.logger.error("",t),g("invalid_code")}let v=await y.getUserInfo({...r,user:e.body?.user?pj(e.body.user):void 0}).then(e=>e?.user);if(!v)return e.context.logger.error("Unable to get user info"),g("unable_to_get_user_info");if(!d)throw e.context.logger.error("No callback URL found"),g("no_callback_url");if(p){let t,i=e.context.options.account?.accountLinking?.trustedProviders;if(!i?.includes(y.id)&&!v.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return e.context.logger.error("Unable to link account - untrusted provider"),g("unable_to_link_account");if(v.email!==p.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return g("email_doesn't_match");let n=await e.context.internalAdapter.findAccount(String(v.id));if(n){if(n.userId.toString()!==p.userId.toString())return g("account_already_linked_to_different_user");let t=Object.fromEntries(Object.entries({accessToken:await h8(r.accessToken,e.context),refreshToken:await h8(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scopes?.join(",")}).filter(([e,t])=>void 0!==t));await e.context.internalAdapter.updateAccount(n.id,t)}else if(!await e.context.internalAdapter.createAccount({userId:p.userId,providerId:y.id,accountId:String(v.id),...r,accessToken:await h8(r.accessToken,e.context),refreshToken:await h8(r.refreshToken,e.context),scope:r.scopes?.join(",")},e))return g("unable_to_link_account");try{t=d.toString()}catch{t=d}throw e.redirect(t)}if(!v.email)return e.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),g("email_not_found");let b=await h9(e,{userInfo:{...v,id:String(v.id),email:v.email,name:v.name||v.email},account:{providerId:y.id,accountId:String(v.id),...r,scope:r.scopes?.join(",")},callbackURL:d,disableSignUp:y.disableImplicitSignUp&&!h||y.options?.disableSignUp,overrideUserInfo:y.options?.overrideUserInfoOnSignIn});if(b.error)return e.context.logger.error(b.error.split(" ").join("_")),g(b.error.split(" ").join("_"));let{session:w,user:_}=b.data;await pJ(e,{session:w,user:_});try{i=(b.isRegister&&m||d).toString()}catch{i=b.isRegister&&m||d}throw e.redirect(i)}),gd=pH("/sign-out",{method:"POST",requireHeaders:!0,metadata:{openapi:{description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)throw pF(e),new P("BAD_REQUEST",{message:pW.FAILED_TO_GET_SESSION});return await e.context.internalAdapter.deleteSession(t),pF(e),e.json({success:!0})});function gp(e,t,r){let i=t?new URL(t,e.baseURL):new URL(`${e.baseURL}/error`);return r&&Object.entries(r).forEach(([e,t])=>i.searchParams.set(e,t)),i.href}let gf=pH("/request-password-reset",{method:"POST",body:cZ({email:uT().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:uO().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new P("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let n=pn(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),a=hV(24);await e.context.internalAdapter.createVerificationValue({value:i.user.id,identifier:`reset-password:${a}`,expiresAt:n},e);let o=r?encodeURIComponent(r):"",s=`${e.context.baseURL}/reset-password/${a}?callbackURL=${o}`;return await e.context.options.emailAndPassword.sendResetPassword({user:i.user,url:s,token:a},e.request),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),gm=pH("/forget-password",{method:"POST",body:cZ({email:uO().email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:uO().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new P("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let n=pn(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),a=hV(24);await e.context.internalAdapter.createVerificationValue({value:i.user.id,identifier:`reset-password:${a}`,expiresAt:n},e);let o=r?encodeURIComponent(r):"",s=`${e.context.baseURL}/reset-password/${a}?callbackURL=${o}`;return await e.context.options.emailAndPassword.sendResetPassword({user:i.user,url:s,token:a},e.request),e.json({status:!0})}),gh=pH("/reset-password/:token",{method:"GET",query:cZ({callbackURL:uO().meta({description:"The URL to redirect the user to reset their password"})}),use:[hG(e=>e.query.callbackURL)],metadata:{openapi:{description:"Redirects the user to the callback URL with the token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async e=>{let{token:t}=e.params,{callbackURL:r}=e.query;if(!t||!r)throw e.redirect(gp(e.context,r,{error:"INVALID_TOKEN"}));let i=await e.context.internalAdapter.findVerificationValue(`reset-password:${t}`);if(!i||i.expiresAt<new Date)throw e.redirect(gp(e.context,r,{error:"INVALID_TOKEN"}));throw e.redirect(function(e,t,r){let i=new URL(t,e.baseURL);return r&&Object.entries(r).forEach(([e,t])=>i.searchParams.set(e,t)),i.href}(e.context,r,{token:t}))}),gg=pH("/reset-password",{method:"POST",query:cZ({token:uO().optional()}).optional(),body:cZ({newPassword:uO().meta({description:"The new password to set"}),token:uO().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let t=e.body.token||e.query?.token;if(!t)throw new P("BAD_REQUEST",{message:pW.INVALID_TOKEN});let{newPassword:r}=e.body,i=e.context.password?.config.minPasswordLength,n=e.context.password?.config.maxPasswordLength;if(r.length<i)throw new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_SHORT});if(r.length>n)throw new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_LONG});let a=`reset-password:${t}`,o=await e.context.internalAdapter.findVerificationValue(a);if(!o||o.expiresAt<new Date)throw new P("BAD_REQUEST",{message:pW.INVALID_TOKEN});let s=o.value,l=await e.context.password.hash(r);if((await e.context.internalAdapter.findAccounts(s)).find(e=>"credential"===e.providerId)?await e.context.internalAdapter.updatePassword(s,l,e):await e.context.internalAdapter.createAccount({userId:s,providerId:"credential",password:l,accountId:s},e),await e.context.internalAdapter.deleteVerificationValue(o.id),e.context.options.emailAndPassword?.onPasswordReset){let t=await e.context.internalAdapter.findUserById(s);t&&await e.context.options.emailAndPassword.onPasswordReset({user:t},e.request)}return e.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await e.context.internalAdapter.deleteSessions(s),e.json({status:!0})}),gy=pH("/change-password",{method:"POST",body:cZ({newPassword:uO().meta({description:"The new password to set"}),currentPassword:uO().meta({description:"The current password is required"}),revokeOtherSessions:cb().meta({description:"Must be a boolean value"}).optional()}),use:[pX],metadata:{openapi:{description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async e=>{let{newPassword:t,currentPassword:r,revokeOtherSessions:i}=e.body,n=e.context.session,a=e.context.password.config.minPasswordLength;if(t.length<a)throw e.context.logger.error("Password is too short"),new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_SHORT});let o=e.context.password.config.maxPasswordLength;if(t.length>o)throw e.context.logger.error("Password is too long"),new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_LONG});let s=(await e.context.internalAdapter.findAccounts(n.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!s||!s.password)throw new P("BAD_REQUEST",{message:pW.CREDENTIAL_ACCOUNT_NOT_FOUND});let l=await e.context.password.hash(t);if(!await e.context.password.verify({hash:s.password,password:r}))throw new P("BAD_REQUEST",{message:pW.INVALID_PASSWORD});await e.context.internalAdapter.updateAccount(s.id,{password:l});let u=null;if(i){await e.context.internalAdapter.deleteSessions(n.user.id);let t=await e.context.internalAdapter.createSession(n.user.id,e);if(!t)throw new P("INTERNAL_SERVER_ERROR",{message:pW.FAILED_TO_GET_SESSION});await pJ(e,{session:t,user:n.user}),u=t.token}return e.json({token:u,user:{id:n.user.id,email:n.user.email,name:n.user.name,image:n.user.image,emailVerified:n.user.emailVerified,createdAt:n.user.createdAt,updatedAt:n.user.updatedAt}})}),gv=pH("/set-password",{method:"POST",body:cZ({newPassword:uO().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[pX]},async e=>{let{newPassword:t}=e.body,r=e.context.session,i=e.context.password.config.minPasswordLength;if(t.length<i)throw e.context.logger.error("Password is too short"),new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_SHORT});let n=e.context.password.config.maxPasswordLength;if(t.length>n)throw e.context.logger.error("Password is too long"),new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_LONG});let a=(await e.context.internalAdapter.findAccounts(r.user.id)).find(e=>"credential"===e.providerId&&e.password),o=await e.context.password.hash(t);if(!a)return await e.context.internalAdapter.linkAccount({userId:r.user.id,providerId:"credential",accountId:r.user.id,password:o},e),e.json({status:!0});throw new P("BAD_REQUEST",{message:"user already has a password"})}),gb=pH("/delete-user",{method:"POST",use:[pX],body:cZ({callbackURL:uO().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:uO().meta({description:"The password of the user is required to delete the user"}).optional(),token:uO().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{description:"Delete the user",responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options",{session:e.context.session}),new P("NOT_FOUND");let t=e.context.session;if(e.body.password){let r=(await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!r||!r.password)throw new P("BAD_REQUEST",{message:pW.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await e.context.password.verify({hash:r.password,password:e.body.password}))throw new P("BAD_REQUEST",{message:pW.INVALID_PASSWORD})}if(e.body.token)return await gw({...e,query:{token:e.body.token}}),e.json({success:!0,message:"User deleted"});if(e.context.options.user.deleteUser?.sendDeleteAccountVerification){let r=m3(32,"0-9","a-z");await e.context.internalAdapter.createVerificationValue({value:t.user.id,identifier:`delete-account-${r}`,expiresAt:new Date(Date.now()+1e3*(e.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))},e);let i=`${e.context.baseURL}/delete-user/callback?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.deleteUser.sendDeleteAccountVerification({user:t.user,url:i,token:r},e.request),e.json({success:!0,message:"Verification email sent"})}if(!e.body.password&&0!==e.context.sessionConfig.freshAge){let r=new Date(t.session.createdAt).getTime(),i=1e3*e.context.sessionConfig.freshAge;if(Date.now()-r>1e3*i)throw new P("BAD_REQUEST",{message:pW.SESSION_EXPIRED})}let r=e.context.options.user.deleteUser?.beforeDelete;r&&await r(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),pF(e);let i=e.context.options.user.deleteUser?.afterDelete;return i&&await i(t.user,e.request),e.json({success:!0,message:"User deleted"})}),gw=pH("/delete-user/callback",{method:"GET",query:cZ({token:uO().meta({description:"The token to verify the deletion request"}),callbackURL:uO().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[hG(e=>e.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new P("NOT_FOUND");let t=await pG(e);if(!t)throw new P("NOT_FOUND",{message:pW.FAILED_TO_GET_USER_INFO});let r=await e.context.internalAdapter.findVerificationValue(`delete-account-${e.query.token}`);if(!r||r.expiresAt<new Date||r.value!==t.user.id)throw new P("NOT_FOUND",{message:pW.INVALID_TOKEN});let i=e.context.options.user.deleteUser?.beforeDelete;i&&await i(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),await e.context.internalAdapter.deleteVerificationValue(r.id),pF(e);let n=e.context.options.user.deleteUser?.afterDelete;if(n&&await n(t.user,e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL||"/");return e.json({success:!0,message:"User deleted"})}),g_=pH("/change-email",{method:"POST",body:cZ({newEmail:uT().meta({description:"The new email address to set must be a valid email address"}),callbackURL:uO().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[pX],metadata:{openapi:{responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.user?.changeEmail?.enabled)throw e.context.logger.error("Change email is disabled."),new P("BAD_REQUEST",{message:"Change email is disabled"});let t=e.body.newEmail.toLowerCase();if(t===e.context.session.user.email)throw e.context.logger.error("Email is the same"),new P("BAD_REQUEST",{message:"Email is the same"});if(await e.context.internalAdapter.findUserByEmail(t))throw e.context.logger.error("Email already exists"),new P("BAD_REQUEST",{message:"Couldn't update your email"});if(!0!==e.context.session.user.emailVerified){if(await e.context.internalAdapter.findUserByEmail(t))throw new P("UNPROCESSABLE_ENTITY",{message:pW.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(await e.context.internalAdapter.updateUserByEmail(e.context.session.user.email,{email:t},e),await pJ(e,{session:e.context.session.session,user:{...e.context.session.user,email:t}}),e.context.options.emailVerification?.sendVerificationEmail){let r=await hY(e.context.secret,t,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:{...e.context.session.user,email:t},url:i,token:r},e.request)}return e.json({status:!0})}if(!e.context.options.user.changeEmail.sendChangeEmailVerification)throw e.context.logger.error("Verification email isn't enabled."),new P("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await hY(e.context.secret,e.context.session.user.email,t,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.changeEmail.sendChangeEmailVerification({user:e.context.session.user,newEmail:t,url:i,token:r},e.request),e.json({status:!0})}),gx=pH("/error",{method:"GET",metadata:{...h4,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async e=>new Response(((e="Unknown")=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --accent-color: #000000;
            --error-color: #dc3545;
            --border-color: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            line-height: 1.5;
        }
        .error-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        h1 {
            color: var(--error-color);
            font-size: 1.75rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        p {
            margin-bottom: 1.5rem;
            color: #495057;
        }
        .btn {
            background-color: var(--accent-color);
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            border: 2px solid var(--accent-color);
        }
        .btn:hover {
            background-color: #131721;
        }
        .error-code {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="icon">\u26A0\uFE0F</div>
        <h1>Better Auth Error</h1>
        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>
        <a href="/" id="returnLink" class="btn">Return to Application</a>
        <div class="error-code">Error Code: <span id="errorCode">${e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}</span></div>
    </div>
</body>
</html>`)(new URL(e.request?.url||"").searchParams.get("error")||"Unknown"),{headers:{"Content-Type":"text/html"}})),gk=pH("/ok",{method:"GET",metadata:{...h4,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async e=>e.json({ok:!0})),gS=pH("/list-accounts",{method:"GET",use:[pY],metadata:{openapi:{description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","scopes"]}}}}}}}}},async e=>{let t=e.context.session,r=await e.context.internalAdapter.findAccounts(t.user.id);return e.json(r.map(e=>({id:e.id,providerId:e.providerId,createdAt:e.createdAt,updatedAt:e.updatedAt,accountId:e.accountId,scopes:e.scope?.split(",")||[]})))}),gO=pH("/link-social",{method:"POST",requireHeaders:!0,body:cZ({callbackURL:uO().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:go,idToken:cZ({token:uO(),nonce:uO().optional(),accessToken:uO().optional(),refreshToken:uO().optional(),scopes:cV(uO()).optional()}).optional(),requestSignUp:cb().optional(),scopes:cV(uO()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:uO().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:cb().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional()}),use:[pY],metadata:{openapi:{description:"Link a social account to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async e=>{let t=e.context.session,r=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!r)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new P("NOT_FOUND",{message:pW.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!r.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new P("NOT_FOUND",{message:pW.ID_TOKEN_NOT_SUPPORTED});let{token:i,nonce:n}=e.body.idToken;if(!await r.verifyIdToken(i,n))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new P("UNAUTHORIZED",{message:pW.INVALID_TOKEN});let a=await r.getUserInfo({idToken:i,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!a||!a?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new P("UNAUTHORIZED",{message:pW.FAILED_TO_GET_USER_INFO});let o=String(a.user.id);if(!a.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new P("UNAUTHORIZED",{message:pW.USER_EMAIL_NOT_FOUND});if((await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>e.providerId===r.id&&e.accountId===o))return e.json({url:"",status:!0,redirect:!1});let s=e.context.options.account?.accountLinking?.trustedProviders;if(!s?.includes(r.id)&&!a.user.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)throw new P("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(a.user.email!==t.user.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new P("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await e.context.internalAdapter.createAccount({userId:t.user.id,providerId:r.id,accountId:o,accessToken:e.body.idToken.accessToken,idToken:i,refreshToken:e.body.idToken.refreshToken,scope:e.body.idToken.scopes?.join(",")},e)}catch(e){throw new P("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(e.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await e.context.internalAdapter.updateUser(t.user.id,{name:a.user?.name,image:a.user?.image})}catch(e){console.warn("Could not update user - "+e.toString())}return e.json({url:"",status:!0,redirect:!1})}let i=await h6(e,{userId:t.user.id,email:t.user.email}),n=await r.createAuthorizationURL({state:i.state,codeVerifier:i.codeVerifier,redirectURI:`${e.context.baseURL}/callback/${r.id}`,scopes:e.body.scopes});return e.json({url:n.toString(),redirect:!e.body.disableRedirect})}),gE=pH("/unlink-account",{method:"POST",body:cZ({providerId:uO(),accountId:uO().optional()}),use:[p0],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let{providerId:t,accountId:r}=e.body,i=await e.context.internalAdapter.findAccounts(e.context.session.user.id);if(1===i.length&&!e.context.options.account?.accountLinking?.allowUnlinkingAll)throw new P("BAD_REQUEST",{message:pW.FAILED_TO_UNLINK_LAST_ACCOUNT});let n=i.find(e=>r?e.accountId===r&&e.providerId===t:e.providerId===t);if(!n)throw new P("BAD_REQUEST",{message:pW.ACCOUNT_NOT_FOUND});return await e.context.internalAdapter.deleteAccount(n.id),e.json({status:!0})}),gI=pH("/get-access-token",{method:"POST",body:cZ({providerId:uO().meta({description:"The provider ID for the OAuth provider"}),accountId:uO().meta({description:"The account ID associated with the refresh token"}).optional(),userId:uO().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:i}=e.body,n=e.request,a=await pG(e);if(n&&!a)throw e.error("UNAUTHORIZED");let o=a?.user?.id||i;if(!o)throw new P("BAD_REQUEST",{message:"Either userId or session is required"});if(!e.context.socialProviders.find(e=>e.id===t))throw new P("BAD_REQUEST",{message:`Provider ${t} is not supported.`});let s=(await e.context.internalAdapter.findAccounts(o)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!s)throw new P("BAD_REQUEST",{message:"Account not found"});let l=e.context.socialProviders.find(e=>e.id===t);if(!l)throw new P("BAD_REQUEST",{message:`Provider ${t} not found.`});try{let t=null,r=s.accessTokenExpiresAt&&new Date(s.accessTokenExpiresAt).getTime()-Date.now()<5e3;s.refreshToken&&r&&l.refreshAccessToken&&(t=await l.refreshAccessToken(s.refreshToken),await e.context.internalAdapter.updateAccount(s.id,{accessToken:await h8(t.accessToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshToken:await h8(t.refreshToken,e.context),refreshTokenExpiresAt:t.refreshTokenExpiresAt}));let i={accessToken:await function(e,t){return e&&t.options.account?.encryptOAuthTokens?hn({key:t.secret,data:e}):e}(t?.accessToken??s.accessToken??"",e.context),accessTokenExpiresAt:t?.accessTokenExpiresAt??s.accessTokenExpiresAt??void 0,scopes:s.scope?.split(",")??[],idToken:t?.idToken??s.idToken??void 0};return e.json(i)}catch(e){throw new P("BAD_REQUEST",{message:"Failed to get a valid access token",cause:e})}}),gT=pH("/refresh-token",{method:"POST",body:cZ({providerId:uO().meta({description:"The provider ID for the OAuth provider"}),accountId:uO().meta({description:"The account ID associated with the refresh token"}).optional(),userId:uO().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:i}=e.body,n=e.request,a=await pG(e);if(n&&!a)throw e.error("UNAUTHORIZED");let o=a?.user?.id||i;if(!o)throw new P("BAD_REQUEST",{message:"Either userId or session is required"});let s=(await e.context.internalAdapter.findAccounts(o)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!s)throw new P("BAD_REQUEST",{message:"Account not found"});let l=e.context.socialProviders.find(e=>e.id===t);if(!l)throw new P("BAD_REQUEST",{message:`Provider ${t} not found.`});if(!l.refreshAccessToken)throw new P("BAD_REQUEST",{message:`Provider ${t} does not support token refreshing.`});try{let t=await l.refreshAccessToken(s.refreshToken);return await e.context.internalAdapter.updateAccount(s.id,{accessToken:await h8(t.accessToken,e.context),refreshToken:await h8(t.refreshToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshTokenExpiresAt:t.refreshTokenExpiresAt}),e.json(t)}catch(e){throw new P("BAD_REQUEST",{message:"Failed to refresh access token",cause:e})}}),g$=pH("/account-info",{method:"POST",use:[pY],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},body:cZ({accountId:uO().meta({description:"The provider given account id for which to get the account info"})})},async e=>{let t=await e.context.internalAdapter.findAccount(e.body.accountId);if(!t||t.userId!==e.context.session.user.id)throw new P("BAD_REQUEST",{message:"Account not found"});let r=e.context.socialProviders.find(e=>e.id===t.providerId);if(!r)throw new P("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${t.providerId} but it is not configured`});let i=await gI({...e,body:{accountId:t.id,providerId:t.providerId},returnHeaders:!1});if(!i.accessToken)throw new P("BAD_REQUEST",{message:"Access token not found"});let n=await r.getUserInfo({...i,accessToken:i.accessToken});return e.json(n)}),gA=hZ((e,t,r)=>{if(Array.isArray(e[t])&&Array.isArray(r))return e[t]=r,!0});async function gP(e,t){let r={};for(let i of t)if(i.matcher(e)){let t=await i.handler({...e,returnHeaders:!1}).catch(t=>{throw t instanceof P&&pT(e.context.logger.level,"debug")&&(t.stack=t.errorStack),t});if(t&&"object"==typeof t){if("context"in t&&"object"==typeof t.context){let{headers:e,...i}=t.context;e instanceof Headers&&(r.headers?e.forEach((e,t)=>{r.headers?.set(t,e)}):r.headers=e),r=gA(i,r);continue}return t}}return{context:r}}async function gj(e,t){for(let r of t)if(r.matcher(e)){let t=await r.handler(e).catch(t=>{if(t instanceof P)return pT(e.context.logger.level,"debug")&&(t.stack=t.errorStack),{response:t,headers:t.headers?new Headers(t.headers):null};throw t});t.headers&&t.headers.forEach((t,r)=>{e.context.responseHeaders?"set-cookie"===r.toLowerCase()?e.context.responseHeaders.append(r,t):e.context.responseHeaders.set(r,t):e.context.responseHeaders=new Headers({[r]:t})}),t.response&&(e.context.returned=t.response)}return{response:e.context.returned,headers:e.context.responseHeaders}}let gR=new WeakMap;function gN(e,t){let r=t.fields,i={};for(let t in e){let n=r[t];if(!n){i[t]=e[t];continue}!1!==n.returned&&(i[t]=e[t])}return i}function gU(e,t){gR.has(e)||gR.set(e,new Map);let r=gR.get(e);if(r.has(t))return r.get(t);let i={..."user"===t?e.user?.additionalFields:{},..."session"===t?e.session?.additionalFields:{}};for(let r of e.plugins||[])r.schema&&r.schema[t]&&(i={...i,...r.schema[t].fields});return gR.get(e).set(t,i),i}function gC(e,t){return gN(t,{fields:gU(e,"user")})}function gD(e,t){return gN(t,{fields:gU(e,"session")})}var gz=pt;function gL(e,t){if(t.advanced?.ipAddress?.disableIpTracking)return null;if(pp()||pd)return"127.0.0.1";let r="headers"in e?e.headers:e;for(let e of t.advanced?.ipAddress?.ipAddressHeaders||["x-forwarded-for"]){let t="get"in r?r.get(e):r[e];if("string"==typeof t){var i;let e=t.split(",")[0].trim();if(i=e,gz.ipv4().safeParse(i).success||gz.ipv6().safeParse(i).success)return e}}return null}let gM=new Map;async function gq(e,t){if(!t.rateLimit.enabled)return;let r=new URL(e.url).pathname.replace(t.options.basePath||"/api/auth",""),i=t.rateLimit.window,n=t.rateLimit.max,a=gL(e,t.options);if(!a)return;let o=a+r,s=[{pathMatcher:e=>e.startsWith("/sign-in")||e.startsWith("/sign-up")||e.startsWith("/change-password")||e.startsWith("/change-email"),window:10,max:3}].find(e=>e.pathMatcher(r));for(let e of(s&&(i=s.window,n=s.max),t.options.plugins||[]))if(e.rateLimit){let t=e.rateLimit.find(e=>e.pathMatcher(r));if(t){i=t.window,n=t.max;break}}if(t.rateLimit.customRules){let a=Object.keys(t.rateLimit.customRules).find(e=>e.includes("*")?hK(e)(r):e===r);if(a){let r=t.rateLimit.customRules[a],o="function"==typeof r?await r(e):r;if(o&&(i=o.window,n=o.max),!1===o)return}}let l=function(e,t){if(e.options.rateLimit?.customStorage)return e.options.rateLimit.customStorage;let r=e.rateLimit.storage;if("secondary-storage"===r)return{get:async t=>{let r=await e.options.secondaryStorage?.get(t);return r?pj(r):void 0},set:async(r,i,n)=>{let a=t?.window??e.options.rateLimit?.window??10;await e.options.secondaryStorage?.set?.(r,JSON.stringify(i),a)}};if("memory"===r)return{get:async e=>gM.get(e),async set(e,t,r){gM.set(e,t)}};let i="rateLimit",n=e.adapter;return{get:async e=>{let t=(await n.findMany({model:i,where:[{field:"key",value:e}]}))[0];return"bigint"==typeof t?.lastRequest&&(t.lastRequest=Number(t.lastRequest)),t},set:async(t,r,a)=>{try{a?await n.updateMany({model:i,where:[{field:"key",value:t}],update:{count:r.count,lastRequest:r.lastRequest}}):await n.create({model:i,data:{key:t,count:r.count,lastRequest:r.lastRequest}})}catch(t){e.logger.error("Error setting rate limit",t)}}}}(t,{window:i}),u=await l.get(o),c=Date.now();if(u){var d,p,f,m;let e=c-u.lastRequest;if(d=n,p=i,f=u,Date.now()-f.lastRequest<1e3*p&&f.count>=d){return m=Math.ceil((u.lastRequest+1e3*i-Date.now())/1e3),new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":m.toString()}})}e>1e3*i?await l.set(o,{...u,count:1,lastRequest:c},!0):await l.set(o,{...u,count:u.count+1,lastRequest:c},!0)}else await l.set(o,{key:o,count:1,lastRequest:c})}function gV(e,t){let r=t.plugins?.reduce((e,t)=>({...e,...t.endpoints}),{})??{},i=t.plugins?.map(t=>t.middlewares?.map(t=>{let r=async r=>{let i=await e;return t.middleware({...r,context:{...i,...r.context}})};return r.options=t.middleware.options,{path:t.path,middleware:r}})).filter(e=>void 0!==e).flat()||[];return{api:function(e,t){let r={};for(let[i,n]of Object.entries(e))r[i]=async e=>{let r=await t,i={...e,context:{...r,returned:void 0,responseHeaders:void 0,session:null},path:n.path,headers:e?.headers?new Headers(e?.headers):void 0},{beforeHooks:a,afterHooks:o}=function(e){let t=e.options.plugins||[],r=[],i=[];e.options.hooks?.before&&r.push({matcher:()=>!0,handler:e.options.hooks.before}),e.options.hooks?.after&&i.push({matcher:()=>!0,handler:e.options.hooks.after});let n=t.map(e=>{if(e.hooks?.before)return e.hooks.before}).filter(e=>void 0!==e).flat(),a=t.map(e=>{if(e.hooks?.after)return e.hooks.after}).filter(e=>void 0!==e).flat();return n.length&&r.push(...n),a.length&&i.push(...a),{beforeHooks:r,afterHooks:i}}(r),s=await gP(i,a);if("context"in s&&s.context&&"object"==typeof s.context){let{headers:e,...t}=s.context;e&&e.forEach((e,t)=>{i.headers.set(t,e)}),i=gA(t,i)}else if(s)return e?.asResponse?N(s,{headers:e?.headers}):e?.returnHeaders?{headers:e?.headers,response:s}:s;i.asResponse=!1,i.returnHeaders=!0;let l=await n(i).catch(e=>{if(e instanceof P)return{response:e,headers:e.headers?new Headers(e.headers):null};throw e});if(l&&l instanceof Response)return l;i.context.returned=l.response,i.context.responseHeaders=l.headers;let u=await gj(i,o);if(u.response&&(l.response=u.response),l.response instanceof P&&pT(r.logger.level,"debug")&&(l.response.stack=l.response.errorStack),l.response instanceof P&&!e?.asResponse)throw l.response;return e?.asResponse?N(l.response,{headers:l.headers}):e?.returnHeaders?{headers:l.headers,response:l.response}:l.response},r[i].path=n.path,r[i].options=n.options;return r}({...{signInSocial:gs,callbackOAuth:gc,getSession:pQ(),signOut:gd,signUpEmail:pH("/sign-up/email",{method:"POST",body:c6(uO(),cj()),metadata:{$Infer:{body:{}},openapi:{description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{let t;if(!e.context.options.emailAndPassword?.enabled||e.context.options.emailAndPassword?.disableSignUp)throw new P("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let r=e.body,{name:i,email:n,password:a,image:o,callbackURL:s,rememberMe:l,...u}=r;if(!uT().safeParse(n).success)throw new P("BAD_REQUEST",{message:pW.INVALID_EMAIL});let c=e.context.password.config.minPasswordLength;if(a.length<c)throw e.context.logger.error("Password is too short"),new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_SHORT});let d=e.context.password.config.maxPasswordLength;if(a.length>d)throw e.context.logger.error("Password is too long"),new P("BAD_REQUEST",{message:pW.PASSWORD_TOO_LONG});let p=await e.context.internalAdapter.findUserByEmail(n);if(p?.user)throw e.context.logger.info(`Sign-up attempt for existing email: ${n}`),new P("UNPROCESSABLE_ENTITY",{message:pW.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let f=await e.context.password.hash(a);try{let r=function(e,t={},r){return function(e,t){let r=t.action||"create",i=t.fields,n=Object.assign(Object.create(null),null);for(let t in i){if(t in e){if(!1===i[t].input){if(i[t].defaultValue){n[t]=i[t].defaultValue;continue}if(n[t])throw new P("BAD_REQUEST",{message:`${t} is not allowed to be set`});continue}if(i[t].validator?.input&&void 0!==e[t]){n[t]=i[t].validator.input.parse(e[t]);continue}if(i[t].transform?.input&&void 0!==e[t]){n[t]=i[t].transform?.input(e[t]);continue}n[t]=e[t];continue}if(i[t].defaultValue&&"create"===r){n[t]=i[t].defaultValue;continue}if(i[t].required&&"create"===r)throw new P("BAD_REQUEST",{message:`${t} is required`})}return n}(t,{fields:gU(e,"user"),action:r})}(e.context.options,u,"create");if(!(t=await e.context.internalAdapter.createUser({email:n.toLowerCase(),name:i,image:o,...r,emailVerified:!1},e)))throw new P("BAD_REQUEST",{message:pW.FAILED_TO_CREATE_USER})}catch(t){if(pd&&e.context.logger.error("Failed to create user",t),t instanceof P)throw t;throw e.context.logger?.error("Failed to create user",t),new P("UNPROCESSABLE_ENTITY",{message:pW.FAILED_TO_CREATE_USER,details:t})}if(!t)throw new P("UNPROCESSABLE_ENTITY",{message:pW.FAILED_TO_CREATE_USER});if(await e.context.internalAdapter.linkAccount({userId:t.id,providerId:"credential",accountId:t.id,password:f},e),e.context.options.emailVerification?.sendOnSignUp||e.context.options.emailAndPassword.requireEmailVerification){let i=await hY(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),n=`${e.context.baseURL}/verify-email?token=${i}&callbackURL=${r.callbackURL||"/"}`,a=e.request?[{user:t,url:n,token:i},e.request]:[{user:t,url:n,token:i}];await e.context.options.emailVerification?.sendVerificationEmail?.(...a)}if(!1===e.context.options.emailAndPassword.autoSignIn||e.context.options.emailAndPassword.requireEmailVerification)return e.json({token:null,user:{id:t.id,email:t.email,name:t.name,image:t.image,emailVerified:t.emailVerified,createdAt:t.createdAt,updatedAt:t.updatedAt}});let m=await e.context.internalAdapter.createSession(t.id,e,!1===l);if(!m)throw new P("BAD_REQUEST",{message:pW.FAILED_TO_CREATE_SESSION});return await pJ(e,{session:m,user:t},!1===l),e.json({token:m.token,user:{id:t.id,email:t.email,name:t.name,image:t.image,emailVerified:t.emailVerified,createdAt:t.createdAt,updatedAt:t.updatedAt}})}),signInEmail:gl,forgetPassword:gm,resetPassword:gg,verifyEmail:h1,sendVerificationEmail:h0,changeEmail:g_,changePassword:gy,setPassword:gv,updateUser:pH("/update-user",{method:"POST",body:c6(uO().meta({description:"Field name must be a string"}),cj()),use:[pY],metadata:{$Infer:{body:{}},openapi:{description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user"}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the update was successful"}}}}}}}}}},async e=>{let t=e.body;if(t.email)throw new P("BAD_REQUEST",{message:pW.EMAIL_CAN_NOT_BE_UPDATED});let{name:r,image:i,...n}=t,a=e.context.session;if(void 0===i&&void 0===r&&0===Object.keys(n).length)return e.json({status:!0});let o=await e.context.internalAdapter.updateUser(a.user.id,{name:r,image:i,...n},e);return await pJ(e,{session:a.session,user:o}),e.json({status:!0})}),deleteUser:gb,forgetPasswordCallback:gh,requestPasswordReset:gf,requestPasswordResetCallback:gh,listSessions:pH("/list-sessions",{method:"GET",use:[pY],requireHeaders:!0,metadata:{openapi:{description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async e=>{try{let t=(await e.context.internalAdapter.listSessions(e.context.session.user.id)).filter(e=>e.expiresAt>new Date);return e.json(t)}catch(t){throw e.context.logger.error(t),e.error("INTERNAL_SERVER_ERROR")}}),revokeSession:p1,revokeSessions:p4,revokeOtherSessions:p6,linkSocialAccount:gO,listUserAccounts:gS,deleteUserCallback:gw,unlinkAccount:gE,refreshToken:gT,getAccessToken:gI,accountInfo:g$},...r,ok:gk,error:gx},e),middlewares:i}}let gJ=e=>{let t=(e.plugins??[]).reduce((e,t)=>{let r=t.schema;if(!r)return e;for(let[t,i]of Object.entries(r))e[t]={fields:{...e[t]?.fields,...i.fields},modelName:i.modelName||t};return e},{}),r=e.rateLimit?.storage==="database",i={rateLimit:{modelName:e.rateLimit?.modelName||"rateLimit",fields:{key:{type:"string",fieldName:e.rateLimit?.fields?.key||"key"},count:{type:"number",fieldName:e.rateLimit?.fields?.count||"count"},lastRequest:{type:"number",bigint:!0,fieldName:e.rateLimit?.fields?.lastRequest||"lastRequest"}}}},{user:n,session:a,account:o,...s}=t,l={session:{modelName:e.session?.modelName||"session",fields:{expiresAt:{type:"date",required:!0,fieldName:e.session?.fields?.expiresAt||"expiresAt"},token:{type:"string",required:!0,fieldName:e.session?.fields?.token||"token",unique:!0},createdAt:{type:"date",required:!0,fieldName:e.session?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.session?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},ipAddress:{type:"string",required:!1,fieldName:e.session?.fields?.ipAddress||"ipAddress"},userAgent:{type:"string",required:!1,fieldName:e.session?.fields?.userAgent||"userAgent"},userId:{type:"string",fieldName:e.session?.fields?.userId||"userId",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0},...a?.fields,...e.session?.additionalFields},order:2}};return{user:{modelName:e.user?.modelName||"user",fields:{name:{type:"string",required:!0,fieldName:e.user?.fields?.name||"name",sortable:!0},email:{type:"string",unique:!0,required:!0,fieldName:e.user?.fields?.email||"email",sortable:!0},emailVerified:{type:"boolean",defaultValue:!1,required:!0,fieldName:e.user?.fields?.emailVerified||"emailVerified"},image:{type:"string",required:!1,fieldName:e.user?.fields?.image||"image"},createdAt:{type:"date",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",defaultValue:()=>new Date,onUpdate:()=>new Date,required:!0,fieldName:e.user?.fields?.updatedAt||"updatedAt"},...n?.fields,...e.user?.additionalFields},order:1},...!e.secondaryStorage||e.session?.storeSessionInDatabase?l:{},account:{modelName:e.account?.modelName||"account",fields:{accountId:{type:"string",required:!0,fieldName:e.account?.fields?.accountId||"accountId"},providerId:{type:"string",required:!0,fieldName:e.account?.fields?.providerId||"providerId"},userId:{type:"string",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0,fieldName:e.account?.fields?.userId||"userId"},accessToken:{type:"string",required:!1,fieldName:e.account?.fields?.accessToken||"accessToken"},refreshToken:{type:"string",required:!1,fieldName:e.account?.fields?.refreshToken||"refreshToken"},idToken:{type:"string",required:!1,fieldName:e.account?.fields?.idToken||"idToken"},accessTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.accessTokenExpiresAt||"accessTokenExpiresAt"},refreshTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.refreshTokenExpiresAt||"refreshTokenExpiresAt"},scope:{type:"string",required:!1,fieldName:e.account?.fields?.scope||"scope"},password:{type:"string",required:!1,fieldName:e.account?.fields?.password||"password"},createdAt:{type:"date",required:!0,fieldName:e.account?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.account?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},...o?.fields,...e.account?.additionalFields},order:3},verification:{modelName:e.verification?.modelName||"verification",fields:{identifier:{type:"string",required:!0,fieldName:e.verification?.fields?.identifier||"identifier"},value:{type:"string",required:!0,fieldName:e.verification?.fields?.value||"value"},expiresAt:{type:"date",required:!0,fieldName:e.verification?.fields?.expiresAt||"expiresAt"},createdAt:{type:"date",required:!0,defaultValue:()=>new Date,fieldName:e.verification?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!0,defaultValue:()=>new Date,onUpdate:()=>new Date,fieldName:e.verification?.fields?.updatedAt||"updatedAt"}},order:4},...s,...r?i:{}}};var gF=e.i(85310),gZ=e.i(25802),gB=e.i(92420);function gH(e,t){return gB.RawNode.createWithChildren([gB.RawNode.createWithSql(`${e} `),gZ.IdentifierNode.create(t)])}var gW=e.i(49787),gK=e.i(63433),gQ=e.i(89886);class gG{#b;#w=new gX;#_;#x;constructor(e){this.#b=(0,gK.freeze)({...e})}async init(){this.#_=(0,gK.isFunction)(this.#b.database)?await this.#b.database():this.#b.database,this.#x=new gY(this.#_),this.#b.onCreateConnection&&await this.#b.onCreateConnection(this.#x)}async acquireConnection(){return await this.#w.lock(),this.#x}async beginTransaction(e){await e.executeQuery(gW.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(gW.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(gW.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(gH("savepoint",t),(0,gQ.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(gH("rollback to",t),(0,gQ.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(gH("release",t),(0,gQ.createQueryId)()))}async releaseConnection(){this.#w.unlock()}async destroy(){this.#_?.close()}}class gY{#_;constructor(e){this.#_=e}executeQuery(e){let{sql:t,parameters:r}=e,i=this.#_.prepare(t);if(i.reader)return Promise.resolve({rows:i.all(r)});let{changes:n,lastInsertRowid:a}=i.run(r);return Promise.resolve({numAffectedRows:null!=n?BigInt(n):void 0,insertId:null!=a?BigInt(a):void 0,rows:[]})}async *streamQuery(e,t){let{sql:r,parameters:i,query:n}=e,a=this.#_.prepare(r);if(gF.SelectQueryNode.is(n))for(let e of a.iterate(i))yield{rows:[e]};else throw Error("Sqlite driver only supports streaming of select queries")}}class gX{#k;#S;async lock(){for(;this.#k;)await this.#k;this.#k=new Promise(e=>{this.#S=e})}unlock(){let e=this.#S;this.#k=void 0,this.#S=void 0,e?.()}}var g0=e.i(23844);let g1=/"/g;class g4 extends g0.DefaultQueryCompiler{visitOrAction(e){this.append("or "),this.append(e.action)}getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(g1,'""')}visitDefaultInsertValue(e){this.append("null")}}var g6=e.i(51930),g2=e.i(71100);class g5{#_;constructor(e){this.#_=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){return await this.#O(e)}async getMetadata(e){return{tables:await this.getTables(e)}}#E(e,t){let r=e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select(["name","sql","type"]).orderBy("name");return t.withInternalKyselyTables||(r=r.where("name","!=",g6.DEFAULT_MIGRATION_TABLE).where("name","!=",g6.DEFAULT_MIGRATION_LOCK_TABLE)),r}async #O(e){let t=await this.#E(this.#_,e).execute(),r=await this.#_.with("table_list",t=>this.#E(t,e)).selectFrom(["table_list as tl",g2.sql`pragma_table_info(tl.name)`.as("p")]).select(["tl.name as table","p.cid","p.name","p.type","p.notnull","p.dflt_value","p.pk"]).orderBy("tl.name").orderBy("p.cid").execute(),i={};for(let e of r)i[e.table]??=[],i[e.table].push(e);return t.map(({name:e,sql:t,type:r})=>{let n=t?.split(/[\(\),]/)?.find(e=>e.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=i[e]??[];if(!n){let e=a.filter(e=>e.pk>0);1===e.length&&"integer"===e[0].type.toLowerCase()&&(n=e[0].name)}return{name:e,isView:"view"===r,columns:a.map(e=>({name:e.name,dataType:e.type,isNullable:!e.notnull,isAutoIncrementing:e.name===n,hasDefaultValue:null!=e.dflt_value,comment:void 0}))}})}}class g3{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}class g8 extends g3{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,t){}async releaseMigrationLock(e,t){}}class g9{#b;constructor(e){this.#b=(0,gK.freeze)({...e})}createDriver(){return new gG(this.#b)}createQueryCompiler(){return new g4}createAdapter(){return new g8}createIntrospector(e){return new g5(e)}}function g7(e,t){var r;if(r=e,(0,gK.isObject)(r)&&(0,gK.isString)(r.stack)&&t.stack){let r=t.stack.split("\n").slice(1).join("\n");e.stack+=`
${r}`}return e}let ye=Symbol();class yt{#b;#I=new WeakMap;#T;constructor(e){this.#b=(0,gK.freeze)({...e})}async init(){this.#T=(0,gK.isFunction)(this.#b.pool)?await this.#b.pool():this.#b.pool}async acquireConnection(){let e=await this.#$(),t=this.#I.get(e);return!t&&(t=new yr(e),this.#I.set(e,t),this.#b?.onCreateConnection&&await this.#b.onCreateConnection(t)),this.#b?.onReserveConnection&&await this.#b.onReserveConnection(t),t}async #$(){return new Promise((e,t)=>{this.#T.getConnection(async(r,i)=>{r?t(r):e(i)})})}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r=[];t.isolationLevel&&r.push(`isolation level ${t.isolationLevel}`),t.accessMode&&r.push(t.accessMode);let i=`set transaction ${r.join(", ")}`;await e.executeQuery(gW.CompiledQuery.raw(i))}await e.executeQuery(gW.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(gW.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(gW.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(gH("savepoint",t),(0,gQ.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(gH("rollback to",t),(0,gQ.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(gH("release savepoint",t),(0,gQ.createQueryId)()))}async releaseConnection(e){e[ye]()}async destroy(){return new Promise((e,t)=>{this.#T.end(r=>{r?t(r):e()})})}}class yr{#A;constructor(e){this.#A=e}async executeQuery(e){try{let t=await this.#P(e);if((0,gK.isObject)(t)&&"insertId"in t&&"affectedRows"in t){let{insertId:e,affectedRows:r,changedRows:i}=t;return{insertId:null!=e&&"0"!==e.toString()?BigInt(e):void 0,numAffectedRows:null!=r?BigInt(r):void 0,numChangedRows:null!=i?BigInt(i):void 0,rows:[]}}if(Array.isArray(t))return{rows:t};return{rows:[]}}catch(e){throw g7(e,Error())}}#P(e){return new Promise((t,r)=>{this.#A.query(e.sql,e.parameters,(e,i)=>{e?r(e):t(i)})})}async *streamQuery(e,t){let r=this.#A.query(e.sql,e.parameters).stream({objectMode:!0});try{for await(let e of r)yield{rows:[e]}}catch(e){if(e&&"object"==typeof e&&"code"in e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code)return;throw e}}[ye](){this.#A.release()}}var yi=g0;let yn=/`/g;class ya extends yi.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getExplainOptionAssignment(){return"="}getExplainOptionsDelimiter(){return" "}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return"`"}getRightIdentifierWrapper(){return"`"}sanitizeIdentifier(e){return e.replace(yn,"``")}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.using&&(this.append(" using "),this.visitNode(e.using)),e.table&&(this.append(" on "),this.visitNode(e.table)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.where&&(this.append(" "),this.visitNode(e.where))}}class yo{#_;constructor(e){this.#_=e}async getSchemas(){return(await this.#_.selectFrom("information_schema.schemata").select("schema_name").$castTo().execute()).map(e=>({name:e.SCHEMA_NAME}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#_.selectFrom("information_schema.columns as columns").innerJoin("information_schema.tables as tables",e=>e.onRef("columns.TABLE_CATALOG","=","tables.TABLE_CATALOG").onRef("columns.TABLE_SCHEMA","=","tables.TABLE_SCHEMA").onRef("columns.TABLE_NAME","=","tables.TABLE_NAME")).select(["columns.COLUMN_NAME","columns.COLUMN_DEFAULT","columns.TABLE_NAME","columns.TABLE_SCHEMA","tables.TABLE_TYPE","columns.IS_NULLABLE","columns.DATA_TYPE","columns.EXTRA","columns.COLUMN_COMMENT"]).where("columns.TABLE_SCHEMA","=",g2.sql`database()`).orderBy("columns.TABLE_NAME").orderBy("columns.ORDINAL_POSITION").$castTo();e.withInternalKyselyTables||(t=t.where("columns.TABLE_NAME","!=",g6.DEFAULT_MIGRATION_TABLE).where("columns.TABLE_NAME","!=",g6.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#j(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#j(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.TABLE_NAME);return r||(r=(0,gK.freeze)({name:t.TABLE_NAME,isView:"VIEW"===t.TABLE_TYPE,schema:t.TABLE_SCHEMA,columns:[]}),e.push(r)),r.columns.push((0,gK.freeze)({name:t.COLUMN_NAME,dataType:t.DATA_TYPE,isNullable:"YES"===t.IS_NULLABLE,isAutoIncrementing:t.EXTRA.toLowerCase().includes("auto_increment"),hasDefaultValue:null!==t.COLUMN_DEFAULT,comment:""===t.COLUMN_COMMENT?void 0:t.COLUMN_COMMENT})),e},[])}}let ys="ea586330-2c93-47c8-908d-981d9d270f9d";class yl extends g3{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}async acquireMigrationLock(e,t){await g2.sql`select get_lock(${g2.sql.lit(ys)}, ${g2.sql.lit(3600)})`.execute(e)}async releaseMigrationLock(e,t){await g2.sql`select release_lock(${g2.sql.lit(ys)})`.execute(e)}}class yu{#b;constructor(e){this.#b=e}createDriver(){return new yt(this.#b)}createQueryCompiler(){return new ya}createAdapter(){return new yl}createIntrospector(e){return new yo(e)}}let yc=Symbol();class yd{#b;#I=new WeakMap;#T;constructor(e){this.#b=(0,gK.freeze)({...e})}async init(){this.#T=(0,gK.isFunction)(this.#b.pool)?await this.#b.pool():this.#b.pool}async acquireConnection(){let e=await this.#T.connect(),t=this.#I.get(e);return!t&&(t=new yp(e,{cursor:this.#b.cursor??null}),this.#I.set(e,t),this.#b.onCreateConnection&&await this.#b.onCreateConnection(t)),this.#b.onReserveConnection&&await this.#b.onReserveConnection(t),t}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r="start transaction";t.isolationLevel&&(r+=` isolation level ${t.isolationLevel}`),t.accessMode&&(r+=` ${t.accessMode}`),await e.executeQuery(gW.CompiledQuery.raw(r))}else await e.executeQuery(gW.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(gW.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(gW.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(gH("savepoint",t),(0,gQ.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(gH("rollback to",t),(0,gQ.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(gH("release",t),(0,gQ.createQueryId)()))}async releaseConnection(e){e[yc]()}async destroy(){if(this.#T){let e=this.#T;this.#T=void 0,await e.end()}}}class yp{#R;#N;constructor(e,t){this.#R=e,this.#N=t}async executeQuery(e){try{let{command:t,rowCount:r,rows:i}=await this.#R.query(e.sql,[...e.parameters]);return{numAffectedRows:"INSERT"===t||"UPDATE"===t||"DELETE"===t||"MERGE"===t?BigInt(r):void 0,rows:i??[]}}catch(e){throw g7(e,Error())}}async *streamQuery(e,t){if(!this.#N.cursor)throw Error("'cursor' is not present in your postgres dialect config. It's required to make streaming work in postgres.");if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=this.#R.query(new this.#N.cursor(e.sql,e.parameters.slice()));try{for(;;){let e=await r.read(t);if(0===e.length)break;yield{rows:e}}}finally{await r.close()}}[yc](){this.#R.release()}}class yf{#_;constructor(e){this.#_=e}async getSchemas(){return(await this.#_.selectFrom("pg_catalog.pg_namespace").select("nspname").$castTo().execute()).map(e=>({name:e.nspname}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#_.selectFrom("pg_catalog.pg_attribute as a").innerJoin("pg_catalog.pg_class as c","a.attrelid","c.oid").innerJoin("pg_catalog.pg_namespace as ns","c.relnamespace","ns.oid").innerJoin("pg_catalog.pg_type as typ","a.atttypid","typ.oid").innerJoin("pg_catalog.pg_namespace as dtns","typ.typnamespace","dtns.oid").select(["a.attname as column","a.attnotnull as not_null","a.atthasdef as has_default","c.relname as table","c.relkind as table_type","ns.nspname as schema","typ.typname as type","dtns.nspname as type_schema",g2.sql`col_description(a.attrelid, a.attnum)`.as("column_description"),g2.sql`pg_get_serial_sequence(quote_ident(ns.nspname) || '.' || quote_ident(c.relname), a.attname)`.as("auto_incrementing")]).where("c.relkind","in",["r","v","p"]).where("ns.nspname","!~","^pg_").where("ns.nspname","!=","information_schema").where("ns.nspname","!=","crdb_internal").where(g2.sql`has_schema_privilege(ns.nspname, 'USAGE')`).where("a.attnum",">=",0).where("a.attisdropped","!=",!0).orderBy("ns.nspname").orderBy("c.relname").orderBy("a.attnum").$castTo();e.withInternalKyselyTables||(t=t.where("c.relname","!=",g6.DEFAULT_MIGRATION_TABLE).where("c.relname","!=",g6.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#j(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#j(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.table&&e.schema===t.schema);return r||(r=(0,gK.freeze)({name:t.table,isView:"v"===t.table_type,schema:t.schema,columns:[]}),e.push(r)),r.columns.push((0,gK.freeze)({name:t.column,dataType:t.type,dataTypeSchema:t.type_schema,isNullable:!t.not_null,isAutoIncrementing:null!==t.auto_incrementing,hasDefaultValue:t.has_default,comment:t.column_description??void 0})),e},[])}}var ym=g0;let yh=/"/g;class yg extends ym.DefaultQueryCompiler{sanitizeIdentifier(e){return e.replace(yh,'""')}}let yy=BigInt("3853314791062309107");class yv extends g3{get supportsTransactionalDdl(){return!0}get supportsReturning(){return!0}async acquireMigrationLock(e,t){await g2.sql`select pg_advisory_xact_lock(${g2.sql.lit(yy)})`.execute(e)}async releaseMigrationLock(e,t){}}class yb{#b;constructor(e){this.#b=e}createDriver(){return new yd(this.#b)}createQueryCompiler(){return new yg}createAdapter(){return new yv}createIntrospector(e){return new yf(e)}}class yw extends g3{get supportsCreateIfNotExists(){return!1}get supportsTransactionalDdl(){return!0}get supportsOutput(){return!0}async acquireMigrationLock(e){await g2.sql`exec sp_getapplock @DbPrincipal = ${g2.sql.lit("dbo")}, @Resource = ${g2.sql.lit(g6.DEFAULT_MIGRATION_TABLE)}, @LockMode = ${g2.sql.lit("Exclusive")}`.execute(e)}async releaseMigrationLock(){}}var y_=e.i(40568),yx=e.i(88342);let yk=Symbol(),yS=Symbol(),yO=Symbol();class yE{#b;#T;constructor(e){this.#b=(0,gK.freeze)({...e});let{tarn:t,tedious:r,validateConnections:i}=this.#b,{validateConnections:n,...a}=t.options;this.#T=new t.Pool({...a,create:async()=>{let e=await r.connectionFactory();return await new yI(e,r).connect()},destroy:async e=>{await e[yS]()},validate:!1===i||!1===n?void 0:e=>e[yO]()})}async init(){}async acquireConnection(){return await this.#T.acquire().promise}async beginTransaction(e,t){await e.beginTransaction(t)}async commitTransaction(e){await e.commitTransaction()}async rollbackTransaction(e){await e.rollbackTransaction()}async savepoint(e,t){await e.savepoint(t)}async rollbackToSavepoint(e,t){await e.rollbackTransaction(t)}async releaseConnection(e){(this.#b.resetConnectionsOnRelease||this.#b.tedious.resetConnectionOnRelease)&&await e[yk](),this.#T.release(e)}async destroy(){await this.#T.destroy()}}class yI{#x;#U;#C;constructor(e,t){this.#x=e,this.#U=!1,this.#C=t}async beginTransaction(e){let{isolationLevel:t}=e;await new Promise((e,r)=>this.#x.beginTransaction(t=>{t?r(t):e(void 0)},t?(0,y_.randomString)(8):void 0,t?this.#D(t):void 0))}async commitTransaction(){await new Promise((e,t)=>this.#x.commitTransaction(r=>{r?t(r):e(void 0)}))}async connect(){let{promise:e,reject:t,resolve:r}=new yx.Deferred;function i(){t(Error("The connection ended without ever completing the connection"))}return this.#x.connect(e=>{if(e)return t(e);r()}),this.#x.on("error",e=>{e instanceof Error&&"code"in e&&"ESOCKET"===e.code&&(this.#U=!0),console.error(e),t(e)}),this.#x.once("end",i),await e,this.#x.off("end",i),this}async executeQuery(e){try{let t=new yx.Deferred,r=new yT({compiledQuery:e,tedious:this.#C,onDone:t});this.#x.execSql(r.request);let{rowCount:i,rows:n}=await t.promise;return{numAffectedRows:void 0!==i?BigInt(i):void 0,rows:n}}catch(e){throw g7(e,Error())}}async rollbackTransaction(e){await new Promise((t,r)=>this.#x.rollbackTransaction(e=>{e?r(e):t(void 0)},e))}async savepoint(e){await new Promise((t,r)=>this.#x.saveTransaction(e=>{e?r(e):t(void 0)},e))}async *streamQuery(e,t){if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=new yT({compiledQuery:e,streamChunkSize:t,tedious:this.#C});this.#x.execSql(r.request);try{for(;;){let e=await r.readChunk();if(0===e.length||(yield{rows:e},e.length<t))break}}finally{await this.#z(r)}}#D(e){let{ISOLATION_LEVEL:t}=this.#C,r={"read committed":t.READ_COMMITTED,"read uncommitted":t.READ_UNCOMMITTED,"repeatable read":t.REPEATABLE_READ,serializable:t.SERIALIZABLE,snapshot:t.SNAPSHOT}[e];if(void 0===r)throw Error(`Unknown isolation level: ${e}`);return r}#z(e){return new Promise(t=>{e.request.once("requestCompleted",t),this.#x.cancel()||(e.request.off("requestCompleted",t),t())})}[yS](){return"closed"in this.#x&&this.#x.closed?Promise.resolve():new Promise(e=>{this.#x.once("end",e),this.#x.close()})}async [yk](){await new Promise((e,t)=>{this.#x.reset(r=>{if(r)return t(r);e()})})}async [yO](){if(this.#U||this.#L())return!1;try{let e=new yx.Deferred,t=new yT({compiledQuery:gW.CompiledQuery.raw("select 1"),onDone:e,tedious:this.#C});return this.#x.execSql(t.request),await e.promise,!0}catch{return!1}}#L(){return"closed"in this.#x&&!!this.#x.closed}}class yT{#M;#q;#V;#J;#C;#F;constructor(e){let{compiledQuery:t,onDone:r,streamChunkSize:i,tedious:n}=e;if(this.#q=[],this.#V=i,this.#J={},this.#C=n,r){let e="onDone";this.#J[e]=(t,i)=>{if("chunkReady"!==t){if(delete this.#J[e],"error"===t)return r.reject(i);r.resolve({rowCount:this.#F,rows:this.#q})}}}this.#M=new this.#C.Request(t.sql,(e,t)=>{if(e)return Object.values(this.#J).forEach(t=>t("error",e instanceof AggregateError?e.errors:e));this.#F=t}),this.#Z(t.parameters),this.#B()}get request(){return this.#M}readChunk(){let e=this.readChunk.name;return new Promise((t,r)=>{this.#J[e]=(i,n)=>{if(delete this.#J[e],"error"===i)return r(n);t(this.#q.splice(0,this.#V))},this.#M.resume()})}#Z(e){for(let t=0;t<e.length;t++){let r=e[t];this.#M.addParameter(String(t+1),this.#H(r),r)}}#B(){let e=this.#V?()=>{this.#V<=this.#q.length&&(this.#M.pause(),Object.values(this.#J).forEach(e=>e("chunkReady")))}:()=>{},t=t=>{let r={};for(let e of t)r[e.metadata.colName]=e.value;this.#q.push(r),e()};this.#M.on("row",t),this.#M.once("requestCompleted",()=>{Object.values(this.#J).forEach(e=>e("completed")),this.#M.off("row",t)})}#H(e){if((0,gK.isNull)(e)||(0,gK.isUndefined)(e)||(0,gK.isString)(e))return this.#C.TYPES.NVarChar;if((0,gK.isBigInt)(e)||(0,gK.isNumber)(e)&&e%1==0)if(e<-0x80000000||e>0x7fffffff)return this.#C.TYPES.BigInt;else return this.#C.TYPES.Int;return(0,gK.isNumber)(e)?this.#C.TYPES.Float:(0,gK.isBoolean)(e)?this.#C.TYPES.Bit:(0,gK.isDate)(e)?this.#C.TYPES.DateTime:(0,gK.isBuffer)(e)?this.#C.TYPES.VarBinary:this.#C.TYPES.NVarChar}}class y${#_;constructor(e){this.#_=e}async getSchemas(){return await this.#_.selectFrom("sys.schemas").select("name").execute()}async getTables(e={withInternalKyselyTables:!1}){let t=await this.#_.selectFrom("sys.tables as tables").leftJoin("sys.schemas as table_schemas","table_schemas.schema_id","tables.schema_id").innerJoin("sys.columns as columns","columns.object_id","tables.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","tables.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).$if(!e.withInternalKyselyTables,e=>e.where("tables.name","!=",g6.DEFAULT_MIGRATION_TABLE).where("tables.name","!=",g6.DEFAULT_MIGRATION_LOCK_TABLE)).select(["tables.name as table_name",e=>e.ref("tables.type").$castTo().as("table_type"),"table_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"]).unionAll(this.#_.selectFrom("sys.views as views").leftJoin("sys.schemas as view_schemas","view_schemas.schema_id","views.schema_id").innerJoin("sys.columns as columns","columns.object_id","views.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","views.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).select(["views.name as table_name","views.type as table_type","view_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"])).orderBy("table_schema_name").orderBy("table_name").orderBy("column_name").execute(),r={};for(let e of t){let t=`${e.table_schema_name}.${e.table_name}`;(r[t]=r[t]||(0,gK.freeze)({columns:[],isView:"V "===e.table_type,name:e.table_name,schema:e.table_schema_name??void 0})).columns.push((0,gK.freeze)({dataType:e.type_name,dataTypeSchema:e.type_schema_name??void 0,hasDefaultValue:e.column_default_object_id>0||"NOT_APPLICABLE"!==e.column_generated_always_type||e.column_is_identity||e.column_is_computed||e.column_is_rowguidcol,isAutoIncrementing:e.column_is_identity,isNullable:e.column_is_nullable&&e.type_is_nullable,name:e.column_name,comment:e.column_comment??void 0}))}return Object.values(r)}async getMetadata(e){return{tables:await this.getTables(e)}}}var yA=g0;let yP=/^[a-z0-9_]$/i;class yj extends yA.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return`@${this.numParameters}`}visitOffset(e){super.visitOffset(e),this.append(" rows")}compileColumnAlterations(e){let t={};for(let r of e)t[r.kind]||(t[r.kind]=[]),t[r.kind].push(r);let r=!0;t.AddColumnNode&&(this.append("add "),this.compileList(t.AddColumnNode),r=!1),t.AlterColumnNode&&(r||this.append(", "),this.compileList(t.AlterColumnNode)),t.DropColumnNode&&(r||this.append(", "),this.append("drop column "),this.compileList(t.DropColumnNode)),t.ModifyColumnNode&&(r||this.append(", "),this.compileList(t.ModifyColumnNode)),t.RenameColumnNode&&(r||this.append(", "),this.compileList(t.RenameColumnNode))}visitAddColumn(e){this.visitNode(e.column)}visitDropColumn(e){this.visitNode(e.column)}visitMergeQuery(e){super.visitMergeQuery(e),this.append(";")}visitCollate(e){this.append("collate ");let{name:t}=e.collation;for(let e of t)if(!yP.test(e))throw Error(`Invalid collation: ${t}`);this.append(t)}announcesNewColumnDataType(){return!1}}class yR{#b;constructor(e){this.#b=e}createDriver(){return new yE(this.#b)}createQueryCompiler(){return new yj}createAdapter(){return new yw}createIntrospector(e){return new y$(e)}}let yN=(0,gK.freeze)({is:e=>"AlterTableNode"===e.kind,create:e=>(0,gK.freeze)({kind:"AlterTableNode",table:e}),cloneWithTableProps:(e,t)=>(0,gK.freeze)({...e,...t}),cloneWithColumnAlteration:(e,t)=>(0,gK.freeze)({...e,columnAlterations:e.columnAlterations?[...e.columnAlterations,t]:[t]})}),yU=(0,gK.freeze)({is:e=>"CreateIndexNode"===e.kind,create:e=>(0,gK.freeze)({kind:"CreateIndexNode",name:gZ.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,gK.freeze)({...e,columns:[...e.columns||[],...t]})}),yC=(0,gK.freeze)({is:e=>"CreateSchemaNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"CreateSchemaNode",schema:gZ.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})});var yD=e.i(36369),yz=e.i(42349);let yL=(0,gK.freeze)({is:e=>"DropIndexNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"DropIndexNode",name:yz.SchemableIdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})}),yM=(0,gK.freeze)({is:e=>"DropSchemaNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"DropSchemaNode",schema:gZ.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})}),yq=(0,gK.freeze)({is:e=>"DropTableNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"DropTableNode",table:e,...t}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})});var yV=e.i(13981);let yJ=(0,gK.freeze)({is:e=>"AddColumnNode"===e.kind,create:e=>(0,gK.freeze)({kind:"AddColumnNode",column:e})});var yF=e.i(65477);let yZ=(0,gK.freeze)({is:e=>"ColumnDefinitionNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"ColumnDefinitionNode",column:yF.ColumnNode.create(e),dataType:t}),cloneWithFrontModifier:(e,t)=>(0,gK.freeze)({...e,frontModifiers:e.frontModifiers?(0,gK.freeze)([...e.frontModifiers,t]):[t]}),cloneWithEndModifier:(e,t)=>(0,gK.freeze)({...e,endModifiers:e.endModifiers?(0,gK.freeze)([...e.endModifiers,t]):[t]}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})}),yB=(0,gK.freeze)({is:e=>"DropColumnNode"===e.kind,create:e=>(0,gK.freeze)({kind:"DropColumnNode",column:yF.ColumnNode.create(e)})}),yH=(0,gK.freeze)({is:e=>"RenameColumnNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"RenameColumnNode",column:yF.ColumnNode.create(e),renameTo:yF.ColumnNode.create(t)})}),yW=(0,gK.freeze)({is:e=>"CheckConstraintNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"CheckConstraintNode",expression:e,name:t?gZ.IdentifierNode.create(t):void 0})}),yK=["no action","restrict","cascade","set null","set default"],yQ=(0,gK.freeze)({is:e=>"ReferencesNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"ReferencesNode",table:e,columns:(0,gK.freeze)([...t])}),cloneWithOnDelete:(e,t)=>(0,gK.freeze)({...e,onDelete:t}),cloneWithOnUpdate:(e,t)=>(0,gK.freeze)({...e,onUpdate:t})});var yG=e.i(31754),yY=e.i(44892),yX=e.i(22254),y0=e.i(37356);function y1(e){return(0,yX.isOperationNodeSource)(e)?e.toOperationNode():y0.ValueNode.createImmediate(e)}let y4=(0,gK.freeze)({is:e=>"GeneratedNode"===e.kind,create:e=>(0,gK.freeze)({kind:"GeneratedNode",...e}),createWithExpression:e=>(0,gK.freeze)({kind:"GeneratedNode",always:!0,expression:e}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})}),y6=(0,gK.freeze)({is:e=>"DefaultValueNode"===e.kind,create:e=>(0,gK.freeze)({kind:"DefaultValueNode",defaultValue:e})});function y2(e){if(yK.includes(e))return e;throw Error(`invalid OnModifyForeignAction ${e}`)}class y5{#W;constructor(e){this.#W=e}autoIncrement(){return new y5(yZ.cloneWith(this.#W,{autoIncrement:!0}))}identity(){return new y5(yZ.cloneWith(this.#W,{identity:!0}))}primaryKey(){return new y5(yZ.cloneWith(this.#W,{primaryKey:!0}))}references(e){let t=(0,yY.parseStringReference)(e);if(!t.table||yG.SelectAllNode.is(t.column))throw Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new y5(yZ.cloneWith(this.#W,{references:yQ.create(t.table,[t.column])}))}onDelete(e){if(!this.#W.references)throw Error("on delete constraint can only be added for foreign keys");return new y5(yZ.cloneWith(this.#W,{references:yQ.cloneWithOnDelete(this.#W.references,y2(e))}))}onUpdate(e){if(!this.#W.references)throw Error("on update constraint can only be added for foreign keys");return new y5(yZ.cloneWith(this.#W,{references:yQ.cloneWithOnUpdate(this.#W.references,y2(e))}))}unique(){return new y5(yZ.cloneWith(this.#W,{unique:!0}))}notNull(){return new y5(yZ.cloneWith(this.#W,{notNull:!0}))}unsigned(){return new y5(yZ.cloneWith(this.#W,{unsigned:!0}))}defaultTo(e){return new y5(yZ.cloneWith(this.#W,{defaultTo:y6.create(y1(e))}))}check(e){return new y5(yZ.cloneWith(this.#W,{check:yW.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new y5(yZ.cloneWith(this.#W,{generated:y4.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new y5(yZ.cloneWith(this.#W,{generated:y4.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new y5(yZ.cloneWith(this.#W,{generated:y4.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#W.generated)throw Error("stored() can only be called after generatedAlwaysAs");return new y5(yZ.cloneWith(this.#W,{generated:y4.cloneWith(this.#W.generated,{stored:!0})}))}modifyFront(e){return new y5(yZ.cloneWithFrontModifier(this.#W,e.toOperationNode()))}nullsNotDistinct(){return new y5(yZ.cloneWith(this.#W,{nullsNotDistinct:!0}))}ifNotExists(){return new y5(yZ.cloneWith(this.#W,{ifNotExists:!0}))}modifyEnd(e){return new y5(yZ.cloneWithEndModifier(this.#W,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#W}}let y3=(0,gK.freeze)({is:e=>"ModifyColumnNode"===e.kind,create:e=>(0,gK.freeze)({kind:"ModifyColumnNode",column:e})});var y8=e.i(70366);let y9=(0,gK.freeze)({is:e=>"ForeignKeyConstraintNode"===e.kind,create:(e,t,r,i)=>(0,gK.freeze)({kind:"ForeignKeyConstraintNode",columns:e,references:yQ.create(t,r),name:i?gZ.IdentifierNode.create(i):void 0}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})});class y7{#W;constructor(e){this.#W=e}onDelete(e){return new y7(y9.cloneWith(this.#W,{onDelete:y2(e)}))}onUpdate(e){return new y7(y9.cloneWith(this.#W,{onUpdate:y2(e)}))}deferrable(){return new y7(y9.cloneWith(this.#W,{deferrable:!0}))}notDeferrable(){return new y7(y9.cloneWith(this.#W,{deferrable:!1}))}initiallyDeferred(){return new y7(y9.cloneWith(this.#W,{initiallyDeferred:!0}))}initiallyImmediate(){return new y7(y9.cloneWith(this.#W,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#W}}let ve=(0,gK.freeze)({is:e=>"AddConstraintNode"===e.kind,create:e=>(0,gK.freeze)({kind:"AddConstraintNode",constraint:e})}),vt=(0,gK.freeze)({is:e=>"UniqueConstraintNode"===e.kind,create:(e,t,r)=>(0,gK.freeze)({kind:"UniqueConstraintNode",columns:(0,gK.freeze)(e.map(yF.ColumnNode.create)),name:t?gZ.IdentifierNode.create(t):void 0,nullsNotDistinct:r}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})}),vr=(0,gK.freeze)({is:e=>"DropConstraintNode"===e.kind,create:e=>(0,gK.freeze)({kind:"DropConstraintNode",constraintName:gZ.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})}),vi=(0,gK.freeze)({is:e=>"AlterColumnNode"===e.kind,create:(e,t,r)=>(0,gK.freeze)({kind:"AlterColumnNode",column:yF.ColumnNode.create(e),[t]:r})});class vn{#K;constructor(e){this.#K=e}setDataType(e){return new va(vi.create(this.#K,"dataType",(0,y8.parseDataTypeExpression)(e)))}setDefault(e){return new va(vi.create(this.#K,"setDefault",y1(e)))}dropDefault(){return new va(vi.create(this.#K,"dropDefault",!0))}setNotNull(){return new va(vi.create(this.#K,"setNotNull",!0))}dropNotNull(){return new va(vi.create(this.#K,"dropNotNull",!0))}$call(e){return e(this)}}class va{#Q;constructor(e){this.#Q=e}toOperationNode(){return this.#Q}}class vo{#G;constructor(e){this.#G=(0,gK.freeze)(e)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class vs{#G;constructor(e){this.#G=(0,gK.freeze)(e)}onDelete(e){return new vs({...this.#G,constraintBuilder:this.#G.constraintBuilder.onDelete(e)})}onUpdate(e){return new vs({...this.#G,constraintBuilder:this.#G.constraintBuilder.onUpdate(e)})}deferrable(){return new vs({...this.#G,constraintBuilder:this.#G.constraintBuilder.deferrable()})}notDeferrable(){return new vs({...this.#G,constraintBuilder:this.#G.constraintBuilder.notDeferrable()})}initiallyDeferred(){return new vs({...this.#G,constraintBuilder:this.#G.constraintBuilder.initiallyDeferred()})}initiallyImmediate(){return new vs({...this.#G,constraintBuilder:this.#G.constraintBuilder.initiallyImmediate()})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(yN.cloneWithTableProps(this.#G.node,{addConstraint:ve.create(this.#G.constraintBuilder.toOperationNode())}),this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class vl{#G;constructor(e){this.#G=(0,gK.freeze)(e)}ifExists(){return new vl({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{dropConstraint:vr.cloneWith(this.#G.node.dropConstraint,{ifExists:!0})})})}cascade(){return new vl({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{dropConstraint:vr.cloneWith(this.#G.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new vl({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{dropConstraint:vr.cloneWith(this.#G.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}let vu=(0,gK.freeze)({is:e=>"PrimaryKeyConstraintNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"PrimaryKeyConstraintNode",columns:(0,gK.freeze)(e.map(yF.ColumnNode.create)),name:t?gZ.IdentifierNode.create(t):void 0}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})}),vc=(0,gK.freeze)({is:e=>"AddIndexNode"===e.kind,create:e=>(0,gK.freeze)({kind:"AddIndexNode",name:gZ.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,gK.freeze)({...e,columns:[...e.columns||[],...t]})});class vd{#G;constructor(e){this.#G=(0,gK.freeze)(e)}unique(){return new vd({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addIndex:vc.cloneWith(this.#G.node.addIndex,{unique:!0})})})}column(e){return new vd({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addIndex:vc.cloneWithColumns(this.#G.node.addIndex,[(0,yY.parseOrderedColumnName)(e)])})})}columns(e){return new vd({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addIndex:vc.cloneWithColumns(this.#G.node.addIndex,e.map(yY.parseOrderedColumnName))})})}expression(e){return new vd({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addIndex:vc.cloneWithColumns(this.#G.node.addIndex,[e.toOperationNode()])})})}using(e){return new vd({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addIndex:vc.cloneWith(this.#G.node.addIndex,{using:gB.RawNode.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class vp{#W;constructor(e){this.#W=e}nullsNotDistinct(){return new vp(vt.cloneWith(this.#W,{nullsNotDistinct:!0}))}deferrable(){return new vp(vt.cloneWith(this.#W,{deferrable:!0}))}notDeferrable(){return new vp(vt.cloneWith(this.#W,{deferrable:!1}))}initiallyDeferred(){return new vp(vt.cloneWith(this.#W,{initiallyDeferred:!0}))}initiallyImmediate(){return new vp(vt.cloneWith(this.#W,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#W}}class vf{#W;constructor(e){this.#W=e}deferrable(){return new vf(vu.cloneWith(this.#W,{deferrable:!0}))}notDeferrable(){return new vf(vu.cloneWith(this.#W,{deferrable:!1}))}initiallyDeferred(){return new vf(vu.cloneWith(this.#W,{initiallyDeferred:!0}))}initiallyImmediate(){return new vf(vu.cloneWith(this.#W,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#W}}class vm{#W;constructor(e){this.#W=e}$call(e){return e(this)}toOperationNode(){return this.#W}}let vh=(0,gK.freeze)({is:e=>"RenameConstraintNode"===e.kind,create:(e,t)=>(0,gK.freeze)({kind:"RenameConstraintNode",oldName:gZ.IdentifierNode.create(e),newName:gZ.IdentifierNode.create(t)})});class vg{#G;constructor(e){this.#G=(0,gK.freeze)(e)}renameTo(e){return new vo({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{renameTo:(0,yV.parseTable)(e)})})}setSchema(e){return new vo({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{setSchema:gZ.IdentifierNode.create(e)})})}alterColumn(e,t){let r=t(new vn(e));return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,r.toOperationNode())})}dropColumn(e){return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,yB.create(e))})}renameColumn(e,t){return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,yH.create(e,t))})}addColumn(e,t,r=gK.noop){let i=r(new y5(yZ.create(e,(0,y8.parseDataTypeExpression)(t))));return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,yJ.create(i.toOperationNode()))})}modifyColumn(e,t,r=gK.noop){let i=r(new y5(yZ.create(e,(0,y8.parseDataTypeExpression)(t))));return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,y3.create(i.toOperationNode()))})}addUniqueConstraint(e,t,r=gK.noop){let i=r(new vp(vt.create(t,e)));return new vo({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addConstraint:ve.create(i.toOperationNode())})})}addCheckConstraint(e,t,r=gK.noop){let i=r(new vm(yW.create(t.toOperationNode(),e)));return new vo({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addConstraint:ve.create(i.toOperationNode())})})}addForeignKeyConstraint(e,t,r,i,n=gK.noop){let a=n(new y7(y9.create(t.map(yF.ColumnNode.create),(0,yV.parseTable)(r),i.map(yF.ColumnNode.create),e)));return new vs({...this.#G,constraintBuilder:a})}addPrimaryKeyConstraint(e,t,r=gK.noop){let i=r(new vf(vu.create(t,e)));return new vo({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addConstraint:ve.create(i.toOperationNode())})})}dropConstraint(e){return new vl({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{dropConstraint:vr.create(e)})})}renameConstraint(e,t){return new vl({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{renameConstraint:vh.create(e,t)})})}addIndex(e){return new vd({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{addIndex:vc.create(e)})})}dropIndex(e){return new vo({...this.#G,node:yN.cloneWithTableProps(this.#G.node,{dropIndex:yL.create(e)})})}$call(e){return e(this)}}class vy{#G;constructor(e){this.#G=(0,gK.freeze)(e)}alterColumn(e,t){let r=t(new vn(e));return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,r.toOperationNode())})}dropColumn(e){return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,yB.create(e))})}renameColumn(e,t){return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,yH.create(e,t))})}addColumn(e,t,r=gK.noop){let i=r(new y5(yZ.create(e,(0,y8.parseDataTypeExpression)(t))));return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,yJ.create(i.toOperationNode()))})}modifyColumn(e,t,r=gK.noop){let i=r(new y5(yZ.create(e,(0,y8.parseDataTypeExpression)(t))));return new vy({...this.#G,node:yN.cloneWithColumnAlteration(this.#G.node,y3.create(i.toOperationNode()))})}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}var vv=e.i(84951),vb=e.i(9559),vw=e.i(44952),v_=e.i(53414);class vx extends vw.OperationNodeTransformer{transformPrimitiveValueList(e){return v_.ValueListNode.create(e.values.map(y0.ValueNode.createImmediate))}transformValue(e){return y0.ValueNode.createImmediate(e.value)}}class vk{#G;constructor(e){this.#G=(0,gK.freeze)(e)}ifNotExists(){return new vk({...this.#G,node:yU.cloneWith(this.#G.node,{ifNotExists:!0})})}unique(){return new vk({...this.#G,node:yU.cloneWith(this.#G.node,{unique:!0})})}nullsNotDistinct(){return new vk({...this.#G,node:yU.cloneWith(this.#G.node,{nullsNotDistinct:!0})})}on(e){return new vk({...this.#G,node:yU.cloneWith(this.#G.node,{table:(0,yV.parseTable)(e)})})}column(e){return new vk({...this.#G,node:yU.cloneWithColumns(this.#G.node,[(0,yY.parseOrderedColumnName)(e)])})}columns(e){return new vk({...this.#G,node:yU.cloneWithColumns(this.#G.node,e.map(yY.parseOrderedColumnName))})}expression(e){return new vk({...this.#G,node:yU.cloneWithColumns(this.#G.node,[e.toOperationNode()])})}using(e){return new vk({...this.#G,node:yU.cloneWith(this.#G.node,{using:gB.RawNode.createWithSql(e)})})}where(...e){let t=new vx;return new vk({...this.#G,node:vb.QueryNode.cloneWithWhere(this.#G.node,t.transformNode((0,vv.parseValueBinaryOperationOrExpression)(e),this.#G.queryId))})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class vS{#G;constructor(e){this.#G=(0,gK.freeze)(e)}ifNotExists(){return new vS({...this.#G,node:yC.cloneWith(this.#G.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}var vO=e.i(90222);class vE{#G;constructor(e){this.#G=(0,gK.freeze)(e)}temporary(){return new vE({...this.#G,node:yD.CreateTableNode.cloneWith(this.#G.node,{temporary:!0})})}onCommit(e){return new vE({...this.#G,node:yD.CreateTableNode.cloneWith(this.#G.node,{onCommit:function(e){if(yD.ON_COMMIT_ACTIONS.includes(e))return e;throw Error(`invalid OnCommitAction ${e}`)}(e)})})}ifNotExists(){return new vE({...this.#G,node:yD.CreateTableNode.cloneWith(this.#G.node,{ifNotExists:!0})})}addColumn(e,t,r=gK.noop){let i=r(new y5(yZ.create(e,(0,y8.parseDataTypeExpression)(t))));return new vE({...this.#G,node:yD.CreateTableNode.cloneWithColumn(this.#G.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,t,r=gK.noop){let i=r(new vf(vu.create(t,e)));return new vE({...this.#G,node:yD.CreateTableNode.cloneWithConstraint(this.#G.node,i.toOperationNode())})}addUniqueConstraint(e,t,r=gK.noop){let i=r(new vp(vt.create(t,e)));return new vE({...this.#G,node:yD.CreateTableNode.cloneWithConstraint(this.#G.node,i.toOperationNode())})}addCheckConstraint(e,t,r=gK.noop){let i=r(new vm(yW.create(t.toOperationNode(),e)));return new vE({...this.#G,node:yD.CreateTableNode.cloneWithConstraint(this.#G.node,i.toOperationNode())})}addForeignKeyConstraint(e,t,r,i,n=gK.noop){let a=n(new y7(y9.create(t.map(yF.ColumnNode.create),(0,yV.parseTable)(r),i.map(yF.ColumnNode.create),e)));return new vE({...this.#G,node:yD.CreateTableNode.cloneWithConstraint(this.#G.node,a.toOperationNode())})}modifyFront(e){return new vE({...this.#G,node:yD.CreateTableNode.cloneWithFrontModifier(this.#G.node,e.toOperationNode())})}modifyEnd(e){return new vE({...this.#G,node:yD.CreateTableNode.cloneWithEndModifier(this.#G.node,e.toOperationNode())})}as(e){return new vE({...this.#G,node:yD.CreateTableNode.cloneWith(this.#G.node,{selectQuery:(0,vO.parseExpression)(e)})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class vI{#G;constructor(e){this.#G=(0,gK.freeze)(e)}on(e){return new vI({...this.#G,node:yL.cloneWith(this.#G.node,{table:(0,yV.parseTable)(e)})})}ifExists(){return new vI({...this.#G,node:yL.cloneWith(this.#G.node,{ifExists:!0})})}cascade(){return new vI({...this.#G,node:yL.cloneWith(this.#G.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class vT{#G;constructor(e){this.#G=(0,gK.freeze)(e)}ifExists(){return new vT({...this.#G,node:yM.cloneWith(this.#G.node,{ifExists:!0})})}cascade(){return new vT({...this.#G,node:yM.cloneWith(this.#G.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class v${#G;constructor(e){this.#G=(0,gK.freeze)(e)}ifExists(){return new v$({...this.#G,node:yq.cloneWith(this.#G.node,{ifExists:!0})})}cascade(){return new v$({...this.#G,node:yq.cloneWith(this.#G.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}var vA=e.i(45213),vP=e.i(42339);class vj{#Y=new vx;transformQuery(e){return this.#Y.transformNode(e.node,e.queryId)}transformResult(e){return Promise.resolve(e.result)}}class vR{#G;constructor(e){this.#G=(0,gK.freeze)(e)}temporary(){return new vR({...this.#G,node:vP.CreateViewNode.cloneWith(this.#G.node,{temporary:!0})})}materialized(){return new vR({...this.#G,node:vP.CreateViewNode.cloneWith(this.#G.node,{materialized:!0})})}ifNotExists(){return new vR({...this.#G,node:vP.CreateViewNode.cloneWith(this.#G.node,{ifNotExists:!0})})}orReplace(){return new vR({...this.#G,node:vP.CreateViewNode.cloneWith(this.#G.node,{orReplace:!0})})}columns(e){return new vR({...this.#G,node:vP.CreateViewNode.cloneWith(this.#G.node,{columns:e.map(yY.parseColumnName)})})}as(e){let t=e.withPlugin(new vj).toOperationNode();return new vR({...this.#G,node:vP.CreateViewNode.cloneWith(this.#G.node,{as:t})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}let vN=(0,gK.freeze)({is:e=>"DropViewNode"===e.kind,create:e=>(0,gK.freeze)({kind:"DropViewNode",name:yz.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})});class vU{#G;constructor(e){this.#G=(0,gK.freeze)(e)}materialized(){return new vU({...this.#G,node:vN.cloneWith(this.#G.node,{materialized:!0})})}ifExists(){return new vU({...this.#G,node:vN.cloneWith(this.#G.node,{ifExists:!0})})}cascade(){return new vU({...this.#G,node:vN.cloneWith(this.#G.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}let vC=(0,gK.freeze)({is:e=>"CreateTypeNode"===e.kind,create:e=>(0,gK.freeze)({kind:"CreateTypeNode",name:e}),cloneWithEnum:(e,t)=>(0,gK.freeze)({...e,enum:v_.ValueListNode.create(t.map(y0.ValueNode.createImmediate))})});class vD{#G;constructor(e){this.#G=(0,gK.freeze)(e)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}asEnum(e){return new vD({...this.#G,node:vC.cloneWithEnum(this.#G.node,e)})}$call(e){return e(this)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}let vz=(0,gK.freeze)({is:e=>"DropTypeNode"===e.kind,create:e=>(0,gK.freeze)({kind:"DropTypeNode",name:e}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})});class vL{#G;constructor(e){this.#G=(0,gK.freeze)(e)}ifExists(){return new vL({...this.#G,node:vz.cloneWith(this.#G.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}function vM(e){if(!e.includes("."))return yz.SchemableIdentifierNode.create(e);{let t=e.split(".").map(vq);if(2===t.length)return yz.SchemableIdentifierNode.createWithSchema(t[0],t[1]);throw Error(`invalid schemable identifier ${e}`)}}function vq(e){return e.trim()}let vV=(0,gK.freeze)({is:e=>"RefreshMaterializedViewNode"===e.kind,create:e=>(0,gK.freeze)({kind:"RefreshMaterializedViewNode",name:yz.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,gK.freeze)({...e,...t})});class vJ{#G;constructor(e){this.#G=(0,gK.freeze)(e)}concurrently(){return new vJ({...this.#G,node:vV.cloneWith(this.#G.node,{concurrently:!0,withNoData:!1})})}withData(){return new vJ({...this.#G,node:vV.cloneWith(this.#G.node,{withNoData:!1})})}withNoData(){return new vJ({...this.#G,node:vV.cloneWith(this.#G.node,{withNoData:!0,concurrently:!1})})}$call(e){return e(this)}toOperationNode(){return this.#G.executor.transformQuery(this.#G.node,this.#G.queryId)}compile(){return this.#G.executor.compileQuery(this.toOperationNode(),this.#G.queryId)}async execute(){await this.#G.executor.executeQuery(this.compile())}}class vF{#X;constructor(e){this.#X=e}createTable(e){return new vE({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:yD.CreateTableNode.create((0,yV.parseTable)(e))})}dropTable(e){return new v$({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:yq.create((0,yV.parseTable)(e))})}createIndex(e){return new vk({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:yU.create(e)})}dropIndex(e){return new vI({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:yL.create(e)})}createSchema(e){return new vS({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:yC.create(e)})}dropSchema(e){return new vT({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:yM.create(e)})}alterTable(e){return new vg({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:yN.create((0,yV.parseTable)(e))})}createView(e){return new vR({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:vP.CreateViewNode.create(e)})}refreshMaterializedView(e){return new vJ({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:vV.create(e)})}dropView(e){return new vU({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:vN.create(e)})}createType(e){return new vD({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:vC.create(vM(e))})}dropType(e){return new vL({queryId:(0,gQ.createQueryId)(),executor:this.#X,node:vz.create(vM(e))})}withPlugin(e){return new vF(this.#X.withPlugin(e))}withoutPlugins(){return new vF(this.#X.withoutPlugins())}withSchema(e){return new vF(this.#X.withPluginAtFront(new vA.WithSchemaPlugin(e)))}}var vZ=e.i(10912),vB=e.i(98035);class vH{ref(e){return new vZ.DynamicReferenceBuilder(e)}table(e){return new vB.DynamicTableBuilder(e)}}class vW{#ee;constructor(e){this.#ee=e}async provideConnection(e){let t=await this.#ee.acquireConnection();try{return await e(t)}finally{await this.#ee.releaseConnection(t)}}}var vK=e.i(54755),vQ=e.i(42686);class vG extends vQ.QueryExecutorBase{#et;#er;#ei;constructor(e,t,r,i=[]){super(i),this.#et=e,this.#er=t,this.#ei=r}get adapter(){return this.#er}compileQuery(e,t){return this.#et.compileQuery(e,t)}provideConnection(e){return this.#ei.provideConnection(e)}withPlugins(e){return new vG(this.#et,this.#er,this.#ei,[...this.plugins,...e])}withPlugin(e){return new vG(this.#et,this.#er,this.#ei,[...this.plugins,e])}withPluginAtFront(e){return new vG(this.#et,this.#er,this.#ei,[e,...this.plugins])}withConnectionProvider(e){return new vG(this.#et,this.#er,e,[...this.plugins])}withoutPlugins(){return new vG(this.#et,this.#er,this.#ei,[])}}function vY(){return"undefined"!=typeof performance&&(0,gK.isFunction)(performance.now)?performance.now():Date.now()}class vX{#ee;#en;#ea;#eo;#es;#I=new WeakSet;constructor(e,t){this.#eo=!1,this.#ee=e,this.#en=t}async init(){if(this.#es)throw Error("driver has already been destroyed");this.#ea||(this.#ea=this.#ee.init().then(()=>{this.#eo=!0}).catch(e=>(this.#ea=void 0,Promise.reject(e)))),await this.#ea}async acquireConnection(){if(this.#es)throw Error("driver has already been destroyed");this.#eo||await this.init();let e=await this.#ee.acquireConnection();return this.#I.has(e)||(this.#el()&&this.#eu(e),this.#I.add(e)),e}async releaseConnection(e){await this.#ee.releaseConnection(e)}beginTransaction(e,t){return this.#ee.beginTransaction(e,t)}commitTransaction(e){return this.#ee.commitTransaction(e)}rollbackTransaction(e){return this.#ee.rollbackTransaction(e)}savepoint(e,t,r){if(this.#ee.savepoint)return this.#ee.savepoint(e,t,r);throw Error("The `savepoint` method is not supported by this driver")}rollbackToSavepoint(e,t,r){if(this.#ee.rollbackToSavepoint)return this.#ee.rollbackToSavepoint(e,t,r);throw Error("The `rollbackToSavepoint` method is not supported by this driver")}releaseSavepoint(e,t,r){if(this.#ee.releaseSavepoint)return this.#ee.releaseSavepoint(e,t,r);throw Error("The `releaseSavepoint` method is not supported by this driver")}async destroy(){this.#ea&&(await this.#ea,this.#es||(this.#es=this.#ee.destroy().catch(e=>(this.#es=void 0,Promise.reject(e)))),await this.#es)}#el(){return this.#en.isLevelEnabled("query")||this.#en.isLevelEnabled("error")}#eu(e){let t=e.executeQuery,r=e.streamQuery,i=this;e.executeQuery=async r=>{let n,a=vY();try{return await t.call(e,r)}catch(e){throw n=e,await i.#ec(e,r,a),e}finally{n||await i.#ed(r,a)}},e.streamQuery=async function*(t,n){let a,o=vY();try{for await(let i of r.call(e,t,n))yield i}catch(e){throw a=e,await i.#ec(e,t,o),e}finally{a||await i.#ed(t,o,!0)}}}async #ec(e,t,r){await this.#en.error(()=>({level:"error",error:e,query:t,queryDurationMillis:this.#ep(r)}))}async #ed(e,t,r=!1){await this.#en.query(()=>({level:"query",isStream:r,query:e,queryDurationMillis:this.#ep(t)}))}#ep(e){return vY()-e}}let v0=()=>{};class v1{#x;#ef;constructor(e){this.#x=e}async provideConnection(e){for(;this.#ef;)await this.#ef.catch(v0);return this.#ef=this.#em(e).finally(()=>{this.#ef=void 0}),this.#ef}async #em(e){return await e(this.#x)}}let v4=["read only","read write"],v6=["read uncommitted","read committed","repeatable read","serializable","snapshot"];function v2(e){if(e.accessMode&&!v4.includes(e.accessMode))throw Error(`invalid transaction access mode ${e.accessMode}`);if(e.isolationLevel&&!v6.includes(e.isolationLevel))throw Error(`invalid transaction isolation level ${e.isolationLevel}`)}var v5=e.i(4248);(0,gK.freeze)(["query","error"]);class v3{#eh;#eg;constructor(e){(0,gK.isFunction)(e)?(this.#eg=e,this.#eh=(0,gK.freeze)({query:!0,error:!0})):(this.#eg=v8,this.#eh=(0,gK.freeze)({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#eh[e]}async query(e){this.#eh.query&&await this.#eg(e())}async error(e){this.#eh.error&&await this.#eg(e())}}function v8(e){if("query"===e.level){let t=`kysely:query:${e.isStream?"stream:":""}`;console.log(`${t} ${e.query.sql}`),console.log(`${t} duration: ${e.queryDurationMillis.toFixed(1)}ms`)}else"error"===e.level&&(e.error instanceof Error?console.error(`kysely:error: ${e.error.stack??e.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:e.error,query:e.query.sql,queryDurationMillis:e.queryDurationMillis})}`))}var v9=e.i(31628),v7=e.i(47638),be=e.i(87728),bt=e.i(51701);Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");class br extends vK.QueryCreator{#G;constructor(e){let t,r;if(function(e){return(0,gK.isObject)(e)&&(0,gK.isObject)(e.config)&&(0,gK.isObject)(e.driver)&&(0,gK.isObject)(e.executor)&&(0,gK.isObject)(e.dialect)}(e))t={executor:e.executor},r={...e};else{let i=e.dialect,n=i.createDriver(),a=i.createQueryCompiler(),o=i.createAdapter(),s=new vX(n,new v3(e.log??[])),l=new vG(a,o,new vW(s),e.plugins??[]);t={executor:l},r={config:e,executor:l,dialect:i,driver:s}}super(t),this.#G=(0,gK.freeze)(r)}get schema(){return new vF(this.#G.executor)}get dynamic(){return new vH}get introspection(){return this.#G.dialect.createIntrospector(this.withoutPlugins())}case(e){return new v9.CaseBuilder({node:v7.CaseNode.create((0,gK.isUndefined)(e)?void 0:(0,vO.parseExpression)(e))})}get fn(){return(0,v5.createFunctionModule)()}transaction(){return new ba({...this.#G})}startTransaction(){return new bo({...this.#G})}connection(){return new bn({...this.#G})}withPlugin(e){return new br({...this.#G,executor:this.#G.executor.withPlugin(e)})}withoutPlugins(){return new br({...this.#G,executor:this.#G.executor.withoutPlugins()})}withSchema(e){return new br({...this.#G,executor:this.#G.executor.withPluginAtFront(new vA.WithSchemaPlugin(e))})}withTables(){return new br({...this.#G})}async destroy(){await this.#G.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#G.executor}executeQuery(e,t){void 0!==t&&(0,bt.logOnce)("Passing `queryId` in `db.executeQuery` is deprecated and will result in a compile-time error in the future.");let r=(0,gK.isObject)(e)&&(0,gK.isFunction)(e.compile)?e.compile():e;return this.getExecutor().executeQuery(r)}async [Symbol.asyncDispose](){await this.destroy()}}class bi extends br{#G;constructor(e){super(e),this.#G=e}get isTransaction(){return!0}transaction(){throw Error("calling the transaction method for a Transaction is not supported")}connection(){throw Error("calling the connection method for a Transaction is not supported")}async destroy(){throw Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new bi({...this.#G,executor:this.#G.executor.withPlugin(e)})}withoutPlugins(){return new bi({...this.#G,executor:this.#G.executor.withoutPlugins()})}withSchema(e){return new bi({...this.#G,executor:this.#G.executor.withPluginAtFront(new vA.WithSchemaPlugin(e))})}withTables(){return new bi({...this.#G})}}class bn{#G;constructor(e){this.#G=(0,gK.freeze)(e)}async execute(e){return this.#G.executor.provideConnection(async t=>{let r=this.#G.executor.withConnectionProvider(new v1(t)),i=new br({...this.#G,executor:r});return await e(i)})}}class ba{#G;constructor(e){this.#G=(0,gK.freeze)(e)}setAccessMode(e){return new ba({...this.#G,accessMode:e})}setIsolationLevel(e){return new ba({...this.#G,isolationLevel:e})}async execute(e){let{isolationLevel:t,accessMode:r,...i}=this.#G,n={isolationLevel:t,accessMode:r};return v2(n),this.#G.executor.provideConnection(async t=>{let r=this.#G.executor.withConnectionProvider(new v1(t)),a=new bi({...i,executor:r}),o=!1;try{await this.#G.driver.beginTransaction(t,n),o=!0;let r=await e(a);return await this.#G.driver.commitTransaction(t),r}catch(e){throw o&&await this.#G.driver.rollbackTransaction(t),e}})}}class bo{#G;constructor(e){this.#G=(0,gK.freeze)(e)}setAccessMode(e){return new bo({...this.#G,accessMode:e})}setIsolationLevel(e){return new bo({...this.#G,isolationLevel:e})}async execute(){let{isolationLevel:e,accessMode:t,...r}=this.#G,i={isolationLevel:e,accessMode:t};v2(i);let n=await (0,be.provideControlledConnection)(this.#G.executor);return await this.#G.driver.beginTransaction(n.connection,i),new bs({...r,connection:n,executor:this.#G.executor.withConnectionProvider(new v1(n.connection))})}}class bs extends bi{#G;#ey;#ev;constructor(e){let t={isCommitted:!1,isRolledBack:!1},{connection:r,...i}=e={...e,executor:new bc(e.executor,t)};super(i),this.#G=(0,gK.freeze)(e),this.#ev=t;let n=(0,gQ.createQueryId)();this.#ey=t=>e.executor.compileQuery(t,n)}get isCommitted(){return this.#ev.isCommitted}get isRolledBack(){return this.#ev.isRolledBack}commit(){return bu(this.#ev),new bl(async()=>{await this.#G.driver.commitTransaction(this.#G.connection.connection),this.#ev.isCommitted=!0,this.#G.connection.release()})}rollback(){return bu(this.#ev),new bl(async()=>{await this.#G.driver.rollbackTransaction(this.#G.connection.connection),this.#ev.isRolledBack=!0,this.#G.connection.release()})}savepoint(e){return bu(this.#ev),new bl(async()=>(await this.#G.driver.savepoint?.(this.#G.connection.connection,e,this.#ey),new bs({...this.#G})))}rollbackToSavepoint(e){return bu(this.#ev),new bl(async()=>(await this.#G.driver.rollbackToSavepoint?.(this.#G.connection.connection,e,this.#ey),new bs({...this.#G})))}releaseSavepoint(e){return bu(this.#ev),new bl(async()=>(await this.#G.driver.releaseSavepoint?.(this.#G.connection.connection,e,this.#ey),new bs({...this.#G})))}withPlugin(e){return new bs({...this.#G,executor:this.#G.executor.withPlugin(e)})}withoutPlugins(){return new bs({...this.#G,executor:this.#G.executor.withoutPlugins()})}withSchema(e){return new bs({...this.#G,executor:this.#G.executor.withPluginAtFront(new vA.WithSchemaPlugin(e))})}withTables(){return new bs({...this.#G})}}class bl{#eb;constructor(e){this.#eb=e}async execute(){return await this.#eb()}}function bu(e){if(e.isCommitted)throw Error("Transaction is already committed");if(e.isRolledBack)throw Error("Transaction is already rolled back")}class bc{#X;#ev;constructor(e,t){e instanceof bc?this.#X=e.#X:this.#X=e,this.#ev=t}get adapter(){return this.#X.adapter}get plugins(){return this.#X.plugins}transformQuery(e,t){return this.#X.transformQuery(e,t)}compileQuery(e,t){return this.#X.compileQuery(e,t)}provideConnection(e){return this.#X.provideConnection(e)}executeQuery(e){return bu(this.#ev),this.#X.executeQuery(e)}stream(e,t){return bu(this.#ev),this.#X.stream(e,t)}withConnectionProvider(e){return new bc(this.#X.withConnectionProvider(e),this.#ev)}withPlugin(e){return new bc(this.#X.withPlugin(e),this.#ev)}withPlugins(e){return new bc(this.#X.withPlugins(e),this.#ev)}withPluginAtFront(e){return new bc(this.#X.withPluginAtFront(e),this.#ev)}withoutPlugins(){return new bc(this.#X.withoutPlugins(),this.#ev)}}let bd=[],bp=-1,bf=({adapter:e,config:t})=>r=>{let i=Math.random().toString(36).substring(2,15),n={...t,supportsBooleans:t.supportsBooleans??!0,supportsDates:t.supportsDates??!0,supportsJSON:t.supportsJSON??!1,adapterName:t.adapterName??t.adapterId,supportsNumericIds:t.supportsNumericIds??!0,transaction:t.transaction??!1,disableTransformInput:t.disableTransformInput??!1,disableTransformOutput:t.disableTransformOutput??!1};if(r.advanced?.database?.useNumberId===!0&&!1===n.supportsNumericIds)throw Error(`[${n.adapterName}] Your database or database adapter does not support numeric ids. Please disable "useNumberId" in your config.`);let a=gJ(r),o=({field:e,model:t})=>{if("id"===e||"_id"===e)return"id";let r=s(t),i=a[r]?.fields[e];if(!i){let t=Object.entries(a[r].fields).find(([t,r])=>r.fieldName===e);t&&(i=t[1],e=t[0])}if(!i)throw c(`Field ${e} not found in model ${r}`),c("Schema:",a),Error(`Field ${e} not found in model ${r}`);return e},s=e=>{if(n.usePlural&&"s"===e.charAt(e.length-1)){let t=e.slice(0,-1),r=a[t]?t:void 0;if(r||(r=Object.entries(a).find(([e,r])=>r.modelName===t)?.[0]),r)return r}let t=a[e]?e:void 0;if(t||(t=Object.entries(a).find(([t,r])=>r.modelName===e)?.[0]),!t)throw c(`Model "${e}" not found in schema`),c("Schema:",a),Error(`Model "${e}" not found in schema`);return t},l=e=>{let t=s(e),r=n&&n.usePlural;return a&&a[t]&&a[t].modelName!==e?r?`${a[t].modelName}s`:a[t].modelName:r?`${e}s`:e};function u({model:e,field:t}){let r=s(e),i=o({model:r,field:t});return a[r]?.fields[i]?.fieldName||i}let c=(...e)=>{if(!0===n.debugLogs||"object"==typeof n.debugLogs){if("object"==typeof n.debugLogs&&"isRunningAdapterTests"in n.debugLogs){n.debugLogs.isRunningAdapterTests&&(e.shift(),bd.push({instance:i,args:e}));return}if("object"!=typeof n.debugLogs||!n.debugLogs.logCondition||n.debugLogs.logCondition?.())if("object"==typeof e[0]&&"method"in e[0]){let t=e.shift().method;if("object"==typeof n.debugLogs){if("create"===t&&!n.debugLogs.create)return;else if("update"===t&&!n.debugLogs.update)return;else if("updateMany"===t&&!n.debugLogs.updateMany)return;else if("findOne"===t&&!n.debugLogs.findOne)return;else if("findMany"===t&&!n.debugLogs.findMany)return;else if("delete"===t&&!n.debugLogs.delete)return;else if("deleteMany"===t&&!n.debugLogs.deleteMany)return;else if("count"===t&&!n.debugLogs.count)return}pP.info(`[${n.adapterName}]`,...e)}else pP.info(`[${n.adapterName}]`,...e)}},d=({customModelName:e,forceAllowId:t})=>{let i=!n.disableIdGeneration&&!r.advanced?.database?.useNumberId&&!t,a=s(e??"id");return{type:r.advanced?.database?.useNumberId?"number":"string",required:!!i,...i?{defaultValue(){if(n.disableIdGeneration)return;let e=r.advanced?.database?.useNumberId,t=r.advanced?.database?.generateId;if(r.advanced?.generateId!==void 0&&(pP.warn("Your Better Auth config includes advanced.generateId which is deprecated. Please use advanced.database.generateId instead. This will be removed in future releases."),t=r.advanced?.generateId),!1!==t&&!e)return t?t({model:a}):n.customIdGenerator?n.customIdGenerator({model:a}):hV()}}:{}}},p=({model:e,field:t})=>{let r=s(e),i=o({field:t,model:r}),n=a[r].fields;return n.id=d({customModelName:r}),n[i]},f=async(e,t,i,o)=>{let s={},l=a[t].fields,u=n.mapKeysTransformInput??{};for(let c in n.disableIdGeneration||r.advanced?.database?.useNumberId||(l.id=d({customModelName:t,forceAllowId:o&&"id"in e})),l){let o=e[c],d=l[c],p=u[c]||l[c].fieldName||c;if(void 0===o&&(void 0===d.defaultValue&&!d.transform?.input&&!("update"===i&&d.onUpdate)||"update"===i&&!d.onUpdate))continue;let f=function(e,t,r){if("update"===r)return void 0===e&&void 0!==t.onUpdate?"function"==typeof t.onUpdate?t.onUpdate():t.onUpdate:e;return null==e&&void 0!==t.defaultValue?"function"==typeof t.defaultValue?t.defaultValue():t.defaultValue:e}(o,d,i);d.transform?.input&&(f=await d.transform.input(f)),d.references?.field==="id"&&r.advanced?.database?.useNumberId?f=Array.isArray(f)?f.map(e=>null!==e?Number(e):null):null!==f?Number(f):null:!1===n.supportsJSON&&"object"==typeof f&&"json"===d.type?f=JSON.stringify(f):!1===n.supportsDates&&f instanceof Date&&"date"===d.type?f=f.toISOString():!1===n.supportsBooleans&&"boolean"==typeof f&&(f=+!!f),n.customTransformInput&&(f=n.customTransformInput({data:f,action:i,field:p,fieldAttributes:d,model:t,schema:a,options:r})),void 0!==f&&(s[p]=f)}return s},m=async(e,t,i=[])=>{if(!e)return null;let o=n.mapKeysTransformOutput??{},s={},l=a[t].fields;for(let u in l[Object.entries(o).find(([e,t])=>"id"===t)?.[0]??"id"]={type:r.advanced?.database?.useNumberId?"number":"string"},l){if(i.length&&!i.includes(u))continue;let c=l[u];if(c){let l=c.fieldName||u,d=e[Object.entries(o).find(([e,t])=>t===l)?.[0]||l];c.transform?.output&&(d=await c.transform.output(d));let p=o[u]||u;"id"===l||c.references?.field==="id"?null!=d&&(d=String(d)):!1===n.supportsJSON&&"string"==typeof d&&"json"===c.type?d=pj(d):!1===n.supportsDates&&"string"==typeof d&&"date"===c.type?d=new Date(d):!1===n.supportsBooleans&&"number"==typeof d&&"boolean"===c.type&&(d=1===d),n.customTransformOutput&&(d=n.customTransformOutput({data:d,field:p,fieldAttributes:c,select:i,model:t,schema:a,options:r})),s[p]=d}}return s},h=({model:e,where:t})=>{if(!t)return;let i=n.mapKeysTransformInput??{};return t.map(t=>{let{field:n,value:a,operator:l="eq",connector:c="AND"}=t;if("in"===l&&!Array.isArray(a))throw Error("Value must be an array");let d=s(e),f=o({field:n,model:e}),m=i[f]||u({field:f,model:d}),h=p({field:f,model:d});return("id"===f||h.references?.field==="id")&&r.advanced?.database?.useNumberId?Array.isArray(a)?{operator:l,connector:c,field:m,value:a.map(Number)}:{operator:l,connector:c,field:m,value:Number(a)}:{operator:l,connector:c,field:m,value:a}})},g=e({options:r,schema:a,debugLog:c,getFieldName:u,getModelName:l,getDefaultModelName:s,getDefaultFieldName:o,getFieldAttributes:p,transformInput:f,transformOutput:m,transformWhereClause:h}),y=null,v={transaction:async e=>{if(!y)if(n.transaction)pP.debug(`[${n.adapterName}] - Using provided transaction implementation.`),y=n.transaction;else"object"==typeof n.debugLogs&&"isRunningAdapterTests"in n.debugLogs&&n.debugLogs.isRunningAdapterTests||pP.warn(`[${n.adapterName}] - Transactions are not supported. Executing operations sequentially.`),y=e=>e(v);return y(e)},create:async({data:e,model:t,select:r,forceAllowId:i=!1})=>{let a=++bp,o=l(t);if(t=s(t),"id"in e&&!i){pP.warn(`[${n.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \`forceAllowId\` parameter. The id will be ignored.`);let t=Error();console.log(t.stack?.split("\n").filter((e,t)=>1!==t).join("\n").replace("Error:","Create method with `id` being called at:")),e.id=void 0}c({method:"create"},`${bm(a)} ${bh(1,4)}`,`${bg("create")} ${by("Unsafe Input")}:`,{model:o,data:e});let u=e;n.disableTransformInput||(u=await f(e,t,"create",i)),c({method:"create"},`${bm(a)} ${bh(2,4)}`,`${bg("create")} ${by("Parsed Input")}:`,{model:o,data:u});let d=await g.create({data:u,model:o});c({method:"create"},`${bm(a)} ${bh(3,4)}`,`${bg("create")} ${by("DB Result")}:`,{model:o,res:d});let p=d;return n.disableTransformOutput||(p=await m(d,t,r)),c({method:"create"},`${bm(a)} ${bh(4,4)}`,`${bg("create")} ${by("Parsed Result")}:`,{model:o,data:p}),p},update:async({model:e,where:t,update:r})=>{let i=++bp,a=l(e=s(e)),o=h({model:e,where:t});c({method:"update"},`${bm(i)} ${bh(1,4)}`,`${bg("update")} ${by("Unsafe Input")}:`,{model:a,data:r});let u=r;n.disableTransformInput||(u=await f(r,e,"update")),c({method:"update"},`${bm(i)} ${bh(2,4)}`,`${bg("update")} ${by("Parsed Input")}:`,{model:a,data:u});let d=await g.update({model:a,where:o,update:u});c({method:"update"},`${bm(i)} ${bh(3,4)}`,`${bg("update")} ${by("DB Result")}:`,{model:a,data:d});let p=d;return n.disableTransformOutput||(p=await m(d,e)),c({method:"update"},`${bm(i)} ${bh(4,4)}`,`${bg("update")} ${by("Parsed Result")}:`,{model:a,data:p}),p},updateMany:async({model:e,where:t,update:r})=>{let i=++bp,a=l(e),o=h({model:e,where:t});e=s(e),c({method:"updateMany"},`${bm(i)} ${bh(1,4)}`,`${bg("updateMany")} ${by("Unsafe Input")}:`,{model:a,data:r});let u=r;n.disableTransformInput||(u=await f(r,e,"update")),c({method:"updateMany"},`${bm(i)} ${bh(2,4)}`,`${bg("updateMany")} ${by("Parsed Input")}:`,{model:a,data:u});let d=await g.updateMany({model:a,where:o,update:u});return c({method:"updateMany"},`${bm(i)} ${bh(3,4)}`,`${bg("updateMany")} ${by("DB Result")}:`,{model:a,data:d}),c({method:"updateMany"},`${bm(i)} ${bh(4,4)}`,`${bg("updateMany")} ${by("Parsed Result")}:`,{model:a,data:d}),d},findOne:async({model:e,where:t,select:r})=>{let i=++bp,a=l(e),o=h({model:e,where:t});e=s(e),c({method:"findOne"},`${bm(i)} ${bh(1,3)}`,`${bg("findOne")}:`,{model:a,where:o,select:r});let u=await g.findOne({model:a,where:o,select:r});c({method:"findOne"},`${bm(i)} ${bh(2,3)}`,`${bg("findOne")} ${by("DB Result")}:`,{model:a,data:u});let d=u;return n.disableTransformOutput||(d=await m(u,e,r)),c({method:"findOne"},`${bm(i)} ${bh(3,3)}`,`${bg("findOne")} ${by("Parsed Result")}:`,{model:a,data:d}),d},findMany:async({model:e,where:t,limit:i,sortBy:a,offset:o})=>{let u=++bp,d=i??r.advanced?.database?.defaultFindManyLimit??100,p=l(e),f=h({model:e,where:t});e=s(e),c({method:"findMany"},`${bm(u)} ${bh(1,3)}`,`${bg("findMany")}:`,{model:p,where:f,limit:d,sortBy:a,offset:o});let y=await g.findMany({model:p,where:f,limit:d,sortBy:a,offset:o});c({method:"findMany"},`${bm(u)} ${bh(2,3)}`,`${bg("findMany")} ${by("DB Result")}:`,{model:p,data:y});let v=y;return n.disableTransformOutput||(v=await Promise.all(y.map(async t=>await m(t,e)))),c({method:"findMany"},`${bm(u)} ${bh(3,3)}`,`${bg("findMany")} ${by("Parsed Result")}:`,{model:p,data:v}),v},delete:async({model:e,where:t})=>{let r=++bp,i=l(e),n=h({model:e,where:t});e=s(e),c({method:"delete"},`${bm(r)} ${bh(1,2)}`,`${bg("delete")}:`,{model:i,where:n}),await g.delete({model:i,where:n}),c({method:"delete"},`${bm(r)} ${bh(2,2)}`,`${bg("delete")} ${by("DB Result")}:`,{model:i})},deleteMany:async({model:e,where:t})=>{let r=++bp,i=l(e),n=h({model:e,where:t});e=s(e),c({method:"deleteMany"},`${bm(r)} ${bh(1,2)}`,`${bg("deleteMany")} ${by("DeleteMany")}:`,{model:i,where:n});let a=await g.deleteMany({model:i,where:n});return c({method:"deleteMany"},`${bm(r)} ${bh(2,2)}`,`${bg("deleteMany")} ${by("DB Result")}:`,{model:i,data:a}),a},count:async({model:e,where:t})=>{let r=++bp,i=l(e),n=h({model:e,where:t});e=s(e),c({method:"count"},`${bm(r)} ${bh(1,2)}`,`${bg("count")}:`,{model:i,where:n});let a=await g.count({model:i,where:n});return c({method:"count"},`${bm(r)} ${bh(2,2)}`,`${bg("count")}:`,{model:i,data:a}),a},createSchema:g.createSchema?async(e,t)=>{let i=gJ(r);return r.secondaryStorage&&!r.session?.storeSessionInDatabase&&delete i.session,r.rateLimit&&"database"===r.rateLimit.storage&&(void 0===r.rateLimit.enabled||!0===r.rateLimit.enabled)&&(i.ratelimit={modelName:r.rateLimit.modelName??"ratelimit",fields:{key:{type:"string",unique:!0,required:!0,fieldName:r.rateLimit.fields?.key??"key"},count:{type:"number",required:!0,fieldName:r.rateLimit.fields?.count??"count"},lastRequest:{type:"number",required:!0,bigint:!0,defaultValue:()=>Date.now(),fieldName:r.rateLimit.fields?.lastRequest??"lastRequest"}}}),g.createSchema({file:t,tables:i})}:void 0,options:{adapterConfig:n,...g.options??{}},id:n.adapterId,...n.debugLogs?.isRunningAdapterTests?{adapterTestDebugLogs:{resetDebugLogs(){bd=bd.filter(e=>e.instance!==i)},printDebugLogs(){let e=`\u2500`.repeat(80),t=bd.filter(e=>e.instance===i);0!==t.length&&console.log(...t.reverse().map(e=>(e.args[0]=`
${e.args[0]}`,[...e.args,"\n"])).reduce((e,t)=>[...t,...e],[`
${e}`]))}}}:{}};return v};function bm(e){return`${pE.fg.magenta}#${e}${pE.reset}`}function bh(e,t){return`${pE.bg.black}${pE.fg.yellow}[${e}/${t}]${pE.reset}`}function bg(e){return`${pE.bright}${e}${pE.reset}`}function by(e){return`${pE.dim}(${e})${pE.reset}`}function bv(e){if(!e)return null;if("dialect"in e)return bv(e.dialect);if("createDriver"in e){if(e instanceof g9)return"sqlite";if(e instanceof yu)return"mysql";if(e instanceof yb)return"postgres";if(e instanceof yR)return"mssql"}return"aggregate"in e?"sqlite":"getConnection"in e?"mysql":"connect"in e?"postgres":"fileControl"in e||"open"in e&&"close"in e&&"prepare"in e?"sqlite":null}let bb=async t=>{let r,i=t.database;if(!i)return{kysely:null,databaseType:null,transaction:void 0};if("db"in i)return{kysely:i.db,databaseType:i.type,transaction:i.transaction};if("dialect"in i)return{kysely:new br({dialect:i.dialect}),databaseType:i.type,transaction:i.transaction};let n=bv(i);if("createDriver"in i&&(r=i),"aggregate"in i&&!("createSession"in i)&&(r=new g9({database:i})),"getConnection"in i&&(r=new yu(i)),"connect"in i&&(r=new yb({pool:i})),"fileControl"in i){let{BunSqliteDialect:t}=await e.A(57410);r=new t({database:i})}if("createSession"in i){let t;try{({DatabaseSync:t}=await import("node:sqlite"))}catch(e){if(null!==e&&"object"==typeof e&&"code"in e&&"ERR_UNKNOWN_BUILTIN_MODULE"!==e.code)throw e}if(t&&i instanceof t){let{NodeSqliteDialect:t}=await e.A(15716);r=new t({database:i})}}return{kysely:r?new br({dialect:r}):null,databaseType:n,transaction:void 0}},bw=(e,t)=>{let r=t.logger,i=t.options,n=i.secondaryStorage,a=i.session?.expiresIn||604800,{createWithHooks:o,updateWithHooks:s,updateManyWithHooks:l}=function(e,t){let r=t.hooks;return{createWithHooks:async function(t,i,n,a,o){let s=t;for(let e of r||[]){let t=e[i]?.create?.before;if(t){let e=await t(s,a);if(!1===e)return null;"object"==typeof e&&"data"in e&&(s={...s,...e.data})}}let l=n?await n.fn(s):null,u=!n||n.executeMainFn?await (o||e).create({model:i,data:s,forceAllowId:!0}):l;for(let e of r||[]){let t=e[i]?.create?.after;t&&await t(u,a)}return u},updateWithHooks:async function(t,i,n,a,o,s){let l=t;for(let e of r||[]){let r=e[n]?.update?.before;if(r){let e=await r(t,o);if(!1===e)return null;l="object"==typeof e?e.data:e}}let u=a?await a.fn(l):null,c=!a||a.executeMainFn?await (s||e).update({model:n,update:l,where:i}):u;for(let e of r||[]){let t=e[n]?.update?.after;t&&await t(c,o)}return c},updateManyWithHooks:async function(t,i,n,a,o,s){let l=t;for(let e of r||[]){let r=e[n]?.update?.before;if(r){let e=await r(t,o);if(!1===e)return null;l="object"==typeof e?e.data:e}}let u=a?await a.fn(l):null,c=!a||a.executeMainFn?await (s||e).updateMany({model:n,update:l,where:i}):u;for(let e of r||[]){let t=e[n]?.update?.after;t&&await t(c,o)}return c}}}(e,t);async function u(e){if(!n)return;let t=await n.get(`active-sessions-${e.id}`);if(!t)return;let r=Date.now(),i=(pj(t)||[]).filter(e=>e.expiresAt>r);await Promise.all(i.map(async({token:t})=>{let i=await n.get(t);if(!i)return;let a=pj(i);if(!a)return;let o=Math.max(Math.floor(new Date(a.session.expiresAt).getTime()-r)/1e3,0);await n.set(t,JSON.stringify({session:a.session,user:e}),Math.floor(o))}))}return{createOAuthUser:async(t,r,i)=>e.transaction(async e=>{let n=await o({createdAt:new Date,updatedAt:new Date,...t},"user",void 0,i,e),a=await o({...r,userId:n.id,createdAt:new Date,updatedAt:new Date},"account",void 0,i,e);return{user:n,account:a}}),createUser:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e,email:e.email?.toLowerCase()},"user",void 0,t,r),createAccount:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),listSessions:async(r,i)=>{if(n){let e=await n.get(`active-sessions-${r}`);if(!e)return[];let i=pj(e)||[],a=Date.now(),o=i.filter(e=>e.expiresAt>a),s=[];for(let e of o){let r=await n.get(e.token);if(r){let e=pj(r);if(!e)return[];let i=gD(t.options,{...e.session,expiresAt:new Date(e.session.expiresAt)});s.push(i)}}return s}return await (i||e).findMany({model:"session",where:[{field:"userId",value:r}]})},listUsers:async(t,r,i,n,a)=>await (a||e).findMany({model:"user",limit:t,offset:r,sortBy:i,where:n}),countTotalUsers:async(t,r)=>{let i=await (r||e).count({model:"user",where:t});return"string"==typeof i?parseInt(i):i},deleteUser:async(t,r)=>{n&&await n.delete(`active-sessions-${t}`),(!n||i.session?.storeSessionInDatabase)&&await (r||e).deleteMany({model:"session",where:[{field:"userId",value:t}]}),await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]}),await (r||e).delete({model:"user",where:[{field:"id",value:t}]})},createSession:async(t,r,s,l,u,c)=>{let d=r.headers||r.request?.headers,{id:p,...f}=l||{},m={ipAddress:(r.request||r.headers)&&gL(r.request||r.headers,r.context.options)||"",userAgent:d?.get("user-agent")||"",...f,expiresAt:s?pn(86400,"sec"):pn(a,"sec"),userId:t,token:hV(32),createdAt:new Date,updatedAt:new Date,...u?f:{}};return await o(m,"session",n?{fn:async r=>{let i=await n.get(`active-sessions-${t}`),a=[],o=Date.now();i&&(a=(a=pj(i)||[]).filter(e=>e.expiresAt>o));let s=a.sort((e,t)=>e.expiresAt-t.expiresAt),l=s.at(-1)?.expiresAt;s.push({token:m.token,expiresAt:m.expiresAt.getTime()}),(!l||l<m.expiresAt.getTime())&&(l=m.expiresAt.getTime());let u=Math.max(Math.floor((l-o)/1e3),0);u>0&&await n.set(`active-sessions-${t}`,JSON.stringify(s),u);let c=await e.findOne({model:"user",where:[{field:"id",value:t}]}),d=Math.max(Math.floor((m.expiresAt.getTime()-o)/1e3),0);return d>0&&await n.set(m.token,JSON.stringify({session:r,user:c}),d),r},executeMainFn:i.session?.storeSessionInDatabase}:void 0,r,c)},findSession:async(r,a)=>{if(n){let e=await n.get(r);if(!e&&!i.session?.storeSessionInDatabase)return null;if(e){let r=pj(e);return r?{session:gD(t.options,{...r.session,expiresAt:new Date(r.session.expiresAt),createdAt:new Date(r.session.createdAt),updatedAt:new Date(r.session.updatedAt)}),user:gC(t.options,{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)})}:null}}let o=await (a||e).findOne({model:"session",where:[{value:r,field:"token"}]});if(!o)return null;let s=await (a||e).findOne({model:"user",where:[{value:o.userId,field:"id"}]});return s?{session:gD(t.options,o),user:gC(t.options,s)}:null},findSessions:async(t,r)=>{if(n){let e=[];for(let r of t){let t=await n.get(r);if(t){let r=pj(t);if(!r)return[];let i={session:{...r.session,expiresAt:new Date(r.session.expiresAt)},user:{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)}};e.push(i)}}return e}let i=await (r||e).findMany({model:"session",where:[{field:"token",value:t,operator:"in"}]}),a=i.map(e=>e.userId);if(!a.length)return[];let o=await (r||e).findMany({model:"user",where:[{field:"id",value:a,operator:"in"}]});return i.map(e=>{let t=o.find(t=>t.id===e.userId);return t?{session:e,user:t}:null})},updateSession:async(e,t,r,a)=>await s(t,[{field:"token",value:e}],"session",n?{async fn(t){let r=await n.get(e);if(!r)return null;{let e=pj(r);return e?{...e.session,...t}:null}},executeMainFn:i.session?.storeSessionInDatabase}:void 0,r,a),deleteSession:async(a,o)=>{if(n){let e=await n.get(a);if(e){let{session:t}=pj(e)??{};if(!t)return void r.error("Session not found in secondary storage");let i=t.userId,o=await n.get(`active-sessions-${i}`);if(o){let e=pj(o)||[],t=Date.now(),r=e.filter(e=>e.expiresAt>t&&e.token!==a),s=r.sort((e,t)=>e.expiresAt-t.expiresAt),l=s.at(-1)?.expiresAt;r.length>0&&l&&l>Date.now()?await n.set(`active-sessions-${i}`,JSON.stringify(r),Math.floor((l-t)/1e3)):await n.delete(`active-sessions-${i}`)}else r.error("Active sessions list not found in secondary storage")}if(await n.delete(a),!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (o||e).delete({model:"session",where:[{field:"token",value:a}]})},deleteAccounts:async(t,r)=>{await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]})},deleteAccount:async(t,r)=>{await (r||e).delete({model:"account",where:[{field:"id",value:t}]})},deleteSessions:async(r,a)=>{if(n){if("string"==typeof r){let e=await n.get(`active-sessions-${r}`),t=e?pj(e):[];if(!t)return;for(let e of t)await n.delete(e.token)}else for(let e of r)await n.get(e)&&await n.delete(e);if(!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (a||e).deleteMany({model:"session",where:[{field:Array.isArray(r)?"token":"userId",value:r,operator:Array.isArray(r)?"in":void 0}]})},findOAuthUser:async(t,r,i,n)=>{let a=await (n||e).findMany({model:"account",where:[{value:r,field:"accountId"}]}).then(e=>e.find(e=>e.providerId===i));if(a){let r=await (n||e).findOne({model:"user",where:[{value:a.userId,field:"id"}]});if(r)return{user:r,accounts:[a]};{let r=await (n||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});return r?{user:r,accounts:[a]}:null}}{let r=await (n||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!r)return null;{let t=await (n||e).findMany({model:"account",where:[{value:r.id,field:"userId"}]});return{user:r,accounts:t||[]}}}},findUserByEmail:async(t,r,i)=>{let n=await (i||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!n)return null;if(r?.includeAccounts){let t=await (i||e).findMany({model:"account",where:[{value:n.id,field:"userId"}]});return{user:n,accounts:t}}return{user:n,accounts:[]}},findUserById:async(t,r)=>await (r||e).findOne({model:"user",where:[{field:"id",value:t}]}),linkAccount:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),updateUser:async(e,t,r,i)=>{let n=await s(t,[{field:"id",value:e}],"user",void 0,r,i);return await u(n),await u(n),n},updateUserByEmail:async(e,t,r,i)=>{let n=await s(t,[{field:"email",value:e.toLowerCase()}],"user",void 0,r,i);return await u(n),await u(n),n},updatePassword:async(e,t,r,i)=>{await l({password:t},[{field:"userId",value:e},{field:"providerId",value:"credential"}],"account",void 0,r,i)},findAccounts:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),findAccount:async(t,r)=>await (r||e).findOne({model:"account",where:[{field:"accountId",value:t}]}),findAccountByProviderId:async(t,r,i)=>await (i||e).findOne({model:"account",where:[{field:"accountId",value:t},{field:"providerId",value:r}]}),findAccountByUserId:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),updateAccount:async(e,t,r,i)=>await s(t,[{field:"id",value:e}],"account",void 0,r,i),createVerificationValue:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e},"verification",void 0,t,r),findVerificationValue:async(t,r)=>{let n=await (r||e).findMany({model:"verification",where:[{field:"identifier",value:t}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return i.verification?.disableCleanup||await (r||e).deleteMany({model:"verification",where:[{field:"expiresAt",value:new Date,operator:"lt"}]}),n[0]},deleteVerificationValue:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"id",value:t}]})},deleteVerificationByIdentifier:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"identifier",value:t}]})},updateVerificationValue:async(e,t,r,i)=>await s(t,[{field:"id",value:e}],"verification",void 0,r,i)}};async function b_(e){if(!e.database){var t;let r,i,n=Object.keys(gJ(e)).reduce((e,t)=>(e[t]=[],e),{});return pP.warn("No database configuration provided. Using memory adapter in development"),(r=null,i=bf({config:{adapterId:"memory",adapterName:"Memory Adapter",usePlural:!1,debugLogs:t?.debugLogs||!1,customTransformInput:e=>e.options.advanced?.database?.useNumberId&&"id"===e.field&&"create"===e.action?n[e.model].length+1:e.data,transaction:async e=>{let t=structuredClone(n);try{return await e(i(r))}catch(e){throw Object.keys(n).forEach(e=>{n[e]=t[e]}),e}}},adapter:({getFieldName:e,options:t,debugLog:r})=>{function i(e,t){let r=n[t];if(!r)throw pP.error(`[MemoryAdapter] Model ${t} not found in the DB`,Object.keys(n)),Error(`Model ${t} not found`);let i=(e,t)=>{let{field:r,value:i,operator:n}=t;switch(n){case"in":if(!Array.isArray(i))throw Error("Value must be an array");return i.includes(e[r]);case"not_in":if(!Array.isArray(i))throw Error("Value must be an array");return!i.includes(e[r]);case"contains":return e[r].includes(i);case"starts_with":return e[r].startsWith(i);case"ends_with":return e[r].endsWith(i);case"ne":return e[r]!==i;case"gt":return null!=i&&e[r]>i;case"gte":return null!=i&&e[r]>=i;case"lt":return null!=i&&e[r]<i;case"lte":return null!=i&&e[r]<=i;default:return e[r]===i}};return r.filter(t=>{if(!e.length||0===e.length)return!0;let r=i(t,e[0]);for(let n of e){let e=i(t,n);r="OR"===n.connector?r||e:r&&e}return r})}return{create:async({model:e,data:r})=>(t.advanced?.database?.useNumberId&&(r.id=n[e].length+1),n[e]||(n[e]=[]),n[e].push(r),r),findOne:async({model:e,where:t})=>i(t,e)[0]||null,findMany:async({model:t,where:r,sortBy:a,limit:o,offset:s})=>{let l=n[t];return r&&(l=i(r,t)),a&&(l=l.sort((r,i)=>{let n=e({model:t,field:a.field}),o=r[n],s=i[n],l=0;return l=null==o&&null==s?0:null==o?-1:null==s?1:"string"==typeof o&&"string"==typeof s?o.localeCompare(s):o instanceof Date&&s instanceof Date?o.getTime()-s.getTime():"number"==typeof o&&"number"==typeof s?o-s:"boolean"==typeof o&&"boolean"==typeof s?o===s?0:o?1:-1:String(o).localeCompare(String(s)),"asc"===a.direction?l:-l})),void 0!==s&&(l=l.slice(s)),void 0!==o&&(l=l.slice(0,o)),l||[]},count:async({model:e,where:t})=>t?i(t,e).length:n[e].length,update:async({model:e,where:t,update:r})=>{let n=i(t,e);return n.forEach(e=>{Object.assign(e,r)}),n[0]||null},delete:async({model:e,where:t})=>{let r=n[e],a=i(t,e);n[e]=r.filter(e=>!a.includes(e))},deleteMany:async({model:e,where:t})=>{let r=n[e],a=i(t,e),o=0;return n[e]=r.filter(e=>a.includes(e)?(o++,!1):!a.includes(e)),o},updateMany({model:e,where:t,update:r}){let n=i(t,e);return n.forEach(e=>{Object.assign(e,r)}),n[0]||null}}}}),e=>(r=e,i(e)))(e)}if("function"==typeof e.database)return e.database(e);let{kysely:r,databaseType:i,transaction:n}=await bb(e);if(!r)throw new pa("Failed to initialize database adapter");return((e,t)=>{let r=null,i=e=>({getFieldName:r,schema:i,getDefaultModelName:n})=>{let a=async(i,n,a,o)=>{if(t?.type==="mysql"){await n.execute();let t=i.id?"id":o.length>0&&o[0]?.field?o[0].field:"id";if(!i.id&&0===o.length)return await e.selectFrom(a).selectAll().orderBy(r({model:a,field:t}),"desc").limit(1).executeTakeFirst();let s=i[t]||o[0]?.value;return await e.selectFrom(a).selectAll().orderBy(r({model:a,field:t}),"desc").where(r({model:a,field:t}),"=",s).limit(1).executeTakeFirst()}return t?.type==="mssql"?await n.outputAll("inserted").executeTakeFirst():await n.returningAll().executeTakeFirst()};function o(e){function r(e){for(let i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;let n=e[i];n instanceof Date&&t?.type==="mysql"||"object"==typeof n&&null!==n&&r(n)}}if(Array.isArray(e))for(let t=0;t<e.length;t++){let i=e[t];"object"==typeof i&&null!==i&&r(i)}else"object"==typeof e&&null!==e&&r(e);return e}function s(e,n){if(!n)return{and:null,or:null};let a=[],o=[];return n.forEach(n=>{let{field:s,value:l,operator:u="=",connector:c="AND"}=n,d=r({model:e,field:s});l=function(e,r,n){if("id"===n)return e;let{type:a="sqlite"}=t||{},o=i[r]?.fields[n];return(o||(o=Object.values(i).find(e=>e.modelName===r)),"boolean"===o.type&&("sqlite"===a||"mssql"===a)&&null!=e)?+!!e:"date"===o.type&&e&&e instanceof Date&&"sqlite"===a?e.toISOString():e}(l,e,s);let p=e=>"in"===u.toLowerCase()?e(d,"in",Array.isArray(l)?l:[l]):"not_in"===u.toLowerCase()?e(d,"not in",Array.isArray(l)?l:[l]):"contains"===u?e(d,"like",`%${l}%`):"starts_with"===u?e(d,"like",`${l}%`):"ends_with"===u?e(d,"like",`%${l}`):e(d,"eq"===u?"=":"ne"===u?"<>":"gt"===u?">":"gte"===u?">=":"lt"===u?"<":"lte"===u?"<=":u,l);"OR"===c?o.push(p):a.push(p)}),{and:a.length?a:null,or:o.length?o:null}}return{async create({data:t,model:r}){let i=e.insertInto(r).values(t);return o(await a(t,i,r,[]))},async findOne({model:t,where:r,select:i}){let{and:n,or:a}=s(t,r),l=e.selectFrom(t).selectAll();n&&(l=l.where(e=>e.and(n.map(t=>t(e))))),a&&(l=l.where(e=>e.or(a.map(t=>t(e)))));let u=await l.executeTakeFirst();return u?o(u):null},async findMany({model:i,where:n,limit:a,offset:l,sortBy:u}){let{and:c,or:d}=s(i,n),p=e.selectFrom(i);c&&(p=p.where(e=>e.and(c.map(t=>t(e))))),d&&(p=p.where(e=>e.or(d.map(t=>t(e))))),t?.type==="mssql"?l||(p=p.top(a||100)):p=p.limit(a||100),u&&(p=p.orderBy(r({model:i,field:u.field}),u.direction)),l&&(t?.type==="mssql"?(u||(p=p.orderBy(r({model:i,field:"id"}))),p=p.offset(l).fetch(a||100)):p=p.offset(l));let f=await p.selectAll().execute();return f?o(f):[]},async update({model:t,where:r,update:i}){let{and:n,or:l}=s(t,r),u=e.updateTable(t).set(i);return n&&(u=u.where(e=>e.and(n.map(t=>t(e))))),l&&(u=u.where(e=>e.or(l.map(t=>t(e))))),o(await a(i,u,t,r))},async updateMany({model:t,where:r,update:i}){let{and:n,or:a}=s(t,r),o=e.updateTable(t).set(i);return n&&(o=o.where(e=>e.and(n.map(t=>t(e))))),a&&(o=o.where(e=>e.or(a.map(t=>t(e))))),(await o.execute()).length},async count({model:t,where:r}){let{and:i,or:n}=s(t,r),a=e.selectFrom(t).select(e.fn.count("id").as("count"));i&&(a=a.where(e=>e.and(i.map(t=>t(e))))),n&&(a=a.where(e=>e.or(n.map(t=>t(e)))));let o=await a.execute();return"number"==typeof o[0].count?o[0].count:"bigint"==typeof o[0].count?Number(o[0].count):parseInt(o[0].count)},async delete({model:t,where:r}){let{and:i,or:n}=s(t,r),a=e.deleteFrom(t);i&&(a=a.where(e=>e.and(i.map(t=>t(e))))),n&&(a=a.where(e=>e.or(n.map(t=>t(e))))),await a.execute()},async deleteMany({model:t,where:r}){let{and:i,or:n}=s(t,r),a=e.deleteFrom(t);return i&&(a=a.where(e=>e.and(i.map(t=>t(e))))),n&&(a=a.where(e=>e.or(n.map(t=>t(e))))),(await a.execute()).length},options:t}},n=null;n={config:{adapterId:"kysely",adapterName:"Kysely Adapter",usePlural:t?.usePlural,debugLogs:t?.debugLogs,supportsBooleans:t?.type!=="sqlite"&&t?.type!=="mssql"&&t?.type!=="mysql"&&!!t?.type,supportsDates:t?.type!=="sqlite"&&t?.type!=="mssql"&&!!t?.type,supportsJSON:!1,transaction:!!t?.transaction&&(t=>e.transaction().execute(e=>t(bf({config:n.config,adapter:i(e)})(r))))},adapter:i(e)};let a=bf(n);return e=>(r=e,a(e))})(r,{type:i||"sqlite",debugLogs:"debugLogs"in e.database&&e.database.debugLogs,transaction:n})(e)}let bx={postgres:{string:["character varying","varchar","text"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};async function bk(e){let t=function(e){let t=gJ(e),r={};for(let e in t){let i=t[e],n=i.fields,a={};if(Object.entries(n).forEach(([e,r])=>{if(a[r.fieldName||e]=r,r.references){let i=t[r.references.model];i&&(a[r.fieldName||e].references={...r.references,model:i.modelName,field:r.references.field})}}),r[i.modelName]){r[i.modelName].fields={...r[i.modelName].fields,...a};continue}r[i.modelName]={fields:a,order:i.order||1/0}}return r}(e),r=pA(e.logger),{kysely:i,databaseType:n}=await bb(e);n||(r.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),n="sqlite"),i||(r.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let a=await i.introspection.getTables(),o=[],s=[];for(let[e,i]of Object.entries(t)){let t=a.find(t=>t.name===e);if(!t){let t=o.findIndex(t=>t.table===e),r={table:e,fields:i.fields,order:i.order||1/0},n=o.findIndex(e=>(e.order||1/0)>r.order);-1===n?-1===t?o.push(r):o[t].fields={...o[t].fields,...i.fields}:o.splice(n,0,r);continue}let l={};for(let[a,o]of Object.entries(i.fields)){let i=t.columns.find(e=>e.name===a);if(!i){l[a]=o;continue}!function(e,t,r){if("string[]"===t||"number[]"===t)return e.toLowerCase().includes("json");let i=bx[r];return(Array.isArray(t)?i.string.map(e=>e.toLowerCase()):i[t].map(e=>e.toLowerCase())).includes(e.toLowerCase().split("(")[0].trim())}(i.dataType,o.type,n)&&r.warn(`Field ${a} in table ${e} has a different type in the database. Expected ${o.type} but got ${i.dataType}.`)}Object.keys(l).length>0&&s.push({table:e,fields:l,order:i.order||1/0})}let l=[];function u(t,r){let i=t.type,a={string:{sqlite:"text",postgres:"text",mysql:t.unique?"varchar(255)":t.references?"varchar(36)":"text",mssql:t.unique||t.sortable?"varchar(255)":t.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:t.bigint?"bigint":"integer",postgres:t.bigint?"bigint":"integer",mysql:t.bigint?"bigint":"integer",mssql:t.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:g2.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:e.advanced?.database?.useNumberId?"serial":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"},foreignKeyId:{postgres:e.advanced?.database?.useNumberId?"integer":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"}};return"id"===r||t.references?.field==="id"?"id"===r?a.id[n]:a.foreignKeyId[n]:"sqlite"===n&&("string[]"===i||"number[]"===i)?"text":"string[]"===i||"number[]"===i?"jsonb":Array.isArray(i)?"text":a[i][n||"sqlite"]}if(s.length)for(let e of s)for(let[t,r]of Object.entries(e.fields)){let a=u(r,t),o=i.schema.alterTable(e.table).addColumn(t,a,e=>(e=!1!==r.required?e.notNull():e,r.references&&(e=e.references(`${r.references.model}.${r.references.field}`).onDelete(r.references.onDelete||"cascade")),r.unique&&(e=e.unique()),"date"===r.type&&"function"==typeof r.defaultValue&&("postgres"===n||"mysql"===n||"mssql"===n)&&(e="mysql"===n?e.defaultTo(g2.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(g2.sql`CURRENT_TIMESTAMP`)),e));l.push(o)}if(o.length)for(let t of o){let r=i.schema.createTable(t.table).addColumn("id",e.advanced?.database?.useNumberId?"postgres"===n?"serial":"integer":"mysql"===n||"mssql"===n?"varchar(36)":"text",t=>e.advanced?.database?.useNumberId?"postgres"===n||"sqlite"===n?t.primaryKey().notNull():"mssql"===n?t.identity().primaryKey().notNull():t.autoIncrement().primaryKey().notNull():t.primaryKey().notNull());for(let[e,i]of Object.entries(t.fields)){let t=u(i,e);r=r.addColumn(e,t,e=>(e=!1!==i.required?e.notNull():e,i.references&&(e=e.references(`${i.references.model}.${i.references.field}`).onDelete(i.references.onDelete||"cascade")),i.unique&&(e=e.unique()),"date"===i.type&&"function"==typeof i.defaultValue&&("postgres"===n||"mysql"===n||"mssql"===n)&&(e="mysql"===n?e.defaultTo(g2.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(g2.sql`CURRENT_TIMESTAMP`)),e))}l.push(r)}return{toBeCreated:o,toBeAdded:s,runMigrations:async function(){for(let e of l)await e.execute()},compileMigrations:async function(){return l.map(e=>e.compile().sql).join(";\n\n")+";"}}}async function bS(e,t){let r=await t.context.internalAdapter.findAccounts(e),i=r?.find(e=>"credential"===e.providerId),n=i?.password;if(!i||!n||!t.body.password)throw new P("BAD_REQUEST",{message:"No password credential found"});if(!await t.context.password.verify({hash:n,password:t.body.password}))throw new P("BAD_REQUEST",{message:"Invalid password"});return!0}let bO="better-auth-secret-123456789";async function bE(){if(i)return i;try{let e="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!e)return;let t=e=>Function("mm","return import(mm)")(e),[{default:r},{default:n}]=await Promise.all([t("fs/promises"),t("path")]),a=await r.readFile(n.join(e,"package.json"),"utf-8");return i=JSON.parse(a)}catch{}}async function bI(e){if(i)return i.dependencies?.[e]||i.devDependencies?.[e]||i.peerDependencies?.[e];try{let t="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!t)throw Error("no-cwd");let r=e=>Function("mm","return import(mm)")(e),[{default:i},{default:n}]=await Promise.all([r("fs/promises"),r("path")]),a=n.join(t,"node_modules",e,"package.json"),o=await i.readFile(a,"utf-8");return JSON.parse(o).version||await bT(e)||void 0}catch{}return await bT(e)}async function bT(e){let t=await bE();if(t)return({...t.dependencies,...t.devDependencies,...t.peerDependencies})[e]}async function b$(){let e=await bE();return e?.name}let bA=null;async function bP(e){if(bA)return bA;let t=await b$();return bA=t?await m9(e?e+t:t):e?await m9(e):hV(32)}let bj=e=>Function("mm","return import(mm)")(e);function bR(){let e=(...e)=>e.some(e=>!!pl[e]);return e("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":e("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":e("NETLIFY","NETLIFY_URL")?"netlify":e("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":e("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":e("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":e("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":e("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":e("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":e("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":e("DYNO","HEROKU_APP_NAME")?"heroku":e("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":e("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function bN(){try{if("cloudflare"===bR())return"cloudflare";let e=await bj("os"),t=e.cpus();return{deploymentVendor:bR(),systemPlatform:e.platform(),systemRelease:e.release(),systemArchitecture:e.arch(),cpuCount:t.length,cpuModel:t.length?t[0].model:null,cpuSpeed:t.length?t[0].speed:null,memory:e.totalmem(),isWSL:await bz(),isDocker:await bD(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch(e){return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function bU(){if("cloudflare"===bR())return!1;try{return(await bj("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function bC(){if("cloudflare"===bR())return!1;try{return(await bj("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function bD(){return"cloudflare"!==bR()&&(void 0===n&&(n=await bU()||await bC()),n)}async function bz(){try{if("cloudflare"===bR()||"undefined"==typeof process||process?.platform!=="linux")return!1;let e=await bj("fs");if((await bj("os")).release().toLowerCase().includes("microsoft")){if(await bM())return!1;return!0}return!!e.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await bM()}catch{return!1}}let bL=async()=>{if("cloudflare"===bR())return!1;try{return(await bj("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function bM(){return void 0===a&&(a=await bL()||await bD()),a}let bq={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function bV(){for(let[e,t]of Object.entries(bq)){let r=await bI(e);if(r)return{name:t,version:r}}}let bJ={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function bF(){for(let[e,t]of Object.entries(bJ)){let r=await bI(e);if(r)return{name:t,version:r}}}async function bZ(e,t){let r,i=e.telemetry?.debug||pm("BETTER_AUTH_TELEMETRY_DEBUG",!1),n=ph.BETTER_AUTH_TELEMETRY_ENDPOINT,a=async e=>{try{t?.customTrack?await t.customTrack(e):i?await Promise.resolve(pP.info("telemetry event",JSON.stringify(e,null,2))):await hE(n,{method:"POST",body:e})}catch{}},o=async()=>{let r=e.telemetry?.enabled!==void 0&&e.telemetry.enabled;return(pm("BETTER_AUTH_TELEMETRY",!1)||r)&&(t?.skipTestCheck||!pp())},s=await o();if(s){var l;r=await bP(e.baseURL),a({type:"init",payload:{config:{database:void 0,adapter:l?.adapter,emailVerification:{sendVerificationEmail:!!e.emailVerification?.sendVerificationEmail,sendOnSignUp:!!e.emailVerification?.sendOnSignUp,sendOnSignIn:!!e.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!e.emailVerification?.autoSignInAfterVerification,expiresIn:e.emailVerification?.expiresIn,onEmailVerification:!!e.emailVerification?.onEmailVerification,afterEmailVerification:!!e.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!e.emailAndPassword?.enabled,disableSignUp:!!e.emailAndPassword?.disableSignUp,requireEmailVerification:!!e.emailAndPassword?.requireEmailVerification,maxPasswordLength:e.emailAndPassword?.maxPasswordLength,minPasswordLength:e.emailAndPassword?.minPasswordLength,sendResetPassword:!!e.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:e.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!e.emailAndPassword?.onPasswordReset,password:{hash:!!e.emailAndPassword?.password?.hash,verify:!!e.emailAndPassword?.password?.verify},autoSignIn:!!e.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!e.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(e.socialProviders||{}).map(t=>{let r=e.socialProviders?.[t];return r?{id:t,mapProfileToUser:!!r.mapProfileToUser,disableDefaultScope:!!r.disableDefaultScope,disableIdTokenSignIn:!!r.disableIdTokenSignIn,disableImplicitSignUp:r.disableImplicitSignUp,disableSignUp:r.disableSignUp,getUserInfo:!!r.getUserInfo,overrideUserInfoOnSignIn:!!r.overrideUserInfoOnSignIn,prompt:r.prompt,verifyIdToken:!!r.verifyIdToken,scope:r.scope,refreshAccessToken:!!r.refreshAccessToken}:{}}),plugins:e.plugins?.map(e=>e.id.toString()),user:{modelName:e.user?.modelName,fields:e.user?.fields,additionalFields:e.user?.additionalFields,changeEmail:{enabled:e.user?.changeEmail?.enabled,sendChangeEmailVerification:!!e.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:e.verification?.modelName,disableCleanup:e.verification?.disableCleanup,fields:e.verification?.fields},session:{modelName:e.session?.modelName,additionalFields:e.session?.additionalFields,cookieCache:{enabled:e.session?.cookieCache?.enabled,maxAge:e.session?.cookieCache?.maxAge},disableSessionRefresh:e.session?.disableSessionRefresh,expiresIn:e.session?.expiresIn,fields:e.session?.fields,freshAge:e.session?.freshAge,preserveSessionInDatabase:e.session?.preserveSessionInDatabase,storeSessionInDatabase:e.session?.storeSessionInDatabase,updateAge:e.session?.updateAge},account:{modelName:e.account?.modelName,fields:e.account?.fields,encryptOAuthTokens:e.account?.encryptOAuthTokens,updateAccountOnSignIn:e.account?.updateAccountOnSignIn,accountLinking:{enabled:e.account?.accountLinking?.enabled,trustedProviders:e.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:e.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:e.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!e.hooks?.after,before:!!e.hooks?.before},secondaryStorage:!!e.secondaryStorage,advanced:{cookiePrefix:!!e.advanced?.cookiePrefix,cookies:!!e.advanced?.cookies,crossSubDomainCookies:{domain:!!e.advanced?.crossSubDomainCookies?.domain,enabled:e.advanced?.crossSubDomainCookies?.enabled,additionalCookies:e.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!e.advanced?.database?.useNumberId,generateId:e.advanced?.database?.generateId,defaultFindManyLimit:e.advanced?.database?.defaultFindManyLimit},useSecureCookies:e.advanced?.useSecureCookies,ipAddress:{disableIpTracking:e.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:e.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:e.advanced?.disableCSRFCheck,cookieAttributes:{expires:e.advanced?.defaultCookieAttributes?.expires,secure:e.advanced?.defaultCookieAttributes?.secure,sameSite:e.advanced?.defaultCookieAttributes?.sameSite,domain:!!e.advanced?.defaultCookieAttributes?.domain,path:e.advanced?.defaultCookieAttributes?.path,httpOnly:e.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:e.trustedOrigins?.length,rateLimit:{storage:e.rateLimit?.storage,modelName:e.rateLimit?.modelName,window:e.rateLimit?.window,customStorage:!!e.rateLimit?.customStorage,enabled:e.rateLimit?.enabled,max:e.rateLimit?.max},onAPIError:{errorURL:e.onAPIError?.errorURL,onError:!!e.onAPIError?.onError,throw:e.onAPIError?.throw},logger:{disabled:e.logger?.disabled,level:e.logger?.level,log:!!e.logger?.log},databaseHooks:{user:{create:{after:!!e.databaseHooks?.user?.create?.after,before:!!e.databaseHooks?.user?.create?.before},update:{after:!!e.databaseHooks?.user?.update?.after,before:!!e.databaseHooks?.user?.update?.before}},session:{create:{after:!!e.databaseHooks?.session?.create?.after,before:!!e.databaseHooks?.session?.create?.before},update:{after:!!e.databaseHooks?.session?.update?.after,before:!!e.databaseHooks?.session?.update?.before}},account:{create:{after:!!e.databaseHooks?.account?.create?.after,before:!!e.databaseHooks?.account?.create?.before},update:{after:!!e.databaseHooks?.account?.update?.after,before:!!e.databaseHooks?.account?.update?.before}},verification:{create:{after:!!e.databaseHooks?.verification?.create?.after,before:!!e.databaseHooks?.verification?.create?.before},update:{after:!!e.databaseHooks?.verification?.update?.after,before:!!e.databaseHooks?.verification?.update?.before}}}},runtime:"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null},database:await bV(),framework:await bF(),environment:"production"===pf("NODE_ENV")?"production":"false"!==pl.CI&&("BUILD_ID"in pl||"BUILD_NUMBER"in pl||"CI"in pl||"CI_APP_ID"in pl||"CI_BUILD_ID"in pl||"CI_BUILD_NUMBER"in pl||"CI_NAME"in pl||"CONTINUOUS_INTEGRATION"in pl||"RUN_ID"in pl)?"ci":pp()?"test":"development",systemInfo:await bN(),packageManager:function(){let e=pl.npm_config_user_agent;if(!e)return;let t=e.split(" ")[0],r=t.lastIndexOf("/"),i=t.substring(0,r);return{name:"npminstall"===i?"cnpm":i,version:t.substring(r+1)}}()},anonymousId:r})}return{publish:async t=>{s&&(r||(r=await bP(e.baseURL)),await a({type:t.type,payload:t.payload,anonymousId:r}))}}}function bB(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}let bH=async e=>{var t;let r,i=await b_(e),n=e.plugins||[],a=(t=e,t.advanced?.crossSubDomainCookies?.enabled,[]),o=pA(e.logger),s=pN(e.baseURL,e.basePath),l=e.secret||pl.BETTER_AUTH_SECRET||pl.AUTH_SECRET||bO;l===bO&&pc&&o.error("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config."),function(e,t){let r=new Map;e.plugins?.forEach(e=>{if(e.endpoints){for(let[t,i]of Object.entries(e.endpoints))if(i&&"path"in i){let n=i.path,a=[];i.options&&"method"in i.options&&(Array.isArray(i.options.method)?a=i.options.method:"string"==typeof i.options.method&&(a=[i.options.method])),0===a.length&&(a=["*"]),r.has(n)||r.set(n,[]),r.get(n).push({pluginId:e.id,endpointKey:t,methods:a})}}});let i=[];for(let[e,t]of r.entries())if(t.length>1){let r=new Map,n=!1;for(let e of t)for(let i of e.methods)r.has(i)||r.set(i,[]),r.get(i).push(e.pluginId),r.get(i).length>1&&(n=!0),"*"===i&&t.length>1?n=!0:"*"!==i&&r.has("*")&&(n=!0);if(n){let n=[...new Set(t.map(e=>e.pluginId))],a=[];for(let[e,i]of r.entries())(i.length>1||"*"===e&&t.length>1||"*"!==e&&r.has("*"))&&a.push(e);i.push({path:e,plugins:n,conflictingMethods:a})}}if(i.length>0){let e=i.map(e=>`  - "${e.path}" [${e.conflictingMethods.join(", ")}] used by plugins: ${e.plugins.join(", ")}`).join("\n");t.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${e}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}(e={...e,secret:l,baseURL:s?new URL(s).origin:"",basePath:e.basePath||"/api/auth",plugins:n.concat(a)},o);let u=function(e){let t=pq(e),r=t("session_token",{maxAge:e.session?.expiresIn||pM("7d")/1e3}),i=t("session_data",{maxAge:e.session?.cookieCache?.maxAge||300}),n=t("dont_remember");return{sessionToken:{name:r.name,options:r.attributes},sessionData:{name:i.name,options:i.attributes},dontRememberToken:{name:n.name,options:n.attributes}}}(e),c=gJ(e),d=Object.entries(e.socialProviders||{}).map(([e,t])=>{if(null==t||!1===t.enabled)return null;t.clientId||o.warn(`Social provider ${e} is missing clientId or clientSecret`);let r=ga[e](t);return r.disableImplicitSignUp=t.disableImplicitSignUp,r}).filter(e=>null!==e),{publish:p}=await bZ(e,{adapter:i.id,database:"function"==typeof e.database?"adapter":bv(e.database)||"unknown"}),f={appName:e.appName||"Better Auth",socialProviders:d,options:e,tables:c,trustedOrigins:function(e){let t=pN(e.baseURL,e.basePath);if(!t)return[];let r=[new URL(t).origin];e.trustedOrigins&&Array.isArray(e.trustedOrigins)&&r.push(...e.trustedOrigins);let i=pl.BETTER_AUTH_TRUSTED_ORIGINS;if(i&&r.push(...i.split(",")),r.filter(e=>!e).length)throw new pa("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return r}(e),baseURL:s||"",sessionConfig:{updateAge:e.session?.updateAge!==void 0?e.session.updateAge:86400,expiresIn:e.session?.expiresIn||604800,freshAge:e.session?.freshAge===void 0?86400:e.session.freshAge},secret:l,rateLimit:{...e.rateLimit,enabled:e.rateLimit?.enabled??pc,window:e.rateLimit?.window||10,max:e.rateLimit?.max||100,storage:e.rateLimit?.storage||(e.secondaryStorage?"secondary-storage":"memory")},authCookies:u,logger:o,generateId:({model:t,size:r})=>"function"==typeof e.advanced?.generateId?e.advanced.generateId({model:t,size:r}):"function"==typeof e?.advanced?.database?.generateId?e.advanced.database.generateId({model:t,size:r}):hV(r),session:null,secondaryStorage:e.secondaryStorage,password:{hash:e.emailAndPassword?.password?.hash||ht,verify:e.emailAndPassword?.password?.verify||hr,config:{minPasswordLength:e.emailAndPassword?.minPasswordLength||8,maxPasswordLength:e.emailAndPassword?.maxPasswordLength||128},checkPassword:bS},setNewSession(e){this.newSession=e},newSession:null,adapter:i,internalAdapter:bw(i,{options:e,logger:o,hooks:e.databaseHooks?[e.databaseHooks]:[]}),createAuthCookie:pq(e),async runMigrations(){if(!e.database||"updateMany"in e.database)throw new pa("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:t}=await bk(e);await t()},publishTelemetry:p},m=bW(f);return bB(m)?{context:r}=await m:{context:r}=m,r};async function bW(e){let t=e.options,r=t.plugins||[],i=e,n=[];for(let e of r)if(e.init){let r,a=e.init(i);if("object"==typeof(r=bB(a)?await a:a)){if(r.options){let{databaseHooks:e,...i}=r.options;e&&n.push(e),t=hB(t,i)}r.context&&(i={...i,...r.context})}}return n.push(t.databaseHooks),i.internalAdapter=bw(e.adapter,{options:t,logger:e.logger,hooks:n.filter(e=>void 0!==e),generateId:e.generateId}),i.options=t,{context:i}}var bK=e.i(20298);let bQ=global.prisma||new bK.PrismaClient;var pe=pe,pe=pe;pB(async()=>({})),pB({use:[pY]},async e=>({session:e.context.session}));let bG=uO(),bY=de(["pending","accepted","rejected","canceled"]).default("pending");cZ({id:uO().default(hV),name:uO(),slug:uO(),logo:uO().nullish().optional(),metadata:c6(uO(),cN()).or(uO().transform(e=>JSON.parse(e))).optional(),createdAt:cM()}),cZ({id:uO().default(hV),organizationId:uO(),userId:pe.string(),role:bG,createdAt:cM().default(()=>new Date)}),cZ({id:uO().default(hV),organizationId:uO(),email:uO(),role:bG,status:bY,teamId:uO().nullish(),inviterId:uO(),expiresAt:cM()}),cZ({id:uO().default(hV),name:uO().min(1),organizationId:uO(),createdAt:cM(),updatedAt:cM().optional()}),cZ({id:uO().default(hV),teamId:uO(),userId:uO(),createdAt:cM().default(()=>new Date)}),cZ({id:uO().default(hV),organizationId:uO(),role:uO(),permission:c6(uO(),cV(uO())),createdAt:cM().default(()=>new Date),updatedAt:cM().optional()});let bX=["admin","member","owner"];function b0(e){return{newRole:e=>{var t;return{authorize(e,r="AND"){let i=!1;for(let[n,a]of Object.entries(e)){let e=t[n];if(!e)return{success:!1,error:`You are not allowed to access resource: ${n}`};if(Array.isArray(a))i=a.every(t=>e.includes(t));else if("object"==typeof a)i="OR"===a.connector?a.actions.some(t=>e.includes(t)):a.actions.every(t=>e.includes(t));else throw new pa("Invalid access control request");if(i&&"OR"===r)return{success:i};if(!i&&"AND"===r)return{success:!1,error:`unauthorized to access resource "${n}"`}}return i?{success:i}:{success:!1,error:"Not authorized"}},statements:t=e}},statements:e}}cK([de(bX),cV(de(bX))]);let b1=b0({organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"],ac:["create","read","update","delete"]});b1.newRole({organization:["update"],invitation:["create","cancel"],member:["create","update","delete"],team:["create","update","delete"],ac:["create","read","update","delete"]}),b1.newRole({organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"],ac:["create","read","update","delete"]}),b1.newRole({organization:[],member:[],invitation:[],team:[],ac:["read"]});var pe=pe,pe=pe;let b4=async e=>{let t=e.context.returned;return t?t instanceof Response?200!==t.status?null:await t.clone().json():t instanceof P?null:t:null},b6=b0({user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]});b6.newRole({user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]}),b6.newRole({user:[],session:[]});let b2=async e=>{let t=await p2("SHA-256").digest(new TextEncoder().encode(e));return pw.encode(new Uint8Array(t),{padding:!1})};function b5(e){let t=e.lastIndexOf(":");return -1===t?[e,""]:[e.slice(0,t),e.slice(t+1)]}let b3=["email-verification","sign-in","forget-password"],b8=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,b9=e=>m3(e.otpLength??6,"0-9");dc(cZ({disableCookieCache:cb().meta({description:"Disable cookie cache and fetch session from database"}).or(uO().transform(e=>"true"===e)).optional(),disableRefresh:cb().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()}));let b7={CLOUDFLARE_TURNSTILE:"cloudflare-turnstile",GOOGLE_RECAPTCHA:"google-recaptcha",HCAPTCHA:"hcaptcha",CAPTCHAFOX:"captchafox"};b7.CLOUDFLARE_TURNSTILE,b7.GOOGLE_RECAPTCHA,b7.HCAPTCHA,b7.CAPTCHAFOX;var pe=pe;cZ({id:uO(),deviceCode:uO(),userCode:uO(),userId:uO().optional(),expiresAt:cM(),status:uO(),lastPolledAt:cM().optional(),pollingInterval:cd().optional(),clientId:uO().optional(),scope:uO().optional()});let we=dV(e=>{try{pM(e)}catch(e){return!1}return!0},{message:"Invalid time string format. Use formats like '30m', '5s', '1h', etc."});cZ({expiresIn:we.default("30m").describe("Time in seconds until the device code expires. Use formats like '30m', '5s', '1h', etc."),interval:we.default("5s").describe("Time in seconds between polling attempts. Use formats like '30m', '5s', '1h', etc."),deviceCodeLength:cd().int().positive().default(40).describe("Length of the device code to be generated. Default is 40 characters."),userCodeLength:cd().int().positive().default(8).describe("Length of the user code to be generated. Default is 8 characters."),generateDeviceCode:dV(e=>"function"==typeof e,{message:"generateDeviceCode must be a function that returns a string or a promise that resolves to a string."}).optional().describe("Function to generate a device code. If not provided, a default random string generator will be used."),generateUserCode:dV(e=>"function"==typeof e,{message:"generateUserCode must be a function that returns a string or a promise that resolves to a string."}).optional().describe("Function to generate a user code. If not provided, a default random string generator will be used."),validateClient:dV(e=>"function"==typeof e,{message:"validateClient must be a function that returns a boolean or a promise that resolves to a boolean."}).optional().describe("Function to validate the client ID. If not provided, no validation will be performed."),onDeviceAuthRequest:dV(e=>"function"==typeof e,{message:"onDeviceAuthRequest must be a function that returns void or a promise that resolves to void."}).optional().describe("Function to handle device authorization requests. If not provided, no additional actions will be taken."),schema:dV(()=>!0)});let wt=BigInt(0),wr=BigInt(1),wi=BigInt(2),wn=BigInt(7),wa=BigInt(256),wo=BigInt(113),ws=[],wl=[],wu=[];for(let e=0,t=wr,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],ws.push(2*(5*i+r)),wl.push((e+1)*(e+2)/2%64);let n=wt;for(let e=0;e<7;e++)(t=(t<<wr^(t>>wn)*wo)%wa)&wi&&(n^=wr<<(wr<<BigInt(e))-wr);wu.push(n)}let wc=mF(wu,!0),wd=wc[0],wp=wc[1];function wf(e,t){if(e instanceof Promise)throw Error(t)}var gz=pt;let wm=function(e){let t="object"==typeof e.client?e.client:{},r="object"==typeof e.server?e.server:{},i=e.shared,n=e.runtimeEnv?e.runtimeEnv:{...process.env,...e.experimental__runtimeEnv};return function(e){let t=e.runtimeEnvStrict??e.runtimeEnv??process.env;if(e.emptyStringAsUndefined)for(let[e,r]of Object.entries(t))""===r&&delete t[e];if(e.skipValidation)return t;let r="object"==typeof e.client?e.client:{},i="object"==typeof e.server?e.server:{},n="object"==typeof e.shared?e.shared:{},a=e.isServer??!0,o=a?{...i,...n,...r}:{...r,...n},s=e.createFinalSchema?.(o,a)["~standard"].validate(t)??function(e,t){let r={},i=[];for(let n in e){let a=e[n]["~standard"].validate(t[n]);if(wf(a,`Validation must be synchronous, but ${n} returned a Promise.`),a.issues){i.push(...a.issues.map(e=>({...e,message:e.message,path:[n,...e.path??[]]})));continue}r[n]=a.value}return i.length?{issues:i}:{value:r}}(o,t);wf(s,"Validation must be synchronous");let l=e.onValidationError??(e=>{throw console.error(" Invalid environment variables:",e),Error("Invalid environment variables")}),u=e.onInvalidAccess??(()=>{throw Error(" Attempted to access a server-side environment variable on the client")});return s.issues?l(s.issues):new Proxy(Object.assign((e.extends??[]).reduce((e,t)=>Object.assign(e,t),{}),s.value),{get(t,r){if("string"==typeof r&&"__esModule"!==r&&"$$typeof"!==r)return a||e.clientPrefix&&(r.startsWith(e.clientPrefix)||r in n)?Reflect.get(t,r):u(r)}})}({...e,shared:i,client:t,server:r,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:n})}({server:{DATABASE_URL:gz.url(),BETTER_AUTH_SECRET:gz.string().min(1),BETTER_AUTH_URL:gz.string().url(),GITHUB_CLIENT_ID:gz.string().min(1),GIHUB_SECRET:gz.string().min(1),RESEND_API_KEY:gz.string().min(1)},experimental__runtimeEnv:{}});var wh=e.i(5244),wg=Object.defineProperty,wy=Object.defineProperties,wv=Object.getOwnPropertyDescriptors,wb=Object.getOwnPropertySymbols,ww=Object.prototype.hasOwnProperty,w_=Object.prototype.propertyIsEnumerable,wx=(e,t,r)=>t in e?wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wk=(e,t)=>{for(var r in t||(t={}))ww.call(t,r)&&wx(e,r,t[r]);if(wb)for(var r of wb(t))w_.call(t,r)&&wx(e,r,t[r]);return e},wS=(e,t)=>wy(e,wv(t)),wO=(e,t,r)=>new Promise((i,n)=>{var a=e=>{try{s(r.next(e))}catch(e){n(e)}},o=e=>{try{s(r.throw(e))}catch(e){n(e)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(a,o);s((r=r.apply(e,t)).next())});function wE(e){let t=new URLSearchParams;return void 0!==e.limit&&t.set("limit",e.limit.toString()),"after"in e&&void 0!==e.after&&t.set("after",e.after),"before"in e&&void 0!==e.before&&t.set("before",e.before),t.toString()}var wI=class{constructor(e){this.resend=e}create(e){return wO(this,arguments,function*(e,t={}){return yield this.resend.post("/api-keys",e,t)})}list(){return wO(this,arguments,function*(e={}){let t=wE(e),r=t?`/api-keys?${t}`:"/api-keys";return yield this.resend.get(r)})}remove(e){return wO(this,null,function*(){return yield this.resend.delete(`/api-keys/${e}`)})}},wT=class{constructor(e){this.resend=e}create(e){return wO(this,arguments,function*(e,t={}){return yield this.resend.post("/audiences",e,t)})}list(){return wO(this,arguments,function*(e={}){let t=wE(e),r=t?`/audiences?${t}`:"/audiences";return yield this.resend.get(r)})}get(e){return wO(this,null,function*(){return yield this.resend.get(`/audiences/${e}`)})}remove(e){return wO(this,null,function*(){return yield this.resend.delete(`/audiences/${e}`)})}};function w$(e){var t;return{attachments:null==(t=e.attachments)?void 0:t.map(e=>({content:e.content,filename:e.filename,path:e.path,content_type:e.contentType,content_id:e.contentId})),bcc:e.bcc,cc:e.cc,from:e.from,headers:e.headers,html:e.html,reply_to:e.replyTo,scheduled_at:e.scheduledAt,subject:e.subject,tags:e.tags,text:e.text,to:e.to}}function wA(t){return new Promise((r,i)=>{e.A(25792).then(({render:e})=>{r(e(t))}).catch(()=>{i(Error("Failed to render React component. Make sure to install `@react-email/render` or `@react-email/components`."))})})}var wP=class{constructor(e){this.resend=e}send(e,t){return wO(this,null,function*(){return this.create(e,t)})}create(e,t){return wO(this,null,function*(){var r;let i=[];for(let t of e)t.react&&(t.html=yield wA(t.react),t.react=void 0),i.push(w$(t));return yield this.resend.post("/emails/batch",i,wS(wk({},t),{headers:wk({"x-batch-validation":null!=(r=null==t?void 0:t.batchValidation)?r:"strict"},null==t?void 0:t.headers)}))})}},wj=class{constructor(e){this.resend=e}create(e){return wO(this,arguments,function*(e,t={}){return e.react&&(e.html=yield wA(e.react)),yield this.resend.post("/broadcasts",{name:e.name,audience_id:e.audienceId,preview_text:e.previewText,from:e.from,html:e.html,reply_to:e.replyTo,subject:e.subject,text:e.text},t)})}send(e,t){return wO(this,null,function*(){return yield this.resend.post(`/broadcasts/${e}/send`,{scheduled_at:null==t?void 0:t.scheduledAt})})}list(){return wO(this,arguments,function*(e={}){let t=wE(e),r=t?`/broadcasts?${t}`:"/broadcasts";return yield this.resend.get(r)})}get(e){return wO(this,null,function*(){return yield this.resend.get(`/broadcasts/${e}`)})}remove(e){return wO(this,null,function*(){return yield this.resend.delete(`/broadcasts/${e}`)})}update(e,t){return wO(this,null,function*(){return t.react&&(t.html=yield wA(t.react)),yield this.resend.patch(`/broadcasts/${e}`,{name:t.name,audience_id:t.audienceId,from:t.from,html:t.html,text:t.text,subject:t.subject,reply_to:t.replyTo,preview_text:t.previewText})})}},wR=class{constructor(e){this.resend=e}create(e){return wO(this,arguments,function*(e,t={}){return yield this.resend.post(`/audiences/${e.audienceId}/contacts`,{unsubscribed:e.unsubscribed,email:e.email,first_name:e.firstName,last_name:e.lastName},t)})}list(e){return wO(this,null,function*(){let{audienceId:t}=e,r=wE(((e,t)=>{var r={};for(var i in e)ww.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&wb)for(var i of wb(e))0>t.indexOf(i)&&w_.call(e,i)&&(r[i]=e[i]);return r})(e,["audienceId"])),i=r?`/audiences/${t}/contacts?${r}`:`/audiences/${t}/contacts`;return yield this.resend.get(i)})}get(e){return wO(this,null,function*(){return e.id||e.email?yield this.resend.get(`/audiences/${e.audienceId}/contacts/${(null==e?void 0:e.email)?null==e?void 0:e.email:null==e?void 0:e.id}`):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}update(e){return wO(this,null,function*(){return e.id||e.email?yield this.resend.patch(`/audiences/${e.audienceId}/contacts/${(null==e?void 0:e.email)?null==e?void 0:e.email:null==e?void 0:e.id}`,{unsubscribed:e.unsubscribed,first_name:e.firstName,last_name:e.lastName}):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}remove(e){return wO(this,null,function*(){return e.id||e.email?yield this.resend.delete(`/audiences/${e.audienceId}/contacts/${(null==e?void 0:e.email)?null==e?void 0:e.email:null==e?void 0:e.id}`):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}},wN=class{constructor(e){this.resend=e}create(e){return wO(this,arguments,function*(e,t={}){return yield this.resend.post("/domains",{name:e.name,region:e.region,custom_return_path:e.customReturnPath},t)})}list(){return wO(this,arguments,function*(e={}){let t=wE(e),r=t?`/domains?${t}`:"/domains";return yield this.resend.get(r)})}get(e){return wO(this,null,function*(){return yield this.resend.get(`/domains/${e}`)})}update(e){return wO(this,null,function*(){return yield this.resend.patch(`/domains/${e.id}`,{click_tracking:e.clickTracking,open_tracking:e.openTracking,tls:e.tls})})}remove(e){return wO(this,null,function*(){return yield this.resend.delete(`/domains/${e}`)})}verify(e){return wO(this,null,function*(){return yield this.resend.post(`/domains/${e}/verify`)})}},wU=class{constructor(e){this.resend=e}send(e){return wO(this,arguments,function*(e,t={}){return this.create(e,t)})}create(e){return wO(this,arguments,function*(e,t={}){return e.react&&(e.html=yield wA(e.react)),yield this.resend.post("/emails",w$(e),t)})}get(e){return wO(this,null,function*(){return yield this.resend.get(`/emails/${e}`)})}list(){return wO(this,arguments,function*(e={}){let t=wE(e),r=t?`/emails?${t}`:"/emails";return yield this.resend.get(r)})}update(e){return wO(this,null,function*(){return yield this.resend.patch(`/emails/${e.id}`,{scheduled_at:e.scheduledAt})})}cancel(e){return wO(this,null,function*(){return yield this.resend.post(`/emails/${e}/cancel`)})}},wC=class{verify(e){return new wh.Webhook(e.webhookSecret).verify(e.payload,{"svix-id":e.headers.id,"svix-timestamp":e.headers.timestamp,"svix-signature":e.headers.signature})}},wD="undefined"!=typeof process&&process.env&&process.env.RESEND_BASE_URL||"https://api.resend.com",wz="undefined"!=typeof process&&process.env&&process.env.RESEND_USER_AGENT||"resend-node:6.2.0";let wL=new class{constructor(e){if(this.key=e,this.apiKeys=new wI(this),this.audiences=new wT(this),this.batch=new wP(this),this.broadcasts=new wj(this),this.contacts=new wR(this),this.domains=new wN(this),this.emails=new wU(this),this.webhooks=new wC,!e&&("undefined"!=typeof process&&process.env&&(this.key=process.env.RESEND_API_KEY),!this.key))throw Error('Missing API key. Pass it to the constructor `new Resend("re_123")`');this.headers=new Headers({Authorization:`Bearer ${this.key}`,"User-Agent":wz,"Content-Type":"application/json"})}fetchRequest(e){return wO(this,arguments,function*(e,t={}){try{let r=yield fetch(`${wD}${e}`,t);if(!r.ok)try{let e=yield r.text();return{data:null,error:JSON.parse(e)}}catch(t){if(t instanceof SyntaxError)return{data:null,error:{name:"application_error",message:"Internal server error. We are unable to process your request right now, please try again later."}};let e={message:r.statusText,name:"application_error"};if(t instanceof Error)return{data:null,error:wS(wk({},e),{message:t.message})};return{data:null,error:e}}return{data:yield r.json(),error:null}}catch(e){return{data:null,error:{name:"application_error",message:"Unable to fetch data. The request could not be resolved."}}}})}post(e,t){return wO(this,arguments,function*(e,t,r={}){let i=new Headers(this.headers);if(r.headers)for(let[e,t]of new Headers(r.headers).entries())i.set(e,t);r.idempotencyKey&&i.set("Idempotency-Key",r.idempotencyKey);let n=wS(wk({method:"POST",body:JSON.stringify(t)},r),{headers:i});return this.fetchRequest(e,n)})}get(e){return wO(this,arguments,function*(e,t={}){let r=new Headers(this.headers);if(t.headers)for(let[e,i]of new Headers(t.headers).entries())r.set(e,i);let i=wS(wk({method:"GET"},t),{headers:r});return this.fetchRequest(e,i)})}put(e,t){return wO(this,arguments,function*(e,t,r={}){let i=new Headers(this.headers);if(r.headers)for(let[e,t]of new Headers(r.headers).entries())i.set(e,t);let n=wS(wk({method:"PUT",body:JSON.stringify(t)},r),{headers:i});return this.fetchRequest(e,n)})}patch(e,t){return wO(this,arguments,function*(e,t,r={}){let i=new Headers(this.headers);if(r.headers)for(let[e,t]of new Headers(r.headers).entries())i.set(e,t);let n=wS(wk({method:"PATCH",body:JSON.stringify(t)},r),{headers:i});return this.fetchRequest(e,n)})}delete(e,t){return wO(this,null,function*(){let r={method:"DELETE",body:JSON.stringify(t),headers:this.headers};return this.fetchRequest(e,r)})}}(wm.RESEND_API_KEY),{POST:wM,GET:wq}=function(e){let t=async t=>"handler"in e?e.handler(t):e(t);return{GET:t,POST:t}}((e=>{let t=bH(e),{api:r}=gV(t,e),i=e.plugins?.reduce((e,t)=>t.$ERROR_CODES?{...e,...t.$ERROR_CODES}:e,{});return{handler:async r=>{let i=await t,n=i.options.basePath||"/api/auth";if(!i.options.baseURL){let e=pN(void 0,n,r);if(e)i.baseURL=e,i.options.baseURL=pU(i.baseURL)||void 0;else throw new pa("Could not get base URL from request. Please provide a valid base URL.")}i.trustedOrigins=[...e.trustedOrigins?Array.isArray(e.trustedOrigins)?e.trustedOrigins:await e.trustedOrigins(r):[],i.options.baseURL];let{handler:a}=((e,t)=>{let{api:r,middlewares:i}=gV(e,t),n=new URL(e.baseURL).pathname;return((e,t)=>{if(!t?.openapi?.disabled){let r={path:"/api/reference",...t?.openapi};e.openapi=H(r.path,{method:"GET"},async t=>new Response(((e,t)=>`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(e)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${t?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(t.logo)}`:void 0} ,
	   	theme: ${t?.theme||"saturn"},
        metaData: {
			title: ${t?.title||"Open API Reference"},
			description: ${t?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`)(await t3(e),r.scalar),{headers:{"Content-Type":"text/html"}}))}let r=O(),i=O();for(let t of Object.values(e))if(!(!t.options||t.options?.metadata?.SERVER_ONLY))for(let e of Array.isArray(t.options?.method)?t.options.method:[t.options?.method])T(r,e,t.path,t);if(t?.routerMiddleware?.length)for(let{path:e,middleware:r}of t.routerMiddleware)T(i,"*",e,r);let n=async e=>{let n=new URL(e.url),a=t?.basePath?n.pathname.split(t.basePath).reduce((e,r,i)=>(0!==i&&(i>1?e.push(`${t.basePath}${r}`):e.push(r)),e),[]).join(""):n.pathname;if(!a?.length)return new Response(null,{status:404,statusText:"Not Found"});let o=function(e,t="",r,i){"/"===r[r.length-1]&&(r=r.slice(0,-1));let n=e.static[r];if(n&&n.methods){let e=n.methods[t]||n.methods[""];if(void 0!==e)return e[0]}let a=E(r),o=function e(t,r,i,n,a){if(a===n.length){if(r.methods){let e=r.methods[i]||r.methods[""];if(e)return e}if(r.param&&r.param.methods){let e=r.param.methods[i]||r.param.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[i]||r.wildcard.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}return}let o=n[a];if(r.static){let s=r.static[o];if(s){let r=e(t,s,i,n,a+1);if(r)return r}}if(r.param){let o=e(t,r.param,i,n,a+1);if(o)return o}if(r.wildcard&&r.wildcard.methods)return r.wildcard.methods[i]||r.wildcard.methods[""]}(e,e.root,t,a,0)?.[0];if(void 0!==o)return{data:o.data,params:o.paramsMap?I(a,o.paramsMap):void 0}}(r,e.method,a);if(!o?.data)return new Response(null,{status:404,statusText:"Not Found"});let s={};n.searchParams.forEach((e,t)=>{t in s?Array.isArray(s[t])?s[t].push(e):s[t]=[s[t],e]:s[t]=e});let l=o.data,u={path:a,method:e.method,headers:e.headers,params:o.params?JSON.parse(JSON.stringify(o.params)):{},request:e,body:l.options.disableBody?void 0:await j(l.options.cloneRequest?e.clone():e),query:s,_flag:"router",asResponse:!0,context:t?.routerContext};try{let e=function(e,t="",r,i){"/"===r[r.length-1]&&(r=r.slice(0,-1));let n=E(r);return(function e(t,r,i,n,a,o=[]){let s=n[a];if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[i]||r.wildcard.methods[""];e&&o.push(...e)}if(r.param&&(e(t,r.param,i,n,a+1,o),a===n.length&&r.param.methods)){let e=r.param.methods[i]||r.param.methods[""];e&&o.push(...e)}let l=r.static?.[s];if(l&&e(t,l,i,n,a+1,o),a===n.length&&r.methods){let e=r.methods[i]||r.methods[""];e&&o.push(...e)}return o})(e,e.root,t,n,0).map(e=>({data:e.data,params:e.paramsMap?I(n,e.paramsMap):void 0}))}(i,"*",a);if(e?.length)for(let{data:t,params:r}of e){let e=await t({...u,params:r,asResponse:!1});if(e instanceof Response)return e}return await l(u)}catch(e){if(t?.onError)try{let r=await t.onError(e);if(r instanceof Response)return N(r)}catch(e){if(R(e))return N(e);throw e}if(t?.throwError)throw e;if(R(e))return N(e);return console.error("# SERVER_ERROR: ",e),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async e=>{let r=await t?.onRequest?.(e);if(r instanceof Response)return r;let i=r instanceof Request?r:e,a=await n(i),o=await t?.onResponse?.(a);return o instanceof Response?o:a},endpoints:e}})(r,{routerContext:e,openapi:{disabled:!0},basePath:n,routerMiddleware:[{path:"/**",middleware:hQ},...i],async onRequest(t){let r=e.options.disabledPaths||[],i=new URL(t.url).pathname.replace(n,"");if(r.includes(i))return new Response("Not Found",{status:404});for(let r of e.options.plugins||[])if(r.onRequest){let i=await r.onRequest(t,e);if(i&&"response"in i)return i.response}return gq(t,e)},async onResponse(t){for(let r of e.options.plugins||[])if(r.onResponse){let i=await r.onResponse(t,e);if(i)return i.response}return t},onError(r){if(r instanceof P&&"FOUND"===r.status)return;if(t.onAPIError?.throw)throw r;if(t.onAPIError?.onError)return void t.onAPIError.onError(r,e);let i=t.logger?.level,n="error"===i||"warn"===i||"debug"===i?pP:void 0;if(t.logger?.disabled!==!0){if(r&&"object"==typeof r&&"message"in r&&"string"==typeof r.message&&(r.message.includes("no column")||r.message.includes("column")||r.message.includes("relation")||r.message.includes("table")||r.message.includes("does not exist")))return void e.logger?.error(r.message);r instanceof P?("INTERNAL_SERVER_ERROR"===r.status&&e.logger.error(r.status,r),n?.error(r.message)):e.logger?.error(r&&"object"==typeof r&&"name"in r?r.name:"",r)}}})})(i,e);return a(r)},api:r,options:e,$context:t,$Infer:{},$ERROR_CODES:{...i,...pW}}})({database:((e,t)=>{let r=null,i=e=>({getFieldName:r})=>{let i=(e,t)=>{if(e&&t)return e.reduce((e,i)=>({...e,[r({model:t,field:i})]:!0}),{})};function n(e){switch(e){case"starts_with":return"startsWith";case"ends_with":return"endsWith";case"ne":return"not";case"not_in":return"notIn";default:return e}}let a=(e,t)=>{if(!t||!t.length)return{};if(1===t.length){let i=t[0];if(!i)return;return{[r({model:e,field:i.field})]:"eq"!==i.operator&&i.operator?{[n(i.operator)]:i.value}:i.value}}let i=t.filter(e=>"AND"===e.connector||!e.connector),a=t.filter(e=>"OR"===e.connector),o=i.map(t=>({[r({model:e,field:t.field})]:"eq"!==t.operator&&t.operator?{[n(t.operator)]:t.value}:t.value})),s=a.map(t=>({[r({model:e,field:t.field})]:"eq"!==t.operator&&t.operator?{[n(t.operator)]:t.value}:t.value}));return{...o.length?{AND:o}:{},...s.length?{OR:s}:{}}};return{async create({model:t,data:r,select:n}){if(!e[t])throw new pa(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[t].create({data:r,select:i(n,t)})},async findOne({model:t,where:r,select:n}){let o=a(t,r);if(!e[t])throw new pa(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[t].findFirst({where:o,select:i(n,t)})},async findMany({model:t,where:i,limit:n,offset:o,sortBy:s}){let l=a(t,i);if(!e[t])throw new pa(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[t].findMany({where:l,take:n||100,skip:o||0,...s?.field?{orderBy:{[r({model:t,field:s.field})]:"desc"===s.direction?"desc":"asc"}}:{}})},async count({model:t,where:r}){let i=a(t,r);if(!e[t])throw new pa(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[t].count({where:i})},async update({model:t,where:r,update:i}){if(!e[t])throw new pa(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let n=a(t,r);return await e[t].update({where:n,data:i})},async updateMany({model:t,where:r,update:i}){let n=a(t,r),o=await e[t].updateMany({where:n,data:i});return o?o.count:0},async delete({model:t,where:r}){let i=a(t,r);try{await e[t].delete({where:i})}catch(e){}},async deleteMany({model:t,where:r}){let i=a(t,r),n=await e[t].deleteMany({where:i});return n?n.count:0},options:t}},n=null;n={config:{adapterId:"prisma",adapterName:"Prisma Adapter",usePlural:t.usePlural??!1,debugLogs:t.debugLogs??!1,transaction:!!t.transaction&&(t=>e.$transaction(e=>t(bf({config:n.config,adapter:i(e)})(r))))},adapter:i(e)};let a=bf(n);return e=>(r=e,a(e))})(bQ,{provider:"postgresql"}),socialProviders:{github:{clientId:wm.GITHUB_CLIENT_ID,clientSecret:wm.GIHUB_SECRET}},plugins:[(e=>{let t={expiresIn:300,generateOTP:()=>b9(e),storeOTP:"plain",...e},r={OTP_EXPIRED:"otp expired",INVALID_OTP:"Invalid OTP",INVALID_EMAIL:"Invalid email",USER_NOT_FOUND:"User not found",TOO_MANY_ATTEMPTS:"Too many attempts"};async function i(e,r){return"encrypted"===t.storeOTP?await hi({key:e.context.secret,data:r}):"hashed"===t.storeOTP?await b2(r):"object"==typeof t.storeOTP&&"hash"in t.storeOTP?await t.storeOTP.hash(r):"object"==typeof t.storeOTP&&"encrypt"in t.storeOTP?await t.storeOTP.encrypt(r):r}async function n(e,r,i){return"encrypted"===t.storeOTP?await hn({key:e.context.secret,data:r})===i:"hashed"===t.storeOTP?await b2(i)===r:"object"==typeof t.storeOTP&&"hash"in t.storeOTP?await t.storeOTP.hash(i)===r:"object"==typeof t.storeOTP&&"decrypt"in t.storeOTP?await t.storeOTP.decrypt(r)===i:i===r}let a={sendVerificationOTP:pH("/email-otp/send-verification-otp",{method:"POST",body:cZ({email:uO({}).meta({description:"Email address to send the OTP"}),type:de(b3).meta({description:"Type of the OTP"})}),metadata:{openapi:{description:"Send verification OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async n=>{if(!e?.sendVerificationOTP)throw n.context.logger.error("send email verification is not implemented"),new P("BAD_REQUEST",{message:"send email verification is not implemented"});let a=n.body.email;if(!b8.test(a))throw n.error("BAD_REQUEST",{message:r.INVALID_EMAIL});if(t.disableSignUp){if(!await n.context.internalAdapter.findUserByEmail(a))throw new P("BAD_REQUEST",{message:r.USER_NOT_FOUND})}else if("forget-password"===n.body.type&&!await n.context.internalAdapter.findUserByEmail(a))return n.json({success:!0});let o=t.generateOTP({email:a,type:n.body.type},n.request)||b9(t),s=await i(n,o);return await n.context.internalAdapter.createVerificationValue({value:`${s}:0`,identifier:`${n.body.type}-otp-${a}`,expiresAt:pn(t.expiresIn,"sec")},n).catch(async e=>{await n.context.internalAdapter.deleteVerificationByIdentifier(`${n.body.type}-otp-${a}`),await n.context.internalAdapter.createVerificationValue({value:`${s}:0`,identifier:`${n.body.type}-otp-${a}`,expiresAt:pn(t.expiresIn,"sec")},n)}),await e.sendVerificationOTP({email:a,otp:o,type:n.body.type},n.request),n.json({success:!0})})};return{id:"email-otp",init(e){if(t.overrideDefaultEmailVerification)return{options:{emailVerification:{async sendVerificationEmail(t,r){await a.sendVerificationOTP({context:e,request:r,body:{email:t.user.email,type:"email-verification"},ctx:e})}}}}},endpoints:{...a,createVerificationOTP:pH("/email-otp/create-verification-otp",{method:"POST",body:cZ({email:uO({}).meta({description:"Email address to send the OTP"}),type:de(b3).meta({required:!0,description:"Type of the OTP"})}),metadata:{SERVER_ONLY:!0,openapi:{description:"Create verification OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"string"}}}}}}}},async e=>{let r=e.body.email,n=t.generateOTP({email:r,type:e.body.type},e.request)||b9(t),a=await i(e,n);return await e.context.internalAdapter.createVerificationValue({value:`${a}:0`,identifier:`${e.body.type}-otp-${r}`,expiresAt:pn(t.expiresIn,"sec")},e),n}),getVerificationOTP:pH("/email-otp/get-verification-otp",{method:"GET",query:cZ({email:uO({}).meta({description:"Email address the OTP was sent to"}),type:de(b3).meta({required:!0,description:"Type of the OTP"})}),metadata:{SERVER_ONLY:!0,openapi:{description:"Get verification OTP",responses:{200:{description:"OTP retrieved successfully or not found/expired",content:{"application/json":{schema:{type:"object",properties:{otp:{type:"string",nullable:!0,description:"The stored OTP, or null if not found or expired"}},required:["otp"]}}}}}}}},async e=>{let r=e.query.email,i=await e.context.internalAdapter.findVerificationValue(`${e.query.type}-otp-${r}`);if(!i||i.expiresAt<new Date)return e.json({otp:null});if("hashed"===t.storeOTP||"object"==typeof t.storeOTP&&"hash"in t.storeOTP)throw new P("BAD_REQUEST",{message:"OTP is hashed, cannot return the plain text OTP"});let[n,a]=b5(i.value),o=n;return"encrypted"===t.storeOTP&&(o=await hn({key:e.context.secret,data:n})),"object"==typeof t.storeOTP&&"decrypt"in t.storeOTP&&(o=await t.storeOTP.decrypt(n)),e.json({otp:o})}),checkVerificationOTP:pH("/email-otp/check-verification-otp",{method:"POST",body:cZ({email:uO().meta({description:"Email address the OTP was sent to"}),type:de(b3).meta({required:!0,description:"Type of the OTP"}),otp:uO().meta({required:!0,description:"OTP to verify"})}),metadata:{openapi:{description:"Check if a verification OTP is valid",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async t=>{let i=t.body.email;if(!b8.test(i))throw new P("BAD_REQUEST",{message:r.INVALID_EMAIL});if(!await t.context.internalAdapter.findUserByEmail(i))throw new P("BAD_REQUEST",{message:r.USER_NOT_FOUND});let a=await t.context.internalAdapter.findVerificationValue(`${t.body.type}-otp-${i}`);if(!a)throw new P("BAD_REQUEST",{message:r.INVALID_OTP});if(a.expiresAt<new Date)throw await t.context.internalAdapter.deleteVerificationValue(a.id),new P("BAD_REQUEST",{message:r.OTP_EXPIRED});let[o,s]=b5(a.value),l=e?.allowedAttempts||3;if(s&&parseInt(s)>=l)throw await t.context.internalAdapter.deleteVerificationValue(a.id),new P("FORBIDDEN",{message:r.TOO_MANY_ATTEMPTS});if(!await n(t,o,t.body.otp))throw await t.context.internalAdapter.updateVerificationValue(a.id,{value:`${o}:${parseInt(s||"0")+1}`}),new P("BAD_REQUEST",{message:r.INVALID_OTP});return t.json({success:!0})}),verifyEmailOTP:pH("/email-otp/verify-email",{method:"POST",body:cZ({email:uO({}).meta({description:"Email address to verify"}),otp:uO().meta({required:!0,description:"OTP to verify"})}),metadata:{openapi:{description:"Verify email with OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the verification was successful",enum:[!0]},token:{type:"string",nullable:!0,description:"Session token if autoSignInAfterVerification is enabled, otherwise null"},user:{$ref:"#/components/schemas/User"},required:["status","token","user"]}}}}}}}}},async t=>{let i=t.body.email;if(!b8.test(i))throw new P("BAD_REQUEST",{message:r.INVALID_EMAIL});let a=await t.context.internalAdapter.findVerificationValue(`email-verification-otp-${i}`);if(!a)throw new P("BAD_REQUEST",{message:r.INVALID_OTP});if(a.expiresAt<new Date)throw new P("BAD_REQUEST",{message:r.OTP_EXPIRED});let[o,s]=b5(a.value),l=e?.allowedAttempts||3;if(s&&parseInt(s)>=l)throw await t.context.internalAdapter.deleteVerificationValue(a.id),new P("FORBIDDEN",{message:r.TOO_MANY_ATTEMPTS});if(!await n(t,o,t.body.otp))throw await t.context.internalAdapter.updateVerificationValue(a.id,{value:`${o}:${parseInt(s||"0")+1}`}),new P("BAD_REQUEST",{message:r.INVALID_OTP});await t.context.internalAdapter.deleteVerificationValue(a.id);let u=await t.context.internalAdapter.findUserByEmail(i);if(!u)throw new P("BAD_REQUEST",{message:r.USER_NOT_FOUND});let c=await t.context.internalAdapter.updateUser(u.user.id,{email:i,emailVerified:!0},t);if(await t.context.options.emailVerification?.onEmailVerification?.(c,t.request),t.context.options.emailVerification?.autoSignInAfterVerification){let e=await t.context.internalAdapter.createSession(c.id,t);return await pJ(t,{session:e,user:c}),t.json({status:!0,token:e.token,user:{id:c.id,email:c.email,emailVerified:c.emailVerified,name:c.name,image:c.image,createdAt:c.createdAt,updatedAt:c.updatedAt}})}return t.json({status:!0,token:null,user:{id:c.id,email:c.email,emailVerified:c.emailVerified,name:c.name,image:c.image,createdAt:c.createdAt,updatedAt:c.updatedAt}})}),signInEmailOTP:pH("/sign-in/email-otp",{method:"POST",body:cZ({email:uO({}).meta({description:"Email address to sign in"}),otp:uO().meta({required:!0,description:"OTP sent to the email"})}),metadata:{openapi:{description:"Sign in with OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Session token for the authenticated session"},user:{$ref:"#/components/schemas/User"}},required:["token","user"]}}}}}}}},async i=>{let a=i.body.email,o=await i.context.internalAdapter.findVerificationValue(`sign-in-otp-${a}`);if(!o)throw new P("BAD_REQUEST",{message:r.INVALID_OTP});if(o.expiresAt<new Date)throw new P("BAD_REQUEST",{message:r.OTP_EXPIRED});let[s,l]=b5(o.value),u=e?.allowedAttempts||3;if(l&&parseInt(l)>=u)throw await i.context.internalAdapter.deleteVerificationValue(o.id),new P("FORBIDDEN",{message:r.TOO_MANY_ATTEMPTS});if(!await n(i,s,i.body.otp))throw await i.context.internalAdapter.updateVerificationValue(o.id,{value:`${s}:${parseInt(l||"0")+1}`}),new P("BAD_REQUEST",{message:r.INVALID_OTP});await i.context.internalAdapter.deleteVerificationValue(o.id);let c=await i.context.internalAdapter.findUserByEmail(a);if(!c){if(t.disableSignUp)throw new P("BAD_REQUEST",{message:r.USER_NOT_FOUND});let e=await i.context.internalAdapter.createUser({email:a,emailVerified:!0,name:""},i),n=await i.context.internalAdapter.createSession(e.id,i);return await pJ(i,{session:n,user:e}),i.json({token:n.token,user:{id:e.id,email:e.email,emailVerified:e.emailVerified,name:e.name,image:e.image,createdAt:e.createdAt,updatedAt:e.updatedAt}})}c.user.emailVerified||await i.context.internalAdapter.updateUser(c.user.id,{emailVerified:!0},i);let d=await i.context.internalAdapter.createSession(c.user.id,i);return await pJ(i,{session:d,user:c.user}),i.json({token:d.token,user:{id:c.user.id,email:c.user.email,emailVerified:c.user.emailVerified,name:c.user.name,image:c.user.image,createdAt:c.user.createdAt,updatedAt:c.user.updatedAt}})}),forgetPasswordEmailOTP:pH("/forget-password/email-otp",{method:"POST",body:cZ({email:uO().meta({description:"Email address to send the OTP"})}),metadata:{openapi:{description:"Send a password reset OTP to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the OTP was sent successfully"}}}}}}}}}},async n=>{let a=n.body.email;if(!await n.context.internalAdapter.findUserByEmail(a))throw new P("BAD_REQUEST",{message:r.USER_NOT_FOUND});let o=t.generateOTP({email:a,type:"forget-password"},n.request)||b9(t),s=await i(n,o);return await n.context.internalAdapter.createVerificationValue({value:`${s}:0`,identifier:`forget-password-otp-${a}`,expiresAt:pn(t.expiresIn,"sec")},n),await e.sendVerificationOTP({email:a,otp:o,type:"forget-password"},n.request),n.json({success:!0})}),resetPasswordEmailOTP:pH("/email-otp/reset-password",{method:"POST",body:cZ({email:uO().meta({description:"Email address to reset the password"}),otp:uO().meta({description:"OTP sent to the email"}),password:uO().meta({description:"New password"})}),metadata:{openapi:{description:"Reset user password with OTP",responses:{200:{description:"Success",contnt:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async t=>{let i=t.body.email,a=await t.context.internalAdapter.findUserByEmail(i,{includeAccounts:!0});if(!a)throw new P("BAD_REQUEST",{message:r.USER_NOT_FOUND});let o=await t.context.internalAdapter.findVerificationValue(`forget-password-otp-${i}`);if(!o)throw new P("BAD_REQUEST",{message:r.INVALID_OTP});if(o.expiresAt<new Date)throw await t.context.internalAdapter.deleteVerificationValue(o.id),new P("BAD_REQUEST",{message:r.OTP_EXPIRED});let[s,l]=b5(o.value),u=e?.allowedAttempts||3;if(l&&parseInt(l)>=u)throw await t.context.internalAdapter.deleteVerificationValue(o.id),new P("FORBIDDEN",{message:r.TOO_MANY_ATTEMPTS});if(!await n(t,s,t.body.otp))throw await t.context.internalAdapter.updateVerificationValue(o.id,{value:`${s}:${parseInt(l||"0")+1}`}),new P("BAD_REQUEST",{message:r.INVALID_OTP});await t.context.internalAdapter.deleteVerificationValue(o.id);let c=await t.context.password.hash(t.body.password);return a.accounts.find(e=>"credential"===e.providerId)?await t.context.internalAdapter.updatePassword(a.user.id,c,t):await t.context.internalAdapter.createAccount({userId:a.user.id,providerId:"credential",accountId:a.user.id,password:c},t),t.context.options.emailAndPassword?.onPasswordReset&&await t.context.options.emailAndPassword.onPasswordReset({user:a.user},t.request),a.user.emailVerified||await t.context.internalAdapter.updateUser(a.user.id,{emailVerified:!0},t),t.json({success:!0})})},hooks:{after:[{matcher:e=>!!(e.path?.startsWith("/sign-up")&&t.sendVerificationOnSignUp),handler:pB(async r=>{let n=await b4(r),a=n?.user.email;if(a){let n=t.generateOTP({email:a,type:r.body.type},r.request)||b9(t),o=await i(r,n);await r.context.internalAdapter.createVerificationValue({value:`${o}:0`,identifier:`email-verification-otp-${a}`,expiresAt:pn(t.expiresIn,"sec")},r),await e.sendVerificationOTP({email:a,otp:n,type:"email-verification"},r.request)}})}]},$ERROR_CODES:r,rateLimit:[{pathMatcher:e=>"/email-otp/send-verification-otp"===e,window:60,max:3},{pathMatcher:e=>"/email-otp/check-verification-otp"===e,window:60,max:3},{pathMatcher:e=>"/email-otp/verify-email"===e,window:60,max:3},{pathMatcher:e=>"/sign-in/email-otp"===e,window:60,max:3}]}})({async sendVerificationOTP({email:e,otp:t}){await wL.emails.send({from:"Sengicarlos <onboarding@resend.dev>",to:[e],subject:"SengiCarlosLMS - Verify your email",html:`<p>Your verification code is: <strong>${t}</strong></p>`})}})]}));var wV=e.i(42687);let wJ=new s.AppRouteRouteModule({definition:{kind:l.RouteKind.APP_ROUTE,page:"/api/auth/[...all]/route",pathname:"/api/auth/[...all]",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/auth/[...all]/route.ts",nextConfigOutput:"",userland:wV}),{workAsyncStorage:wF,workUnitAsyncStorage:wZ,serverHooks:wB}=wJ;function wH(){return(0,u.patchFetch)({workAsyncStorage:wF,workUnitAsyncStorage:wZ})}async function wW(e,t,r){var i;let n="/api/auth/[...all]/route";n=n.replace(/\/index$/,"")||"/";let a=await wJ.prepare(e,t,{srcPage:n,multiZoneDraftMode:!1});if(!a)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:o,params:s,nextConfig:u,isDraftMode:k,prerenderManifest:S,routerServerContext:O,isOnDemandRevalidate:E,revalidateOnlyGenerated:I,resolvedPathname:T}=a,$=(0,p.normalizeAppPath)(n),A=!!(S.dynamicRoutes[$]||S.routes[T]);if(A&&!k){let e=!!S.routes[T],t=S.dynamicRoutes[$];if(t&&!1===t.fallback&&!e)throw new _.NoFallbackError}let P=null;!A||wJ.isDev||k||(P="/index"===(P=T)?"/":P);let j=!0===wJ.isDev||!A,R=A&&!j,N=e.method||"GET",U=(0,d.getTracer)(),C=U.getActiveScopeSpan(),D={params:s,prerenderManifest:S,renderOpts:{experimental:{cacheComponents:!!u.experimental.cacheComponents,authInterrupts:!!u.experimental.authInterrupts},supportsDynamicResponse:j,incrementalCache:(0,c.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:null==(i=u.experimental)?void 0:i.cacheLife,isRevalidate:R,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,i)=>wJ.onRequestError(e,t,i,O)},sharedContext:{buildId:o}},z=new f.NodeNextRequest(e),L=new f.NodeNextResponse(t),M=m.NextRequestAdapter.fromNodeNextRequest(z,(0,m.signalFromNodeResponse)(t));try{let i=async r=>wJ.handle(M,D).finally(()=>{if(!r)return;r.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let i=U.getRootSpanAttributes();if(!i)return;if(i.get("next.span_type")!==h.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${i.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=i.get("next.route");if(n){let e=`${N} ${n}`;r.setAttributes({"next.route":n,"http.route":n,"next.span_name":e}),r.updateName(e)}else r.updateName(`${N} ${e.url}`)}),a=async a=>{var o,s;let d=async({previousCacheEntry:o})=>{try{if(!(0,c.getRequestMeta)(e,"minimalMode")&&E&&I&&!o)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await i(a);e.fetchMetrics=D.renderOpts.fetchMetrics;let s=D.renderOpts.pendingWaitUntil;s&&r.waitUntil&&(r.waitUntil(s),s=void 0);let l=D.renderOpts.collectedTags;if(!A)return await (0,y.sendResponse)(z,L,n,D.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,v.toNodeOutgoingHttpHeaders)(n.headers);l&&(t[w.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==D.renderOpts.collectedRevalidate&&!(D.renderOpts.collectedRevalidate>=w.INFINITE_CACHE)&&D.renderOpts.collectedRevalidate,i=void 0===D.renderOpts.collectedExpire||D.renderOpts.collectedExpire>=w.INFINITE_CACHE?void 0:D.renderOpts.collectedExpire;return{value:{kind:x.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:i}}}}catch(t){throw(null==o?void 0:o.isStale)&&await wJ.onRequestError(e,t,{routerKind:"App Router",routePath:n,routeType:"route",revalidateReason:(0,g.getRevalidateReason)({isRevalidate:R,isOnDemandRevalidate:E})},O),t}},p=await wJ.handleResponse({req:e,nextConfig:u,cacheKey:P,routeKind:l.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:S,isRoutePPREnabled:!1,isOnDemandRevalidate:E,revalidateOnlyGenerated:I,responseGenerator:d,waitUntil:r.waitUntil});if(!A)return null;if((null==p||null==(o=p.value)?void 0:o.kind)!==x.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==p||null==(s=p.value)?void 0:s.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,c.getRequestMeta)(e,"minimalMode")||t.setHeader("x-nextjs-cache",E?"REVALIDATED":p.isMiss?"MISS":p.isStale?"STALE":"HIT"),k&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let f=(0,v.fromNodeOutgoingHttpHeaders)(p.value.headers);return(0,c.getRequestMeta)(e,"minimalMode")&&A||f.delete(w.NEXT_CACHE_TAGS_HEADER),!p.cacheControl||t.getHeader("Cache-Control")||f.get("Cache-Control")||f.set("Cache-Control",(0,b.getCacheControlHeader)(p.cacheControl)),await (0,y.sendResponse)(z,L,new Response(p.value.body,{headers:f,status:p.value.status||200})),null};C?await a(C):await U.withPropagatedContext(e.headers,()=>U.trace(h.BaseServerSpan.handleRequest,{spanName:`${N} ${e.url}`,kind:d.SpanKind.SERVER,attributes:{"http.method":N,"http.target":e.url}},a))}catch(t){if(t instanceof _.NoFallbackError||await wJ.onRequestError(e,t,{routerKind:"App Router",routePath:$,routeType:"route",revalidateReason:(0,g.getRevalidateReason)({isRevalidate:R,isOnDemandRevalidate:E})}),A)throw t;return await (0,y.sendResponse)(z,L,new Response(null,{status:500})),null}}}];

//# sourceMappingURL=_8f2f3b72._.js.map
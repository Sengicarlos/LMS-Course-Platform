module.exports=[68346,(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b)=>()=>(a&&(b=a(a=0)),b),k=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),l=(a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})},m=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},n=(a,b,c)=>(c=null!=a?d(h(a)):{},m(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),o=k((a,b)=>{b.exports=(a,b=process.argv)=>{let c=a.startsWith("-")?"":1===a.length?"-":"--",d=b.indexOf(c+a),e=b.indexOf("--");return -1!==d&&(-1===e||d<e)}}),p=k((b,c)=>{var d,e=a.r(60526),f=a.r(9656),g=o(),{env:h}=process;function i(a){return 0!==a&&{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function j(a,b){if(0===d)return 0;if(g("color=16m")||g("color=full")||g("color=truecolor"))return 3;if(g("color=256"))return 2;if(a&&!b&&void 0===d)return 0;let c=d||0;if("dumb"===h.TERM)return c;{let a=e.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}}g("no-color")||g("no-colors")||g("color=false")||g("color=never")?d=0:(g("color")||g("colors")||g("color=true")||g("color=always"))&&(d=1),"FORCE_COLOR"in h&&(d="true"===h.FORCE_COLOR?1:"false"===h.FORCE_COLOR?0:0===h.FORCE_COLOR.length?1:Math.min(parseInt(h.FORCE_COLOR,10),3)),c.exports={supportsColor:function(a){return i(j(a,a&&a.isTTY))},stdout:i(j(!0,f.isatty(1))),stderr:i(j(!0,f.isatty(2)))}}),q=k((a,b)=>{var c=p(),d=o();function e(a){let{CI:b,FORCE_HYPERLINK:e,NETLIFY:f,TEAMCITY_VERSION:g,TERM_PROGRAM:h,TERM_PROGRAM_VERSION:i,VTE_VERSION:j,TERM:k}=process.env;return e?!(e.length>0&&0===parseInt(e,10)):!(d("no-hyperlink")||d("no-hyperlinks")||d("hyperlink=false")||d("hyperlink=never"))&&(!!(d("hyperlink=true")||d("hyperlink=always"))||!!f||!!c.supportsColor(a)&&(!a||!!a.isTTY)&&"WT_SESSION"in process.env)}b.exports={supportsHyperlink:e,stdout:e(process.stdout),stderr:e(process.stderr)}}),r=k((a,b)=>{b.exports={name:"@prisma/internals",version:"6.17.1",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac","@prisma/schema-engine-wasm":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),s=k((a,b)=>{b.exports={name:"@prisma/engines-version",version:"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"272a37d34178c2894197e17273bf937f25acdeac"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),t=k(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.enginesVersion=void 0,a.enginesVersion=s().prisma.enginesVersion}),u=k((a,b)=>{b.exports=a=>{let b=a.match(/^[ \t]*(?=\S)/gm);return b?b.reduce((a,b)=>Math.min(a,b.length),1/0):0}}),v=k((a,b)=>{b.exports=(a,b=1,c)=>{if(c={indent:" ",includeEmptyLines:!1,...c},"string"!=typeof a)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof a}\``);if("number"!=typeof b)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof b}\``);if("string"!=typeof c.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof c.indent}\``);if(0===b)return a;let d=c.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return a.replace(d,c.indent.repeat(b))}}),w=k((a,b)=>{b.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),x=k((b,c)=>{var d=a.r(2157),e=a.r(50227),f=a.r(60526),g=a.r(66680),h=w().version,i=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function j(a){console.log(`[dotenv@${h}][DEBUG] ${a}`)}function k(a){return a&&a.DOTENV_KEY&&a.DOTENV_KEY.length>0?a.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function l(a){let b=null;if(a&&a.path&&a.path.length>0)if(Array.isArray(a.path))for(let c of a.path)d.existsSync(c)&&(b=c.endsWith(".vault")?c:`${c}.vault`);else b=a.path.endsWith(".vault")?a.path:`${a.path}.vault`;else b=e.resolve(process.cwd(),".env.vault");return d.existsSync(b)?b:null}function m(a){return"~"===a[0]?e.join(f.homedir(),a.slice(1)):a}var n={configDotenv:function(a){let b=e.resolve(process.cwd(),".env"),c="utf8",f=!!(a&&a.debug);a&&a.encoding?c=a.encoding:f&&j("No encoding is specified. UTF-8 is used by default");let g=[b];if(a&&a.path)if(Array.isArray(a.path))for(let b of(g=[],a.path))g.push(m(b));else g=[m(a.path)];let h,i={};for(let b of g)try{let e=n.parse(d.readFileSync(b,{encoding:c}));n.populate(i,e,a)}catch(a){f&&j(`Failed to load ${b} ${a.message}`),h=a}let k=process.env;return a&&null!=a.processEnv&&(k=a.processEnv),n.populate(k,i,a),h?{parsed:i,error:h}:{parsed:i}},_configVault:function(a){a&&a.debug&&j("Loading env from encrypted .env.vault");let b=n._parseVault(a),c=process.env;return a&&null!=a.processEnv&&(c=a.processEnv),n.populate(c,b,a),{parsed:b}},_parseVault:function(a){let b=l(a),c=n.configDotenv({path:b});if(!c.parsed){let a=Error(`MISSING_DATA: Cannot parse ${b} for an unknown reason`);throw a.code="MISSING_DATA",a}let d=k(a).split(","),e=d.length,f;for(let a=0;a<e;a++)try{let b=d[a].trim(),e=function(a,b){let c;try{c=new URL(b)}catch(a){if("ERR_INVALID_URL"===a.code){let a=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw a.code="INVALID_DOTENV_KEY",a}throw a}let d=c.password;if(!d){let a=Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let e=c.searchParams.get("environment");if(!e){let a=Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let f=`DOTENV_VAULT_${e.toUpperCase()}`,g=a.parsed[f];if(!g){let a=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${f} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:g,key:d}}(c,b);f=n.decrypt(e.ciphertext,e.key);break}catch(b){if(a+1>=e)throw b}return n.parse(f)},config:function(a){var b;if(0===k(a).length)return n.configDotenv(a);let c=l(a);return c?n._configVault(a):(b=`You set DOTENV_KEY but you are missing a .env.vault file at ${c}. Did you forget to build it?`,console.log(`[dotenv@${h}][WARN] ${b}`),n.configDotenv(a))},decrypt:function(a,b){let c=Buffer.from(b.slice(-64),"hex"),d=Buffer.from(a,"base64"),e=d.subarray(0,12),f=d.subarray(-16);d=d.subarray(12,-16);try{let a=g.createDecipheriv("aes-256-gcm",c,e);return a.setAuthTag(f),`${a.update(d)}${a.final()}`}catch(d){let a=d instanceof RangeError,b="Invalid key length"===d.message,c="Unsupported state or unable to authenticate data"===d.message;if(a||b){let a=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw a.code="INVALID_DOTENV_KEY",a}if(c){let a=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw a.code="DECRYPTION_FAILED",a}throw d}},parse:function(a){let b,c={},d=a.toString();for(d=d.replace(/\r\n?/mg,`
`);null!=(b=i.exec(d));){let a=b[1],d=b[2]||"",e=(d=d.trim())[0];d=d.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===e&&(d=(d=d.replace(/\\n/g,`
`)).replace(/\\r/g,"\r")),c[a]=d}return c},populate:function(a,b,c={}){let d=!!(c&&c.debug),e=!!(c&&c.override);if("object"!=typeof b){let a=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw a.code="OBJECT_REQUIRED",a}for(let c of Object.keys(b))Object.prototype.hasOwnProperty.call(a,c)?(!0===e&&(a[c]=b[c]),d&&j(!0===e?`"${c}" is already defined and WAS overwritten`:`"${c}" is already defined and was NOT overwritten`)):a[c]=b[c]}};c.exports.configDotenv=n.configDotenv,c.exports._configVault=n._configVault,c.exports._parseVault=n._parseVault,c.exports.config=n.config,c.exports.decrypt=n.decrypt,c.exports.parse=n.parse,c.exports.populate=n.populate,c.exports=n}),y=k((a,b)=>{b.exports=(a={})=>{let b;if(a.repoUrl)b=a.repoUrl;else if(a.user&&a.repo)b=`https://github.com/${a.user}/${a.repo}`;else throw Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let c=new URL(`${b}/issues/new`);for(let b of["body","title","labels","template","milestone","assignee","projects"]){let d=a[b];if(void 0!==d){if("labels"===b||"projects"===b){if(!Array.isArray(d))throw TypeError(`The \`${b}\` option should be an array`);d=d.join(",")}c.searchParams.set(b,d)}}return c.toString()},b.exports.default=b.exports}),z=k((a,b)=>{b.exports=function(){function a(a,b,c,d,e){return a<b||c<b?a>c?c+1:a+1:d===e?b:b+1}return function(b,c){if(b===c)return 0;if(b.length>c.length){var d=b;b=c,c=d}for(var e=b.length,f=c.length;e>0&&b.charCodeAt(e-1)===c.charCodeAt(f-1);)e--,f--;for(var g=0;g<e&&b.charCodeAt(g)===c.charCodeAt(g);)g++;if(e-=g,f-=g,0===e||f<3)return f;var h,i,j,k,l,m,n,o,p,q,r,s,t=0,u=[];for(h=0;h<e;h++)u.push(h+1),u.push(b.charCodeAt(g+h));for(var v=u.length-1;t<f-3;)for(p=c.charCodeAt(g+(i=t)),q=c.charCodeAt(g+(j=t+1)),r=c.charCodeAt(g+(k=t+2)),s=c.charCodeAt(g+(l=t+3)),m=t+=4,h=0;h<v;h+=2)i=a(n=u[h],i,j,p,o=u[h+1]),j=a(i,j,k,q,o),k=a(j,k,l,r,o),m=a(k,l,m,s,o),u[h]=m,l=k,k=j,j=i,i=n;for(;t<f;)for(p=c.charCodeAt(g+(i=t)),m=++t,h=0;h<v;h+=2)n=u[h],u[h]=m=a(n,i,m,p,u[h+1]),i=n;return m}}()}),A=j(()=>{}),B=j(()=>{}),C={};l(C,{DMMF:()=>d4,Debug:()=>au,Decimal:()=>d2,Extensions:()=>D,MetricsClient:()=>e9,PrismaClientInitializationError:()=>cv,PrismaClientKnownRequestError:()=>cw,PrismaClientRustPanicError:()=>cx,PrismaClientUnknownRequestError:()=>cy,PrismaClientValidationError:()=>cz,Public:()=>G,Sql:()=>fm,createParam:()=>eZ,defineDmmfProperty:()=>fa,deserializeJsonResponse:()=>gi,deserializeRawResult:()=>hA,dmmfToRuntimeDataModel:()=>cD,empty:()=>fp,getPrismaClient:()=>hQ,getRuntime:()=>gq,join:()=>fn,makeStrictEnum:()=>hT,makeTypedQueryFactory:()=>ff,objectEnumValues:()=>eM,raw:()=>fo,serializeJsonQuery:()=>e4,skip:()=>e0,sqltag:()=>fq,warnEnvConflicts:()=>hU,warnOnce:()=>cu}),b.exports=m(e({},"__esModule",{value:!0}),C);var D={};function E(a){return"function"==typeof a?a:b=>b.$extends(a)}function F(a){return a}l(D,{defineExtension:()=>E,getExtensionContext:()=>F});var G={};function H(){return a=>a}l(G,{validator:()=>H});var I={};l(I,{$:()=>O,bgBlack:()=>ag,bgBlue:()=>ak,bgCyan:()=>am,bgGreen:()=>ai,bgMagenta:()=>al,bgRed:()=>ah,bgWhite:()=>an,bgYellow:()=>aj,black:()=>Y,blue:()=>aa,bold:()=>R,cyan:()=>ac,dim:()=>S,gray:()=>ae,green:()=>$,grey:()=>af,hidden:()=>W,inverse:()=>V,italic:()=>T,magenta:()=>ab,red:()=>Z,reset:()=>Q,strikethrough:()=>X,underline:()=>U,white:()=>ad,yellow:()=>_});var J,K,L,M,N=!0;"u">typeof process&&({FORCE_COLOR:J,NODE_DISABLE_COLORS:K,NO_COLOR:L,TERM:M}=process.env||{},N=process.stdout&&process.stdout.isTTY);var O={enabled:!K&&null==L&&"dumb"!==M&&(null!=J&&"0"!==J||N)};function P(a,b){let c=RegExp(`\\x1b\\[${b}m`,"g"),d=`\x1b[${a}m`,e=`\x1b[${b}m`;return function(a){return O.enabled&&null!=a?d+(~(""+a).indexOf(e)?a.replace(c,e+d):a)+e:a}}var Q=P(0,0),R=P(1,22),S=P(2,22),T=P(3,23),U=P(4,24),V=P(7,27),W=P(8,28),X=P(9,29),Y=P(30,39),Z=P(31,39),$=P(32,39),_=P(33,39),aa=P(34,39),ab=P(35,39),ac=P(36,39),ad=P(37,39),ae=P(90,39),af=P(90,39),ag=P(40,49),ah=P(41,49),ai=P(42,49),aj=P(43,49),ak=P(44,49),al=P(45,49),am=P(46,49),an=P(47,49),ao=["green","yellow","blue","magenta","cyan","red"],ap=[],aq=Date.now(),ar=0,as="u">typeof process?process.env:{};globalThis.DEBUG??=as.DEBUG??"",globalThis.DEBUG_COLORS??=!as.DEBUG_COLORS||"true"===as.DEBUG_COLORS;var at={enable(a){"string"==typeof a&&(globalThis.DEBUG=a)},disable(){let a=globalThis.DEBUG;return globalThis.DEBUG="",a},enabled(a){let b=globalThis.DEBUG.split(",").map(a=>a.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),c=b.some(b=>""!==b&&"-"!==b[0]&&a.match(RegExp(b.split("*").join(".*")+"$"))),d=b.some(b=>""!==b&&"-"===b[0]&&a.match(RegExp(b.slice(1).split("*").join(".*")+"$")));return c&&!d},log:(...a)=>{let[b,c,...d]=a;(console.warn??console.log)(`${b} ${c}`,...d)},formatters:{}},au=new Proxy(function(a){let b={color:ao[ar++%ao.length],enabled:at.enabled(a),namespace:a,log:at.log,extend:()=>{}};return new Proxy((...a)=>{let{enabled:c,namespace:d,color:e,log:f}=b;if(0!==a.length&&ap.push([d,...a]),ap.length>100&&ap.shift(),at.enabled(d)||c){let b=a.map(a=>"string"==typeof a?a:function(a,b=2){let c=new Set;return JSON.stringify(a,(a,b)=>{if("object"==typeof b&&null!==b){if(c.has(b))return"[Circular *]";c.add(b)}else if("bigint"==typeof b)return b.toString();return b},b)}(a)),c=`+${Date.now()-aq}ms`;aq=Date.now(),globalThis.DEBUG_COLORS?f(I[e](R(d)),...b,I[e](c)):f(d,...b,c)}},{get:(a,c)=>b[c],set:(a,c,d)=>b[c]=d})},{get:(a,b)=>at[b],set:(a,b,c)=>at[b]=c}),av=n(a.r(2157)),aw="libquery_engine",ax=n(a.r(74533)),ay=n(a.r(12714)),az=n(a.r(60526)),aA=Symbol.for("@ts-pattern/matcher"),aB=Symbol.for("@ts-pattern/isVariadic"),aC="@ts-pattern/anonymous-select-key",aD=a=>!!(a&&"object"==typeof a),aE=a=>a&&!!a[aA],aF=(a,b,c)=>{if(aE(a)){let{matched:d,selections:e}=a[aA]().match(b);return d&&e&&Object.keys(e).forEach(a=>c(a,e[a])),d}if(aD(a)){if(!aD(b))return!1;if(Array.isArray(a)){if(!Array.isArray(b))return!1;let d=[],e=[],f=[];for(let b of a.keys()){let c=a[b];aE(c)&&c[aB]?f.push(c):f.length?e.push(c):d.push(c)}if(f.length){if(f.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(b.length<d.length+e.length)return!1;let a=b.slice(0,d.length),g=0===e.length?[]:b.slice(-e.length),h=b.slice(d.length,0===e.length?1/0:-e.length);return d.every((b,d)=>aF(b,a[d],c))&&e.every((a,b)=>aF(a,g[b],c))&&(0===f.length||aF(f[0],h,c))}return a.length===b.length&&a.every((a,d)=>aF(a,b[d],c))}return Reflect.ownKeys(a).every(d=>{let e=a[d];return(d in b||aE(e)&&"optional"===e[aA]().matcherType)&&aF(e,b[d],c)})}return Object.is(b,a)},aG=a=>{var b,c,d;return aD(a)?aE(a)?null!=(b=null==(c=(d=a[aA]()).getSelectionKeys)?void 0:c.call(d))?b:[]:Array.isArray(a)?aH(a,aG):aH(Object.values(a),aG):[]},aH=(a,b)=>a.reduce((a,c)=>a.concat(b(c)),[]);function aI(a){return Object.assign(a,{optional:()=>{var b;return b=a,aI({[aA]:()=>({match:a=>{let c={},d=(a,b)=>{c[a]=b};return void 0===a?(aG(b).forEach(a=>d(a,void 0)),{matched:!0,selections:c}):{matched:aF(b,a,d),selections:c}},getSelectionKeys:()=>aG(b),matcherType:"optional"})})},and:b=>aJ(a,b),or:b=>(function(...a){return aI({[aA]:()=>({match:b=>{let c={},d=(a,b)=>{c[a]=b};return aH(a,aG).forEach(a=>d(a,void 0)),{matched:a.some(a=>aF(a,b,d)),selections:c}},getSelectionKeys:()=>aH(a,aG),matcherType:"or"})})})(a,b),select:b=>void 0===b?aL(a):aL(b,a)})}function aJ(...a){return aI({[aA]:()=>({match:b=>{let c={},d=(a,b)=>{c[a]=b};return{matched:a.every(a=>aF(a,b,d)),selections:c}},getSelectionKeys:()=>aH(a,aG),matcherType:"and"})})}function aK(a){return{[aA]:()=>({match:b=>({matched:!!a(b)})})}}function aL(...a){let b="string"==typeof a[0]?a[0]:void 0,c=2===a.length?a[1]:"string"==typeof a[0]?void 0:a[0];return aI({[aA]:()=>({match:a=>{let d={[b??aC]:a};return{matched:void 0===c||aF(c,a,(a,b)=>{d[a]=b}),selections:d}},getSelectionKeys:()=>[b??aC].concat(void 0===c?[]:aG(c))})})}function aM(a){return"number"==typeof a}function aN(a){return"string"==typeof a}function aO(a){return"bigint"==typeof a}aI(aK(function(a){return!0}));var aP=a=>Object.assign(aI(a),{startsWith:b=>aP(aJ(a,aK(a=>aN(a)&&a.startsWith(b)))),endsWith:b=>aP(aJ(a,aK(a=>aN(a)&&a.endsWith(b)))),minLength:b=>aP(aJ(a,aK(a=>aN(a)&&a.length>=b))),length:b=>aP(aJ(a,aK(a=>aN(a)&&a.length===b))),maxLength:b=>aP(aJ(a,aK(a=>aN(a)&&a.length<=b))),includes:b=>aP(aJ(a,aK(a=>aN(a)&&a.includes(b)))),regex:b=>aP(aJ(a,aK(a=>aN(a)&&!!a.match(b))))}),aQ=(aP(aK(aN)),a=>Object.assign(aI(a),{between:(b,c)=>aQ(aJ(a,aK(a=>aM(a)&&b<=a&&c>=a))),lt:b=>aQ(aJ(a,aK(a=>aM(a)&&a<b))),gt:b=>aQ(aJ(a,aK(a=>aM(a)&&a>b))),lte:b=>aQ(aJ(a,aK(a=>aM(a)&&a<=b))),gte:b=>aQ(aJ(a,aK(a=>aM(a)&&a>=b))),int:()=>aQ(aJ(a,aK(a=>aM(a)&&Number.isInteger(a)))),finite:()=>aQ(aJ(a,aK(a=>aM(a)&&Number.isFinite(a)))),positive:()=>aQ(aJ(a,aK(a=>aM(a)&&a>0))),negative:()=>aQ(aJ(a,aK(a=>aM(a)&&a<0)))})),aR=(aQ(aK(aM)),a=>Object.assign(aI(a),{between:(b,c)=>aR(aJ(a,aK(a=>aO(a)&&b<=a&&c>=a))),lt:b=>aR(aJ(a,aK(a=>aO(a)&&a<b))),gt:b=>aR(aJ(a,aK(a=>aO(a)&&a>b))),lte:b=>aR(aJ(a,aK(a=>aO(a)&&a<=b))),gte:b=>aR(aJ(a,aK(a=>aO(a)&&a>=b))),positive:()=>aR(aJ(a,aK(a=>aO(a)&&a>0))),negative:()=>aR(aJ(a,aK(a=>aO(a)&&a<0)))}));aR(aK(aO)),aI(aK(function(a){return"boolean"==typeof a})),aI(aK(function(a){return"symbol"==typeof a})),aI(aK(function(a){return null==a})),aI(aK(function(a){return null!=a}));var aS=class extends Error{constructor(a){let b;try{b=JSON.stringify(a)}catch{b=a}super(`Pattern matching error: no pattern matches value ${b}`),this.input=void 0,this.input=a}},aT={matched:!1,value:void 0};function aU(a){return new aV(a,aT)}var aV=class a{constructor(a,b){this.input=void 0,this.state=void 0,this.input=a,this.state=b}with(...b){if(this.state.matched)return this;let c=b[b.length-1],d=[b[0]],e;3===b.length&&"function"==typeof b[1]?e=b[1]:b.length>2&&d.push(...b.slice(1,b.length-1));let f=!1,g={},h=(a,b)=>{f=!0,g[a]=b},i=d.some(a=>aF(a,this.input,h))&&(!e||e(this.input))?{matched:!0,value:c(f?aC in g?g[aC]:g:this.input,this.input)}:aT;return new a(this.input,i)}when(b,c){if(this.state.matched)return this;let d=!!b(this.input);return new a(this.input,d?{matched:!0,value:c(this.input,this.input)}:aT)}otherwise(a){return this.state.matched?this.state.value:a(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new aS(this.input)}run(){return this.exhaustive()}returnType(){return this}},aW=a.r(12057),aX={warn:_("prisma:warn")},aY={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function aZ(a,...b){aY.warn()&&console.warn(`${aX.warn} ${a}`,...b)}var a$=(0,aW.promisify)(ax.default.exec),a_=au("prisma:get-platform"),a0=["1.0.x","1.1.x","3.0.x"];async function a1(){let a=az.default.platform(),b=process.arch;if("freebsd"===a){let a=await bd("freebsd-version");if(a&&a.trim().length>0){let c=/^(\d+)\.?/.exec(a);if(c)return{platform:"freebsd",targetDistro:`freebsd${c[1]}`,arch:b}}}if("linux"!==a)return{platform:a,arch:b};let c=await a2(),d=await be(),e=aU({arch:b,archFromUname:d,familyDistro:c.familyDistro}).with({familyDistro:"musl"},()=>(a_('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:a})=>(a_('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${a}-linux-gnu`,`/lib/${a}-linux-gnu`])).with({familyDistro:"rhel"},()=>(a_('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:a,arch:b,archFromUname:c})=>(a_(`Don't know any platform-specific paths for "${a}" on ${b} (${c})`),[])),{libssl:f}=await a5(e);return{platform:"linux",libssl:f,arch:b,archFromUname:d,...c}}async function a2(){try{var a;let b,c,d,e;return a=await ay.default.readFile("/etc/os-release",{encoding:"utf-8"}),c=(b=/^ID="?([^"\n]*)"?$/im.exec(a))&&b[1]&&b[1].toLowerCase()||"",d=/^ID_LIKE="?([^"\n]*)"?$/im.exec(a),e=aU({id:c,idLike:d&&d[1]&&d[1].toLowerCase()||""}).with({id:"alpine"},({id:a})=>({targetDistro:"musl",familyDistro:a,originalDistro:a})).with({id:"raspbian"},({id:a})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:a})).with({id:"nixos"},({id:a})=>({targetDistro:"nixos",originalDistro:a,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:a})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:a})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:a})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:a})).when(({idLike:a})=>a.includes("debian")||a.includes("ubuntu"),({id:a})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:a})).when(({idLike:a})=>"arch"===c||a.includes("arch"),({id:a})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:a})).when(({idLike:a})=>a.includes("centos")||a.includes("fedora")||a.includes("rhel")||a.includes("suse"),({id:a})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:a})).otherwise(({id:a})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:a})),a_(`Found distro info:
${JSON.stringify(e,null,2)}`),e}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function a3(a){let b=/libssl\.so\.(\d)(\.\d)?/.exec(a);if(b)return a4(`${b[1]}${b[2]??".0"}.x`)}function a4(a){let b=(()=>{if(bf(a))return a;let b=a.split(".");return b[1]="0",b.join(".")})();if(a0.includes(b))return b}async function a5(a){let b=await a6(a);if(b){a_(`Found libssl.so file using platform-specific paths: ${b}`);let a=a3(b);if(a_(`The parsed libssl version is: ${a}`),a)return{libssl:a,strategy:"libssl-specific-path"}}a_('Falling back to "ldconfig" and other generic paths');let c=await bd('ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | grep -v "libssl.so.0"');if(c||(c=await a6(["/lib64","/usr/lib64","/lib","/usr/lib"])),c){a_(`Found libssl.so file using "ldconfig" or other generic paths: ${c}`);let a=a3(c);if(a_(`The parsed libssl version is: ${a}`),a)return{libssl:a,strategy:"ldconfig"}}let d=await bd("openssl version -v");if(d){a_(`Found openssl binary with version: ${d}`);let a=function(a){let b=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(a);if(b)return a4(`${b[1]}.x`)}(d);if(a_(`The parsed openssl version is: ${a}`),a)return{libssl:a,strategy:"openssl-binary"}}return a_("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function a6(a){for(let b of a){let a=await a7(b);if(a)return a}}async function a7(a){try{return(await ay.default.readdir(a)).find(a=>a.startsWith("libssl.so.")&&!a.startsWith("libssl.so.0"))}catch(a){if("ENOENT"===a.code)return;throw a}}async function a8(){let{binaryTarget:a}=await bb();return a}async function a9(){let{memoized:a,...b}=await bb();return b}var ba={};async function bb(){if(void 0!==ba.binaryTarget)return Promise.resolve({...ba,memoized:!0});let a=await a1(),b=function(a){let{platform:b,arch:c,archFromUname:d,libssl:e,targetDistro:f,familyDistro:g,originalDistro:h}=a;"linux"!==b||["x64","arm64"].includes(c)||aZ(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${c}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${d}".`);let i="1.1.x";if("linux"===b&&void 0===e){let a=aU({familyDistro:g}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");aZ(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${i}".
${a}`)}let j="debian";if("linux"===b&&void 0===f&&a_(`Distro is "${h}". Falling back to Prisma engines built for "${j}".`),"darwin"===b&&"arm64"===c)return"darwin-arm64";if("darwin"===b)return"darwin";if("win32"===b)return"windows";if("freebsd"===b)return f;if("openbsd"===b)return"openbsd";if("netbsd"===b)return"netbsd";if("linux"===b&&"nixos"===f)return"linux-nixos";if("linux"===b&&"arm64"===c)return`${"musl"===f?"linux-musl-arm64":"linux-arm64"}-openssl-${e||i}`;if("linux"===b&&"arm"===c)return`linux-arm-openssl-${e||i}`;if("linux"===b&&"musl"===f){let a="linux-musl";return!e||bf(e)?a:`${a}-openssl-${e}`}return"linux"===b&&f&&e?`${f}-openssl-${e}`:("linux"!==b&&aZ(`Prisma detected unknown OS "${b}" and may not work as expected. Defaulting to "linux".`),e?`${j}-openssl-${e}`:f?`${f}-openssl-${i}`:`${j}-openssl-${i}`)}(a);return{...ba={...a,binaryTarget:b},memoized:!1}}async function bc(a){try{return await a()}catch{return}}function bd(a){return bc(async()=>{let b=await a$(a);return a_(`Command "${a}" successfully returned "${b.stdout}"`),b.stdout})}async function be(){return"function"==typeof az.default.machine?az.default.machine():(await bd("uname -m"))?.trim()}function bf(a){return a.startsWith("1.")}var bg={};l(bg,{beep:()=>bO,clearScreen:()=>bK,clearTerminal:()=>bL,cursorBackward:()=>bs,cursorDown:()=>bq,cursorForward:()=>br,cursorGetPosition:()=>bw,cursorHide:()=>bz,cursorLeft:()=>bt,cursorMove:()=>bo,cursorNextLine:()=>bx,cursorPrevLine:()=>by,cursorRestorePosition:()=>bv,cursorSavePosition:()=>bu,cursorShow:()=>bA,cursorTo:()=>bn,cursorUp:()=>bp,enterAlternativeScreen:()=>bM,eraseDown:()=>bF,eraseEndLine:()=>bC,eraseLine:()=>bE,eraseLines:()=>bB,eraseScreen:()=>bH,eraseStartLine:()=>bD,eraseUp:()=>bG,exitAlternativeScreen:()=>bN,iTerm:()=>bR,image:()=>bQ,link:()=>bP,scrollDown:()=>bJ,scrollUp:()=>bI});var bh=n(a.r(59639),1),bi=globalThis.window?.document!==void 0,bj=(globalThis.process?.versions?.node,globalThis.process?.versions?.bun,globalThis.Deno?.version?.deno,globalThis.process?.versions?.electron,globalThis.navigator?.userAgent?.includes("jsdom"),"u">typeof WorkerGlobalScope&&WorkerGlobalScope,"u">typeof DedicatedWorkerGlobalScope&&DedicatedWorkerGlobalScope,"u">typeof SharedWorkerGlobalScope&&SharedWorkerGlobalScope,"u">typeof ServiceWorkerGlobalScope&&ServiceWorkerGlobalScope,globalThis.navigator?.userAgentData?.platform);"macOS"===bj||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform,"Windows"===bj||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform,"Linux"===bj||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform,"iOS"===bj||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),"Android"===bj||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform;var bk=!bi&&"Apple_Terminal"===bh.default.env.TERM_PROGRAM,bl=!bi&&"win32"===bh.default.platform,bm=bi?()=>{throw Error("`process.cwd()` only works in Node.js, not the browser.")}:bh.default.cwd,bn=(a,b)=>{if("number"!=typeof a)throw TypeError("The `x` argument is required");return"number"!=typeof b?"\x1b["+(a+1)+"G":"\x1b["+(b+1)+";"+(a+1)+"H"},bo=(a,b)=>{if("number"!=typeof a)throw TypeError("The `x` argument is required");let c="";return a<0?c+="\x1b["+-a+"D":a>0&&(c+="\x1b["+a+"C"),b<0?c+="\x1b["+-b+"A":b>0&&(c+="\x1b["+b+"B"),c},bp=(a=1)=>"\x1b["+a+"A",bq=(a=1)=>"\x1b["+a+"B",br=(a=1)=>"\x1b["+a+"C",bs=(a=1)=>"\x1b["+a+"D",bt="\x1b[G",bu=bk?"\x1b7":"\x1b[s",bv=bk?"\x1b8":"\x1b[u",bw="\x1b[6n",bx="\x1b[E",by="\x1b[F",bz="\x1b[?25l",bA="\x1b[?25h",bB=a=>{let b="";for(let c=0;c<a;c++)b+=bE+(c<a-1?bp():"");return a&&(b+=bt),b},bC="\x1b[K",bD="\x1b[1K",bE="\x1b[2K",bF="\x1b[J",bG="\x1b[1J",bH="\x1b[2J",bI="\x1b[S",bJ="\x1b[T",bK="\x1bc",bL=bl?`${bH}\x1b[0f`:`${bH}\x1b[3J\x1b[H`,bM="\x1b[?1049h",bN="\x1b[?1049l",bO="\x07",bP=(a,b)=>"\x1b]8;;"+b+"\x07"+a+"\x1b]8;;\x07",bQ=(a,b={})=>{let c=`\x1b]1337;File=inline=1`;return b.width&&(c+=`;width=${b.width}`),b.height&&(c+=`;height=${b.height}`),!1===b.preserveAspectRatio&&(c+=";preserveAspectRatio=0"),c+":"+Buffer.from(a).toString("base64")+"\x07"},bR={setCwd:(a=bm())=>`\x1b]50;CurrentDir=${a}\x07`,annotation(a,b={}){let c=`\x1b]1337;`,d=void 0!==b.x,e=void 0!==b.y;if((d||e)&&!(d&&e&&void 0!==b.length))throw Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return a=a.replaceAll("|",""),c+=b.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",b.length>0?c+=(d?[a,b.length,b.x,b.y]:[b.length,a]).join("|"):c+=a,c+"\x07"}},bS=n(q(),1);function bT(a,b,{target:c="stdout",...d}={}){return bS.default[c]?bg.link(a,b):!1===d.fallback?a:"function"==typeof d.fallback?d.fallback(a,b):`${a} (\u200B${b}\u200B)`}bT.isSupported=bS.default.stdout,bT.stderr=(a,b,c={})=>bT(a,b,{target:"stderr",...c}),bT.stderr.isSupported=bS.default.stderr;var bU=r().version;function bV(a){let b;return("library"===(b=process.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===b?"binary":"client"===b?"client":void 0)||(a?.config.engineType==="library"?"library":a?.config.engineType==="binary"?"binary":a?.config.engineType==="client"?"client":"library")}function bW(a){return"DriverAdapterError"===a.name&&"object"==typeof a.cause}function bX(a){return{ok:!0,value:a,map:b=>bX(b(a)),flatMap:b=>b(a)}}function bY(a){return{ok:!1,error:a,map:()=>bY(a),flatMap:()=>bY(a)}}var bZ=au("driver-adapter-utils"),b$=class{registeredErrors=[];consumeError(a){return this.registeredErrors[a]}registerNewError(a){let b=0;for(;void 0!==this.registeredErrors[b];)b++;return this.registeredErrors[b]={error:a},b}},b_=(a,b=new b$)=>{var c,d;let e={adapterName:a.adapterName,errorRegistry:b,queryRaw:b1(b,a.queryRaw.bind(a)),executeRaw:b1(b,a.executeRaw.bind(a)),executeScript:b1(b,a.executeScript.bind(a)),dispose:b1(b,a.dispose.bind(a)),provider:a.provider,startTransaction:async(...c)=>(await b1(b,a.startTransaction.bind(a))(...c)).map(a=>b0(b,a))};return a.getConnectionInfo&&(c=b,d=a.getConnectionInfo.bind(a),e.getConnectionInfo=(...a)=>{try{return bX(d(...a))}catch(a){if(bZ("[error@wrapSync]",a),bW(a))return bY(a.cause);return bY({kind:"GenericJs",id:c.registerNewError(a)})}}),e},b0=(a,b)=>({adapterName:b.adapterName,provider:b.provider,options:b.options,queryRaw:b1(a,b.queryRaw.bind(b)),executeRaw:b1(a,b.executeRaw.bind(b)),commit:b1(a,b.commit.bind(b)),rollback:b1(a,b.rollback.bind(b))});function b1(a,b){return async(...c)=>{try{return bX(await b(...c))}catch(b){if(bZ("[error@wrapAsync]",b),bW(b))return bY(b.cause);return bY({kind:"GenericJs",id:a.registerNewError(b)})}}}n(t());var b2=n(a.r(50227));n(t()),au("prisma:engines"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-darwin"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-darwin-arm64"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-debian-openssl-1.0.x"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-debian-openssl-1.1.x"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-debian-openssl-3.0.x"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-linux-static-x64"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-linux-static-arm64"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-rhel-openssl-1.0.x"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-rhel-openssl-1.1.x"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query-engine-rhel-openssl-3.0.x"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-darwin.dylib.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-darwin-arm64.dylib.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-debian-openssl-1.0.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-debian-openssl-1.1.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-debian-openssl-3.0.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.0.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.1.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-3.0.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-musl.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-linux-musl-openssl-3.0.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.0.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.1.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../libquery_engine-rhel-openssl-3.0.x.so.node"),b2.default.join("/ROOT/lib/generated/prisma/runtime","../query_engine-windows.dll.node"),n(a.r(2157)),au("chmodPlusX"),n(u(),1);var b3="prisma+postgres:";function b4(a){return a?.toString().startsWith(`${b3}//`)??!1}var b5=n(v()),b6=class{constructor(a){this.config=a}toString(){var a;let b,{config:c}=this,d=JSON.parse(JSON.stringify({provider:c.provider.fromEnvVar?`env("${c.provider.fromEnvVar}")`:c.provider.value,binaryTargets:function(a){let b;if(a.length>0){let c=a.find(a=>null!==a.fromEnvVar);b=c?`env("${c.fromEnvVar}")`:a.map(a=>a.native?"native":a.value)}else b=void 0;return b}(c.binaryTargets)}));return`generator ${c.name} {
${(0,b5.default)((b=Object.keys(a=d).reduce((a,b)=>Math.max(a,b.length),0),Object.entries(a).map(([a,c])=>`${a.padEnd(b)} = ${JSON.parse(JSON.stringify(c,(a,b)=>Array.isArray(b)?`[${b.map(a=>JSON.stringify(a)).join(", ")}]`:JSON.stringify(b)))}`).join(`
`)),2)}
}`}},b7={};l(b7,{error:()=>cd,info:()=>cc,log:()=>ca,query:()=>ce,should:()=>b9,tags:()=>b8,warn:()=>cb});var b8={error:Z("prisma:error"),warn:_("prisma:warn"),info:ac("prisma:info"),query:aa("prisma:query")},b9={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function ca(...a){console.log(...a)}function cb(a,...b){b9.warn()&&console.warn(`${b8.warn} ${a}`,...b)}function cc(a,...b){console.info(`${b8.info} ${a}`,...b)}function cd(a,...b){console.error(`${b8.error} ${a}`,...b)}function ce(a,...b){console.log(`${b8.query} ${a}`,...b)}function cf(a,b){if(!a)throw Error(`${b}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function cg(a,b){throw Error(b)}var ch=function({onlyFirst:a=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",a?void 0:"g")}();function ci(a){if("string"!=typeof a)throw TypeError(`Expected a \`string\`, got \`${typeof a}\``);return a.replace(ch,"")}var cj=n(a.r(50227)),ck=n(x()),cl=n(a.r(2157)),cm=n(a.r(50227)),cn=au("prisma:tryLoadEnv");function co({rootEnvPath:a,schemaEnvPath:b},c={conflictCheck:"none"}){let d=cp(a);"none"!==c.conflictCheck&&function(a,b,c){let d=a?.dotenvResult.parsed,e=!cq(a?.path,b);if(d&&b&&e&&cl.default.existsSync(b)){let e=ck.default.parse(cl.default.readFileSync(b)),f=[];for(let a in e)d[a]===e[a]&&f.push(a);if(f.length>0){let d=cm.default.relative(process.cwd(),a.path),e=cm.default.relative(process.cwd(),b);if("error"===c)throw Error(`There is a conflict between env var${f.length>1?"s":""} in ${U(d)} and ${U(e)}
Conflicting env vars:
${f.map(a=>`  ${R(a)}`).join(`
`)}

We suggest to move the contents of ${U(e)} to ${U(d)} to consolidate your env vars.
`);if("warn"===c){let a=`Conflict for env var${f.length>1?"s":""} ${f.map(a=>R(a)).join(", ")} in ${U(d)} and ${U(e)}
Env vars from ${U(e)} overwrite the ones from ${U(d)}
      `;console.warn(`${_("warn(prisma)")} ${a}`)}}}}(d,b,c.conflictCheck);let e=null;return cq(d?.path,b)||(e=cp(b)),d||e||cn("No Environment variables loaded"),e?.dotenvResult.error?console.error(Z(R("Schema Env Error: "))+e.dotenvResult.error):{message:[d?.message,e?.message].filter(Boolean).join(`
`),parsed:{...d?.dotenvResult?.parsed,...e?.dotenvResult?.parsed}}}function cp(a){var b;return(b=a)&&cl.default.existsSync(b)?(cn(`Environment variables loaded from ${a}`),{dotenvResult:function(a){let b=a.ignoreProcessEnv?{}:process.env,c=d=>d.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(d,e){let f=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(e);if(!f)return d;let g=f[1],h,i;if("\\"===g)h=(i=f[0]).replace("\\$","$");else{let d=f[2];i=f[0].substring(g.length),h=c(h=Object.hasOwnProperty.call(b,d)?b[d]:a.parsed[d]||"")}return d.replace(i,h)},d)??d;for(let d in a.parsed){let e=Object.hasOwnProperty.call(b,d)?b[d]:a.parsed[d];a.parsed[d]=c(e)}for(let c in a.parsed)b[c]=a.parsed[c];return a}(ck.default.config({path:a,debug:!!process.env.DOTENV_CONFIG_DEBUG||void 0})),message:S(`Environment variables loaded from ${cm.default.relative(process.cwd(),a)}`),path:a}):(cn(`Environment variables not found at ${a}`),null)}function cq(a,b){return a&&b&&cm.default.resolve(a)===cm.default.resolve(b)}function cr(a,b){let c={};for(let d of Object.keys(a))c[d]=b(a[d],d);return c}function cs(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}var ct=new Set,cu=(a,b,...c)=>{ct.has(a)||(ct.add(a),cb(b,...c))},cv=class a extends Error{clientVersion;errorCode;retryable;constructor(b,c,d){super(b),this.name="PrismaClientInitializationError",this.clientVersion=c,this.errorCode=d,Error.captureStackTrace(a)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};cs(cv,"PrismaClientInitializationError");var cw=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(a,{code:b,clientVersion:c,meta:d,batchRequestIdx:e}){super(a),this.name="PrismaClientKnownRequestError",this.code=b,this.clientVersion=c,this.meta=d,Object.defineProperty(this,"batchRequestIdx",{value:e,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};cs(cw,"PrismaClientKnownRequestError");var cx=class extends Error{clientVersion;constructor(a,b){super(a),this.name="PrismaClientRustPanicError",this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};cs(cx,"PrismaClientRustPanicError");var cy=class extends Error{clientVersion;batchRequestIdx;constructor(a,{clientVersion:b,batchRequestIdx:c}){super(a),this.name="PrismaClientUnknownRequestError",this.clientVersion=b,Object.defineProperty(this,"batchRequestIdx",{value:c,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};cs(cy,"PrismaClientUnknownRequestError");var cz=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(a,{clientVersion:b}){super(a),this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};cs(cz,"PrismaClientValidationError");var cA=class{_map=new Map;get(a){return this._map.get(a)?.value}set(a,b){this._map.set(a,{value:b})}getOrCreate(a,b){let c=this._map.get(a);if(c)return c.value;let d=b();return this.set(a,d),d}};function cB(a){return a.substring(0,1).toLowerCase()+a.substring(1)}function cC(a){let b;return{get:()=>(b||(b={value:a()}),b.value)}}function cD(a){return{models:cE(a.models),enums:cE(a.enums),types:cE(a.types)}}function cE(a){let b={};for(let{name:c,...d}of a)b[c]=d;return b}function cF(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function cG(a){return"Invalid Date"!==a.toString()}var cH,cI,cJ="0123456789abcdef",cK="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",cL="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",cM={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},cN=!0,cO="[DecimalError] ",cP=cO+"Invalid argument: ",cQ=cO+"Precision limit exceeded",cR=cO+"crypto unavailable",cS="[object Decimal]",cT=Math.floor,cU=Math.pow,cV=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,cW=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,cX=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,cY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cZ=cK.length-1,c$=cL.length-1,c_={toStringTag:cS};function c0(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=db(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=db(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}function c1(a,b,c){if(a!==~~a||a<b||a>c)throw Error(cP+a)}function c2(a,b,c,d){var e,f,g,h;for(f=a[0];f>=10;f/=10)--b;return--b<0?(b+=7,e=0):(e=Math.ceil((b+1)/7),b%=7),f=cU(10,7-b),h=a[e]%f|0,null==d?b<3?(0==b?h=h/100|0:1==b&&(h=h/10|0),g=c<4&&99999==h||c>3&&49999==h||5e4==h||0==h):g=(c<4&&h+1==f||c>3&&h+1==f/2)&&(a[e+1]/f/100|0)==cU(10,b-2)-1||(h==f/2||0==h)&&(a[e+1]/f/100|0)==0:b<4?(0==b?h=h/1e3|0:1==b?h=h/100|0:2==b&&(h=h/10|0),g=(d||c<4)&&9999==h||!d&&c>3&&4999==h):g=((d||c<4)&&h+1==f||!d&&c>3&&h+1==f/2)&&(a[e+1]/f/1e3|0)==cU(10,b-3)-1,g}function c3(a,b,c){for(var d,e,f=[0],g=0,h=a.length;g<h;){for(e=f.length;e--;)f[e]*=b;for(f[0]+=cJ.indexOf(a.charAt(g++)),d=0;d<f.length;d++)f[d]>c-1&&(void 0===f[d+1]&&(f[d+1]=0),f[d+1]+=f[d]/c|0,f[d]%=c)}return f.reverse()}c_.absoluteValue=c_.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),c5(a)},c_.ceil=function(){return c5(new this.constructor(this),this.e+1,2)},c_.clampedTo=c_.clamp=function(a,b){var c=this.constructor;if(a=new c(a),b=new c(b),!a.s||!b.s)return new c(NaN);if(a.gt(b))throw Error(cP+b);return 0>this.cmp(a)?a:this.cmp(b)>0?b:new c(this)},c_.comparedTo=c_.cmp=function(a){var b,c,d,e,f=this.d,g=(a=new this.constructor(a)).d,h=this.s,i=a.s;if(!f||!g)return h&&i?h!==i?h:f===g?0:!f^h<0?1:-1:NaN;if(!f[0]||!g[0])return f[0]?h:g[0]?-i:0;if(h!==i)return h;if(this.e!==a.e)return this.e>a.e^h<0?1:-1;for(d=f.length,e=g.length,b=0,c=d<e?d:e;b<c;++b)if(f[b]!==g[b])return f[b]>g[b]^h<0?1:-1;return d===e?0:d>e^h<0?1:-1},c_.cosine=c_.cos=function(){var a,b,c=this,d=c.constructor;return c.d?c.d[0]?(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d,e;if(b.isZero())return b;(d=b.d.length)<32?e=(1/dk(4,c=Math.ceil(d/3))).toString():(c=16,e="2.3283064365386962890625e-10"),a.precision+=c,b=dj(a,1,b.times(e),new a(1));for(var f=c;f--;){var g=b.times(b);b=g.times(g).minus(g).times(8).plus(1)}return a.precision-=c,b}(d,dl(d,c)),d.precision=a,d.rounding=b,c5(2==cI||3==cI?c.neg():c,a,b,!0)):new d(1):new d(NaN)},c_.cubeRoot=c_.cbrt=function(){var a,b,c,d,e,f,g,h,i,j,k=this.constructor;if(!this.isFinite()||this.isZero())return new k(this);for(cN=!1,(f=this.s*cU(this.s*this,1/3))&&Math.abs(f)!=1/0?d=new k(f.toString()):(c=c0(this.d),(f=((a=this.e)-c.length+1)%3)&&(c+=1==f||-2==f?"0":"00"),f=cU(c,1/3),a=cT((a+1)/3)-(a%3==(a<0?-1:2)),(d=new k(c=f==1/0?"5e"+a:(c=f.toExponential()).slice(0,c.indexOf("e")+1)+a)).s=this.s),g=(a=k.precision)+3;;)if(d=c4((j=(i=(h=d).times(h).times(h)).plus(this)).plus(this).times(h),j.plus(i),g+2,1),c0(h.d).slice(0,g)===(c=c0(d.d)).slice(0,g))if("9999"!=(c=c.slice(g-3,g+1))&&(e||"4999"!=c)){+c&&(+c.slice(1)||"5"!=c.charAt(0))||(c5(d,a+1,1),b=!d.times(d).times(d).eq(this));break}else{if(!e&&(c5(h,a+1,0),h.times(h).times(h).eq(this))){d=h;break}g+=4,e=1}return cN=!0,c5(d,a,k.rounding,b)},c_.decimalPlaces=c_.dp=function(){var a,b=this.d,c=NaN;if(b){if(c=((a=b.length-1)-cT(this.e/7))*7,a=b[a])for(;a%10==0;a/=10)c--;c<0&&(c=0)}return c},c_.dividedBy=c_.div=function(a){return c4(this,new this.constructor(a))},c_.dividedToIntegerBy=c_.divToInt=function(a){var b=this.constructor;return c5(c4(this,new b(a),0,1,1),b.precision,b.rounding)},c_.equals=c_.eq=function(a){return 0===this.cmp(a)},c_.floor=function(){return c5(new this.constructor(this),this.e+1,3)},c_.greaterThan=c_.gt=function(a){return this.cmp(a)>0},c_.greaterThanOrEqualTo=c_.gte=function(a){var b=this.cmp(a);return 1==b||0===b},c_.hyperbolicCosine=c_.cosh=function(){var a,b,c,d,e,f=this,g=f.constructor,h=new g(1);if(!f.isFinite())return new g(f.s?1/0:NaN);if(f.isZero())return h;c=g.precision,d=g.rounding,g.precision=c+Math.max(f.e,f.sd())+4,g.rounding=1,(e=f.d.length)<32?b=(1/dk(4,a=Math.ceil(e/3))).toString():(a=16,b="2.3283064365386962890625e-10"),f=dj(g,1,f.times(b),new g(1),!0);for(var i,j=a,k=new g(8);j--;)i=f.times(f),f=h.minus(i.times(k.minus(i.times(k))));return c5(f,g.precision=c,g.rounding=d,!0)},c_.hyperbolicSine=c_.sinh=function(){var a,b,c,d,e=this,f=e.constructor;if(!e.isFinite()||e.isZero())return new f(e);if(b=f.precision,c=f.rounding,f.precision=b+Math.max(e.e,e.sd())+4,f.rounding=1,(d=e.d.length)<3)e=dj(f,2,e,e,!0);else{a=(a=1.4*Math.sqrt(d))>16?16:0|a,e=dj(f,2,e=e.times(1/dk(5,a)),e,!0);for(var g,h=new f(5),i=new f(16),j=new f(20);a--;)g=e.times(e),e=e.times(h.plus(g.times(i.times(g).plus(j))))}return f.precision=b,f.rounding=c,c5(e,b,c,!0)},c_.hyperbolicTangent=c_.tanh=function(){var a,b,c=this.constructor;return this.isFinite()?this.isZero()?new c(this):(a=c.precision,b=c.rounding,c.precision=a+7,c.rounding=1,c4(this.sinh(),this.cosh(),c.precision=a,c.rounding=b)):new c(this.s)},c_.inverseCosine=c_.acos=function(){var a=this,b=a.constructor,c=a.abs().cmp(1),d=b.precision,e=b.rounding;return -1!==c?0===c?a.isNeg()?c9(b,d,e):new b(0):new b(NaN):a.isZero()?c9(b,d+4,e).times(.5):(b.precision=d+6,b.rounding=1,a=new b(1).minus(a).div(a.plus(1)).sqrt().atan(),b.precision=d,b.rounding=e,a.times(2))},c_.inverseHyperbolicCosine=c_.acosh=function(){var a,b,c=this,d=c.constructor;return c.lte(1)?new d(c.eq(1)?0:NaN):c.isFinite()?(a=d.precision,b=d.rounding,d.precision=a+Math.max(Math.abs(c.e),c.sd())+4,d.rounding=1,cN=!1,c=c.times(c).minus(1).sqrt().plus(c),cN=!0,d.precision=a,d.rounding=b,c.ln()):new d(c)},c_.inverseHyperbolicSine=c_.asinh=function(){var a,b,c=this,d=c.constructor;return!c.isFinite()||c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+2*Math.max(Math.abs(c.e),c.sd())+6,d.rounding=1,cN=!1,c=c.times(c).plus(1).sqrt().plus(c),cN=!0,d.precision=a,d.rounding=b,c.ln())},c_.inverseHyperbolicTangent=c_.atanh=function(){var a,b,c,d,e=this,f=e.constructor;return e.isFinite()?e.e>=0?new f(e.abs().eq(1)?e.s/0:e.isZero()?e:NaN):(a=f.precision,b=f.rounding,Math.max(d=e.sd(),a)<-(2*e.e)-1?c5(new f(e),a,b,!0):(f.precision=c=d-e.e,e=c4(e.plus(1),new f(1).minus(e),c+a,1),f.precision=a+4,f.rounding=1,e=e.ln(),f.precision=a,f.rounding=b,e.times(.5))):new f(NaN)},c_.inverseSine=c_.asin=function(){var a,b,c,d,e=this,f=e.constructor;return e.isZero()?new f(e):(b=e.abs().cmp(1),c=f.precision,d=f.rounding,-1!==b?0===b?((a=c9(f,c+4,d).times(.5)).s=e.s,a):new f(NaN):(f.precision=c+6,f.rounding=1,e=e.div(new f(1).minus(e.times(e)).sqrt().plus(1)).atan(),f.precision=c,f.rounding=d,e.times(2)))},c_.inverseTangent=c_.atan=function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.constructor,l=k.precision,m=k.rounding;if(j.isFinite()){if(j.isZero())return new k(j);if(j.abs().eq(1)&&l+4<=c$)return(g=c9(k,l+4,m).times(.25)).s=j.s,g}else{if(!j.s)return new k(NaN);if(l+4<=c$)return(g=c9(k,l+4,m).times(.5)).s=j.s,g}for(k.precision=h=l+10,k.rounding=1,a=c=Math.min(28,h/7+2|0);a;--a)j=j.div(j.times(j).plus(1).sqrt().plus(1));for(cN=!1,b=Math.ceil(h/7),d=1,i=j.times(j),g=new k(j),e=j;-1!==a;)if(e=e.times(i),f=g.minus(e.div(d+=2)),e=e.times(i),void 0!==(g=f.plus(e.div(d+=2))).d[b])for(a=b;g.d[a]===f.d[a]&&a--;);return c&&(g=g.times(2<<c-1)),cN=!0,c5(g,k.precision=l,k.rounding=m,!0)},c_.isFinite=function(){return!!this.d},c_.isInteger=c_.isInt=function(){return!!this.d&&cT(this.e/7)>this.d.length-2},c_.isNaN=function(){return!this.s},c_.isNegative=c_.isNeg=function(){return this.s<0},c_.isPositive=c_.isPos=function(){return this.s>0},c_.isZero=function(){return!!this.d&&0===this.d[0]},c_.lessThan=c_.lt=function(a){return 0>this.cmp(a)},c_.lessThanOrEqualTo=c_.lte=function(a){return 1>this.cmp(a)},c_.logarithm=c_.log=function(a){var b,c,d,e,f,g,h,i=this.constructor,j=i.precision,k=i.rounding;if(null==a)a=new i(10),b=!0;else{if(c=(a=new i(a)).d,a.s<0||!c||!c[0]||a.eq(1))return new i(NaN);b=a.eq(10)}if(c=this.d,this.s<0||!c||!c[0]||this.eq(1))return new i(c&&!c[0]?-1/0:1!=this.s?NaN:c?0:1/0);if(b)if(c.length>1)e=!0;else{for(d=c[0];d%10==0;)d/=10;e=1!==d}if(cN=!1,c2((h=c4(f=dg(this,g=j+5),b?c8(i,g+10):dg(a,g),g,1)).d,d=j,k))do if(g+=10,h=c4(f=dg(this,g),b?c8(i,g+10):dg(a,g),g,1),!e){+c0(h.d).slice(d+1,d+15)+1==1e14&&(h=c5(h,j+1,0));break}while(c2(h.d,d+=10,k))return cN=!0,c5(h,j,k)},c_.minus=c_.sub=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this.constructor;if(a=new n(a),!this.d||!a.d)return this.s&&a.s?this.d?a.s=-a.s:a=new n(a.d||this.s!==a.s?this:NaN):a=new n(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.plus(a);if(j=this.d,m=a.d,h=n.precision,i=n.rounding,!j[0]||!m[0]){if(m[0])a.s=-a.s;else{if(!j[0])return new n(3===i?-0:0);a=new n(this)}return cN?c5(a,h,i):a}if(c=cT(a.e/7),k=cT(this.e/7),j=j.slice(),f=k-c){for((l=f<0)?(b=j,f=-f,g=m.length):(b=m,c=k,g=j.length),f>(d=Math.max(Math.ceil(h/7),g)+2)&&(f=d,b.length=1),b.reverse(),d=f;d--;)b.push(0);b.reverse()}else{for((l=(d=j.length)<(g=m.length))&&(g=d),d=0;d<g;d++)if(j[d]!=m[d]){l=j[d]<m[d];break}f=0}for(l&&(b=j,j=m,m=b,a.s=-a.s),g=j.length,d=m.length-g;d>0;--d)j[g++]=0;for(d=m.length;d>f;){if(j[--d]<m[d]){for(e=d;e&&0===j[--e];)j[e]=1e7-1;--j[e],j[d]+=1e7}j[d]-=m[d]}for(;0===j[--g];)j.pop();for(;0===j[0];j.shift())--c;return j[0]?(a.d=j,a.e=c7(j,c),cN?c5(a,h,i):a):new n(3===i?-0:0)},c_.modulo=c_.mod=function(a){var b,c=this.constructor;return a=new c(a),this.d&&a.s&&(!a.d||a.d[0])?a.d&&(!this.d||this.d[0])?(cN=!1,9==c.modulo?(b=c4(this,a.abs(),0,3,1),b.s*=a.s):b=c4(this,a,0,c.modulo,1),b=b.times(a),cN=!0,this.minus(b)):c5(new c(this),c.precision,c.rounding):new c(NaN)},c_.naturalExponential=c_.exp=function(){return df(this)},c_.naturalLogarithm=c_.ln=function(){return dg(this)},c_.negated=c_.neg=function(){var a=new this.constructor(this);return a.s=-a.s,c5(a)},c_.plus=c_.add=function(a){var b,c,d,e,f,g,h,i,j,k,l=this.constructor;if(a=new l(a),!this.d||!a.d)return this.s&&a.s?this.d||(a=new l(a.d||this.s===a.s?this:NaN)):a=new l(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.minus(a);if(j=this.d,k=a.d,h=l.precision,i=l.rounding,!j[0]||!k[0])return k[0]||(a=new l(this)),cN?c5(a,h,i):a;if(f=cT(this.e/7),d=cT(a.e/7),j=j.slice(),e=f-d){for(e<0?(c=j,e=-e,g=k.length):(c=k,d=f,g=j.length),e>(g=(f=Math.ceil(h/7))>g?f+1:g+1)&&(e=g,c.length=1),c.reverse();e--;)c.push(0);c.reverse()}for((g=j.length)-(e=k.length)<0&&(e=g,c=k,k=j,j=c),b=0;e;)b=(j[--e]=j[e]+k[e]+b)/1e7|0,j[e]%=1e7;for(b&&(j.unshift(b),++d),g=j.length;0==j[--g];)j.pop();return a.d=j,a.e=c7(j,d),cN?c5(a,h,i):a},c_.precision=c_.sd=function(a){var b;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(cP+a);return this.d?(b=da(this.d),a&&this.e+1>b&&(b=this.e+1)):b=NaN,b},c_.round=function(){var a=this.constructor;return c5(new a(this),this.e+1,a.rounding)},c_.sine=c_.sin=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d=b.d.length;if(d<3)return b.isZero()?b:dj(a,2,b,b);c=(c=1.4*Math.sqrt(d))>16?16:0|c,b=dj(a,2,b=b.times(1/dk(5,c)),b);for(var e,f=new a(5),g=new a(16),h=new a(20);c--;)e=b.times(b),b=b.times(f.plus(e.times(g.times(e).minus(h))));return b}(d,dl(d,c)),d.precision=a,d.rounding=b,c5(cI>2?c.neg():c,a,b,!0)):new d(NaN)},c_.squareRoot=c_.sqrt=function(){var a,b,c,d,e,f,g=this.d,h=this.e,i=this.s,j=this.constructor;if(1!==i||!g||!g[0])return new j(!i||i<0&&(!g||g[0])?NaN:g?this:1/0);for(cN=!1,0==(i=Math.sqrt(+this))||i==1/0?(((b=c0(g)).length+h)%2==0&&(b+="0"),i=Math.sqrt(b),h=cT((h+1)/2)-(h<0||h%2),d=new j(b=i==1/0?"5e"+h:(b=i.toExponential()).slice(0,b.indexOf("e")+1)+h)):d=new j(i.toString()),c=(h=j.precision)+3;;)if(d=(f=d).plus(c4(this,f,c+2,1)).times(.5),c0(f.d).slice(0,c)===(b=c0(d.d)).slice(0,c))if("9999"!=(b=b.slice(c-3,c+1))&&(e||"4999"!=b)){+b&&(+b.slice(1)||"5"!=b.charAt(0))||(c5(d,h+1,1),a=!d.times(d).eq(this));break}else{if(!e&&(c5(f,h+1,0),f.times(f).eq(this))){d=f;break}c+=4,e=1}return cN=!0,c5(d,h,j.rounding,a)},c_.tangent=c_.tan=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+10,d.rounding=1,(c=c.sin()).s=1,c=c4(c,new d(1).minus(c.times(c)).sqrt(),a+10,0),d.precision=a,d.rounding=b,c5(2==cI||4==cI?c.neg():c,a,b,!0)):new d(NaN)},c_.times=c_.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(a.s*=this.s,!l||!l[0]||!m||!m[0])return new k(!a.s||l&&!l[0]&&!m||m&&!m[0]&&!l?NaN:!l||!m?a.s/0:0*a.s);for(c=cT(this.e/7)+cT(a.e/7),(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c7(f,c),cN?c5(a,k.precision,k.rounding):a},c_.toBinary=function(a,b){return dm(this,2,a,b)},c_.toDecimalPlaces=c_.toDP=function(a,b){var c=this,d=c.constructor;return c=new d(c),void 0===a?c:(c1(a,0,1e9),void 0===b?b=d.rounding:c1(b,0,8),c5(c,a+c.e+1,b))},c_.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=c6(d,!0):(c1(a,0,1e9),void 0===b?b=e.rounding:c1(b,0,8),c=c6(d=c5(new e(d),a+1,b),!0,a+1)),d.isNeg()&&!d.isZero()?"-"+c:c},c_.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?c=c6(this):(c1(a,0,1e9),void 0===b?b=e.rounding:c1(b,0,8),c=c6(d=c5(new e(this),a+this.e+1,b),!1,a+d.e+1)),this.isNeg()&&!this.isZero()?"-"+c:c},c_.toFraction=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this.d,o=this.constructor;if(!n)return new o(this);if(j=c=new o(1),d=i=new o(0),g=(f=(b=new o(d)).e=da(n)-this.e-1)%7,b.d[0]=cU(10,g<0?7+g:g),null==a)a=f>0?b:j;else{if(!(h=new o(a)).isInt()||h.lt(j))throw Error(cP+h);a=h.gt(b)?f>0?b:j:h}for(cN=!1,h=new o(c0(n)),k=o.precision,o.precision=f=7*n.length*2;l=c4(h,b,0,1,1),1!=(e=c.plus(l.times(d))).cmp(a);)c=d,d=e,e=j,j=i.plus(l.times(e)),i=e,e=b,b=h.minus(l.times(e)),h=e;return e=c4(a.minus(c),d,0,1,1),i=i.plus(e.times(j)),c=c.plus(e.times(d)),i.s=j.s=this.s,m=1>c4(j,d,f,1).minus(this).abs().cmp(c4(i,c,f,1).minus(this).abs())?[j,d]:[i,c],o.precision=k,cN=!0,m},c_.toHexadecimal=c_.toHex=function(a,b){return dm(this,16,a,b)},c_.toNearest=function(a,b){var c=this,d=c.constructor;if(c=new d(c),null==a){if(!c.d)return c;a=new d(1),b=d.rounding}else{if(a=new d(a),void 0===b?b=d.rounding:c1(b,0,8),!c.d)return a.s?c:a;if(!a.d)return a.s&&(a.s=c.s),a}return a.d[0]?(cN=!1,c=c4(c,a,0,b,1).times(a),cN=!0,c5(c)):(a.s=c.s,c=a),c},c_.toNumber=function(){return+this},c_.toOctal=function(a,b){return dm(this,8,a,b)},c_.toPower=c_.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!h.d||!a.d||!h.d[0]||!a.d[0])return new i(cU(+h,j));if((h=new i(h)).eq(1))return h;if(d=i.precision,f=i.rounding,a.eq(1))return c5(h,d,f);if((b=cT(a.e/7))>=a.d.length-1&&(c=j<0?-j:j)<=0x1fffffffffffff)return e=dc(i,h,c,d),a.s<0?new i(1).div(e):c5(e,d,f);if((g=h.s)<0){if(b<a.d.length-1)return new i(NaN);if((1&a.d[b])==0&&(g=1),0==h.e&&1==h.d[0]&&1==h.d.length)return h.s=g,h}return(b=0!=(c=cU(+h,j))&&isFinite(c)?new i(c+"").e:cT(j*(Math.log("0."+c0(h.d))/Math.LN10+h.e+1)))>i.maxE+1||b<i.minE-1?new i(b>0?g/0:0):(cN=!1,i.rounding=h.s=1,c=Math.min(12,(b+"").length),(e=df(a.times(dg(h,d+c)),d)).d&&c2((e=c5(e,d+5,1)).d,d,f)&&(b=d+10,+c0((e=c5(df(a.times(dg(h,b+c)),b),b+5,1)).d).slice(d+1,d+15)+1==1e14&&(e=c5(e,d+1,0))),e.s=g,cN=!0,i.rounding=f,c5(e,d,f))},c_.toPrecision=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=c6(d,d.e<=e.toExpNeg||d.e>=e.toExpPos):(c1(a,1,1e9),void 0===b?b=e.rounding:c1(b,0,8),c=c6(d=c5(new e(d),a,b),a<=d.e||d.e<=e.toExpNeg,a)),d.isNeg()&&!d.isZero()?"-"+c:c},c_.toSignificantDigits=c_.toSD=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(c1(a,1,1e9),void 0===b?b=c.rounding:c1(b,0,8)),c5(new c(this),a,b)},c_.toString=function(){var a=this.constructor,b=c6(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()&&!this.isZero()?"-"+b:b},c_.truncated=c_.trunc=function(){return c5(new this.constructor(this),this.e+1,1)},c_.valueOf=c_.toJSON=function(){var a=this.constructor,b=c6(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()?"-"+b:b};var c4=function(){function a(a,b,c){var d,e=0,f=a.length;for(a=a.slice();f--;)d=a[f]*b+e,a[f]=d%c|0,e=d/c|0;return e&&a.unshift(e),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c,d){for(var e=0;c--;)a[c]-=e,e=+(a[c]<b[c]),a[c]=e*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=d.constructor,E=d.s==e.s?1:-1,F=d.d,G=e.d;if(!F||!F[0]||!G||!G[0])return new D(!d.s||!e.s||(F?G&&F[0]==G[0]:!G)?NaN:F&&0==F[0]||!G?0*E:E/0);for(i?(n=1,k=d.e-e.e):(i=1e7,n=7,k=cT(d.e/n)-cT(e.e/n)),B=G.length,z=F.length,s=(r=new D(E)).d=[],l=0;G[l]==(F[l]||0);l++);if(G[l]>(F[l]||0)&&k--,null==f?(w=f=D.precision,g=D.rounding):w=h?f+(d.e-e.e)+1:f,w<0)s.push(1),o=!0;else{if(w=w/n+2|0,l=0,1==B){for(m=0,G=G[0],w++;(l<z||m)&&w--;l++)x=m*i+(F[l]||0),s[l]=x/G|0,m=x%G|0;o=m||l<z}else{for((m=i/(G[0]+1)|0)>1&&(G=a(G,m,i),F=a(F,m,i),B=G.length,z=F.length),y=B,u=(t=F.slice(0,B)).length;u<B;)t[u++]=0;(C=G.slice()).unshift(0),A=G[0],G[1]>=i/2&&++A;do m=0,(j=b(G,t,B,u))<0?(v=t[0],B!=u&&(v=v*i+(t[1]||0)),(m=v/A|0)>1?(m>=i&&(m=i-1),q=(p=a(G,m,i)).length,u=t.length,1==(j=b(p,t,q,u))&&(m--,c(p,B<q?C:G,q,i))):(0==m&&(j=m=1),p=G.slice()),(q=p.length)<u&&p.unshift(0),c(t,p,u,i),-1==j&&(u=t.length,(j=b(G,t,B,u))<1&&(m++,c(t,B<u?C:G,u,i))),u=t.length):0===j&&(m++,t=[0]),s[l++]=m,j&&t[0]?t[u++]=F[y]||0:(t=[F[y]],u=1);while((y++<z||void 0!==t[0])&&w--)o=void 0!==t[0]}s[0]||s.shift()}if(1==n)r.e=k,cH=o;else{for(l=1,m=s[0];m>=10;m/=10)l++;r.e=l+k*n-1,c5(r,h?f+r.e+1:f,g,o)}return r}}();function c5(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.constructor;a:if(null!=b){if(!(l=a.d))return a;for(e=1,h=l[0];h>=10;h/=10)e++;if((f=b-e)<0)f+=7,g=b,i=(k=l[m=0])/cU(10,e-g-1)%10|0;else if((m=Math.ceil((f+1)/7))>=(h=l.length))if(d){for(;h++<=m;)l.push(0);k=i=0,e=1,f%=7,g=f-7+1}else break a;else{for(k=h=l[m],e=1;h>=10;h/=10)e++;f%=7,i=(g=f-7+e)<0?0:k/cU(10,e-g-1)%10|0}if(d=d||b<0||void 0!==l[m+1]||(g<0?k:k%cU(10,e-g-1)),j=c<4?(i||d)&&(0==c||c==(a.s<0?3:2)):i>5||5==i&&(4==c||d||6==c&&(f>0?g>0?k/cU(10,e-g):0:l[m-1])%10&1||c==(a.s<0?8:7)),b<1||!l[0])return l.length=0,j?(b-=a.e+1,l[0]=cU(10,(7-b%7)%7),a.e=-b||0):l[0]=a.e=0,a;if(0==f?(l.length=m,h=1,m--):(l.length=m+1,h=cU(10,7-f),l[m]=g>0?(k/cU(10,e-g)%cU(10,g)|0)*h:0),j)for(;;)if(0==m){for(f=1,g=l[0];g>=10;g/=10)f++;for(g=l[0]+=h,h=1;g>=10;g/=10)h++;f!=h&&(a.e++,1e7==l[0]&&(l[0]=1));break}else{if(l[m]+=h,1e7!=l[m])break;l[m--]=0,h=1}for(f=l.length;0===l[--f];)l.pop()}return cN&&(a.e>n.maxE?(a.d=null,a.e=NaN):a.e<n.minE&&(a.e=0,a.d=[0])),a}function c6(a,b,c){if(!a.isFinite())return dh(a);var d,e=a.e,f=c0(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+db(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(a.e<0?"e":"e+")+a.e):e<0?(f="0."+db(-e-1)+f,c&&(d=c-g)>0&&(f+=db(d))):e>=g?(f+=db(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+db(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=db(d))),f}function c7(a,b){var c=a[0];for(b*=7;c>=10;c/=10)b++;return b}function c8(a,b,c){if(b>cZ)throw cN=!0,c&&(a.precision=c),Error(cQ);return c5(new a(cK),b,1,!0)}function c9(a,b,c){if(b>c$)throw Error(cQ);return c5(new a(cL),b,c,!0)}function da(a){var b=a.length-1,c=7*b+1;if(b=a[b]){for(;b%10==0;b/=10)c--;for(b=a[0];b>=10;b/=10)c++}return c}function db(a){for(var b="";a--;)b+="0";return b}function dc(a,b,c,d){var e,f=new a(1),g=Math.ceil(d/7+4);for(cN=!1;;){if(c%2&&dn((f=f.times(b)).d,g)&&(e=!0),0===(c=cT(c/2))){c=f.d.length-1,e&&0===f.d[c]&&++f.d[c];break}dn((b=b.times(b)).d,g)}return cN=!0,f}function dd(a){return 1&a.d[a.d.length-1]}function de(a,b,c){for(var d,e,f=new a(b[0]),g=0;++g<b.length;){if(!(e=new a(b[g])).s){f=e;break}((d=f.cmp(e))===c||0===d&&f.s===c)&&(f=e)}return f}function df(a,b){var c,d,e,f,g,h,i,j=0,k=0,l=0,m=a.constructor,n=m.rounding,o=m.precision;if(!a.d||!a.d[0]||a.e>17)return new m(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(null==b?(cN=!1,i=o):i=b,h=new m(.03125);a.e>-2;)a=a.times(h),l+=5;for(i+=d=Math.log(cU(2,l))/Math.LN10*2+5|0,c=f=g=new m(1),m.precision=i;;){if(f=c5(f.times(a),i,1),c=c.times(++k),c0((h=g.plus(c4(f,c,i,1))).d).slice(0,i)===c0(g.d).slice(0,i)){for(e=l;e--;)g=c5(g.times(g),i,1);if(null!=b)return m.precision=o,g;if(!(j<3&&c2(g.d,i-d,n,j)))return c5(g,m.precision=o,n,cN=!0);m.precision=i+=10,c=f=h=new m(1),k=0,j++}g=h}}function dg(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=1,o=a,p=o.d,q=o.constructor,r=q.rounding,s=q.precision;if(o.s<0||!p||!p[0]||!o.e&&1==p[0]&&1==p.length)return new q(p&&!p[0]?-1/0:1!=o.s?NaN:p?0:o);if(null==b?(cN=!1,k=s):k=b,q.precision=k+=10,d=(c=c0(p)).charAt(0),!(15e14>Math.abs(f=o.e)))return j=c8(q,k+2,s).times(f+""),o=dg(new q(d+"."+c.slice(1)),k-10).plus(j),q.precision=s,null==b?c5(o,s,r,cN=!0):o;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=c0((o=o.times(a)).d)).charAt(0),n++;for(f=o.e,d>1?(o=new q("0."+c),f++):o=new q(d+"."+c.slice(1)),l=o,i=g=o=c4(o.minus(1),o.plus(1),k,1),m=c5(o.times(o),k,1),e=3;;){if(g=c5(g.times(m),k,1),c0((j=i.plus(c4(g,new q(e),k,1))).d).slice(0,k)===c0(i.d).slice(0,k))if(i=i.times(2),0!==f&&(i=i.plus(c8(q,k+2,s).times(f+""))),i=c4(i,new q(n),k,1),null!=b)return q.precision=s,i;else{if(!c2(i.d,k-10,r,h))return c5(i,q.precision=s,r,cN=!0);q.precision=k+=10,j=g=o=c4(l.minus(1),l.plus(1),k,1),m=c5(o.times(o),k,1),e=h=1}i=j,e+=2}}function dh(a){return String(a.s*a.s/0)}function di(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);d++);for(e=b.length;48===b.charCodeAt(e-1);--e);if(b=b.slice(d,e)){if(e-=d,a.e=c=c-d-1,a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";a.d.push(+b),cN&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function dj(a,b,c,d,e){var f,g,h,i,j=a.precision,k=Math.ceil(j/7);for(cN=!1,i=c.times(c),h=new a(d);;){if(g=c4(h.times(i),new a(b++*b++),j,1),h=e?d.plus(g):d.minus(g),d=c4(g.times(i),new a(b++*b++),j,1),void 0!==(g=h.plus(d)).d[k]){for(f=k;g.d[f]===h.d[f]&&f--;);if(-1==f)break}f=h,h=d,d=g,g=f}return cN=!0,g.d.length=k+1,g}function dk(a,b){for(var c=a;--b;)c*=a;return c}function dl(a,b){var c,d=b.s<0,e=c9(a,a.precision,1),f=e.times(.5);if((b=b.abs()).lte(f))return cI=d?4:1,b;if((c=b.divToInt(e)).isZero())cI=d?3:2;else{if((b=b.minus(c.times(e))).lte(f))return cI=dd(c)?d?2:3:d?4:1,b;cI=dd(c)?d?1:4:d?3:2}return b.minus(e).abs()}function dm(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.constructor,o=void 0!==c;if(o?(c1(c,1,1e9),void 0===d?d=n.rounding:c1(d,0,8)):(c=n.precision,d=n.rounding),a.isFinite()){for(g=(k=c6(a)).indexOf("."),o?(e=2,16==b?c=4*c-3:8==b&&(c=3*c-2)):e=b,g>=0&&(k=k.replace(".",""),(m=new n(1)).e=k.length-g,m.d=c3(c6(m),10,e),m.e=m.d.length),f=i=(l=c3(k,10,e)).length;0==l[--i];)l.pop();if(l[0]){if(g<0?f--:((a=new n(a)).d=l,a.e=f,l=(a=c4(a,m,c,d,0,e)).d,f=a.e,j=cH),g=l[c],h=e/2,j=j||void 0!==l[c+1],j=d<4?(void 0!==g||j)&&(0===d||d===(a.s<0?3:2)):g>h||g===h&&(4===d||j||6===d&&1&l[c-1]||d===(a.s<0?8:7)),l.length=c,j)for(;++l[--c]>e-1;)l[c]=0,c||(++f,l.unshift(1));for(i=l.length;!l[i-1];--i);for(g=0,k="";g<i;g++)k+=cJ.charAt(l[g]);if(o){if(i>1)if(16==b||8==b){for(g=16==b?4:3,--i;i%g;i++)k+="0";for(i=(l=c3(k,e,b)).length;!l[i-1];--i);for(g=1,k="1.";g<i;g++)k+=cJ.charAt(l[g])}else k=k.charAt(0)+"."+k.slice(1);k=k+(f<0?"p":"p+")+f}else if(f<0){for(;++f;)k="0"+k;k="0."+k}else if(++f>i)for(f-=i;f--;)k+="0";else f<i&&(k=k.slice(0,f)+"."+k.slice(f))}else k=o?"0p+0":"0";k=(16==b?"0x":2==b?"0b":8==b?"0o":"")+k}else k=dh(a);return a.s<0?"-"+k:k}function dn(a,b){if(a.length>b)return a.length=b,!0}function dp(a){return new this(a).abs()}function dq(a){return new this(a).acos()}function dr(a){return new this(a).acosh()}function ds(a,b){return new this(a).plus(b)}function dt(a){return new this(a).asin()}function du(a){return new this(a).asinh()}function dv(a){return new this(a).atan()}function dw(a){return new this(a).atanh()}function dx(a,b){a=new this(a),b=new this(b);var c,d=this.precision,e=this.rounding,f=d+4;return a.s&&b.s?a.d||b.d?!b.d||a.isZero()?(c=b.s<0?c9(this,d,e):new this(0)).s=a.s:!a.d||b.isZero()?(c=c9(this,f,1).times(.5)).s=a.s:b.s<0?(this.precision=f,this.rounding=1,c=this.atan(c4(a,b,f,1)),b=c9(this,f,1),this.precision=d,this.rounding=e,c=a.s<0?c.minus(b):c.plus(b)):c=this.atan(c4(a,b,f,1)):(c=c9(this,f,1).times(b.s>0?.25:.75)).s=a.s:c=new this(NaN),c}function dy(a){return new this(a).cbrt()}function dz(a){return c5(a=new this(a),a.e+1,2)}function dA(a,b,c){return new this(a).clamp(b,c)}function dB(a){if(!a||"object"!=typeof a)throw Error(cO+"Object expected");var b,c,d,e=!0===a.defaults,f=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(b=0;b<f.length;b+=3)if(c=f[b],e&&(this[c]=cM[c]),void 0!==(d=a[c]))if(cT(d)===d&&d>=f[b+1]&&d<=f[b+2])this[c]=d;else throw Error(cP+c+": "+d);if(c="crypto",e&&(this[c]=cM[c]),void 0!==(d=a[c]))if(!0===d||!1===d||0===d||1===d)if(d)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[c]=!0;else throw Error(cR);else this[c]=!1;else throw Error(cP+c+": "+d);return this}function dC(a){return new this(a).cos()}function dD(a){return new this(a).cosh()}function dE(a,b){return new this(a).div(b)}function dF(a){return new this(a).exp()}function dG(a){return c5(a=new this(a),a.e+1,3)}function dH(){var a,b,c=new this(0);for(cN=!1,a=0;a<arguments.length;)if(b=new this(arguments[a++]),b.d)c.d&&(c=c.plus(b.times(b)));else{if(b.s)return cN=!0,new this(1/0);c=b}return cN=!0,c.sqrt()}function dI(a){return a instanceof d1||a&&a.toStringTag===cS||!1}function dJ(a){return new this(a).ln()}function dK(a,b){return new this(a).log(b)}function dL(a){return new this(a).log(2)}function dM(a){return new this(a).log(10)}function dN(){return de(this,arguments,-1)}function dO(){return de(this,arguments,1)}function dP(a,b){return new this(a).mod(b)}function dQ(a,b){return new this(a).mul(b)}function dR(a,b){return new this(a).pow(b)}function dS(a){var b,c,d,e,f=0,g=new this(1),h=[];if(void 0===a?a=this.precision:c1(a,1,1e9),d=Math.ceil(a/7),this.crypto)if(crypto.getRandomValues)for(b=crypto.getRandomValues(new Uint32Array(d));f<d;)(e=b[f])>=429e7?b[f]=crypto.getRandomValues(new Uint32Array(1))[0]:h[f++]=e%1e7;else if(crypto.randomBytes){for(b=crypto.randomBytes(d*=4);f<d;)(e=b[f]+(b[f+1]<<8)+(b[f+2]<<16)+((127&b[f+3])<<24))>=214e7?crypto.randomBytes(4).copy(b,f):(h.push(e%1e7),f+=4);f=d/4}else throw Error(cR);else for(;f<d;)h[f++]=1e7*Math.random()|0;for(d=h[--f],a%=7,d&&a&&(e=cU(10,7-a),h[f]=(d/e|0)*e);0===h[f];f--)h.pop();if(f<0)c=0,h=[0];else{for(c=-1;0===h[0];c-=7)h.shift();for(d=1,e=h[0];e>=10;e/=10)d++;d<7&&(c-=7-d)}return g.e=c,g.d=h,g}function dT(a){return c5(a=new this(a),a.e+1,this.rounding)}function dU(a){return(a=new this(a)).d?a.d[0]?a.s:0*a.s:a.s||NaN}function dV(a){return new this(a).sin()}function dW(a){return new this(a).sinh()}function dX(a){return new this(a).sqrt()}function dY(a,b){return new this(a).sub(b)}function dZ(){var a=0,b=arguments,c=new this(b[0]);for(cN=!1;c.s&&++a<b.length;)c=c.plus(b[a]);return cN=!0,c5(c,this.precision,this.rounding)}function d$(a){return new this(a).tan()}function d_(a){return new this(a).tanh()}function d0(a){return c5(a=new this(a),a.e+1,1)}c_[Symbol.for("nodejs.util.inspect.custom")]=c_.toString,c_[Symbol.toStringTag]="Decimal";var d1=c_.constructor=function a(b){var c,d,e;function f(a){var b,c,d;if(!(this instanceof f))return new f(a);if(this.constructor=f,dI(a)){this.s=a.s,cN?!a.d||a.e>f.maxE?(this.e=NaN,this.d=null):a.e<f.minE?(this.e=0,this.d=[0]):(this.e=a.e,this.d=a.d.slice()):(this.e=a.e,this.d=a.d?a.d.slice():a.d);return}if("number"==(d=typeof a)){if(0===a){this.s=1/a<0?-1:1,this.e=0,this.d=[0];return}if(a<0?(a=-a,this.s=-1):this.s=1,a===~~a&&a<1e7){for(b=0,c=a;c>=10;c/=10)b++;cN?b>f.maxE?(this.e=NaN,this.d=null):b<f.minE?(this.e=0,this.d=[0]):(this.e=b,this.d=[a]):(this.e=b,this.d=[a]);return}if(0*a!=0){a||(this.s=NaN),this.e=NaN,this.d=null;return}return di(this,a.toString())}if("string"===d)return 45===(c=a.charCodeAt(0))?(a=a.slice(1),this.s=-1):(43===c&&(a=a.slice(1)),this.s=1),cY.test(a)?di(this,a):function(a,b){var c,d,e,f,g,h,i,j,k;if(b.indexOf("_")>-1){if(b=b.replace(/(\d)_(?=\d)/g,"$1"),cY.test(b))return di(a,b)}else if("Infinity"===b||"NaN"===b)return+b||(a.s=NaN),a.e=NaN,a.d=null,a;if(cW.test(b))c=16,b=b.toLowerCase();else if(cV.test(b))c=2;else if(cX.test(b))c=8;else throw Error(cP+b);for((f=b.search(/p/i))>0?(i=+b.slice(f+1),b=b.substring(2,f)):b=b.slice(2),g=(f=b.indexOf("."))>=0,d=a.constructor,g&&(f=(h=(b=b.replace(".","")).length)-f,e=dc(d,new d(c),f,2*f)),f=k=(j=c3(b,c,1e7)).length-1;0===j[f];--f)j.pop();return f<0?new d(0*a.s):(a.e=c7(j,k),a.d=j,cN=!1,g&&(a=c4(a,e,4*h)),i&&(a=a.times(54>Math.abs(i)?cU(2,i):d1.pow(2,i))),cN=!0,a)}(this,a);if("bigint"===d)return a<0?(a=-a,this.s=-1):this.s=1,di(this,a.toString());throw Error(cP+a)}if(f.prototype=c_,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.EUCLID=9,f.config=f.set=dB,f.clone=a,f.isDecimal=dI,f.abs=dp,f.acos=dq,f.acosh=dr,f.add=ds,f.asin=dt,f.asinh=du,f.atan=dv,f.atanh=dw,f.atan2=dx,f.cbrt=dy,f.ceil=dz,f.clamp=dA,f.cos=dC,f.cosh=dD,f.div=dE,f.exp=dF,f.floor=dG,f.hypot=dH,f.ln=dJ,f.log=dK,f.log10=dM,f.log2=dL,f.max=dN,f.min=dO,f.mod=dP,f.mul=dQ,f.pow=dR,f.random=dS,f.round=dT,f.sign=dU,f.sin=dV,f.sinh=dW,f.sqrt=dX,f.sub=dY,f.sum=dZ,f.tan=d$,f.tanh=d_,f.trunc=d0,void 0===b&&(b={}),b&&!0!==b.defaults)for(e=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],c=0;c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}(cM);cK=new d1(cK),cL=new d1(cL);var d2=d1;function d3(a){return!!d1.isDecimal(a)||null!==a&&"object"==typeof a&&"number"==typeof a.s&&"number"==typeof a.e&&"function"==typeof a.toFixed&&Array.isArray(a.d)}var d4={};function d5(a){return{name:a.name,values:a.values.map(a=>a.name)}}l(d4,{ModelAction:()=>d6,datamodelEnumToSchemaEnum:()=>d5});var d6=(a=>(a.findUnique="findUnique",a.findUniqueOrThrow="findUniqueOrThrow",a.findFirst="findFirst",a.findFirstOrThrow="findFirstOrThrow",a.findMany="findMany",a.create="create",a.createMany="createMany",a.createManyAndReturn="createManyAndReturn",a.update="update",a.updateMany="updateMany",a.updateManyAndReturn="updateManyAndReturn",a.upsert="upsert",a.delete="delete",a.deleteMany="deleteMany",a.groupBy="groupBy",a.count="count",a.aggregate="aggregate",a.findRaw="findRaw",a.aggregateRaw="aggregateRaw",a))(d6||{});n(v()),n(a.r(2157));var d7={keyword:ac,entity:ac,value:a=>R(aa(a)),punctuation:aa,directive:ac,function:ac,variable:a=>R(aa(a)),string:a=>R($(a)),boolean:_,number:ac,comment:ae},d8=a=>a,d9={},ea=0,eb={manual:d9.Prism&&d9.Prism.manual,disableWorkerMessageHandler:d9.Prism&&d9.Prism.disableWorkerMessageHandler,util:{encode:function(a){return a instanceof ec?new ec(a.type,eb.util.encode(a.content),a.alias):Array.isArray(a)?a.map(eb.util.encode):a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).slice(8,-1)},objId:function(a){return a.__id||Object.defineProperty(a,"__id",{value:++ea}),a.__id},clone:function a(b,c){let d,e,f=eb.util.type(b);switch(c=c||{},f){case"Object":if(c[e=eb.util.objId(b)])return c[e];for(let f in d={},c[e]=d,b)b.hasOwnProperty(f)&&(d[f]=a(b[f],c));return d;case"Array":return c[e=eb.util.objId(b)]?c[e]:(d=[],c[e]=d,b.forEach(function(b,e){d[e]=a(b,c)}),d);default:return b}}},languages:{extend:function(a,b){let c=eb.util.clone(eb.languages[a]);for(let a in b)c[a]=b[a];return c},insertBefore:function(a,b,c,d){let e=(d=d||eb.languages)[a],f={};for(let a in e)if(e.hasOwnProperty(a)){if(a==b)for(let a in c)c.hasOwnProperty(a)&&(f[a]=c[a]);c.hasOwnProperty(a)||(f[a]=e[a])}let g=d[a];return d[a]=f,eb.languages.DFS(eb.languages,function(b,c){c===g&&b!=a&&(this[b]=f)}),f},DFS:function a(b,c,d,e){e=e||{};let f=eb.util.objId;for(let g in b)if(b.hasOwnProperty(g)){c.call(b,g,b[g],d||g);let h=b[g],i=eb.util.type(h);"Object"!==i||e[f(h)]?"Array"!==i||e[f(h)]||(e[f(h)]=!0,a(h,c,g,e)):(e[f(h)]=!0,a(h,c,null,e))}}},plugins:{},highlight:function(a,b,c){let d={code:a,grammar:b,language:c};return eb.hooks.run("before-tokenize",d),d.tokens=eb.tokenize(d.code,d.grammar),eb.hooks.run("after-tokenize",d),ec.stringify(eb.util.encode(d.tokens),d.language)},matchGrammar:function(a,b,c,d,e,f,g){for(let p in c){if(!c.hasOwnProperty(p)||!c[p])continue;if(p==g)return;let q=c[p];q="Array"===eb.util.type(q)?q:[q];for(let g=0;g<q.length;++g){let r=q[g],s=r.inside,t=!!r.lookbehind,u=!!r.greedy,v=0,w=r.alias;if(u&&!r.pattern.global){let a=r.pattern.toString().match(/[imuy]*$/)[0];r.pattern=RegExp(r.pattern.source,a+"g")}r=r.pattern||r;for(let g=d,q=e;g<b.length;q+=b[g].length,++g){let d=b[g];if(b.length>a.length)return;if(d instanceof ec)continue;if(u&&g!=b.length-1){r.lastIndex=q;var h=r.exec(a);if(!h)break;var i=h.index+(t?h[1].length:0),j=h.index+h[0].length,k=g,l=q;for(let a=b.length;k<a&&(l<j||!b[k].type&&!b[k-1].greedy);++k)i>=(l+=b[k].length)&&(++g,q=l);if(b[g]instanceof ec)continue;m=k-g,d=a.slice(q,l),h.index-=q}else{r.lastIndex=0;var h=r.exec(d),m=1}if(!h){if(f)break;continue}t&&(v=h[1]?h[1].length:0);var i=h.index+v,h=h[0].slice(v),j=i+h.length,n=d.slice(0,i),o=d.slice(j);let e=[g,m];n&&(++g,q+=n.length,e.push(n));let x=new ec(p,s?eb.tokenize(h,s):h,w,h,u);if(e.push(x),o&&e.push(o),Array.prototype.splice.apply(b,e),1!=m&&eb.matchGrammar(a,b,c,g,q,!0,p),f)break}}}},tokenize:function(a,b){let c=[a],d=b.rest;if(d){for(let a in d)b[a]=d[a];delete b.rest}return eb.matchGrammar(a,c,b,0,0,!1),c},hooks:{all:{},add:function(a,b){let c=eb.hooks.all;c[a]=c[a]||[],c[a].push(b)},run:function(a,b){let c=eb.hooks.all[a];if(!(!c||!c.length))for(var d,e=0;d=c[e++];)d(b)}},Token:ec};function ec(a,b,c,d,e){this.type=a,this.content=b,this.alias=c,this.length=0|(d||"").length,this.greedy=!!e}eb.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},eb.languages.javascript=eb.languages.extend("clike",{"class-name":[eb.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),eb.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,eb.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:eb.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:eb.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:eb.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:eb.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),eb.languages.markup&&eb.languages.markup.tag.addInlined("script","javascript"),eb.languages.js=eb.languages.javascript,eb.languages.typescript=eb.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),eb.languages.ts=eb.languages.typescript,ec.stringify=function(a,b){return"string"==typeof a?a:Array.isArray(a)?a.map(function(a){return ec.stringify(a,b)}).join(""):(d7[a.type]||d8)(a.content)};var ed={red:Z,gray:ae,dim:S,bold:R,underline:U,highlightSource:a=>a.highlight()},ee={red:a=>a,gray:a=>a,dim:a=>a,bold:a=>a,underline:a=>a,highlightSource:a=>a};function ef(a){let b=a.showColors?ed:ee;return function({functionName:a,location:b,message:c,isPanic:d,contextLines:e,callArguments:f},g){var h;let i,j=[""],k=b?" in":":";if(d?(j.push(g.red(`Oops, an unknown error occurred! This is ${g.bold("on us")}, you did nothing wrong.`)),j.push(g.red(`It occurred in the ${g.bold(`\`${a}\``)} invocation${k}`))):j.push(g.red(`Invalid ${g.bold(`\`${a}\``)} invocation${k}`)),b&&j.push(g.underline((i=[(h=b).fileName],h.lineNumber&&i.push(String(h.lineNumber)),h.columnNumber&&i.push(String(h.columnNumber)),i.join(":")))),e){j.push("");let a=[e.toString()];f&&(a.push(f),a.push(g.dim(")"))),j.push(a.join("")),f&&j.push("")}else j.push(""),f&&j.push(f),j.push("");return j.push(c),j.join(`
`)}(function({callsite:a,message:b,originalMethod:c,isPanic:d,callArguments:e},f){return function({message:a,originalMethod:b,isPanic:c,callArguments:d}){return{functionName:`prisma.${b}()`,message:a,isPanic:c??!1,callArguments:d}}({message:b,originalMethod:c,isPanic:d,callArguments:e})}(a,0),b)}var eg=n(z());function eh(a){let b=0;return Array.isArray(a.selectionPath)&&(b+=a.selectionPath.length),Array.isArray(a.argumentPath)&&(b+=a.argumentPath.length),b}function ei(a){switch(a.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}var ej=class{constructor(a,b){this.name=a,this.value=b}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(a){let{colors:{green:b}}=a.context;a.addMarginSymbol(b(this.isRequired?"+":"?")),a.write(b(this.name)),this.isRequired||a.write(b("?")),a.write(b(": ")),"string"==typeof this.value?a.write(b(this.value)):a.write(this.value)}};B();var ek=class{constructor(a=0,b){this.context=b,this.currentIndent=a}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(a){return"string"==typeof a?this.currentLine+=a:a.write(this),this}writeJoined(a,b,c=(a,b)=>b.write(a)){let d=b.length-1;for(let e=0;e<b.length;e++)c(b[e],this),e!==d&&this.write(a);return this}writeLine(a){return this.write(a).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let a=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,a?.(),this}withIndent(a){return this.indent(),a(this),this.unindent(),this}afterNextNewline(a){return this.afterNextNewLineCallback=a,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(a){return this.marginSymbol=a,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let a=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+a.slice(1):a}};A();var el=class{constructor(a){this.value=a}write(a){a.write(this.value)}markAsError(){this.value.markAsError()}},em=a=>a,en={bold:em,red:em,green:em,dim:em,enabled:!1},eo={bold:R,red:Z,green:$,dim:S,enabled:!0},ep={write(a){a.writeLine(",")}},eq=class{constructor(a){this.contents=a}isUnderlined=!1;color=a=>a;underline(){return this.isUnderlined=!0,this}setColor(a){return this.color=a,this}write(a){let b=a.getCurrentLineLength();a.write(this.color(this.contents)),this.isUnderlined&&a.afterNextNewline(()=>{a.write(" ".repeat(b)).writeLine(this.color("~".repeat(this.contents.length)))})}},er=class{hasError=!1;markAsError(){return this.hasError=!0,this}},es=class extends er{items=[];addItem(a){return this.items.push(new el(a)),this}getField(a){return this.items[a]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(a=>a.value.getPrintWidth()))+2}write(a){if(0===this.items.length)return void this.writeEmpty(a);this.writeWithItems(a)}writeEmpty(a){let b=new eq("[]");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithItems(a){let{colors:b}=a.context;a.writeLine("[").withIndent(()=>a.writeJoined(ep,this.items).newLine()).write("]"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(b.red("~".repeat(this.getPrintWidth())))})}asObject(){}},et=class a extends er{fields={};suggestions=[];addField(a){this.fields[a.name]=a}addSuggestion(a){this.suggestions.push(a)}getField(a){return this.fields[a]}getDeepField(b){let[c,...d]=b,e=this.getField(c);if(!e)return;let f=e;for(let b of d){let c;if(f.value instanceof a?c=f.value.getField(b):f.value instanceof es&&(c=f.value.getField(Number(b))),!c)return;f=c}return f}getDeepFieldValue(a){return 0===a.length?this:this.getDeepField(a)?.value}hasField(a){return!!this.getField(a)}removeAllFields(){this.fields={}}removeField(a){delete this.fields[a]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(a){return this.getField(a)?.value}getDeepSubSelectionValue(b){let c=this;for(let d of b){if(!(c instanceof a))return;let b=c.getSubSelectionValue(d);if(!b)return;c=b}return c}getDeepSelectionParent(b){let c=this.getSelectionParent();if(!c)return;let d=c;for(let c of b){let b=d.value.getFieldValue(c);if(!b||!(b instanceof a))return;let e=b.getSelectionParent();if(!e)return;d=e}return d}getSelectionParent(){let a=this.getField("select")?.value.asObject();if(a)return{kind:"select",value:a};let b=this.getField("include")?.value.asObject();if(b)return{kind:"include",value:b}}getSubSelectionValue(a){return this.getSelectionParent()?.value.fields[a].value}getPrintWidth(){let a=Object.values(this.fields);return 0==a.length?2:Math.max(...a.map(a=>a.getPrintWidth()))+2}write(a){let b=Object.values(this.fields);if(0===b.length&&0===this.suggestions.length)return void this.writeEmpty(a);this.writeWithContents(a,b)}asObject(){return this}writeEmpty(a){let b=new eq("{}");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithContents(a,b){a.writeLine("{").withIndent(()=>{a.writeJoined(ep,[...b,...this.suggestions]).newLine()}),a.write("}"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(a.context.colors.red("~".repeat(this.getPrintWidth())))})}},eu=class extends er{constructor(a){super(),this.text=a}getPrintWidth(){return this.text.length}write(a){let b=new eq(this.text);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b)}asObject(){}},ev=class{fields=[];addField(a,b){return this.fields.push({write(c){let{green:d,dim:e}=c.context.colors;c.write(d(e(`${a}: ${b}`))).addMarginSymbol(d(e("+")))}}),this}write(a){let{colors:{green:b}}=a.context;a.writeLine(b("{")).withIndent(()=>{a.writeJoined(ep,this.fields).newLine()}).write(b("}")).addMarginSymbol(b("+"))}};function ew(a,b,c){let d=[`Unknown argument \`${a.red(b)}\`.`],e=function(a,b){let c=1/0,d;for(let e of b){let b=(0,eg.default)(a,e);b>3||b<c&&(c=b,d=e)}return d}(b,c);return e&&d.push(`Did you mean \`${a.green(e)}\`?`),c.length>0&&d.push(eB(a)),d.join(" ")}function ex(a,b){for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new ej(c.name,"true"))}function ey(a,b){let[c,d]=eA(a),e=b.arguments.getDeepSubSelectionValue(c)?.asObject();if(!e)return{parentKind:"unknown",fieldName:d};let f=e.getFieldValue("select")?.asObject(),g=e.getFieldValue("include")?.asObject(),h=e.getFieldValue("omit")?.asObject(),i=f?.getField(d);return f&&i?{parentKind:"select",parent:f,field:i,fieldName:d}:(i=g?.getField(d),g&&i?{parentKind:"include",field:i,parent:g,fieldName:d}:(i=h?.getField(d),h&&i?{parentKind:"omit",field:i,parent:h,fieldName:d}:{parentKind:"unknown",fieldName:d}))}function ez(a,b){if("object"===b.kind)for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new ej(c.name,c.typeNames.join(" | ")))}function eA(a){let b=[...a],c=b.pop();if(!c)throw Error("unexpected empty path");return[b,c]}function eB({green:a,enabled:b}){return"Available options are "+(b?`listed in ${a("green")}`:"marked with ?")+"."}function eC(a,b){if(1===b.length)return b[0];let c=[...b],d=c.pop();return`${c.join(", ")} ${a} ${d}`}var eD=class{modelName;name;typeName;isList;isEnum;constructor(a,b,c,d,e){this.modelName=a,this.name=b,this.typeName=c,this.isList=d,this.isEnum=e}_toGraphQLInputType(){let a=this.isList?"List":"",b=this.isEnum?"Enum":"";return`${a}${b}${this.typeName}FieldRefInput<${this.modelName}>`}};function eE(a){return a instanceof eD}var eF=Symbol(),eG=new WeakMap,eH=class{constructor(a){a===eF?eG.set(this,`Prisma.${this._getName()}`):eG.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return eG.get(this)}},eI=class extends eH{_getNamespace(){return"NullTypes"}},eJ=class extends eI{#a};eN(eJ,"DbNull");var eK=class extends eI{#a};eN(eK,"JsonNull");var eL=class extends eI{#a};eN(eL,"AnyNull");var eM={classes:{DbNull:eJ,JsonNull:eK,AnyNull:eL},instances:{DbNull:new eJ(eF),JsonNull:new eK(eF),AnyNull:new eL(eF)}};function eN(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}var eO=class{constructor(a,b){this.name=a,this.value=b}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(a){let b=new eq(this.name);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b).write(": ").write(this.value)}},eP=class{arguments;errorMessages=[];constructor(a){this.arguments=a}write(a){a.write(this.arguments)}addErrorMessage(a){this.errorMessages.push(a)}renderAllMessages(a){return this.errorMessages.map(b=>b(a)).join(`
`)}};function eQ(a){return new eP(eR(a))}function eR(a){let b=new et;for(let[c,d]of Object.entries(a)){let a=new eO(c,function a(b){if("string"==typeof b)return new eu(JSON.stringify(b));if("number"==typeof b||"boolean"==typeof b)return new eu(String(b));if("bigint"==typeof b)return new eu(`${b}n`);if(null===b)return new eu("null");if(void 0===b)return new eu("undefined");if(d3(b))return new eu(`new Prisma.Decimal("${b.toFixed()}")`);if(b instanceof Uint8Array)return Buffer.isBuffer(b)?new eu(`Buffer.alloc(${b.byteLength})`):new eu(`new Uint8Array(${b.byteLength})`);if(b instanceof Date){let a=cG(b)?b.toISOString():"Invalid Date";return new eu(`new Date("${a}")`)}return b instanceof eH?new eu(`Prisma.${b._getName()}`):eE(b)?new eu(`prisma.${cB(b.modelName)}.$fields.${b.name}`):Array.isArray(b)?function(b){let c=new es;for(let d of b)c.addItem(a(d));return c}(b):"object"==typeof b?eR(b):new eu(Object.prototype.toString.call(b))}(d));b.addField(a)}return b}function eS(a,b){let c="pretty"===b?eo:en;return{message:a.renderAllMessages(c),args:new ek(0,{colors:c}).write(a).toString()}}function eT({args:a,errors:b,errorFormat:c,callsite:d,originalMethod:e,clientVersion:f,globalOmit:g}){let h=eQ(a);for(let a of b)!function a(b,c,d){switch(b.kind){case"MutuallyExclusiveFields":let e;m=b,n=c,(e=n.arguments.getDeepSubSelectionValue(m.selectionPath)?.asObject())&&(e.getField(m.firstField)?.markAsError(),e.getField(m.secondField)?.markAsError()),n.addErrorMessage(a=>`Please ${a.bold("either")} use ${a.green(`\`${m.firstField}\``)} or ${a.green(`\`${m.secondField}\``)}, but ${a.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(a,b){let[c,d]=eA(a.selectionPath),e=a.outputType,f=b.arguments.getDeepSelectionParent(c)?.value;if(f&&(f.getField(d)?.markAsError(),e))for(let a of e.fields)a.isRelation&&f.addSuggestion(new ej(a.name,"true"));b.addErrorMessage(a=>{let b=`Invalid scalar field ${a.red(`\`${d}\``)} for ${a.bold("include")} statement`;return e?b+=` on model ${a.bold(e.name)}. ${eB(a)}`:b+=".",b+=`
Note that ${a.bold("include")} statements only accept relation fields.`})}(b,c);break;case"EmptySelection":!function(a,b,c){let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(d){let c=d.getField("omit")?.value.asObject();if(c){var e,f,g=a,h=b,i=c;for(let a of(i.removeAllFields(),g.outputType.fields))i.addSuggestion(new ej(a.name,"false"));h.addErrorMessage(a=>`The ${a.red("omit")} statement includes every field of the model ${a.bold(g.outputType.name)}. At least one field must be included in the result`);return}if(d.hasField("select")){let c,d,g;return e=a,f=b,c=e.outputType,d=f.arguments.getDeepSelectionParent(e.selectionPath)?.value,g=d?.isEmpty()??!1,d&&(d.removeAllFields(),ex(d,c)),f.addErrorMessage(a=>g?`The ${a.red("`select`")} statement for type ${a.bold(c.name)} must not be empty. ${eB(a)}`:`The ${a.red("`select`")} statement for type ${a.bold(c.name)} needs ${a.bold("at least one truthy value")}.`)}}if(c?.[cB(a.outputType.name)])return function(a,b){let c=new ev;for(let b of a.outputType.fields)b.isRelation||c.addField(b.name,"false");let d=new ej("omit",c).makeRequired();if(0===a.selectionPath.length)b.arguments.addSuggestion(d);else{let[c,e]=eA(a.selectionPath),f=b.arguments.getDeepSelectionParent(c)?.value.asObject()?.getField(e);if(f){let a=f?.value.asObject()??new et;a.addSuggestion(d),f.value=a}}b.addErrorMessage(b=>`The global ${b.red("omit")} configuration excludes every field of the model ${b.bold(a.outputType.name)}. At least one field must be included in the result`)}(a,b);b.addErrorMessage(()=>`Unknown field at "${a.selectionPath.join(".")} selection"`)}(b,c,d);break;case"UnknownSelectionField":!function(a,b){let c=ey(a.selectionPath,b);if("unknown"!==c.parentKind){c.field.markAsError();let b=c.parent;switch(c.parentKind){case"select":ex(b,a.outputType);break;case"include":var d=b,e=a.outputType;for(let a of e.fields)a.isRelation&&!d.hasField(a.name)&&d.addSuggestion(new ej(a.name,"true"));break;case"omit":var f=b,g=a.outputType;for(let a of g.fields)f.hasField(a.name)||a.isRelation||f.addSuggestion(new ej(a.name,"true"))}}b.addErrorMessage(b=>{let d=[`Unknown field ${b.red(`\`${c.fieldName}\``)}`];return"unknown"!==c.parentKind&&d.push(`for ${b.bold(c.parentKind)} statement`),d.push(`on model ${b.bold(`\`${a.outputType.name}\``)}.`),d.push(eB(b)),d.join(" ")})}(b,c);break;case"InvalidSelectionValue":let f;o=b,p=c,"unknown"!==(f=ey(o.selectionPath,p)).parentKind&&f.field.value.markAsError(),p.addErrorMessage(a=>`Invalid value for selection field \`${a.red(f.fieldName)}\`: ${o.underlyingError}`);break;case"UnknownArgument":let g,h;q=b,r=c,g=q.argumentPath[0],(h=r.arguments.getDeepSubSelectionValue(q.selectionPath)?.asObject())&&(h.getField(g)?.markAsError(),function(a,b){for(let c of b)a.hasField(c.name)||a.addSuggestion(new ej(c.name,c.typeNames.join(" | ")))}(h,q.arguments)),r.addErrorMessage(a=>ew(a,g,q.arguments.map(a=>a.name)));break;case"UnknownInputField":!function(a,b){let[c,d]=eA(a.argumentPath),e=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(e){e.getDeepField(a.argumentPath)?.markAsError();let b=e.getDeepFieldValue(c)?.asObject();b&&ez(b,a.inputType)}b.addErrorMessage(b=>ew(b,d,a.inputType.fields.map(a=>a.name)))}(b,c);break;case"RequiredArgumentMissing":!function(a,b){let c;b.addErrorMessage(a=>c?.value instanceof eu&&"null"===c.value.text?`Argument \`${a.green(f)}\` must not be ${a.red("null")}.`:`Argument \`${a.green(f)}\` is missing.`);let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(!d)return;let[e,f]=eA(a.argumentPath),g=new ev,h=d.getDeepFieldValue(e)?.asObject();if(h){if((c=h.getField(f))&&h.removeField(f),1===a.inputTypes.length&&"object"===a.inputTypes[0].kind){for(let b of a.inputTypes[0].fields)g.addField(b.name,b.typeNames.join(" | "));h.addSuggestion(new ej(f,g).makeRequired())}else{let b=a.inputTypes.map(function a(b){return"list"===b.kind?`${a(b.elementType)}[]`:b.name}).join(" | ");h.addSuggestion(new ej(f,b).makeRequired())}if(a.dependentArgumentPath){d.getDeepField(a.dependentArgumentPath)?.markAsError();let[,c]=eA(a.dependentArgumentPath);b.addErrorMessage(a=>`Argument \`${a.green(f)}\` is required because argument \`${a.green(c)}\` was provided.`)}}}(b,c);break;case"InvalidArgumentType":let i,j;s=b,t=c,i=s.argument.name,(j=t.arguments.getDeepSubSelectionValue(s.selectionPath)?.asObject())&&j.getDeepFieldValue(s.argumentPath)?.markAsError(),t.addErrorMessage(a=>{let b=eC("or",s.argument.typeNames.map(b=>a.green(b)));return`Argument \`${a.bold(i)}\`: Invalid value provided. Expected ${b}, provided ${a.red(s.inferredType)}.`});break;case"InvalidArgumentValue":let k,l;u=b,v=c,k=u.argument.name,(l=v.arguments.getDeepSubSelectionValue(u.selectionPath)?.asObject())&&l.getDeepFieldValue(u.argumentPath)?.markAsError(),v.addErrorMessage(a=>{let b=[`Invalid value for argument \`${a.bold(k)}\``];if(u.underlyingError&&b.push(`: ${u.underlyingError}`),b.push("."),u.argument.typeNames.length>0){let c=eC("or",u.argument.typeNames.map(b=>a.green(b)));b.push(` Expected ${c}.`)}return b.join("")});break;case"ValueTooLarge":var m,n,o,p,q,r,s,t,u,v,w=b,x=c;let y=w.argument.name,z=x.arguments.getDeepSubSelectionValue(w.selectionPath)?.asObject(),A;if(z){let a=z.getDeepField(w.argumentPath)?.value;a?.markAsError(),a instanceof eu&&(A=a.text)}x.addErrorMessage(a=>{let b=["Unable to fit value"];return A&&b.push(a.red(A)),b.push(`into a 64-bit signed integer for field \`${a.bold(y)}\``),b.join(" ")});break;case"SomeFieldsMissing":var B=b,C=c;let D=B.argumentPath[B.argumentPath.length-1],E=C.arguments.getDeepSubSelectionValue(B.selectionPath)?.asObject();if(E){let a=E.getDeepFieldValue(B.argumentPath)?.asObject();a&&ez(a,B.inputType)}C.addErrorMessage(a=>{let b=[`Argument \`${a.bold(D)}\` of type ${a.bold(B.inputType.name)} needs`];return 1===B.constraints.minFieldCount?B.constraints.requiredFields?b.push(`${a.green("at least one of")} ${eC("or",B.constraints.requiredFields.map(b=>`\`${a.bold(b)}\``))} arguments.`):b.push(`${a.green("at least one")} argument.`):b.push(`${a.green(`at least ${B.constraints.minFieldCount}`)} arguments.`),b.push(eB(a)),b.join(" ")});break;case"TooManyFieldsGiven":var F=b,G=c;let H=F.argumentPath[F.argumentPath.length-1],I=G.arguments.getDeepSubSelectionValue(F.selectionPath)?.asObject(),J=[];if(I){let a=I.getDeepFieldValue(F.argumentPath)?.asObject();a&&(a.markAsError(),J=Object.keys(a.getFields()))}G.addErrorMessage(a=>{let b=[`Argument \`${a.bold(H)}\` of type ${a.bold(F.inputType.name)} needs`];return 1===F.constraints.minFieldCount&&1==F.constraints.maxFieldCount?b.push(`${a.green("exactly one")} argument,`):1==F.constraints.maxFieldCount?b.push(`${a.green("at most one")} argument,`):b.push(`${a.green(`at most ${F.constraints.maxFieldCount}`)} arguments,`),b.push(`but you provided ${eC("and",J.map(b=>a.red(b)))}. Please choose`),1===F.constraints.maxFieldCount?b.push("one."):b.push(`${F.constraints.maxFieldCount}.`),b.join(" ")});break;case"Union":let K;(K=function(a){var b=(a,b)=>{let c=eh(a),d=eh(b);return c!==d?c-d:ei(a)-ei(b)};if(0===a.length)return;let c=a[0];for(let d=1;d<a.length;d++)0>b(c,a[d])&&(c=a[d]);return c}(function(a){let b=new Map,c=[];for(let f of a){var d,e;if("InvalidArgumentType"!==f.kind){c.push(f);continue}let a=`${f.selectionPath.join(".")}:${f.argumentPath.join(".")}`,g=b.get(a);g?b.set(a,{...f,argument:{...f.argument,typeNames:(d=g.argument.typeNames,e=f.argument.typeNames,[...new Set(d.concat(e))])}}):b.set(a,f)}return c.push(...b.values()),c}(function a(b){return b.errors.flatMap(b=>"Union"===b.kind?a(b):[b])}(b))))?a(K,c,d):c.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+b.kind)}}(a,h,g);let{message:i,args:j}=eS(h,c);throw new cz(ef({message:i,callsite:d,originalMethod:e,showColors:"pretty"===c,callArguments:j}),{clientVersion:f})}function eU(a){return a.replace(/^./,a=>a.toLowerCase())}function eV(a,b,c){return c?cr(c,({needs:a,compute:c},d)=>{var e,f,g;let h;return{name:d,needs:a?Object.keys(a).filter(b=>a[b]):[],compute:(e=b,f=d,g=c,(h=e?.[f]?.compute)?a=>g({...a,[f]:h(a)}):g)}}):{}}var eW=class{constructor(a,b){this.extension=a,this.previous=b}computedFieldsCache=new cA;modelExtensionsCache=new cA;queryCallbacksCache=new cA;clientExtensions=cC(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=cC(()=>{let a=this.previous?.getAllBatchQueryCallbacks()??[],b=this.extension.query?.$__internalBatch;return b?a.concat(b):a});getAllComputedFields(a){return this.computedFieldsCache.getOrCreate(a,()=>{var b,c,d;let e,f,g;return b=this.previous?.getAllComputedFields(a),c=this.extension,e=eU(a),c.result&&(c.result.$allModels||c.result[e])?(d={...b,...eV(c.name,b,c.result.$allModels),...eV(c.name,b,c.result[e])},f=new cA,g=(a,b)=>f.getOrCreate(a,()=>b.has(a)?[a]:(b.add(a),d[a]?d[a].needs.flatMap(a=>g(a,b)):[a])),cr(d,a=>({...a,needs:g(a.name,new Set)}))):b})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(a){return this.modelExtensionsCache.getOrCreate(a,()=>{let b=eU(a);return this.extension.model&&(this.extension.model[b]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(a),...this.extension.model.$allModels,...this.extension.model[b]}:this.previous?.getAllModelExtensions(a)})}getAllQueryCallbacks(a,b){return this.queryCallbacksCache.getOrCreate(`${a}:${b}`,()=>{let c=this.previous?.getAllQueryCallbacks(a,b)??[],d=[],e=this.extension.query;return e&&(e[a]||e.$allModels||e[b]||e.$allOperations)?(void 0!==e[a]&&(void 0!==e[a][b]&&d.push(e[a][b]),void 0!==e[a].$allOperations&&d.push(e[a].$allOperations)),"$none"!==a&&void 0!==e.$allModels&&(void 0!==e.$allModels[b]&&d.push(e.$allModels[b]),void 0!==e.$allModels.$allOperations&&d.push(e.$allModels.$allOperations)),void 0!==e[b]&&d.push(e[b]),void 0!==e.$allOperations&&d.push(e.$allOperations),c.concat(d)):c})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},eX=class a{constructor(a){this.head=a}static empty(){return new a}static single(b){return new a(new eW(b))}isEmpty(){return void 0===this.head}append(b){return new a(new eW(b,this.head))}getAllComputedFields(a){return this.head?.getAllComputedFields(a)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(a){return this.head?.getAllModelExtensions(a)}getAllQueryCallbacks(a,b){return this.head?.getAllQueryCallbacks(a,b)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},eY=class{constructor(a){this.name=a}};function eZ(a){return new eY(a)}var e$=Symbol(),e_=class{constructor(a){if(a!==e$)throw Error("Skip instance can not be constructed directly")}ifUndefined(a){return void 0===a?e0:a}},e0=new e_(e$);function e1(a){return a instanceof e_}var e2={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},e3="explicitly `undefined` values are not allowed";function e4({modelName:a,action:b,args:c,runtimeDataModel:d,extensions:e=eX.empty(),callsite:f,clientMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k}){let l=new e7({runtimeDataModel:d,modelName:a,action:b,rootArgs:c,callsite:f,extensions:e,selectionPath:[],argumentPath:[],originalMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k});return{modelName:a,action:e2[b],query:function a({select:b,include:c,...d}={},e){var f,g,h,i,j,k,l;let m,n=d.omit;return delete d.omit,{arguments:e5(d,e),selection:(f=b,g=c,h=n,i=e,f?(g?i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:i.getSelectionPath()}):h&&i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:i.getSelectionPath()}),function(b,c){let d={},e=c.getComputedFields();for(let[f,g]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(a[d.name])for(let a of d.needs)c[a]=!0;return c}(b,e))){if(e1(g))continue;let b=c.nestSelection(f);e6(g,b);let h=c.findField(f);if(!(e?.[f]&&!h)){if(!1===g||void 0===g||e1(g)){d[f]=!1;continue}if(!0===g){h?.kind==="object"?d[f]=a({},b):d[f]=!0;continue}d[f]=a(g,b)}}return d}(f,i)):(j=i,k=g,l=h,m={},j.modelOrType&&!j.isRawAction()&&(m.$composites=!0,m.$scalars=!0),k&&function(b,c,d){for(let[e,f]of Object.entries(c)){if(e1(f))continue;let c=d.nestSelection(e);if(e6(f,c),!1===f||void 0===f){b[e]=!1;continue}let g=d.findField(e);if(g&&"object"!==g.kind&&d.throwValidationError({kind:"IncludeOnScalar",selectionPath:d.getSelectionPath().concat(e),outputType:d.getOutputTypeDescription()}),g){b[e]=a(!0===f?{}:f,c);continue}if(!0===f){b[e]=!0;continue}b[e]=a(f,c)}}(m,k,j),function(a,b,c){let d=c.getComputedFields();for(let[e,f]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(!a[d.name])for(let a of d.needs)delete c[a];return c}({...c.getGlobalOmit(),...b},d))){if(e1(f))continue;e6(f,c.nestSelection(e));let b=c.findField(e);d?.[e]&&!b||(a[e]=!f)}}(m,l,j),m))}}(c,l)}}function e5(a,b){if(a.$type)return{$type:"Raw",value:a};let c={};for(let d in a){let e=a[d],f=b.nestArgument(d);e1(e)||(void 0!==e?c[d]=function a(b,c){var d,e;if(null===b)return null;if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)return b;if("bigint"==typeof b)return{$type:"BigInt",value:String(b)};if(cF(b)){if(cG(b))return{$type:"DateTime",value:b.toISOString()};c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(b instanceof eY)return{$type:"Param",value:b.name};if(eE(b))return{$type:"FieldRef",value:{_ref:b.name,_container:b.modelName}};if(Array.isArray(b))return function(b,c){let d=[];for(let e=0;e<b.length;e++){let f=c.nestArgument(String(e)),g=b[e];if(void 0===g||e1(g)){let a=void 0===g?"undefined":"Prisma.skip";c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:f.getSelectionPath(),argumentPath:f.getArgumentPath(),argument:{name:`${c.getArgumentName()}[${e}]`,typeNames:[]},underlyingError:`Can not use \`${a}\` value within array. Use \`null\` or filter out \`${a}\` values`})}d.push(a(g,f))}return d}(b,c);if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{$type:"Bytes",value:Buffer.from(a,c,d).toString("base64")}}if("object"==typeof(d=b)&&null!==d&&!0===d.__prismaRawParameters__)return b.values;if(d3(b))return{$type:"Decimal",value:b.toFixed()};if(b instanceof eH){if(b!==eM.instances[b._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:b._getName()}}return"object"==typeof(e=b)&&null!==e&&"function"==typeof e.toJSON?b.toJSON():"object"==typeof b?e5(b,c):void c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(b)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(e,f):b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidArgumentValue",argumentPath:f.getArgumentPath(),selectionPath:b.getSelectionPath(),argument:{name:b.getArgumentName(),typeNames:[]},underlyingError:e3}))}return c}function e6(a,b){void 0===a&&b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidSelectionValue",selectionPath:b.getSelectionPath(),underlyingError:e3})}var e7=class a{constructor(a){this.params=a,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(a){eT({errors:[a],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(a=>({name:a.name,typeName:"boolean",isRelation:"object"===a.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(a){return this.params.previewFeatures.includes(a)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(a){return this.modelOrType?.fields.find(b=>b.name===a)}nestSelection(b){let c=this.findField(b),d=c?.kind==="object"?c.type:void 0;return new a({...this.params,modelName:d,selectionPath:this.params.selectionPath.concat(b)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[cB(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:cg(this.params.action,"Unknown action")}}nestArgument(b){return new a({...this.params,argumentPath:this.params.argumentPath.concat(b)})}};function e8(a){if(!a._hasPreviewFlag("metrics"))throw new cz("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:a._clientVersion})}var e9=class{_client;constructor(a){this._client=a}prometheus(a){return e8(this._client),this._client._engine.metrics({format:"prometheus",...a})}json(a){return e8(this._client),this._client._engine.metrics({format:"json",...a})}};function fa(a,b){let c=cC(()=>{var a;return{datamodel:{models:fb((a=b).models),enums:fb(a.enums),types:fb(a.types)}}});Object.defineProperty(a,"dmmf",{get:()=>c.get()})}function fb(a){return Object.entries(a).map(([a,b])=>({name:a,...b}))}var fc=new WeakMap,fd="$$PrismaTypedSql",fe=class{constructor(a,b){fc.set(this,{sql:a,values:b}),Object.defineProperty(this,fd,{value:fd})}get sql(){return fc.get(this).sql}get values(){return fc.get(this).values}};function ff(a){return(...b)=>new fe(a,b)}function fg(a){return null!=a&&a[fd]===fd}var fh=n(s()),fi=a.r(78500),fj=a.r(87769),fk=n(a.r(2157)),fl=n(a.r(50227)),fm=class a{constructor(b,c){if(b.length-1!==c.length)throw 0===b.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${b.length} strings to have ${b.length-1} values`);let d=c.reduce((b,c)=>b+(c instanceof a?c.values.length:1),0);this.values=Array(d),this.strings=Array(d+1),this.strings[0]=b[0];let e=0,f=0;for(;e<c.length;){let d=c[e++],g=b[e];if(d instanceof a){this.strings[f]+=d.strings[0];let a=0;for(;a<d.values.length;)this.values[f++]=d.values[a++],this.strings[f]=d.strings[a];this.strings[f]+=g}else this.values[f++]=d,this.strings[f]=g}}get sql(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`?${this.strings[b++]}`;return c}get statement(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`:${b}${this.strings[b++]}`;return c}get text(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`$${b}${this.strings[b++]}`;return c}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function fn(a,b=",",c="",d=""){if(0===a.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new fm([c,...Array(a.length-1).fill(b),d],a)}function fo(a){return new fm([a],[])}var fp=fo("");function fq(a,...b){return new fm(a,b)}function fr(a){return{getKeys:()=>Object.keys(a),getPropertyValue:b=>a[b]}}function fs(a,b){return{getKeys:()=>[a],getPropertyValue:()=>b()}}function ft(a){let b=new cA;return{getKeys:()=>a.getKeys(),getPropertyValue:c=>b.getOrCreate(c,()=>a.getPropertyValue(c)),getPropertyDescriptor:b=>a.getPropertyDescriptor?.(b)}}var fu={enumerable:!0,configurable:!0,writable:!0};function fv(a){let b=new Set(a);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>fu,has:(a,c)=>b.has(c),set:(a,c,d)=>b.add(c)&&Reflect.set(a,c,d),ownKeys:()=>[...b]}}var fw=Symbol.for("nodejs.util.inspect.custom");function fx(a,b){let c=function(a){let b=new Map;for(let c of a)for(let a of c.getKeys())b.set(a,c);return b}(b),d=new Set,e=new Proxy(a,{get(a,b){if(d.has(b))return a[b];let e=c.get(b);return e?e.getPropertyValue(b):a[b]},has(a,b){if(d.has(b))return!0;let e=c.get(b);return e?e.has?.(b)??!0:Reflect.has(a,b)},ownKeys:a=>[...new Set([...fy(Reflect.ownKeys(a),c),...fy(Array.from(c.keys()),c),...d])],set:(a,b,e)=>c.get(b)?.getPropertyDescriptor?.(b)?.writable!==!1&&(d.add(b),Reflect.set(a,b,e)),getOwnPropertyDescriptor(a,b){let d=Reflect.getOwnPropertyDescriptor(a,b);if(d&&!d.configurable)return d;let e=c.get(b);return e?e.getPropertyDescriptor?{...fu,...e?.getPropertyDescriptor(b)}:fu:d},defineProperty:(a,b,c)=>(d.add(b),Reflect.defineProperty(a,b,c)),getPrototypeOf:()=>Object.prototype});return e[fw]=function(){let a={...this};return delete a[fw],a},e}function fy(a,b){return a.filter(a=>b.get(a)?.has?.(a)??!0)}function fz(a){return{getKeys:()=>a,has:()=>!1,getPropertyValue(){}}}function fA(a,b){return{batch:a,transaction:b?.kind==="batch"?{isolationLevel:b.options.isolationLevel}:void 0}}function fB({error:a,user_facing_error:b},c,d){var e,f;let g;return b.error_code?new cw((e=b,f=d,g=e.message,("postgresql"===f||"postgres"===f||"mysql"===f)&&"P2037"===e.error_code&&(g+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),g),{code:b.error_code,clientVersion:c,meta:b.meta,batchRequestIdx:b.batch_request_idx}):new cy(a,{clientVersion:c,batchRequestIdx:b.batch_request_idx})}var fC="<unknown>",fD=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fE=/\((\S*)(?::(\d+))(?::(\d+))\)/,fF=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fG=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,fH=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,fI=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,fJ=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,fK=class{getLocation(){return null}},fL=class{_error;constructor(){this._error=Error()}getLocation(){let a=this._error.stack;if(!a)return null;let b=a.split(`
`).reduce(function(a,b){var c,d,e,f,g,h,i=function(a){var b=fD.exec(a);if(!b)return null;var c=b[2]&&0===b[2].indexOf("native"),d=b[2]&&0===b[2].indexOf("eval"),e=fE.exec(b[2]);return d&&null!=e&&(b[2]=e[1],b[3]=e[2],b[4]=e[3]),{file:c?null:b[2],methodName:b[1]||fC,arguments:c?[b[2]]:[],lineNumber:b[3]?+b[3]:null,column:b[4]?+b[4]:null}}(b)||(c=b,(d=fF.exec(c))?{file:d[2],methodName:d[1]||fC,arguments:[],lineNumber:+d[3],column:d[4]?+d[4]:null}:null)||function(a){var b=fG.exec(a);if(!b)return null;var c=b[3]&&b[3].indexOf(" > eval")>-1,d=fH.exec(b[3]);return c&&null!=d&&(b[3]=d[1],b[4]=d[2],b[5]=null),{file:b[3],methodName:b[1]||fC,arguments:b[2]?b[2].split(","):[],lineNumber:b[4]?+b[4]:null,column:b[5]?+b[5]:null}}(b)||(e=b,(f=fJ.exec(e))?{file:f[2],methodName:f[1]||fC,arguments:[],lineNumber:+f[3],column:f[4]?+f[4]:null}:null)||(g=b,(h=fI.exec(g))?{file:h[3],methodName:h[1]||fC,arguments:[],lineNumber:+h[4],column:h[5]?+h[5]:null}:null);return i&&a.push(i),a},[]).find(a=>{var b;if(!a.file)return!1;let c=(b=a.file,cj.default.sep===cj.default.posix.sep?b:b.split(cj.default.sep).join(cj.default.posix.sep));return"<anonymous>"!==c&&!c.includes("@prisma")&&!c.includes("/packages/client/src/runtime/")&&!c.endsWith("/runtime/binary.js")&&!c.endsWith("/runtime/library.js")&&!c.endsWith("/runtime/edge.js")&&!c.endsWith("/runtime/edge-esm.js")&&!c.startsWith("internal/")&&!a.methodName.includes("new ")&&!a.methodName.includes("getCallSite")&&!a.methodName.includes("Proxy.")&&a.methodName.split(".").length<4});return b&&b.file?{fileName:b.file,lineNumber:b.lineNumber,columnNumber:b.column}:null}};function fM(a){return"minimal"===a?"function"==typeof $EnabledCallSite&&"minimal"!==a?new $EnabledCallSite:new fK:new fL}var fN={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function fO(a={}){return Object.entries(function(a={}){return"boolean"==typeof a._count?{...a,_count:{_all:a._count}}:a}(a)).reduce((a,[b,c])=>(void 0!==fN[b]?a.select[b]={select:c}:a[b]=c,a),{select:{}})}function fP(a={}){return b=>("boolean"==typeof a._count&&(b._count=b._count._all),b)}function fQ(a={}){let{select:b,...c}=a;return"object"==typeof b?fO({...c,_count:b}):fO({...c,_count:{_all:!0}})}function fR(a={}){let b=fO(a);if(Array.isArray(b.by))for(let a of b.by)"string"==typeof a&&(b.select[a]=!0);else"string"==typeof b.by&&(b.select[b.by]=!0);return b}var fS=a=>Array.isArray(a)?a:a.split("."),fT=(a,b)=>fS(b).reduce((a,b)=>a&&a[b],a),fU=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],fV=["aggregate","count","groupBy"];function fW(a,b){var c,d,e,f;let g,h,i=a._extensions.getAllModelExtensions(b)??{};return fx({},[(c=a,g=eU(d=b),h=Object.keys(d6).concat("count"),{getKeys:()=>h,getPropertyValue(a){var b;let e=b=>e=>{let f=fM(c._errorFormat);return c._createPrismaPromise(h=>{let i={args:e,dataPath:[],action:a,model:d,clientMethod:`${g}.${a}`,jsModelName:g,transaction:h,callsite:f};return c._request({...i,...b})},{action:a,args:e,model:d})};return fU.includes(a)?function a(b,c,d,e,f,g){let h=b._runtimeDataModel.models[c].fields.reduce((a,b)=>({...a,[b.name]:b}),{});return i=>{var j,k;let l,m=fM(b._errorFormat),n=void 0===e||void 0===f?[]:[...f,"select",e],o=void 0===g?i??{}:(l=i||!0,fS(n).reduceRight((a,b,c,d)=>Object.assign({},fT(g,d.slice(0,c)),{[b]:a}),l)),p=d({dataPath:n,callsite:m})(o),q=(j=b,k=c,j._runtimeDataModel.models[k].fields.filter(a=>"object"===a.kind).map(a=>a.name));return new Proxy(p,{get:(c,e)=>q.includes(e)?a(b,h[e].type,d,e,n,o):c[e],...fv([...q,...Object.getOwnPropertyNames(p)])})}}(c,d,e):(b=a,fV.includes(b))?"aggregate"===a?a=>e({action:"aggregate",unpacker:fP(a),argsMapper:fO})(a):"count"===a?a=>e({action:"count",unpacker:function(a={}){return"object"==typeof a.select?b=>fP(a)(b)._count:b=>fP(a)(b)._count._all}(a),argsMapper:fQ})(a):"groupBy"===a?a=>e({action:"groupBy",unpacker:function(a={}){return b=>("boolean"==typeof a?._count&&b.forEach(a=>{a._count=a._count._all}),b)}(a),argsMapper:fR})(a):void 0:e({})}}),(e=a,f=b,ft(fs("fields",()=>{let a,b=e._runtimeDataModel.models[f];return new Proxy({},{get(b,c){if(c in b||"symbol"==typeof c)return b[c];let d=a[c];if(d)return new eD(f,c,d.type,d.isList,"enum"===d.kind)},...fv(Object.keys(a=function(a,b){let c={};for(let d of a)c[d[b]]=d;return c}(b.fields.filter(a=>!a.relationName),"name")))})}))),fr(i),fs("name",()=>b),fs("$name",()=>b),fs("$parent",()=>a._appliedParent)])}var fX=Symbol();function fY(a){var b,c;let d,e,f,g,h=[(d=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((b=a)._originalClient)))],{getKeys:()=>d,getPropertyValue:a=>b[a]}),(f=(e=Object.keys((c=a)._runtimeDataModel.models)).map(eU),g=[...new Set(e.concat(f))],ft({getKeys:()=>g,getPropertyValue(a){let b=a.replace(/^./,a=>a.toUpperCase());return void 0!==c._runtimeDataModel.models[b]?fW(c,b):void 0!==c._runtimeDataModel.models[a]?fW(c,a):void 0},getPropertyDescriptor(a){if(!f.includes(a))return{enumerable:!1}}})),fs(fX,()=>a),fs("$parent",()=>a._appliedParent)],i=a._extensions.getAllClientExtensions();return i&&h.push(fr(i)),fx(a,h)}function fZ(a){if("function"==typeof a)return a(this);if(a.client?.__AccelerateEngine){let b=a.client.__AccelerateEngine;this._originalClient._engine=new b(this._originalClient._accelerateEngineConfig)}return fY(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(a)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function f$({visitor:a,result:b,args:c,runtimeDataModel:d,modelName:e}){if(Array.isArray(b)){for(let f=0;f<b.length;f++)b[f]=f$({result:b[f],args:c,modelName:e,runtimeDataModel:d,visitor:a});return b}let f=a(b,e,c)??b;return c.include&&f_({includeOrSelect:c.include,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),c.select&&f_({includeOrSelect:c.select,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),f}function f_({includeOrSelect:a,result:b,parentModelName:c,runtimeDataModel:d,visitor:e}){for(let[f,g]of Object.entries(a)){if(!g||null==b[f]||e1(g))continue;let a=d.models[c].fields.find(a=>a.name===f);if(!a||"object"!==a.kind||!a.relationName)continue;let h="object"==typeof g?g:{};b[f]=f$({visitor:e,result:b[f],args:h,modelName:a.type,runtimeDataModel:d})}}var f0=["$connect","$disconnect","$on","$transaction","$extends"];function f1(a){if("object"!=typeof a||null==a||a instanceof eH||eE(a))return a;if(d3(a))return new d2(a.toFixed());if(cF(a))return new Date(+a);if(ArrayBuffer.isView(a))return a.slice(0);if(Array.isArray(a)){let b=a.length,c;for(c=Array(b);b--;)c[b]=f1(a[b]);return c}if("object"==typeof a){let b={};for(let c in a)"__proto__"===c?Object.defineProperty(b,c,{value:f1(a[c]),configurable:!0,enumerable:!0,writable:!0}):b[c]=f1(a[c]);return b}cg(a,"Unknown value")}var f2=a=>a;function f3(a=f2,b=f2){return c=>a(b(c))}var f4=au("prisma:client"),f5={Vercel:"vercel","Netlify CI":"netlify"},f6=n(a.r(2157)),f7=n(a.r(50227));function f8(a){let{runtimeBinaryTarget:b}=a;return`Add "${b}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${function(a){let{generator:b,generatorBinaryTargets:c,runtimeBinaryTarget:d}=a,e=[...c,{fromEnvVar:null,value:d}];return String(new b6({...b,binaryTargets:e}))}(a)}`}function f9(a){let{runtimeBinaryTarget:b}=a;return`Prisma Client could not locate the Query Engine for runtime "${b}".`}function ga(a){let{searchedLocations:b}=a;return`The following locations have been searched:
${[...new Set(b)].map(a=>`  ${a}`).join(`
`)}`}function gb(a){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${a}`}function gc(a){let{errorStack:b}=a;return b?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}var gd=au("prisma:client:engines:resolveEnginePath");async function ge(a,b){let c={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[a]??b.prismaPath;if(void 0!==c)return c;let{enginePath:d,searchedLocations:e}=await gf(a,b);if(gd("enginePath",d),void 0!==d&&"binary"===a,void 0!==d)return b.prismaPath=d;let f=await a8(),g=b.generator?.binaryTargets??[],h=g.some(a=>a.native),i=!g.some(a=>a.value===f),j=null==="/ROOT/lib/generated/prisma/runtime/library.js".match(RegExp("runtime[\\\\/]library\\.m?js$")),k={searchedLocations:e,generatorBinaryTargets:g,generator:b.generator,runtimeBinaryTarget:f,queryEngineName:gg(a,f),expectedLocation:f7.default.relative(process.cwd(),b.dirname),errorStack:Error().stack};throw new cv(h&&i?function(a){let{runtimeBinaryTarget:b,generatorBinaryTargets:c}=a,d=c.find(a=>a.native);return`${f9(a)}

This happened because Prisma Client was generated for "${d?.value??"unknown"}", but the actual deployment required "${b}".
${f8(a)}

${ga(a)}`}(k):i?function(a){let{runtimeBinaryTarget:b}=a;return`${f9(a)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${b}".
${f8(a)}

${ga(a)}`}(k):j?function(a){let{queryEngineName:b}=a;return`${f9(a)}${gc(a)}

This is likely caused by a bundler that has not copied "${b}" next to the resulting bundle.
Ensure that "${b}" has been copied next to the bundle or in "${a.expectedLocation}".

${gb("engine-not-found-bundler-investigation")}

${ga(a)}`}(k):function(a){let{queryEngineName:b}=a;return`${f9(a)}${gc(a)}

This is likely caused by tooling that has not copied "${b}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${b}" has been copied to "${a.expectedLocation}".

${gb("engine-not-found-tooling-investigation")}

${ga(a)}`}(k),b.clientVersion)}async function gf(a,b){let c=await a8(),d=[],e=[b.dirname,f7.default.resolve("/ROOT/lib/generated/prisma/runtime",".."),b.generator?.output?.value??"/ROOT/lib/generated/prisma/runtime",f7.default.resolve("/ROOT/lib/generated/prisma/runtime","../../../.prisma/client"),"/tmp/prisma-engines",b.cwd];for(let b of("/ROOT/lib/generated/prisma/runtime/library.js".includes("resolveEnginePath")&&e.push(b2.default.join("/ROOT/lib/generated/prisma/runtime","../")),e)){let e=gg(a,c),f=f7.default.join(b,e);if(d.push(b),f6.default.existsSync(f))return{enginePath:f,searchedLocations:d}}return{enginePath:void 0,searchedLocations:d}}function gg(a,b){return"library"===a?b.includes("windows")?`query_engine-${b}.dll.node`:b.includes("darwin")?`${aw}-${b}.dylib.node`:`${aw}-${b}.so.node`:`query-engine-${b}${"windows"===b?".exe":""}`}var gh=n(y());function gi(a){return null===a?a:Array.isArray(a)?a.map(gi):"object"==typeof a?null!==a&&"object"==typeof a&&"string"==typeof a.$type?function({$type:a,value:b}){switch(a){case"BigInt":return BigInt(b);case"Bytes":{let{buffer:a,byteOffset:c,byteLength:d}=Buffer.from(b,"base64");return new Uint8Array(a,c,d)}case"DateTime":return new Date(b);case"Decimal":return new d1(b);case"Json":return JSON.parse(b);default:throw Error("Unknown tagged value")}}(a):null!==a.constructor&&"Object"!==a.constructor.name?a:function(a,b){let c={};for(let d of Object.keys(a))c[d]=b(a[d],d);return c}(a,gi):a}var gj=()=>globalThis.process?.release?.name==="node",gk=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,gl=()=>!!globalThis.Deno,gm=()=>"object"==typeof globalThis.Netlify,gn=()=>"object"==typeof globalThis.EdgeRuntime,go=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",gp={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function gq(){let a=[[gm,"netlify"],[gn,"edge-light"],[go,"workerd"],[gl,"deno"],[gk,"bun"],[gj,"node"]].flatMap(a=>a[0]()?[a[1]]:[]).at(0)??"";return{id:a,prettyName:gp[a]||a,isEdge:["workerd","deno","netlify","edge-light"].includes(a)}}function gr({inlineDatasources:a,overrideDatasources:b,env:c,clientVersion:d}){let e,f=Object.keys(a)[0],g=a[f]?.url,h=b[f]?.url;if(void 0===f?e=void 0:h?e=h:g?.value?e=g.value:g?.fromEnvVar&&(e=c[g.fromEnvVar]),g?.fromEnvVar!==void 0&&void 0===e)throw new cv(`error: Environment variable not found: ${g.fromEnvVar}.`,d);if(void 0===e)throw new cv("error: Missing URL environment variable, value, or override.",d);return e}var gs=class extends Error{clientVersion;cause;constructor(a,b){super(a),this.clientVersion=b.clientVersion,this.cause=b.cause}get[Symbol.toStringTag](){return this.name}},gt=class extends gs{isRetryable;constructor(a,b){super(a,b),this.isRetryable=b.isRetryable??!0}};function gu(a,b){return{...a,isRetryable:b}}var gv=class extends gt{name="InvalidDatasourceError";code="P6001";constructor(a,b){super(a,gu(b,!1))}};cs(gv,"InvalidDatasourceError");var gw=n(t()),gx=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:a,tracingHelper:b,logLevel:c,logQueries:d,engineHash:e}){this.apiKey=a,this.tracingHelper=b,this.logLevel=c,this.logQueries=d,this.engineHash=e}build({traceparent:a,transactionId:b}={}){let c={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":gw.enginesVersion};this.tracingHelper.isEnabled()&&(c.traceparent=a??this.tracingHelper.getTraceParent()),b&&(c["X-Transaction-Id"]=b);let d=this.#a();return d.length>0&&(c["X-Capture-Telemetry"]=d.join(", ")),c}#a(){let a=[];return this.tracingHelper.isEnabled()&&a.push("tracing"),this.logLevel&&a.push(this.logLevel),this.logQueries&&a.push("query"),a}};function gy(a){return new Date(1e3*a[0]+a[1]/1e6)}var gz=class extends gt{name="ForcedRetryError";code="P5001";constructor(a){super("This request must be retried",gu(a,!0))}};cs(gz,"ForcedRetryError");var gA=class extends gt{name="NotImplementedYetError";code="P5004";constructor(a,b){super(a,gu(b,!1))}};cs(gA,"NotImplementedYetError");var gB=class extends gt{response;constructor(a,b){super(a,b),this.response=b.response;let c=this.response.headers.get("prisma-request-id");if(c){let a=`(The request id was: ${c})`;this.message=this.message+" "+a}}},gC=class extends gB{name="SchemaMissingError";code="P5005";constructor(a){super("Schema needs to be uploaded",gu(a,!0))}};cs(gC,"SchemaMissingError");var gD="This request could not be understood by the server",gE=class extends gB{name="BadRequestError";code="P5000";constructor(a,b,c){super(b||gD,gu(a,!1)),c&&(this.code=c)}};cs(gE,"BadRequestError");var gF=class extends gB{name="HealthcheckTimeoutError";code="P5013";logs;constructor(a,b){super("Engine not started: healthcheck timeout",gu(a,!0)),this.logs=b}};cs(gF,"HealthcheckTimeoutError");var gG=class extends gB{name="EngineStartupError";code="P5014";logs;constructor(a,b,c){super(b,gu(a,!0)),this.logs=c}};cs(gG,"EngineStartupError");var gH=class extends gB{name="EngineVersionNotSupportedError";code="P5012";constructor(a){super("Engine version is not supported",gu(a,!1))}};cs(gH,"EngineVersionNotSupportedError");var gI="Request timed out",gJ=class extends gB{name="GatewayTimeoutError";code="P5009";constructor(a,b=gI){super(b,gu(a,!1))}};cs(gJ,"GatewayTimeoutError");var gK=class extends gB{name="InteractiveTransactionError";code="P5015";constructor(a,b="Interactive transaction error"){super(b,gu(a,!1))}};cs(gK,"InteractiveTransactionError");var gL=class extends gB{name="InvalidRequestError";code="P5011";constructor(a,b="Request parameters are invalid"){super(b,gu(a,!1))}};cs(gL,"InvalidRequestError");var gM="Requested resource does not exist",gN=class extends gB{name="NotFoundError";code="P5003";constructor(a,b=gM){super(b,gu(a,!1))}};cs(gN,"NotFoundError");var gO="Unknown server error",gP=class extends gB{name="ServerError";code="P5006";logs;constructor(a,b,c){super(b||gO,gu(a,!0)),this.logs=c}};cs(gP,"ServerError");var gQ="Unauthorized, check your connection string",gR=class extends gB{name="UnauthorizedError";code="P5007";constructor(a,b=gQ){super(b,gu(a,!1))}};cs(gR,"UnauthorizedError");var gS="Usage exceeded, retry again later",gT=class extends gB{name="UsageExceededError";code="P5008";constructor(a,b=gS){super(b,gu(a,!0))}};async function gU(a){let b;try{b=await a.text()}catch{return{type:"EmptyError"}}try{let a=JSON.parse(b);if("string"==typeof a)if("InternalDataProxyError"===a)return{type:"DataProxyError",body:a};else return{type:"UnknownTextError",body:a};if("object"==typeof a&&null!==a){if("is_panic"in a&&"message"in a&&"error_code"in a)return{type:"QueryEngineError",body:a};if("EngineNotStarted"in a||"InteractiveTransactionMisrouted"in a||"InvalidRequestError"in a){let b=Object.values(a)[0].reason;return"string"!=typeof b||["SchemaMissing","EngineVersionNotSupported"].includes(b)?{type:"DataProxyError",body:a}:{type:"UnknownJsonError",body:a}}}return{type:"UnknownJsonError",body:a}}catch{return""===b?{type:"EmptyError"}:{type:"UnknownTextError",body:b}}}async function gV(a,b){if(a.ok)return;let c={clientVersion:b,response:a},d=await gU(a);if("QueryEngineError"===d.type)throw new cw(d.body.message,{code:d.body.error_code,clientVersion:b});if("DataProxyError"===d.type){if("InternalDataProxyError"===d.body)throw new gP(c,"Internal Data Proxy error");if("EngineNotStarted"in d.body){if("SchemaMissing"===d.body.EngineNotStarted.reason)return new gC(c);if("EngineVersionNotSupported"===d.body.EngineNotStarted.reason)throw new gH(c);if("EngineStartupError"in d.body.EngineNotStarted.reason){let{msg:a,logs:b}=d.body.EngineNotStarted.reason.EngineStartupError;throw new gG(c,a,b)}if("KnownEngineStartupError"in d.body.EngineNotStarted.reason){let{msg:a,error_code:c}=d.body.EngineNotStarted.reason.KnownEngineStartupError;throw new cv(a,b,c)}if("HealthcheckTimeout"in d.body.EngineNotStarted.reason){let{logs:a}=d.body.EngineNotStarted.reason.HealthcheckTimeout;throw new gF(c,a)}}if("InteractiveTransactionMisrouted"in d.body)throw new gK(c,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[d.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in d.body)throw new gL(c,d.body.InvalidRequestError.reason)}if(401===a.status||403===a.status)throw new gR(c,gW(gQ,d));if(404===a.status)return new gN(c,gW(gM,d));if(429===a.status)throw new gT(c,gW(gS,d));if(504===a.status)throw new gJ(c,gW(gI,d));if(a.status>=500)throw new gP(c,gW(gO,d));if(a.status>=400)throw new gE(c,gW(gD,d))}function gW(a,b){return"EmptyError"===b.type?a:`${a}: ${JSON.stringify(b)}`}cs(gT,"UsageExceededError");var gX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gY={"@prisma/engines-version":"6.17.1-1.272a37d34178c2894197e17273bf937f25acdeac"},gZ=class extends gt{name="RequestError";code="P5010";constructor(a,b){super(`Cannot fetch data from service:
${a}`,gu(b,!0))}};async function g$(a,b,c=a=>a){let{clientVersion:d,...e}=b,f=c(fetch);try{return await f(a,e)}catch(a){throw new gZ(a.message??"Unknown error",{clientVersion:d,cause:a})}}cs(gZ,"RequestError");var g_=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,g0=au("prisma:client:dataproxyEngine");async function g1(a,b){let c=gY["@prisma/engines-version"],d=b.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(a.includes("accelerate")&&"0.0.0"!==d&&"in-memory"!==d)return d;let[e,f]=d?.split("-")??[];if(void 0===f&&g_.test(e))return e;if(void 0!==f||"0.0.0"===d||"in-memory"===d){var g;let a,[b]=c.split("-")??[],[e,f,h]=b.split("."),i=(g=`<=${e}.${f}.${h}`,encodeURI(`https://unpkg.com/prisma@${g}/package.json`)),j=await g$(i,{clientVersion:d});if(!j.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${j.status} ${j.statusText}, response body: ${await j.text()||"<empty body>"}`);let k=await j.text();g0("length of body fetched from unpkg.com",k.length);try{a=JSON.parse(k)}catch(a){throw console.error("JSON.parse error: body fetched from unpkg.com: ",k),a}return a.version}throw new gA("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:d})}async function g2(a,b){let c=await g1(a,b);return g0("version",c),c}var g3,g4=au("prisma:client:dataproxyEngine"),g5=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(a){(function(a){if(a.generator?.previewFeatures.some(a=>a.toLowerCase().includes("metrics")))throw new cv("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",a.clientVersion)})(a),this.config=a,this.env=a.env,this.inlineSchema=function(a){let b=new TextEncoder().encode(a),c="",d=b.byteLength,e=d%3,f=d-e,g,h,i,j,k;for(let a=0;a<f;a+=3)g=(0xfc0000&(k=b[a]<<16|b[a+1]<<8|b[a+2]))>>18,h=(258048&k)>>12,i=(4032&k)>>6,j=63&k,c+=gX[g]+gX[h]+gX[i]+gX[j];return 1==e?(g=(252&(k=b[f]))>>2,h=(3&k)<<4,c+=gX[g]+gX[h]+"=="):2==e&&(g=(64512&(k=b[f]<<8|b[f+1]))>>10,h=(1008&k)>>4,i=(15&k)<<2,c+=gX[g]+gX[h]+gX[i]+"="),c}(a.inlineSchema),this.inlineDatasources=a.inlineDatasources,this.inlineSchemaHash=a.inlineSchemaHash,this.clientVersion=a.clientVersion,this.engineHash=a.engineVersion,this.logEmitter=a.logEmitter,this.tracingHelper=a.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:a,url:b}=this.getURLAndAPIKey();this.host=b.host,this.protocol=b.protocol,this.headerBuilder=new gx({apiKey:a,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await g2(this.host,this.config),g4("host",this.host),g4("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(a){a?.logs?.length&&a.logs.forEach(a=>{switch(a.level){case"debug":case"trace":g4(a);break;case"error":case"warn":case"info":this.logEmitter.emit(a.level,{timestamp:gy(a.timestamp),message:a.attributes.message??"",target:a.target??"BinaryEngine"});break;case"query":this.logEmitter.emit("query",{query:a.attributes.query??"",timestamp:gy(a.timestamp),duration:a.attributes.duration_ms??0,params:a.attributes.params??"",target:a.target??"BinaryEngine"});break;default:a.level}}),a?.traces?.length&&this.tracingHelper.dispatchEngineSpans(a.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(a){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${a}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let a=await g$(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});a.ok||g4("schema response status",a.status);let b=await gV(a,this.clientVersion);if(b)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${b.message}`,timestamp:new Date,target:""}),b;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(a,{traceparent:b,interactiveTransaction:c,customDataProxyFetch:d}){return this.requestInternal({body:a,traceparent:b,interactiveTransaction:c,customDataProxyFetch:d})}async requestBatch(a,{traceparent:b,transaction:c,customDataProxyFetch:d}){let e=c?.kind==="itx"?c.options:void 0,f=fA(a,c);return(await this.requestInternal({body:f,customDataProxyFetch:d,interactiveTransaction:e,traceparent:b})).map(a=>(a.extensions&&this.propagateResponseExtensions(a.extensions),"errors"in a?this.convertProtocolErrorsToClientError(a.errors):a))}requestInternal({body:a,traceparent:b,customDataProxyFetch:c,interactiveTransaction:d}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:e})=>{let f=d?`${d.payload.endpoint}/graphql`:await this.url("graphql");e(f);let g=await g$(f,{method:"POST",headers:this.headerBuilder.build({traceparent:b,transactionId:d?.id}),body:JSON.stringify(a),clientVersion:this.clientVersion},c);g.ok||g4("graphql response status",g.status),await this.handleError(await gV(g,this.clientVersion));let h=await g.json();if(h.extensions&&this.propagateResponseExtensions(h.extensions),"errors"in h)throw this.convertProtocolErrorsToClientError(h.errors);return"batchResult"in h?h.batchResult:h}})}async transaction(a,b,c){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[a]} transaction`,callback:async({logHttpCall:d})=>{if("start"===a){let a=JSON.stringify({max_wait:c.maxWait,timeout:c.timeout,isolation_level:c.isolationLevel}),e=await this.url("transaction/start");d(e);let f=await g$(e,{method:"POST",headers:this.headerBuilder.build({traceparent:b.traceparent}),body:a,clientVersion:this.clientVersion});await this.handleError(await gV(f,this.clientVersion));let g=await f.json(),{extensions:h}=g;return h&&this.propagateResponseExtensions(h),{id:g.id,payload:{endpoint:g["data-proxy"].endpoint}}}{let e=`${c.payload.endpoint}/${a}`;d(e);let f=await g$(e,{method:"POST",headers:this.headerBuilder.build({traceparent:b.traceparent}),clientVersion:this.clientVersion});await this.handleError(await gV(f,this.clientVersion));let{extensions:g}=await f.json();g&&this.propagateResponseExtensions(g);return}}})}getURLAndAPIKey(){return function(a){let b={clientVersion:a.clientVersion},c=Object.keys(a.inlineDatasources)[0],d=gr({inlineDatasources:a.inlineDatasources,overrideDatasources:a.overrideDatasources,clientVersion:a.clientVersion,env:{...a.env,..."u">typeof process?process.env:{}}}),e;try{e=new URL(d)}catch{throw new gv(`Error validating datasource \`${c}\`: the URL must start with the protocol \`prisma://\``,b)}let{protocol:f,searchParams:g}=e;if("prisma:"!==f&&f!==b3)throw new gv(`Error validating datasource \`${c}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,b);let h=g.get("api_key");if(null===h||h.length<1)throw new gv(`Error validating datasource \`${c}\`: the URL must contain a valid API key`,b);let i=!function(a){if(!b4(a))return!1;let{host:b}=new URL(a);return b.includes("localhost")||b.includes("127.0.0.1")||b.includes("[::1]")}(e)?"https:":"http:";return process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&e.searchParams.has("use_http")&&(i="http:"),{apiKey:h,url:new URL(e.href.replace(f,i))}}({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new gA("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(a){for(let b=0;;b++){let c=a=>{this.logEmitter.emit("info",{message:`Calling ${a} (n=${b})`,timestamp:new Date,target:""})};try{return await a.callback({logHttpCall:c})}catch(d){if(!(d instanceof gt)||!d.isRetryable)throw d;if(b>=3)throw d instanceof gz?d.cause:d;this.logEmitter.emit("warn",{message:`Attempt ${b+1}/3 failed for ${a.actionGerund}: ${d.message??"(unknown)"}`,timestamp:new Date,target:""});let c=await function(a){let b=50*Math.pow(2,a),c=Math.ceil(Math.random()*b)-Math.ceil(b/2),d=b+c;return new Promise(a=>setTimeout(()=>a(d),d))}(b);this.logEmitter.emit("warn",{message:`Retrying after ${c}ms`,timestamp:new Date,target:""})}}}async handleError(a){if(a instanceof gC)throw await this.uploadSchema(),new gz({clientVersion:this.clientVersion,cause:a});if(a)throw a}convertProtocolErrorsToClientError(a){return 1===a.length?fB(a[0],this.config.clientVersion,this.config.activeProvider):new cy(JSON.stringify(a),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}},g6=n(a.r(60526)),g7=n(a.r(50227)),g8=Symbol("PrismaLibraryEngineCache"),g9={async loadLibrary(a){let b=await a9(),c=await ge("library",a);try{return a.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>(function(a){let b,c=(void 0===(b=globalThis)[g8]&&(b[g8]={}),b[g8]);if(void 0!==c[a])return c[a];let d=g7.default.toNamespacedPath(a),e={exports:{}},f=0;return"win32"!==process.platform&&(f=g6.default.constants.dlopen.RTLD_LAZY|g6.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(e,d,f),c[a]=e.exports,e.exports})(c))}catch(k){var d;let e,f,g,h,i,j;throw new cv((e=(d={e:k,platformInfo:b,id:c}).e,f=a=>`Prisma cannot find the required \`${a}\` system library in your system`,g=e.message.includes("cannot open shared object file"),h=`Please refer to the documentation about Prisma's system requirements: ${bT("https://pris.ly/d/system-requirements","https://pris.ly/d/system-requirements",{fallback:U})}`,i=`Unable to require(\`${S(d.id)}\`).`,j=aU({message:e.message,code:e.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:a})=>g&&a.includes("libz"),()=>`${f("libz")}. Please install it and try again.`).when(({message:a})=>g&&a.includes("libgcc_s"),()=>`${f("libgcc_s")}. Please install it and try again.`).when(({message:a})=>g&&a.includes("libssl"),()=>{let a=d.platformInfo.libssl?`openssl-${d.platformInfo.libssl}`:"openssl";return`${f("libssl")}. Please install ${a} and try again.`}).when(({message:a})=>a.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${h}`).when(({message:a})=>"linux"===d.platformInfo.platform&&a.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${d.platformInfo.originalDistro} on (${d.platformInfo.archFromUname}) which uses the \`${d.platformInfo.binaryTarget}\` binaryTarget by default. ${h}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${h}`),`${i}
${j}

Details: ${e.message}`),a.clientVersion)}}},ha={async loadLibrary(a){let{clientVersion:b,adapter:c,engineWasm:d}=a;if(void 0===c)throw new cv(`The \`adapter\` option for \`PrismaClient\` is required in this context (${gq().prettyName})`,b);if(void 0===d)throw new cv("WASM engine was unexpectedly `undefined`",b);return void 0===g3&&(g3=(async()=>{let a=await d.getRuntime(),c=await d.getQueryEngineWasmModule();if(null==c)throw new cv("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",b);let e=new WebAssembly.Instance(c,{"./query_engine_bg.js":a}),f=e.exports.__wbindgen_start;return a.__wbg_set_wasm(e.exports),f(),a.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await g3}}},hb=au("prisma:client:libraryEngine"),hc=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm","native"],hd=1n,he=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(a,b){this.libraryLoader=b??g9,void 0!==a.engineWasm&&(this.libraryLoader=b??ha),this.config=a,this.libraryStarted=!1,this.logQueries=a.logQueries??!1,this.logLevel=a.logLevel??"error",this.logEmitter=a.logEmitter,this.datamodel=a.inlineSchema,this.tracingHelper=a.tracingHelper,a.enableDebugLogs&&(this.logLevel="debug");let c=Object.keys(a.overrideDatasources)[0],d=a.overrideDatasources[c]?.url;void 0!==c&&void 0!==d&&(this.datasourceOverrides={[c]:d}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(a){return{applyPendingMigrations:a.applyPendingMigrations?.bind(a),commitTransaction:this.withRequestId(a.commitTransaction.bind(a)),connect:this.withRequestId(a.connect.bind(a)),disconnect:this.withRequestId(a.disconnect.bind(a)),metrics:a.metrics?.bind(a),query:this.withRequestId(a.query.bind(a)),rollbackTransaction:this.withRequestId(a.rollbackTransaction.bind(a)),sdlSchema:a.sdlSchema?.bind(a),startTransaction:this.withRequestId(a.startTransaction.bind(a)),trace:a.trace.bind(a),free:a.free?.bind(a)}}withRequestId(a){return async(...b)=>{let c,d=(c=hd++,hd>0xffffffffffffffffn&&(hd=1n),c).toString();try{return await a(...b,d)}finally{if(this.tracingHelper.isEnabled()){let a=await this.engine?.trace(d);if(a){let b=JSON.parse(a);this.tracingHelper.dispatchEngineSpans(b.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(a,b,c){var d;await this.start();let e=await this.adapterPromise,f=JSON.stringify(b),g;if("start"===a){let a=JSON.stringify({max_wait:c.maxWait,timeout:c.timeout,isolation_level:c.isolationLevel});g=await this.engine?.startTransaction(a,f)}else"commit"===a?g=await this.engine?.commitTransaction(c.id,f):"rollback"===a&&(g=await this.engine?.rollbackTransaction(c.id,f));let h=this.parseEngineResponse(g);if("object"==typeof(d=h)&&null!==d&&void 0!==d.error_code){let a=this.getExternalAdapterError(h,e?.errorRegistry);throw a?a.error:new cw(h.message,{code:h.error_code,clientVersion:this.config.clientVersion,meta:h.meta})}if("string"==typeof h.message)throw new cy(h.message,{clientVersion:this.config.clientVersion});return h}async instantiateLibrary(){let a;if(hb("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;(a=process.env.PRISMA_QUERY_ENGINE_LIBRARY)&&av.default.existsSync(a)||process.arch,this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let a=await this.tracingHelper.runInChildSpan("detect_platform",()=>a8());if(!hc.includes(a))throw new cv(`Unknown ${Z("PRISMA_QUERY_ENGINE_LIBRARY")} ${Z(R(a))}. Possible binaryTargets: ${$(hc.join(", "))} or a path to the query engine library.
You may have to run ${$("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return a}}parseEngineResponse(a){if(!a)throw new cy("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(a)}catch{throw new cy("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let a=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(b_));let b=await this.adapterPromise;b&&hb("Using driver adapter: %O",b),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},b=>{a.deref()?.logger(b)},b))}catch(b){let a=this.parseInitError(b.message);throw"string"==typeof a?b:new cv(a.message,this.config.clientVersion,a.error_code)}}}logger(a){let b=this.parseEngineResponse(a);b&&(b.level=b?.level.toLowerCase()??"unknown","query"===b.item_type&&"query"in b?this.logEmitter.emit("query",{timestamp:new Date,query:b.query,params:b.params,duration:Number(b.duration_ms),target:b.module_path}):"level"in b&&"error"===b.level&&"PANIC"===b.message?this.loggerRustPanic=new cx(hf(this,`${b.message}: ${b.reason} in ${b.file}:${b.line}:${b.column}`),this.config.clientVersion):this.logEmitter.emit(b.level,{timestamp:new Date,message:b.message,target:b.module_path}))}parseInitError(a){try{return JSON.parse(a)}catch{}return a}parseRequestError(a){try{return JSON.parse(a)}catch{}return a}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return hb(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let a=async()=>{hb("library starting");try{let a={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(a)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(b_)),await this.adapterPromise,hb("library started")}catch(b){let a=this.parseInitError(b.message);throw"string"==typeof a?b:new cv(a.message,this.config.clientVersion,a.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",a),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return hb("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let a=async()=>{await new Promise(a=>setImmediate(a)),hb("library stopping");let a={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(a)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,hb("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",a),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(a){return this.library?.debugPanic(a)}async request(a,{traceparent:b,interactiveTransaction:c}){hb(`sending request, this.libraryStarted: ${this.libraryStarted}`);let d=JSON.stringify({traceparent:b}),e=JSON.stringify(a);try{await this.start();let a=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(e,d,c?.id),this.lastQuery=e;let b=this.parseEngineResponse(await this.executingQueryPromise);if(b.errors)throw 1===b.errors.length?this.buildQueryError(b.errors[0],a?.errorRegistry):new cy(JSON.stringify(b.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:b}}catch(b){if(b instanceof cv)throw b;if("GenericFailure"===b.code&&b.message?.startsWith("PANIC:"))throw new cx(hf(this,b.message),this.config.clientVersion);let a=this.parseRequestError(b.message);throw"string"==typeof a?b:new cy(`${a.message}
${a.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(a,{transaction:b,traceparent:c}){hb("requestBatch");let d=fA(a,b);await this.start();let e=await this.adapterPromise;this.lastQuery=JSON.stringify(d),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:c}),function(a){if(a?.kind==="itx")return a.options.id}(b));let f=await this.executingQueryPromise,g=this.parseEngineResponse(f);if(g.errors)throw 1===g.errors.length?this.buildQueryError(g.errors[0],e?.errorRegistry):new cy(JSON.stringify(g.errors),{clientVersion:this.config.clientVersion});let{batchResult:h,errors:i}=g;if(Array.isArray(h))return h.map(a=>a.errors&&a.errors.length>0?this.loggerRustPanic??this.buildQueryError(a.errors[0],e?.errorRegistry):{data:a});throw i&&1===i.length?Error(i[0].error):Error(JSON.stringify(g))}buildQueryError(a,b){if(a.user_facing_error.is_panic)return new cx(hf(this,a.user_facing_error.message),this.config.clientVersion);let c=this.getExternalAdapterError(a.user_facing_error,b);return c?c.error:fB(a,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(a,b){if("P2036"===a.error_code&&b){let c=a.meta?.id;cf("number"==typeof c,"Malformed external JS error received from the engine");let d=b.consumeError(c);return cf(d,"External error with reported id was not registered"),d}}async metrics(a){await this.start();let b=await this.engine.metrics(JSON.stringify(a));return"prometheus"===a.format?b:this.parseEngineResponse(b)}};function hf(a,b){return function({version:a,binaryTarget:b,title:c,description:d,engineVersion:e,database:f,query:g}){var h;let i=ci(function(a=7500){let b=ap.map(([a,...b])=>`${a} ${b.map(a=>"string"==typeof a?a:JSON.stringify(a)).join(" ")}`).join(`
`);return b.length<a?b:b.slice(-a)}(6e3-(g?.length??0))).split(`
`).map(a=>a.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`),j=d?`# Description
\`\`\`
${d}
\`\`\``:"",k=function({title:a,user:b="prisma",repo:c="prisma",template:d="bug_report.yml",body:e}){return(0,gh.default)({user:b,repo:c,template:d,title:a,body:e})}({title:c,body:ci(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${b?.padEnd(19)}|
| Prisma Client   | ${a?.padEnd(19)}|
| Query Engine    | ${e?.padEnd(19)}|
| Database        | ${f?.padEnd(19)}|

${j}

## Logs
\`\`\`
${i}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${g&&(h=g)?h.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,a=>`${a[0]}5`):""}
\`\`\`
`)});return`${c}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${U(k)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}({binaryTarget:a.binaryTarget,title:b,version:a.config.clientVersion,engineVersion:a.versionInfo?.commit,database:a.config.activeProvider,query:a.lastQuery})}var hg=a=>({command:a});function hh(a){try{return hi(a,"fast")}catch{return hi(a,"slow")}}function hi(a,b){return JSON.stringify(a.map(a=>(function a(b,c){var d;if(Array.isArray(b))return b.map(b=>a(b,c));if("bigint"==typeof b)return{prisma__type:"bigint",prisma__value:b.toString()};if(cF(b))return{prisma__type:"date",prisma__value:b.toJSON()};if(d2.isDecimal(b))return{prisma__type:"decimal",prisma__value:b.toJSON()};if(Buffer.isBuffer(b))return{prisma__type:"bytes",prisma__value:b.toString("base64")};if((d=b)instanceof ArrayBuffer||d instanceof SharedArrayBuffer||"object"==typeof d&&null!==d&&("ArrayBuffer"===d[Symbol.toStringTag]||"SharedArrayBuffer"===d[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:Buffer.from(b).toString("base64")};if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{prisma__type:"bytes",prisma__value:Buffer.from(a,c,d).toString("base64")}}return"object"==typeof b&&"slow"===c?hj(b):b})(a,b)))}function hj(a){if("object"!=typeof a||null===a)return a;if("function"==typeof a.toJSON)return a.toJSON();if(Array.isArray(a))return a.map(hk);let b={};for(let c of Object.keys(a))b[c]=hk(a[c]);return b}function hk(a){return"bigint"==typeof a?a.toString():hj(a)}var hl=/^(\s*alter\s)/i,hm=au("prisma:client");function hn(a,b,c,d){if(("postgresql"===a||"cockroachdb"===a)&&c.length>0&&hl.exec(b))throw Error(`Running ALTER using ${d} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var ho=({clientMethod:a,activeProvider:b})=>c=>{let d="",e;if(fg(c))d=c.sql,e={values:hh(c.values),__prismaRawParameters__:!0};else if(Array.isArray(c)){let[a,...b]=c;d=a,e={values:hh(b||[]),__prismaRawParameters__:!0}}else switch(b){case"sqlite":case"mysql":d=c.sql,e={values:hh(c.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":d=c.text,e={values:hh(c.values),__prismaRawParameters__:!0};break;case"sqlserver":d=c.strings.reduce((a,b,c)=>`${a}@P${c}${b}`),e={values:hh(c.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${b} provider does not support ${a}`)}return e?.values?hm(`prisma.${a}(${d}, ${e.values})`):hm(`prisma.${a}(${d})`),{query:d,parameters:e}},hp={requestArgsToMiddlewareArgs:a=>[a.strings,...a.values],middlewareArgsToRequestArgs(a){let[b,...c]=a;return new fm(b,c)}},hq={requestArgsToMiddlewareArgs:a=>[a],middlewareArgsToRequestArgs:a=>a[0]};function hr(a){return function(b,c){let d,e=(c=a)=>{try{return void 0===c||c?.kind==="itx"?d??=hs(b(c)):hs(b(c))}catch(a){return Promise.reject(a)}};return{get spec(){return c},then:(a,b)=>e().then(a,b),catch:a=>e().catch(a),finally:a=>e().finally(a),requestTransaction(a){let b=e(a);return b.requestTransaction?b.requestTransaction(a):b},[Symbol.toStringTag]:"PrismaPromise"}}}function hs(a){return"function"==typeof a.then?a:Promise.resolve(a)}var ht=bU.split(".")[0],hu={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(a,b)=>b()},hv=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(a){return this.getGlobalTracingHelper().getTraceParent(a)}dispatchEngineSpans(a){return this.getGlobalTracingHelper().dispatchEngineSpans(a)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(a,b){return this.getGlobalTracingHelper().runInChildSpan(a,b)}getGlobalTracingHelper(){let a=globalThis[`V${ht}_PRISMA_INSTRUMENTATION`],b=globalThis.PRISMA_INSTRUMENTATION;return a?.helper??b?.helper??hu}};function hw(a){return"number"==typeof a.batchRequestIdx}function hx(a){return`(${Object.keys(a).sort().map(b=>{let c=a[b];return"object"==typeof c&&null!==c?`(${b} ${hx(c)})`:b}).join(" ")})`}var hy={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0},hz=class{constructor(a){this.options=a,this.batches={}}batches;tickActive=!1;request(a){let b=this.options.batchBy(a);return b?(this.batches[b]||(this.batches[b]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((c,d)=>{this.batches[b].push({request:a,resolve:c,reject:d})})):this.options.singleLoader(a)}dispatchBatches(){for(let a in this.batches){let b=this.batches[a];delete this.batches[a],1===b.length?this.options.singleLoader(b[0].request).then(a=>{a instanceof Error?b[0].reject(a):b[0].resolve(a)}).catch(a=>{b[0].reject(a)}):(b.sort((a,b)=>this.options.batchOrder(a.request,b.request)),this.options.batchLoader(b.map(a=>a.request)).then(a=>{if(a instanceof Error)for(let c=0;c<b.length;c++)b[c].reject(a);else for(let c=0;c<b.length;c++){let d=a[c];d instanceof Error?b[c].reject(d):b[c].resolve(d)}}).catch(a=>{for(let c=0;c<b.length;c++)b[c].reject(a)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function hA(a){let b=[],c=function(a){let b={};for(let c=0;c<a.columns.length;c++)b[a.columns[c]]=null;return b}(a);for(let d=0;d<a.rows.length;d++){let e=a.rows[d],f={...c};for(let b=0;b<e.length;b++)f[a.columns[b]]=function a(b,c){if(null===c)return c;switch(b){case"bigint":return BigInt(c);case"bytes":{let{buffer:a,byteOffset:b,byteLength:d}=Buffer.from(c,"base64");return new Uint8Array(a,b,d)}case"decimal":return new d2(c);case"datetime":case"date":return new Date(c);case"time":return new Date(`1970-01-01T${c}Z`);case"bigint-array":return c.map(b=>a("bigint",b));case"bytes-array":return c.map(b=>a("bytes",b));case"decimal-array":return c.map(b=>a("decimal",b));case"datetime-array":return c.map(b=>a("datetime",b));case"date-array":return c.map(b=>a("date",b));case"time-array":return c.map(b=>a("time",b));default:return c}}(a.types[b],e[b]);b.push(f)}return b}var hB=au("prisma:client:request_handler"),hC=class{client;dataloader;logEmitter;constructor(a,b){this.logEmitter=b,this.client=a,this.dataloader=new hz({batchLoader:function(a){return b=>{let c={requests:b},d=b[0].extensions.getAllBatchQueryCallbacks();return d.length?function a(b,c,d,e){if(d===c.length)return e(b);let f=b.customDataProxyFetch,g=b.requests[0].transaction;return c[d]({args:{queries:b.requests.map(a=>({model:a.modelName,operation:a.action,args:a.args})),transaction:g?{isolationLevel:"batch"===g.kind?g.isolationLevel:void 0}:void 0},__internalParams:b,query(g,h=b){let i=h.customDataProxyFetch;return h.customDataProxyFetch=f3(f,i),a(h,c,d+1,e)}})}(c,d,0,a):a(c)}}(async({requests:a,customDataProxyFetch:b})=>{let{transaction:c,otelParentCtx:d}=a[0],e=a.map(a=>a.protocolQuery),f=this.client._tracingHelper.getTraceParent(d),g=a.some(a=>hy[a.protocolQuery.action]);return(await this.client._engine.requestBatch(e,{traceparent:f,transaction:function(a){if(a){if("batch"===a.kind)return{kind:"batch",options:{isolationLevel:a.isolationLevel}};if("itx"===a.kind)return{kind:"itx",options:hD(a)};cg(a,"Unknown transaction kind")}}(c),containsWrite:g,customDataProxyFetch:b})).map((b,c)=>{if(b instanceof Error)return b;try{return this.mapQueryEngineResult(a[c],b)}catch(a){return a}})}),singleLoader:async a=>{let b=a.transaction?.kind==="itx"?hD(a.transaction):void 0,c=await this.client._engine.request(a.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:b,isWrite:hy[a.protocolQuery.action],customDataProxyFetch:a.customDataProxyFetch});return this.mapQueryEngineResult(a,c)},batchBy:a=>a.transaction?.id?`transaction-${a.transaction.id}`:function(a){if("findUnique"!==a.action&&"findUniqueOrThrow"!==a.action)return;let b=[];return a.modelName&&b.push(a.modelName),a.query.arguments&&b.push(hx(a.query.arguments)),b.push(hx(a.query.selection)),b.join("")}(a.protocolQuery),batchOrder:(a,b)=>a.transaction?.kind==="batch"&&b.transaction?.kind==="batch"?a.transaction.index-b.transaction.index:0})}async request(a){try{return await this.dataloader.request(a)}catch(g){let{clientMethod:b,callsite:c,transaction:d,args:e,modelName:f}=a;this.handleAndLogRequestError({error:g,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:a.globalOmit})}}mapQueryEngineResult({dataPath:a,unpacker:b},c){let d=c?.data,e=this.unpack(d,a,b);return process.env.PRISMA_CLIENT_GET_TIME?{data:e}:e}handleAndLogRequestError(a){try{this.handleRequestError(a)}catch(b){throw this.logEmitter&&this.logEmitter.emit("error",{message:b.message,target:a.clientMethod,timestamp:new Date}),b}}handleRequestError({error:a,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:g}){var h,i,j;if(hB(a),h=a,i=d,hw(h)&&i?.kind==="batch"&&h.batchRequestIdx!==i.index)throw a;a instanceof cw&&("P2009"===(j=a).code||"P2012"===j.code)&&eT({args:e,errors:[function a(b){if("Union"===b.kind)return{kind:"Union",errors:b.errors.map(a)};if(Array.isArray(b.selectionPath)){let[,...a]=b.selectionPath;return{...b,selectionPath:a}}return b}(a.meta)],callsite:c,errorFormat:this.client._errorFormat,originalMethod:b,clientVersion:this.client._clientVersion,globalOmit:g});let k=a.message;if(c&&(k=ef({callsite:c,originalMethod:b,isPanic:a.isPanic,showColors:"pretty"===this.client._errorFormat,message:k})),k=this.sanitizeMessage(k),a.code){let b=f?{modelName:f,...a.meta}:a.meta;throw new cw(k,{code:a.code,clientVersion:this.client._clientVersion,meta:b,batchRequestIdx:a.batchRequestIdx})}if(a.isPanic)throw new cx(k,this.client._clientVersion);if(a instanceof cy)throw new cy(k,{clientVersion:this.client._clientVersion,batchRequestIdx:a.batchRequestIdx});if(a instanceof cv)throw new cv(k,this.client._clientVersion);if(a instanceof cx)throw new cx(k,this.client._clientVersion);throw a.clientVersion=this.client._clientVersion,a}sanitizeMessage(a){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?ci(a):a}unpack(a,b,c){if(!a||(a.data&&(a=a.data),!a))return a;let d=Object.keys(a)[0],e=fT(Object.values(a)[0],b.filter(a=>"select"!==a&&"include"!==a)),f="queryRaw"===d?hA(e):gi(e);return c?c(f):f}get[Symbol.toStringTag](){return"RequestHandler"}};function hD(a){return{id:a.id,payload:a.payload}}var hE=n(z()),hF=class extends Error{constructor(a){super(a+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};cs(hF,"PrismaClientConstructorValidationError");var hG=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],hH=["pretty","colorless","minimal"],hI=["info","query","warn","error"],hJ={datasources:(a,{datasourceNames:b})=>{if(a){if("object"!=typeof a||Array.isArray(a))throw new hF(`Invalid value ${JSON.stringify(a)} for "datasources" provided to PrismaClient constructor`);for(let[c,d]of Object.entries(a)){if(!b.includes(c)){let a=hK(c,b)||` Available datasources: ${b.join(", ")}`;throw new hF(`Unknown datasource ${c} provided to PrismaClient constructor.${a}`)}if("object"!=typeof d||Array.isArray(d))throw new hF(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(d&&"object"==typeof d)for(let[b,e]of Object.entries(d)){if("url"!==b)throw new hF(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof e)throw new hF(`Invalid value ${JSON.stringify(e)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(a,b)=>{if(!a&&"client"===bV(b.generator))throw new hF('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==a){if(void 0===a)throw new hF('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if("binary"===bV(b.generator))throw new hF('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:a=>{if("u">typeof a&&"string"!=typeof a)throw new hF(`Invalid value ${JSON.stringify(a)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:a=>{if(a){if("string"!=typeof a)throw new hF(`Invalid value ${JSON.stringify(a)} for "errorFormat" provided to PrismaClient constructor.`);if(!hH.includes(a)){let b=hK(a,hH);throw new hF(`Invalid errorFormat ${a} provided to PrismaClient constructor.${b}`)}}},log:a=>{if(a){if(!Array.isArray(a))throw new hF(`Invalid value ${JSON.stringify(a)} for "log" provided to PrismaClient constructor.`);for(let c of a){b(c);let a={level:b,emit:a=>{let b=["stdout","event"];if(!b.includes(a)){let c=hK(a,b);throw new hF(`Invalid value ${JSON.stringify(a)} for "emit" in logLevel provided to PrismaClient constructor.${c}`)}}};if(c&&"object"==typeof c)for(let[b,d]of Object.entries(c))if(a[b])a[b](d);else throw new hF(`Invalid property ${b} for "log" provided to PrismaClient constructor`)}}function b(a){if("string"==typeof a&&!hI.includes(a)){let b=hK(a,hI);throw new hF(`Invalid log level "${a}" provided to PrismaClient constructor.${b}`)}}},transactionOptions:a=>{if(!a)return;let b=a.maxWait;if(null!=b&&b<=0)throw new hF(`Invalid value ${b} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let c=a.timeout;if(null!=c&&c<=0)throw new hF(`Invalid value ${c} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(a,b)=>{if("object"!=typeof a)throw new hF('"omit" option is expected to be an object.');if(null===a)throw new hF('"omit" option can not be `null`');let c=[];for(let[d,e]of Object.entries(a)){let a=function(a,b){return hL(b.models,a)??hL(b.types,a)}(d,b.runtimeDataModel);if(!a){c.push({kind:"UnknownModel",modelKey:d});continue}for(let[b,f]of Object.entries(e)){let e=a.fields.find(a=>a.name===b);if(!e){c.push({kind:"UnknownField",modelKey:d,fieldName:b});continue}if(e.relationName){c.push({kind:"RelationInOmit",modelKey:d,fieldName:b});continue}"boolean"!=typeof f&&c.push({kind:"InvalidFieldValue",modelKey:d,fieldName:b})}}if(c.length>0)throw new hF(function(a,b){let c=eQ(a);for(let a of b)switch(a.kind){case"UnknownModel":c.arguments.getField(a.modelKey)?.markAsError(),c.addErrorMessage(()=>`Unknown model name: ${a.modelKey}.`);break;case"UnknownField":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>`Model "${a.modelKey}" does not have a field named "${a.fieldName}".`);break;case"RelationInOmit":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":c.arguments.getDeepFieldValue([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:d,args:e}=eS(c,"colorless");return`Error validating "omit" option:

${e}

${d}`}(a,c))},__internal:a=>{if(!a)return;let b=["debug","engine","configOverride"];if("object"!=typeof a)throw new hF(`Invalid value ${JSON.stringify(a)} for "__internal" to PrismaClient constructor`);for(let[c]of Object.entries(a))if(!b.includes(c)){let a=hK(c,b);throw new hF(`Invalid property ${JSON.stringify(c)} for "__internal" provided to PrismaClient constructor.${a}`)}}};function hK(a,b){if(0===b.length||"string"!=typeof a)return"";let c=function(a,b){if(0===b.length)return null;let c=b.map(b=>({value:b,distance:(0,hE.default)(a,b)}));c.sort((a,b)=>a.distance<b.distance?-1:1);let d=c[0];return d.distance<3?d.value:null}(a,b);return c?` Did you mean "${c}"?`:""}function hL(a,b){let c=Object.keys(a).find(a=>cB(a)===b);if(c)return a[c]}var hM=au("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var hN={requestArgsToMiddlewareArgs:a=>a,middlewareArgsToRequestArgs:a=>a},hO=Symbol.for("prisma.client.transaction.id"),hP={id:0,nextId(){return++this.id}};function hQ(a){class b{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=hr();constructor(b){(function({postinstall:a,ciName:b,clientVersion:c,generator:d}){if(f4("checkPlatformCaching:postinstall",a),f4("checkPlatformCaching:ciName",b),!0===a&&!(d?.output&&"string"==typeof(d.output.fromEnvVar??d.output.value))&&b&&b in f5){let a=`Prisma has detected that this project was built on ${b}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${f5[b]}-build`;throw console.error(a),new cv(a,c)}})(a=b?.__internal?.configOverride?.(a)??a),b&&function(a,b){for(let[c,d]of Object.entries(a)){if(!hG.includes(c)){let a=hK(c,hG);throw new hF(`Unknown property ${c} provided to PrismaClient constructor.${a}`)}hJ[c](d,b)}if(a.datasourceUrl&&a.datasources)throw new hF('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(b,a);let c=new fj.EventEmitter().on("error",()=>{});this._extensions=eX.empty(),this._previewFeatures=function({generator:a}){return a?.previewFeatures??[]}(a),this._clientVersion=a.clientVersion??"6.17.1",this._activeProvider=a.activeProvider,this._globalOmit=b?.omit,this._tracingHelper=new hv;let d=a.relativeEnvPaths&&{rootEnvPath:a.relativeEnvPaths.rootEnvPath&&fl.default.resolve(a.dirname,a.relativeEnvPaths.rootEnvPath),schemaEnvPath:a.relativeEnvPaths.schemaEnvPath&&fl.default.resolve(a.dirname,a.relativeEnvPaths.schemaEnvPath)},e;if(b?.adapter){e=b.adapter;let c="postgresql"===a.activeProvider||"cockroachdb"===a.activeProvider?"postgres":a.activeProvider;if(e.provider!==c)throw new cv(`The Driver Adapter \`${e.adapterName}\`, based on \`${e.provider}\`, is not compatible with the provider \`${c}\` specified in the Prisma schema.`,this._clientVersion);if(b.datasources||void 0!==b.datasourceUrl)throw new cv("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let f=!e&&d&&co(d,{conflictCheck:"none"})||a.injectableEdgeEnv?.();try{let d=b??{},g=d.__internal??{},h=!0===g.debug;h&&au.enable("prisma:client");let i=fl.default.resolve(a.dirname,a.relativePath);fk.default.existsSync(i)||(i=a.dirname),hM("dirname",a.dirname),hM("relativePath",a.relativePath),hM("cwd",i);let j=g.engine||{};if(d.errorFormat?this._errorFormat=d.errorFormat:this._errorFormat="minimal",this._runtimeDataModel=a.runtimeDataModel,this._engineConfig={cwd:i,dirname:a.dirname,enableDebugLogs:h,allowTriggerPanic:j.allowTriggerPanic,prismaPath:j.binaryPath??void 0,engineEndpoint:j.endpoint,generator:a.generator,showColors:"pretty"===this._errorFormat,logLevel:d.log&&function(a){return"string"==typeof a?a:a.reduce((a,b)=>{let c="string"==typeof b?b:b.level;return"query"===c?a:a&&("info"===b||"info"===a)?"info":c},void 0)}(d.log),logQueries:d.log&&!!("string"==typeof d.log?"query"===d.log:d.log.find(a=>"string"==typeof a?"query"===a:"query"===a.level)),env:f?.parsed??{},flags:[],engineWasm:a.engineWasm,compilerWasm:a.compilerWasm,clientVersion:a.clientVersion,engineVersion:a.engineVersion,previewFeatures:this._previewFeatures,activeProvider:a.activeProvider,inlineSchema:a.inlineSchema,overrideDatasources:function(a,b){return a?a.datasources?a.datasources:a.datasourceUrl?{[b[0]]:{url:a.datasourceUrl}}:{}:{}}(d,a.datasourceNames),inlineDatasources:a.inlineDatasources,inlineSchemaHash:a.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:d.transactionOptions?.maxWait??2e3,timeout:d.transactionOptions?.timeout??5e3,isolationLevel:d.transactionOptions?.isolationLevel},logEmitter:c,isBundled:a.isBundled,adapter:e},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:gr,getBatchRequestPayload:fA,prismaGraphQLToJSError:fB,PrismaClientUnknownRequestError:cy,PrismaClientInitializationError:cv,PrismaClientKnownRequestError:cw,debug:au("prisma:client:accelerateEngine"),engineVersion:fh.version,clientVersion:a.clientVersion}},hM("clientVersion",a.clientVersion),this._engine=function({copyEngine:a=!0},b){let c;try{c=gr({inlineDatasources:b.inlineDatasources,overrideDatasources:b.overrideDatasources,env:{...b.env,...process.env},clientVersion:b.clientVersion})}catch{}let{ok:d,isUsing:e,diagnostics:f}=function({url:a,adapter:b,copyEngine:c,targetBuildType:d}){let e=[],f=[],g=a=>{let b=a.join(`
`);f.push({_tag:"error",value:b})},h=!!a?.startsWith("prisma://"),i=b4(a),j=!!b,k=h||i;!j&&c&&k&&"client"!==d&&"wasm-compiler-edge"!==d&&e.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let l=k||!c;j&&(l||"edge"===d)&&("edge"===d?g(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):k?g(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):c||g(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let m={accelerate:l,ppg:i,driverAdapters:j};return f.length>0?{ok:!1,diagnostics:{warnings:e,errors:f},isUsing:m}:{ok:!0,diagnostics:{warnings:e},isUsing:m}}({url:c,adapter:b.adapter,copyEngine:a,targetBuildType:"library"});for(let a of f.warnings)cu(...a.value);if(!d)throw new cz(f.errors[0].value,{clientVersion:b.clientVersion});let g=bV(b.generator);return(e.accelerate||e.ppg)&&e.driverAdapters,e.accelerate?new g5(b):(e.driverAdapters,"library"===g||e.accelerate,new he(b))}(a,this._engineConfig),this._requestHandler=new hC(this,c),d.log)for(let a of d.log){let b="string"==typeof a?a:"stdout"===a.emit?a.level:null;b&&this.$on(b,a=>{b7.log(`${b7.tags[b]??""}`,a.message||a.query)})}}catch(a){throw a.clientVersion=this._clientVersion,a}return this._appliedParent=fY(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(a,b){return"beforeExit"===a?this._engine.onBeforeExit(b):a&&this._engineConfig.logEmitter.on(a,b),this}$connect(){try{return this._engine.start()}catch(a){throw a.clientVersion=this._clientVersion,a}}async $disconnect(){try{await this._engine.stop()}catch(a){throw a.clientVersion=this._clientVersion,a}finally{ap.length=0}}$executeRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"executeRaw",args:c,transaction:a,clientMethod:b,argsMapper:ho({clientMethod:b,activeProvider:e}),callsite:fM(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$executeRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql){let[d,e]=hR(a,b);return hn(this._activeProvider,d.text,d.values,Array.isArray(a)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(c,"$executeRaw",d,e)}throw new cz("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(a,...b){return this._createPrismaPromise(c=>(hn(this._activeProvider,a,b,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(c,"$executeRawUnsafe",[a,...b])))}$runCommandRaw(b){if("mongodb"!==a.activeProvider)throw new cz(`The ${a.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(a=>this._request({args:b,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:hg,callsite:fM(this._errorFormat),transaction:a}))}async $queryRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"queryRaw",args:c,transaction:a,clientMethod:b,argsMapper:ho({clientMethod:b,activeProvider:e}),callsite:fM(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$queryRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql)return this.$queryRawInternal(c,"$queryRaw",...hR(a,b));throw new cz("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(a){return this._createPrismaPromise(b=>{if(!this._hasPreviewFlag("typedSql"))throw new cz("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(b,"$queryRawTyped",a)})}$queryRawUnsafe(a,...b){return this._createPrismaPromise(c=>this.$queryRawInternal(c,"$queryRawUnsafe",[a,...b]))}_transactionWithArray({promises:a,options:b}){var c;let d=hP.nextId(),e=function(a,b=()=>{}){let c,d=new Promise(a=>c=a);return{then:e=>(0==--a&&c(b()),e?.(d))}}(a.length);return 0===(c=a.map((a,c)=>{if(a?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let f=b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return a.requestTransaction?.({kind:"batch",id:d,index:c,isolationLevel:f,lock:e})??a})).length?Promise.resolve([]):new Promise((a,b)=>{let d=Array(c.length),e=null,f=!1,g=0,h=()=>{f||++g===c.length&&(f=!0,e?b(e):a(d))},i=a=>{f||(f=!0,b(a))};for(let a=0;a<c.length;a++)c[a].then(b=>{d[a]=b,h()},b=>{if(!hw(b))return void i(b);b.batchRequestIdx===a?i(b):(e||(e=b),h())})})}async _transactionWithCallback({callback:a,options:b}){let c={traceparent:this._tracingHelper.getTraceParent()},d={maxWait:b?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:b?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},e=await this._engine.transaction("start",c,d),f;try{let b={kind:"itx",...e};f=await a(this._createItxClient(b)),await this._engine.transaction("commit",c,e)}catch(a){throw await this._engine.transaction("rollback",c,e).catch(()=>{}),a}return f}_createItxClient(a){return fx(fY(fx(this[fX]?this[fX]:this,[fs("_appliedParent",()=>this._appliedParent._createItxClient(a)),fs("_createPrismaPromise",()=>hr(a)),fs(hO,()=>a.id)])),[fz(f0)])}$transaction(a,b){let c;return c="function"==typeof a?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:a,options:b}):()=>this._transactionWithArray({promises:a,options:b}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},c)}_request(a){a.otelParentCtx=this._tracingHelper.getActiveContext();let b=a.middlewareArgsMapper??hN,c={args:b.requestArgsToMiddlewareArgs(a.args),dataPath:a.dataPath,runInTransaction:!!a.transaction,action:a.action,model:a.model},d={operation:{name:"operation",attributes:{method:c.action,model:c.model,name:c.model?`${c.model}.${c.action}`:c.action}}},e=async c=>{let{runInTransaction:d,args:e,...f}=c,g={...a,...f};e&&(g.args=b.middlewareArgsToRequestArgs(e)),void 0!==a.transaction&&!1===d&&delete g.transaction;let h=await function(a,b){let{jsModelName:c,action:d,clientMethod:e}=b;if(a._extensions.isEmpty())return a._executeRequest(b);let f=a._extensions.getAllQueryCallbacks(c??"$none",c?d:e);return function a(b,c,d,e=0){return b._createPrismaPromise(f=>{let g=c.customDataProxyFetch;return"transaction"in c&&void 0!==f&&(c.transaction?.kind==="batch"&&c.transaction.lock.then(),c.transaction=f),e===d.length?b._executeRequest(c):d[e]({model:c.model,operation:c.model?c.action:c.clientMethod,args:function(a){var b,c;if(a instanceof fm){return new fm((b=a).strings,b.values)}if(fg(a)){return new fe((c=a).sql,c.values)}if(Array.isArray(a)){let b=[a[0]];for(let c=1;c<a.length;c++)b[c]=f1(a[c]);return b}let d={};for(let b in a)d[b]=f1(a[b]);return d}(c.args??{}),__internalParams:c,query:(f,h=c)=>{let i=h.customDataProxyFetch;return h.customDataProxyFetch=f3(g,i),h.args=f,a(b,h,d,e+1)}})})}(a,b,f)}(this,g);return g.model?function({result:a,modelName:b,args:c,extensions:d,runtimeDataModel:e,globalOmit:f}){return d.isEmpty()||null==a||"object"!=typeof a||!e.models[b]?a:f$({result:a,args:c??{},modelName:b,runtimeDataModel:e,visitor:(a,b,c)=>{let e=eU(b);return function({result:a,modelName:b,select:c,omit:d,extensions:e}){let f=e.getAllComputedFields(b);if(!f)return a;let g=[],h=[];for(let b of Object.values(f)){if(d){if(d[b.name])continue;let a=b.needs.filter(a=>d[a]);a.length>0&&h.push(fz(a))}else if(c){if(!c[b.name])continue;let a=b.needs.filter(a=>!c[a]);a.length>0&&h.push(fz(a))}(function(a,b){return b.every(b=>Object.prototype.hasOwnProperty.call(a,b))})(a,b.needs)&&g.push(function(a,b){return ft(fs(a.name,()=>a.compute(b)))}(b,fx(a,g)))}return g.length>0||h.length>0?fx(a,[...g,...h]):a}({result:a,modelName:e,select:c.select,omit:c.select?void 0:{...f?.[e],...c.omit},extensions:d})}})}({result:h,modelName:g.model,args:g.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(d.operation,()=>new fi.AsyncResource("prisma-client-request").runInAsyncScope(()=>e(c)))}async _executeRequest({args:a,clientMethod:b,dataPath:c,callsite:d,action:e,model:f,argsMapper:g,transaction:h,unpacker:i,otelParentCtx:j,customDataProxyFetch:k}){try{a=g?g(a):a;let l=this._tracingHelper.runInChildSpan({name:"serialize"},()=>e4({modelName:f,runtimeDataModel:this._runtimeDataModel,action:e,args:a,clientMethod:b,callsite:d,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return au.enabled("prisma:client")&&(hM("Prisma Client call:"),hM(`prisma.${b}(${function(a){if(void 0===a)return"";let b=eQ(a);return new ek(0,{colors:en}).write(b).toString()}(a)})`),hM("Generated request:"),hM(JSON.stringify(l,null,2)+`
`)),h?.kind==="batch"&&await h.lock,this._requestHandler.request({protocolQuery:l,modelName:f,action:e,clientMethod:b,dataPath:c,callsite:d,args:a,extensions:this._extensions,transaction:h,unpacker:i,otelParentCtx:j,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:k})}catch(a){throw a.clientVersion=this._clientVersion,a}}$metrics=new e9(this);_hasPreviewFlag(a){return!!this._engineConfig.previewFeatures?.includes(a)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=fZ}return b}function hR(a,b){var c;return Array.isArray(c=a)&&Array.isArray(c.raw)?[new fm(a,b),hp]:[a,hq]}var hS=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function hT(a){return new Proxy(a,{get(a,b){if(b in a)return a[b];if(!hS.has(b))throw TypeError(`Invalid enum value: ${String(b)}`)}})}function hU(a){co(a,{conflictCheck:"warn"})}},2710,(a,b,c)=>{Object.defineProperty(c,"__esModule",{value:!0});let{PrismaClientKnownRequestError:d,PrismaClientUnknownRequestError:e,PrismaClientRustPanicError:f,PrismaClientInitializationError:g,PrismaClientValidationError:h,getPrismaClient:i,sqltag:j,empty:k,join:l,raw:m,skip:n,Decimal:o,Debug:p,objectEnumValues:q,makeStrictEnum:r,Extensions:s,warnOnce:t,defineDmmfProperty:u,Public:v,getRuntime:w,createParam:x}=a.r(68346),y={};c.Prisma=y,c.$Enums={},y.prismaVersion={client:"6.17.1",engine:"272a37d34178c2894197e17273bf937f25acdeac"},y.PrismaClientKnownRequestError=d,y.PrismaClientUnknownRequestError=e,y.PrismaClientRustPanicError=f,y.PrismaClientInitializationError=g,y.PrismaClientValidationError=h,y.Decimal=o,y.sql=j,y.empty=k,y.join=l,y.raw=m,y.validator=v.validator,y.getExtensionContext=s.getExtensionContext,y.defineExtension=s.defineExtension,y.DbNull=q.instances.DbNull,y.JsonNull=q.instances.JsonNull,y.AnyNull=q.instances.AnyNull,y.NullTypes={DbNull:q.classes.DbNull,JsonNull:q.classes.JsonNull,AnyNull:q.classes.AnyNull};let z=a.r(14747);c.Prisma.TransactionIsolationLevel=r({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),c.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",createdAt:"createdAt",updatedAt:"updatedAt"},c.Prisma.SessionScalarFieldEnum={id:"id",expiresAt:"expiresAt",token:"token",createdAt:"createdAt",updatedAt:"updatedAt",ipAddress:"ipAddress",userAgent:"userAgent",userId:"userId"},c.Prisma.AccountScalarFieldEnum={id:"id",accountId:"accountId",providerId:"providerId",userId:"userId",accessToken:"accessToken",refreshToken:"refreshToken",idToken:"idToken",accessTokenExpiresAt:"accessTokenExpiresAt",refreshTokenExpiresAt:"refreshTokenExpiresAt",scope:"scope",password:"password",createdAt:"createdAt",updatedAt:"updatedAt"},c.Prisma.VerificationScalarFieldEnum={id:"id",identifier:"identifier",value:"value",expiresAt:"expiresAt",createdAt:"createdAt",updatedAt:"updatedAt"},c.Prisma.SortOrder={asc:"asc",desc:"desc"},c.Prisma.QueryMode={default:"default",insensitive:"insensitive"},c.Prisma.NullsOrder={first:"first",last:"last"},c.Prisma.ModelName={User:"User",Session:"Session",Account:"Account",Verification:"Verification"};let A={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"C:\\Users\\sengicarlos\\Desktop\\S_Tier Coding\\lms-course-platform\\lib\\generated\\prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"C:\\Users\\sengicarlos\\Desktop\\S_Tier Coding\\lms-course-platform\\prisma\\schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.17.1",engineVersion:"272a37d34178c2894197e17273bf937f25acdeac",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'generator client {\n  provider = "prisma-client-js"\n  output   = "../lib/generated/prisma"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id            String    @id\n  name          String\n  email         String\n  emailVerified Boolean   @default(false)\n  image         String?\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @default(now()) @updatedAt\n  sessions      Session[]\n  accounts      Account[]\n\n  @@unique([email])\n  @@map("user")\n}\n\nmodel Session {\n  id        String   @id\n  expiresAt DateTime\n  token     String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  ipAddress String?\n  userAgent String?\n  userId    String\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([token])\n  @@map("session")\n}\n\nmodel Account {\n  id                    String    @id\n  accountId             String\n  providerId            String\n  userId                String\n  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  accessToken           String?\n  refreshToken          String?\n  idToken               String?\n  accessTokenExpiresAt  DateTime?\n  refreshTokenExpiresAt DateTime?\n  scope                 String?\n  password              String?\n  createdAt             DateTime  @default(now())\n  updatedAt             DateTime  @updatedAt\n\n  @@map("account")\n}\n\nmodel Verification {\n  id         String   @id\n  identifier String\n  value      String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @default(now()) @updatedAt\n\n  @@map("verification")\n}\n',inlineSchemaHash:"bce50d1afda7db331478d0d4b1039ebf1f583252b7460b8c11ac03ecba79bb78",copyEngine:!0},B=a.r(22734);if(A.dirname="/ROOT/lib/generated/prisma",!B.existsSync(z.join("/ROOT/lib/generated/prisma","schema.prisma"))){let a=["lib/generated/prisma","generated/prisma"],b=a.find(a=>B.existsSync(z.join(process.cwd(),a,"schema.prisma")))??a[0];A.dirname=z.join(process.cwd(),b),A.isBundled=!0}A.runtimeDataModel=JSON.parse('{"models":{"User":{"dbName":"user","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"image","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":true},{"name":"sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Session","nativeType":null,"relationName":"SessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"accounts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Account","nativeType":null,"relationName":"AccountToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["email"]],"uniqueIndexes":[{"name":null,"fields":["email"]}],"isGenerated":false},"Session":{"dbName":"session","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SessionToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["token"]],"uniqueIndexes":[{"name":null,"fields":["token"]}],"isGenerated":false},"Account":{"dbName":"account","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accountId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"providerId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AccountToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"accessToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"idToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accessTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"scope","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Verification":{"dbName":"verification","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"identifier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"value","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}'),u(c.Prisma,A.runtimeDataModel),A.engineWasm=void 0,A.compilerWasm=void 0;let{warnEnvConflicts:C}=a.r(68346);C({rootEnvPath:A.relativeEnvPaths.rootEnvPath&&z.resolve(A.dirname,A.relativeEnvPaths.rootEnvPath),schemaEnvPath:A.relativeEnvPaths.schemaEnvPath&&z.resolve(A.dirname,A.relativeEnvPaths.schemaEnvPath)}),c.PrismaClient=i(A),Object.assign(c,y),z.join("/ROOT/lib/generated/prisma","query_engine-windows.dll.node"),z.join(process.cwd(),"lib/generated/prisma/query_engine-windows.dll.node"),z.join("/ROOT/lib/generated/prisma","schema.prisma"),z.join(process.cwd(),"lib/generated/prisma/schema.prisma")},45860,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ApplicationInSerializer=void 0,c.ApplicationInSerializer={_fromJsonObject:a=>({metadata:a.metadata,name:a.name,rateLimit:a.rateLimit,uid:a.uid}),_toJsonObject:a=>({metadata:a.metadata,name:a.name,rateLimit:a.rateLimit,uid:a.uid})}},11765,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ApplicationOutSerializer=void 0,c.ApplicationOutSerializer={_fromJsonObject:a=>({createdAt:new Date(a.createdAt),id:a.id,metadata:a.metadata,name:a.name,rateLimit:a.rateLimit,uid:a.uid,updatedAt:new Date(a.updatedAt)}),_toJsonObject:a=>({createdAt:a.createdAt,id:a.id,metadata:a.metadata,name:a.name,rateLimit:a.rateLimit,uid:a.uid,updatedAt:a.updatedAt})}},94169,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ApplicationPatchSerializer=void 0,c.ApplicationPatchSerializer={_fromJsonObject:a=>({metadata:a.metadata,name:a.name,rateLimit:a.rateLimit,uid:a.uid}),_toJsonObject:a=>({metadata:a.metadata,name:a.name,rateLimit:a.rateLimit,uid:a.uid})}},91503,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseApplicationOutSerializer=void 0;let d=a.r(11765);c.ListResponseApplicationOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.ApplicationOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.ApplicationOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},81857,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ApiException=void 0,c.ApiException=class extends Error{constructor(a,b,c){super(`HTTP-Code: ${a}
Headers: ${JSON.stringify(c)}`),this.code=a,this.body=b,this.headers={},c.forEach((a,b)=>{this.headers[b]=a})}}},47272,a=>{"use strict";let b,c;a.s(["MAX",()=>d,"NIL",()=>e,"parse",()=>h,"stringify",()=>k,"v1",()=>r,"v1ToV6",()=>s,"v3",()=>u,"v4",()=>w,"v5",()=>x,"v6",()=>y,"v6ToV1",()=>z,"v7",()=>D,"validate",()=>g,"version",()=>E],47272),a.s([],72997),a.i(72997);let d="ffffffff-ffff-ffff-ffff-ffffffffffff",e="00000000-0000-0000-0000-000000000000",f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,g=function(a){return"string"==typeof a&&f.test(a)},h=function(a){let b;if(!g(a))throw TypeError("Invalid UUID");let c=new Uint8Array(16);return c[0]=(b=parseInt(a.slice(0,8),16))>>>24,c[1]=b>>>16&255,c[2]=b>>>8&255,c[3]=255&b,c[4]=(b=parseInt(a.slice(9,13),16))>>>8,c[5]=255&b,c[6]=(b=parseInt(a.slice(14,18),16))>>>8,c[7]=255&b,c[8]=(b=parseInt(a.slice(19,23),16))>>>8,c[9]=255&b,c[10]=(b=parseInt(a.slice(24,36),16))/0x10000000000&255,c[11]=b/0x100000000&255,c[12]=b>>>24&255,c[13]=b>>>16&255,c[14]=b>>>8&255,c[15]=255&b,c},i=[];for(let a=0;a<256;++a)i.push((a+256).toString(16).slice(1));function j(a,b=0){return(i[a[b+0]]+i[a[b+1]]+i[a[b+2]]+i[a[b+3]]+"-"+i[a[b+4]]+i[a[b+5]]+"-"+i[a[b+6]]+i[a[b+7]]+"-"+i[a[b+8]]+i[a[b+9]]+"-"+i[a[b+10]]+i[a[b+11]]+i[a[b+12]]+i[a[b+13]]+i[a[b+14]]+i[a[b+15]]).toLowerCase()}let k=function(a,b=0){let c=j(a,b);if(!g(c))throw TypeError("Stringified UUID is invalid");return c};var l=a.i(66680);let m=new Uint8Array(256),n=m.length;function o(){return n>m.length-16&&(l.default.randomFillSync(m),n=0),m.slice(n,n+=16)}let p=0,q=0,r=function(a,d,e){let f=d&&e||0,g=d||Array(16),h=(a=a||{}).node,i=a.clockseq;if(a._v6||(h||(h=b),null==i&&(i=c)),null==h||null==i){let d=a.random||(a.rng||o)();null==h&&(h=[d[0],d[1],d[2],d[3],d[4],d[5]],b||a._v6||(h[0]|=1,b=h)),null==i&&(i=(d[6]<<8|d[7])&16383,void 0!==c||a._v6||(c=i))}let k=void 0!==a.msecs?a.msecs:Date.now(),l=void 0!==a.nsecs?a.nsecs:q+1,m=k-p+(l-q)/1e4;if(m<0&&void 0===a.clockseq&&(i=i+1&16383),(m<0||k>p)&&void 0===a.nsecs&&(l=0),l>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");p=k,q=l,c=i;let n=((0xfffffff&(k+=122192928e5))*1e4+l)%0x100000000;g[f++]=n>>>24&255,g[f++]=n>>>16&255,g[f++]=n>>>8&255,g[f++]=255&n;let r=k/0x100000000*1e4&0xfffffff;g[f++]=r>>>8&255,g[f++]=255&r,g[f++]=r>>>24&15|16,g[f++]=r>>>16&255,g[f++]=i>>>8|128,g[f++]=255&i;for(let a=0;a<6;++a)g[f+a]=h[a];return d||j(g)};function s(a){let b=function(a,b=!1){return Uint8Array.of((15&a[6])<<4|a[7]>>4&15,(15&a[7])<<4|(240&a[4])>>4,(15&a[4])<<4|(240&a[5])>>4,(15&a[5])<<4|(240&a[0])>>4,(15&a[0])<<4|(240&a[1])>>4,(15&a[1])<<4|(240&a[2])>>4,96|15&a[2],a[3],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}("string"==typeof a?h(a):a);return"string"==typeof a?j(b):b}function t(a,b,c){function d(a,d,e,f){var g;if("string"==typeof a&&(a=function(a){a=unescape(encodeURIComponent(a));let b=[];for(let c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b}(a)),"string"==typeof d&&(d=h(d)),(null==(g=d)?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let i=new Uint8Array(16+a.length);if(i.set(d),i.set(a,d.length),(i=c(i))[6]=15&i[6]|b,i[8]=63&i[8]|128,e){f=f||0;for(let a=0;a<16;++a)e[f+a]=i[a];return e}return j(i)}try{d.name=a}catch(a){}return d.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",d.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",d}let u=t("v3",48,function(a){return Array.isArray(a)?a=Buffer.from(a):"string"==typeof a&&(a=Buffer.from(a,"utf8")),l.default.createHash("md5").update(a).digest()}),v={randomUUID:l.default.randomUUID},w=function(a,b,c){if(v.randomUUID&&!b&&!a)return v.randomUUID();let d=(a=a||{}).random||(a.rng||o)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(let a=0;a<16;++a)b[c+a]=d[a];return b}return j(d)},x=t("v5",80,function(a){return Array.isArray(a)?a=Buffer.from(a):"string"==typeof a&&(a=Buffer.from(a,"utf8")),l.default.createHash("sha1").update(a).digest()});function y(a={},b,c=0){let d=r({...a,_v6:!0},new Uint8Array(16));if(d=s(d),b){for(let a=0;a<16;a++)b[c+a]=d[a];return b}return j(d)}function z(a){var b;let c=(b="string"==typeof a?h(a):a,Uint8Array.of((15&b[3])<<4|b[4]>>4&15,(15&b[4])<<4|(240&b[5])>>4,(15&b[5])<<4|15&b[6],b[7],(15&b[1])<<4|(240&b[2])>>4,(15&b[2])<<4|(240&b[3])>>4,16|(240&b[0])>>4,(15&b[0])<<4|(240&b[1])>>4,b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]));return"string"==typeof a?j(c):c}let A=null,B=null,C=0,D=function(a,b,c){a=a||{};let d=b&&c||0,e=b||new Uint8Array(16),f=a.random||(a.rng||o)(),g=void 0!==a.msecs?a.msecs:Date.now(),h=void 0!==a.seq?a.seq:null,i=B,k=A;return g>C&&void 0===a.msecs&&(C=g,null!==h&&(i=null,k=null)),null!==h&&(h>0x7fffffff&&(h=0x7fffffff),i=h>>>19&4095,k=524287&h),(null===i||null===k)&&(i=(i=127&f[6])<<8|f[7],k=(k=(k=63&f[8])<<8|f[9])<<5|f[10]>>>3),g+1e4>C&&null===h?++k>524287&&(k=0,++i>4095&&(i=0,C++)):C=g,B=i,A=k,e[d++]=C/0x10000000000&255,e[d++]=C/0x100000000&255,e[d++]=C/0x1000000&255,e[d++]=C/65536&255,e[d++]=C/256&255,e[d++]=255&C,e[d++]=i>>>4&15|112,e[d++]=255&i,e[d++]=k>>>13&63|128,e[d++]=k>>>5&255,e[d++]=k<<3&255|7&f[10],e[d++]=f[11],e[d++]=f[12],e[d++]=f[13],e[d++]=f[14],e[d++]=f[15],b||j(e)},E=function(a){if(!g(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}},51379,(a,b,c)=>{"use strict";var d=a.e&&a.e.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.SvixRequest=c.HttpMethod=c.LIB_VERSION=void 0;let e=a.r(81857),f=a.r(47272);c.LIB_VERSION="1.76.1";let g=`svix-libs/${c.LIB_VERSION}/javascript`;!function(a){a.GET="GET",a.HEAD="HEAD",a.POST="POST",a.PUT="PUT",a.DELETE="DELETE",a.CONNECT="CONNECT",a.OPTIONS="OPTIONS",a.TRACE="TRACE",a.PATCH="PATCH"}(c.HttpMethod||(c.HttpMethod={})),c.SvixRequest=class{constructor(a,b){this.method=a,this.path=b,this.queryParams={},this.headerParams={}}setPathParam(a,b){let c=this.path.replace(`{${a}}`,encodeURIComponent(b));if(this.path===c)throw Error(`path parameter ${a} not found`);this.path=c}setQueryParam(a,b){if(null!=b)if("string"==typeof b)this.queryParams[a]=b;else if("boolean"==typeof b||"number"==typeof b)this.queryParams[a]=b.toString();else if(b instanceof Date)this.queryParams[a]=b.toISOString();else if(b instanceof Array)b.length>0&&(this.queryParams[a]=b.join(","));else throw Error(`query parameter ${a} has unsupported type`)}setHeaderParam(a,b){void 0!==b&&(this.headerParams[a]=b)}setBody(a){this.body=JSON.stringify(a)}send(a,b){return d(this,void 0,void 0,function*(){let c=yield this.sendInner(a);return 204==c.status?null:b(JSON.parse((yield c.text())))})}sendNoResponseBody(a){return d(this,void 0,void 0,function*(){yield this.sendInner(a)})}sendInner(a){var b,c;return d(this,void 0,void 0,function*(){let h=new URL(a.baseUrl+this.path);for(let[a,b]of Object.entries(this.queryParams))h.searchParams.set(a,b);void 0===this.headerParams["idempotency-key"]&&"POST"===this.method.toUpperCase()&&(this.headerParams["idempotency-key"]="auto_"+(0,f.v4)());let i=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);null!=this.body&&(this.headerParams["content-type"]="application/json");let j="credentials"in Request.prototype;return function(a){return d(this,void 0,void 0,function*(){if(a.status<300)return a;let b=yield a.text();if(422===a.status||a.status>=400&&a.status<=499)throw new e.ApiException(a.status,JSON.parse(b),a.headers);throw new e.ApiException(a.status,b,a.headers)})}((yield function a(b,c,e,f=50,g=2,h=1){return d(this,void 0,void 0,function*(){let d;try{let a=yield fetch(b,c);if(g<=0||a.status<500)return a}catch(a){if(g<=0)throw a}return yield(d=f,new Promise(a=>setTimeout(a,d))),c.headers["svix-retry-count"]=h.toString(),f=(null==e?void 0:e[h])||2*f,yield a(b,c,e,f,--g,++h)})}(h,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${a.token}`,"user-agent":g,"svix-req-id":i.toString()},this.headerParams),credentials:j?"same-origin":void 0,signal:void 0!==a.timeout?AbortSignal.timeout(a.timeout):void 0},a.retryScheduleInMs,null==(b=a.retryScheduleInMs)?void 0:b[0],(null==(c=a.retryScheduleInMs)?void 0:c.length)||a.numRetries)))})}}},79131,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Application=void 0;let d=a.r(45860),e=a.r(11765),f=a.r(94169),g=a.r(91503),h=a.r(51379);c.Application=class{constructor(a){this.requestCtx=a}list(a){let b=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app");return b.setQueryParam("limit",null==a?void 0:a.limit),b.setQueryParam("iterator",null==a?void 0:a.iterator),b.setQueryParam("order",null==a?void 0:a.order),b.send(this.requestCtx,g.ListResponseApplicationOutSerializer._fromJsonObject)}create(a,b){let c=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/app");return c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(d.ApplicationInSerializer._toJsonObject(a)),c.send(this.requestCtx,e.ApplicationOutSerializer._fromJsonObject)}getOrCreate(a,b){let c=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/app");return c.setQueryParam("get_if_exists",!0),c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(d.ApplicationInSerializer._toJsonObject(a)),c.send(this.requestCtx,e.ApplicationOutSerializer._fromJsonObject)}get(a){let b=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}");return b.setPathParam("app_id",a),b.send(this.requestCtx,e.ApplicationOutSerializer._fromJsonObject)}update(a,b){let c=new h.SvixRequest(h.HttpMethod.PUT,"/api/v1/app/{app_id}");return c.setPathParam("app_id",a),c.setBody(d.ApplicationInSerializer._toJsonObject(b)),c.send(this.requestCtx,e.ApplicationOutSerializer._fromJsonObject)}delete(a){let b=new h.SvixRequest(h.HttpMethod.DELETE,"/api/v1/app/{app_id}");return b.setPathParam("app_id",a),b.sendNoResponseBody(this.requestCtx)}patch(a,b){let c=new h.SvixRequest(h.HttpMethod.PATCH,"/api/v1/app/{app_id}");return c.setPathParam("app_id",a),c.setBody(f.ApplicationPatchSerializer._toJsonObject(b)),c.send(this.requestCtx,e.ApplicationOutSerializer._fromJsonObject)}}},47047,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AppPortalCapabilitySerializer=c.AppPortalCapability=void 0,function(a){a.ViewBase="ViewBase",a.ViewEndpointSecret="ViewEndpointSecret",a.ManageEndpointSecret="ManageEndpointSecret",a.ManageTransformations="ManageTransformations",a.CreateAttempts="CreateAttempts",a.ManageEndpoint="ManageEndpoint"}(c.AppPortalCapability||(c.AppPortalCapability={})),c.AppPortalCapabilitySerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},60703,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AppPortalAccessInSerializer=void 0;let d=a.r(47047),e=a.r(45860);c.AppPortalAccessInSerializer={_fromJsonObject(a){var b;return{application:a.application?e.ApplicationInSerializer._fromJsonObject(a.application):void 0,capabilities:null==(b=a.capabilities)?void 0:b.map(a=>d.AppPortalCapabilitySerializer._fromJsonObject(a)),expiry:a.expiry,featureFlags:a.featureFlags,readOnly:a.readOnly,sessionId:a.sessionId}},_toJsonObject(a){var b;return{application:a.application?e.ApplicationInSerializer._toJsonObject(a.application):void 0,capabilities:null==(b=a.capabilities)?void 0:b.map(a=>d.AppPortalCapabilitySerializer._toJsonObject(a)),expiry:a.expiry,featureFlags:a.featureFlags,readOnly:a.readOnly,sessionId:a.sessionId}}}},44435,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AppPortalAccessOutSerializer=void 0,c.AppPortalAccessOutSerializer={_fromJsonObject:a=>({token:a.token,url:a.url}),_toJsonObject:a=>({token:a.token,url:a.url})}},17031,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ApplicationTokenExpireInSerializer=void 0,c.ApplicationTokenExpireInSerializer={_fromJsonObject:a=>({expiry:a.expiry,sessionIds:a.sessionIds}),_toJsonObject:a=>({expiry:a.expiry,sessionIds:a.sessionIds})}},72935,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DashboardAccessOutSerializer=void 0,c.DashboardAccessOutSerializer={_fromJsonObject:a=>({token:a.token,url:a.url}),_toJsonObject:a=>({token:a.token,url:a.url})}},23987,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Authentication=void 0;let d=a.r(60703),e=a.r(44435),f=a.r(17031),g=a.r(72935),h=a.r(51379);c.Authentication=class{constructor(a){this.requestCtx=a}appPortalAccess(a,b,c){let f=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return f.setPathParam("app_id",a),f.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),f.setBody(d.AppPortalAccessInSerializer._toJsonObject(b)),f.send(this.requestCtx,e.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(a,b,c){let d=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return d.setPathParam("app_id",a),d.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),d.setBody(f.ApplicationTokenExpireInSerializer._toJsonObject(b)),d.sendNoResponseBody(this.requestCtx)}dashboardAccess(a,b){let c=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return c.setPathParam("app_id",a),c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.send(this.requestCtx,g.DashboardAccessOutSerializer._fromJsonObject)}logout(a){let b=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/auth/logout");return b.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),b.sendNoResponseBody(this.requestCtx)}}},77563,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundTaskStatusSerializer=c.BackgroundTaskStatus=void 0,function(a){a.Running="running",a.Finished="finished",a.Failed="failed"}(c.BackgroundTaskStatus||(c.BackgroundTaskStatus={})),c.BackgroundTaskStatusSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},79876,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundTaskTypeSerializer=c.BackgroundTaskType=void 0,function(a){a.EndpointReplay="endpoint.replay",a.EndpointRecover="endpoint.recover",a.ApplicationStats="application.stats",a.MessageBroadcast="message.broadcast",a.SdkGenerate="sdk.generate",a.EventTypeAggregate="event-type.aggregate",a.ApplicationPurgeContent="application.purge_content"}(c.BackgroundTaskType||(c.BackgroundTaskType={})),c.BackgroundTaskTypeSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},17366,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundTaskOutSerializer=void 0;let d=a.r(77563),e=a.r(79876);c.BackgroundTaskOutSerializer={_fromJsonObject:a=>({data:a.data,id:a.id,status:d.BackgroundTaskStatusSerializer._fromJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._fromJsonObject(a.task)}),_toJsonObject:a=>({data:a.data,id:a.id,status:d.BackgroundTaskStatusSerializer._toJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._toJsonObject(a.task)})}},4225,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseBackgroundTaskOutSerializer=void 0;let d=a.r(17366);c.ListResponseBackgroundTaskOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.BackgroundTaskOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.BackgroundTaskOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},69776,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundTask=void 0;let d=a.r(17366),e=a.r(4225),f=a.r(51379);c.BackgroundTask=class{constructor(a){this.requestCtx=a}list(a){let b=new f.SvixRequest(f.HttpMethod.GET,"/api/v1/background-task");return b.setQueryParam("status",null==a?void 0:a.status),b.setQueryParam("task",null==a?void 0:a.task),b.setQueryParam("limit",null==a?void 0:a.limit),b.setQueryParam("iterator",null==a?void 0:a.iterator),b.setQueryParam("order",null==a?void 0:a.order),b.send(this.requestCtx,e.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(a){return this.list(a)}get(a){let b=new f.SvixRequest(f.HttpMethod.GET,"/api/v1/background-task/{task_id}");return b.setPathParam("task_id",a),b.send(this.requestCtx,d.BackgroundTaskOutSerializer._fromJsonObject)}}},58098,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointHeadersInSerializer=void 0,c.EndpointHeadersInSerializer={_fromJsonObject:a=>({headers:a.headers}),_toJsonObject:a=>({headers:a.headers})}},52693,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointHeadersOutSerializer=void 0,c.EndpointHeadersOutSerializer={_fromJsonObject:a=>({headers:a.headers,sensitive:a.sensitive}),_toJsonObject:a=>({headers:a.headers,sensitive:a.sensitive})}},49201,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointHeadersPatchInSerializer=void 0,c.EndpointHeadersPatchInSerializer={_fromJsonObject:a=>({deleteHeaders:a.deleteHeaders,headers:a.headers}),_toJsonObject:a=>({deleteHeaders:a.deleteHeaders,headers:a.headers})}},83658,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointInSerializer=void 0,c.EndpointInSerializer={_fromJsonObject:a=>({channels:a.channels,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,headers:a.headers,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url,version:a.version}),_toJsonObject:a=>({channels:a.channels,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,headers:a.headers,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url,version:a.version})}},52419,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointOutSerializer=void 0,c.EndpointOutSerializer={_fromJsonObject:a=>({channels:a.channels,createdAt:new Date(a.createdAt),description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,id:a.id,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,updatedAt:new Date(a.updatedAt),url:a.url,version:a.version}),_toJsonObject:a=>({channels:a.channels,createdAt:a.createdAt,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,id:a.id,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,updatedAt:a.updatedAt,url:a.url,version:a.version})}},86398,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointPatchSerializer=void 0,c.EndpointPatchSerializer={_fromJsonObject:a=>({channels:a.channels,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url,version:a.version}),_toJsonObject:a=>({channels:a.channels,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url,version:a.version})}},92642,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointSecretOutSerializer=void 0,c.EndpointSecretOutSerializer={_fromJsonObject:a=>({key:a.key}),_toJsonObject:a=>({key:a.key})}},23737,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointSecretRotateInSerializer=void 0,c.EndpointSecretRotateInSerializer={_fromJsonObject:a=>({key:a.key}),_toJsonObject:a=>({key:a.key})}},30602,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointStatsSerializer=void 0,c.EndpointStatsSerializer={_fromJsonObject:a=>({fail:a.fail,pending:a.pending,sending:a.sending,success:a.success}),_toJsonObject:a=>({fail:a.fail,pending:a.pending,sending:a.sending,success:a.success})}},7162,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointTransformationInSerializer=void 0,c.EndpointTransformationInSerializer={_fromJsonObject:a=>({code:a.code,enabled:a.enabled}),_toJsonObject:a=>({code:a.code,enabled:a.enabled})}},27308,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointTransformationOutSerializer=void 0,c.EndpointTransformationOutSerializer={_fromJsonObject:a=>({code:a.code,enabled:a.enabled}),_toJsonObject:a=>({code:a.code,enabled:a.enabled})}},74984,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointTransformationPatchSerializer=void 0,c.EndpointTransformationPatchSerializer={_fromJsonObject:a=>({code:a.code,enabled:a.enabled}),_toJsonObject:a=>({code:a.code,enabled:a.enabled})}},86133,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointUpdateSerializer=void 0,c.EndpointUpdateSerializer={_fromJsonObject:a=>({channels:a.channels,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,url:a.url,version:a.version}),_toJsonObject:a=>({channels:a.channels,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,url:a.url,version:a.version})}},43048,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventExampleInSerializer=void 0,c.EventExampleInSerializer={_fromJsonObject:a=>({eventType:a.eventType,exampleIndex:a.exampleIndex}),_toJsonObject:a=>({eventType:a.eventType,exampleIndex:a.exampleIndex})}},82977,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseEndpointOutSerializer=void 0;let d=a.r(52419);c.ListResponseEndpointOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.EndpointOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.EndpointOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},64948,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageOutSerializer=void 0,c.MessageOutSerializer={_fromJsonObject:a=>({channels:a.channels,eventId:a.eventId,eventType:a.eventType,id:a.id,payload:a.payload,tags:a.tags,timestamp:new Date(a.timestamp)}),_toJsonObject:a=>({channels:a.channels,eventId:a.eventId,eventType:a.eventType,id:a.id,payload:a.payload,tags:a.tags,timestamp:a.timestamp})}},42761,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RecoverInSerializer=void 0,c.RecoverInSerializer={_fromJsonObject:a=>({since:new Date(a.since),until:a.until?new Date(a.until):null}),_toJsonObject:a=>({since:a.since,until:a.until})}},75554,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RecoverOutSerializer=void 0;let d=a.r(77563),e=a.r(79876);c.RecoverOutSerializer={_fromJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._fromJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._fromJsonObject(a.task)}),_toJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._toJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._toJsonObject(a.task)})}},99432,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ReplayInSerializer=void 0,c.ReplayInSerializer={_fromJsonObject:a=>({since:new Date(a.since),until:a.until?new Date(a.until):null}),_toJsonObject:a=>({since:a.since,until:a.until})}},14722,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ReplayOutSerializer=void 0;let d=a.r(77563),e=a.r(79876);c.ReplayOutSerializer={_fromJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._fromJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._fromJsonObject(a.task)}),_toJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._toJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._toJsonObject(a.task)})}},65236,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Endpoint=void 0;let d=a.r(58098),e=a.r(52693),f=a.r(49201),g=a.r(83658),h=a.r(52419),i=a.r(86398),j=a.r(92642),k=a.r(23737),l=a.r(30602),m=a.r(7162),n=a.r(27308),o=a.r(74984),p=a.r(86133),q=a.r(43048),r=a.r(82977),s=a.r(64948),t=a.r(42761),u=a.r(75554),v=a.r(99432),w=a.r(14722),x=a.r(51379);c.Endpoint=class{constructor(a){this.requestCtx=a}list(a,b){let c=new x.SvixRequest(x.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return c.setPathParam("app_id",a),c.setQueryParam("limit",null==b?void 0:b.limit),c.setQueryParam("iterator",null==b?void 0:b.iterator),c.setQueryParam("order",null==b?void 0:b.order),c.send(this.requestCtx,r.ListResponseEndpointOutSerializer._fromJsonObject)}create(a,b,c){let d=new x.SvixRequest(x.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return d.setPathParam("app_id",a),d.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),d.setBody(g.EndpointInSerializer._toJsonObject(b)),d.send(this.requestCtx,h.EndpointOutSerializer._fromJsonObject)}get(a,b){let c=new x.SvixRequest(x.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return c.setPathParam("app_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,h.EndpointOutSerializer._fromJsonObject)}update(a,b,c){let d=new x.SvixRequest(x.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return d.setPathParam("app_id",a),d.setPathParam("endpoint_id",b),d.setBody(p.EndpointUpdateSerializer._toJsonObject(c)),d.send(this.requestCtx,h.EndpointOutSerializer._fromJsonObject)}delete(a,b){let c=new x.SvixRequest(x.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return c.setPathParam("app_id",a),c.setPathParam("endpoint_id",b),c.sendNoResponseBody(this.requestCtx)}patch(a,b,c){let d=new x.SvixRequest(x.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return d.setPathParam("app_id",a),d.setPathParam("endpoint_id",b),d.setBody(i.EndpointPatchSerializer._toJsonObject(c)),d.send(this.requestCtx,h.EndpointOutSerializer._fromJsonObject)}getHeaders(a,b){let c=new x.SvixRequest(x.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return c.setPathParam("app_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,e.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(a,b,c){let e=new x.SvixRequest(x.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return e.setPathParam("app_id",a),e.setPathParam("endpoint_id",b),e.setBody(d.EndpointHeadersInSerializer._toJsonObject(c)),e.sendNoResponseBody(this.requestCtx)}headersUpdate(a,b,c){return this.updateHeaders(a,b,c)}patchHeaders(a,b,c){let d=new x.SvixRequest(x.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return d.setPathParam("app_id",a),d.setPathParam("endpoint_id",b),d.setBody(f.EndpointHeadersPatchInSerializer._toJsonObject(c)),d.sendNoResponseBody(this.requestCtx)}headersPatch(a,b,c){return this.patchHeaders(a,b,c)}recover(a,b,c,d){let e=new x.SvixRequest(x.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return e.setPathParam("app_id",a),e.setPathParam("endpoint_id",b),e.setHeaderParam("idempotency-key",null==d?void 0:d.idempotencyKey),e.setBody(t.RecoverInSerializer._toJsonObject(c)),e.send(this.requestCtx,u.RecoverOutSerializer._fromJsonObject)}replayMissing(a,b,c,d){let e=new x.SvixRequest(x.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return e.setPathParam("app_id",a),e.setPathParam("endpoint_id",b),e.setHeaderParam("idempotency-key",null==d?void 0:d.idempotencyKey),e.setBody(v.ReplayInSerializer._toJsonObject(c)),e.send(this.requestCtx,w.ReplayOutSerializer._fromJsonObject)}getSecret(a,b){let c=new x.SvixRequest(x.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return c.setPathParam("app_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,j.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(a,b,c,d){let e=new x.SvixRequest(x.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return e.setPathParam("app_id",a),e.setPathParam("endpoint_id",b),e.setHeaderParam("idempotency-key",null==d?void 0:d.idempotencyKey),e.setBody(k.EndpointSecretRotateInSerializer._toJsonObject(c)),e.sendNoResponseBody(this.requestCtx)}sendExample(a,b,c,d){let e=new x.SvixRequest(x.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return e.setPathParam("app_id",a),e.setPathParam("endpoint_id",b),e.setHeaderParam("idempotency-key",null==d?void 0:d.idempotencyKey),e.setBody(q.EventExampleInSerializer._toJsonObject(c)),e.send(this.requestCtx,s.MessageOutSerializer._fromJsonObject)}getStats(a,b,c){let d=new x.SvixRequest(x.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return d.setPathParam("app_id",a),d.setPathParam("endpoint_id",b),d.setQueryParam("since",null==c?void 0:c.since),d.setQueryParam("until",null==c?void 0:c.until),d.send(this.requestCtx,l.EndpointStatsSerializer._fromJsonObject)}transformationGet(a,b){let c=new x.SvixRequest(x.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return c.setPathParam("app_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,n.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(a,b,c){let d=new x.SvixRequest(x.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return d.setPathParam("app_id",a),d.setPathParam("endpoint_id",b),d.setBody(o.EndpointTransformationPatchSerializer._toJsonObject(c)),d.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(a,b,c){let d=new x.SvixRequest(x.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return d.setPathParam("app_id",a),d.setPathParam("endpoint_id",b),d.setBody(m.EndpointTransformationInSerializer._toJsonObject(c)),d.sendNoResponseBody(this.requestCtx)}}},87340,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ConnectorKindSerializer=c.ConnectorKind=void 0,function(a){a.Custom="Custom",a.CloseCrm="CloseCRM",a.CustomerIo="CustomerIO",a.Discord="Discord",a.Hubspot="Hubspot",a.Inngest="Inngest",a.Loops="Loops",a.Resend="Resend",a.Salesforce="Salesforce",a.Segment="Segment",a.Sendgrid="Sendgrid",a.Slack="Slack",a.Teams="Teams",a.TriggerDev="TriggerDev",a.Windmill="Windmill",a.Zapier="Zapier"}(c.ConnectorKind||(c.ConnectorKind={})),c.ConnectorKindSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},23802,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ConnectorInSerializer=void 0;let d=a.r(87340);c.ConnectorInSerializer={_fromJsonObject:a=>({description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,filterTypes:a.filterTypes,instructions:a.instructions,instructionsLink:a.instructionsLink,kind:a.kind?d.ConnectorKindSerializer._fromJsonObject(a.kind):void 0,logo:a.logo,name:a.name,transformation:a.transformation}),_toJsonObject:a=>({description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,filterTypes:a.filterTypes,instructions:a.instructions,instructionsLink:a.instructionsLink,kind:a.kind?d.ConnectorKindSerializer._toJsonObject(a.kind):void 0,logo:a.logo,name:a.name,transformation:a.transformation})}},77722,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypeInSerializer=void 0,c.EventTypeInSerializer={_fromJsonObject:a=>({archived:a.archived,deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,name:a.name,schemas:a.schemas}),_toJsonObject:a=>({archived:a.archived,deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,name:a.name,schemas:a.schemas})}},38894,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EnvironmentInSerializer=void 0;let d=a.r(23802),e=a.r(77722);c.EnvironmentInSerializer={_fromJsonObject(a){var b,c;return{connectors:null==(b=a.connectors)?void 0:b.map(a=>d.ConnectorInSerializer._fromJsonObject(a)),eventTypes:null==(c=a.eventTypes)?void 0:c.map(a=>e.EventTypeInSerializer._fromJsonObject(a)),settings:a.settings}},_toJsonObject(a){var b,c;return{connectors:null==(b=a.connectors)?void 0:b.map(a=>d.ConnectorInSerializer._toJsonObject(a)),eventTypes:null==(c=a.eventTypes)?void 0:c.map(a=>e.EventTypeInSerializer._toJsonObject(a)),settings:a.settings}}}},18040,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ConnectorOutSerializer=void 0;let d=a.r(87340);c.ConnectorOutSerializer={_fromJsonObject:a=>({createdAt:new Date(a.createdAt),description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,filterTypes:a.filterTypes,id:a.id,instructions:a.instructions,instructionsLink:a.instructionsLink,kind:d.ConnectorKindSerializer._fromJsonObject(a.kind),logo:a.logo,name:a.name,orgId:a.orgId,transformation:a.transformation,updatedAt:new Date(a.updatedAt)}),_toJsonObject:a=>({createdAt:a.createdAt,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,filterTypes:a.filterTypes,id:a.id,instructions:a.instructions,instructionsLink:a.instructionsLink,kind:d.ConnectorKindSerializer._toJsonObject(a.kind),logo:a.logo,name:a.name,orgId:a.orgId,transformation:a.transformation,updatedAt:a.updatedAt})}},84458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypeOutSerializer=void 0,c.EventTypeOutSerializer={_fromJsonObject:a=>({archived:a.archived,createdAt:new Date(a.createdAt),deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,name:a.name,schemas:a.schemas,updatedAt:new Date(a.updatedAt)}),_toJsonObject:a=>({archived:a.archived,createdAt:a.createdAt,deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,name:a.name,schemas:a.schemas,updatedAt:a.updatedAt})}},1176,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EnvironmentOutSerializer=void 0;let d=a.r(18040),e=a.r(84458);c.EnvironmentOutSerializer={_fromJsonObject:a=>({createdAt:new Date(a.createdAt),eventTypes:a.eventTypes.map(a=>e.EventTypeOutSerializer._fromJsonObject(a)),settings:a.settings,transformationTemplates:a.transformationTemplates.map(a=>d.ConnectorOutSerializer._fromJsonObject(a)),version:a.version}),_toJsonObject:a=>({createdAt:a.createdAt,eventTypes:a.eventTypes.map(a=>e.EventTypeOutSerializer._toJsonObject(a)),settings:a.settings,transformationTemplates:a.transformationTemplates.map(a=>d.ConnectorOutSerializer._toJsonObject(a)),version:a.version})}},47215,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Environment=void 0;let d=a.r(38894),e=a.r(1176),f=a.r(51379);c.Environment=class{constructor(a){this.requestCtx=a}export(a){let b=new f.SvixRequest(f.HttpMethod.POST,"/api/v1/environment/export");return b.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),b.send(this.requestCtx,e.EnvironmentOutSerializer._fromJsonObject)}import(a,b){let c=new f.SvixRequest(f.HttpMethod.POST,"/api/v1/environment/import");return c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(d.EnvironmentInSerializer._toJsonObject(a)),c.sendNoResponseBody(this.requestCtx)}}},13272,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypeImportOpenApiInSerializer=void 0,c.EventTypeImportOpenApiInSerializer={_fromJsonObject:a=>({dryRun:a.dryRun,replaceAll:a.replaceAll,spec:a.spec,specRaw:a.specRaw}),_toJsonObject:a=>({dryRun:a.dryRun,replaceAll:a.replaceAll,spec:a.spec,specRaw:a.specRaw})}},57611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypeFromOpenApiSerializer=void 0,c.EventTypeFromOpenApiSerializer={_fromJsonObject:a=>({deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,name:a.name,schemas:a.schemas}),_toJsonObject:a=>({deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,name:a.name,schemas:a.schemas})}},20137,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypeImportOpenApiOutDataSerializer=void 0;let d=a.r(57611);c.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(a){var b;return{modified:a.modified,toModify:null==(b=a.to_modify)?void 0:b.map(a=>d.EventTypeFromOpenApiSerializer._fromJsonObject(a))}},_toJsonObject(a){var b;return{modified:a.modified,to_modify:null==(b=a.toModify)?void 0:b.map(a=>d.EventTypeFromOpenApiSerializer._toJsonObject(a))}}}},42713,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypeImportOpenApiOutSerializer=void 0;let d=a.r(20137);c.EventTypeImportOpenApiOutSerializer={_fromJsonObject:a=>({data:d.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(a.data)}),_toJsonObject:a=>({data:d.EventTypeImportOpenApiOutDataSerializer._toJsonObject(a.data)})}},24964,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypePatchSerializer=void 0,c.EventTypePatchSerializer={_fromJsonObject:a=>({archived:a.archived,deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,schemas:a.schemas}),_toJsonObject:a=>({archived:a.archived,deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,schemas:a.schemas})}},49076,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventTypeUpdateSerializer=void 0,c.EventTypeUpdateSerializer={_fromJsonObject:a=>({archived:a.archived,deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,schemas:a.schemas}),_toJsonObject:a=>({archived:a.archived,deprecated:a.deprecated,description:a.description,featureFlag:a.featureFlag,featureFlags:a.featureFlags,groupName:a.groupName,schemas:a.schemas})}},51907,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseEventTypeOutSerializer=void 0;let d=a.r(84458);c.ListResponseEventTypeOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.EventTypeOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.EventTypeOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},93820,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EventType=void 0;let d=a.r(13272),e=a.r(42713),f=a.r(77722),g=a.r(84458),h=a.r(24964),i=a.r(49076),j=a.r(51907),k=a.r(51379);c.EventType=class{constructor(a){this.requestCtx=a}list(a){let b=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/event-type");return b.setQueryParam("limit",null==a?void 0:a.limit),b.setQueryParam("iterator",null==a?void 0:a.iterator),b.setQueryParam("order",null==a?void 0:a.order),b.setQueryParam("include_archived",null==a?void 0:a.includeArchived),b.setQueryParam("with_content",null==a?void 0:a.withContent),b.send(this.requestCtx,j.ListResponseEventTypeOutSerializer._fromJsonObject)}create(a,b){let c=new k.SvixRequest(k.HttpMethod.POST,"/api/v1/event-type");return c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(f.EventTypeInSerializer._toJsonObject(a)),c.send(this.requestCtx,g.EventTypeOutSerializer._fromJsonObject)}importOpenapi(a,b){let c=new k.SvixRequest(k.HttpMethod.POST,"/api/v1/event-type/import/openapi");return c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(d.EventTypeImportOpenApiInSerializer._toJsonObject(a)),c.send(this.requestCtx,e.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(a){let b=new k.SvixRequest(k.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return b.setPathParam("event_type_name",a),b.send(this.requestCtx,g.EventTypeOutSerializer._fromJsonObject)}update(a,b){let c=new k.SvixRequest(k.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return c.setPathParam("event_type_name",a),c.setBody(i.EventTypeUpdateSerializer._toJsonObject(b)),c.send(this.requestCtx,g.EventTypeOutSerializer._fromJsonObject)}delete(a,b){let c=new k.SvixRequest(k.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return c.setPathParam("event_type_name",a),c.setQueryParam("expunge",null==b?void 0:b.expunge),c.sendNoResponseBody(this.requestCtx)}patch(a,b){let c=new k.SvixRequest(k.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return c.setPathParam("event_type_name",a),c.setBody(h.EventTypePatchSerializer._toJsonObject(b)),c.send(this.requestCtx,g.EventTypeOutSerializer._fromJsonObject)}}},70944,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Health=void 0;let d=a.r(51379);c.Health=class{constructor(a){this.requestCtx=a}get(){return new d.SvixRequest(d.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}}},24630,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestSourceConsumerPortalAccessInSerializer=void 0,c.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject:a=>({expiry:a.expiry,readOnly:a.readOnly}),_toJsonObject:a=>({expiry:a.expiry,readOnly:a.readOnly})}},36768,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointHeadersInSerializer=void 0,c.IngestEndpointHeadersInSerializer={_fromJsonObject:a=>({headers:a.headers}),_toJsonObject:a=>({headers:a.headers})}},93157,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointHeadersOutSerializer=void 0,c.IngestEndpointHeadersOutSerializer={_fromJsonObject:a=>({headers:a.headers,sensitive:a.sensitive}),_toJsonObject:a=>({headers:a.headers,sensitive:a.sensitive})}},83982,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointInSerializer=void 0,c.IngestEndpointInSerializer={_fromJsonObject:a=>({description:a.description,disabled:a.disabled,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url}),_toJsonObject:a=>({description:a.description,disabled:a.disabled,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url})}},34282,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointOutSerializer=void 0,c.IngestEndpointOutSerializer={_fromJsonObject:a=>({createdAt:new Date(a.createdAt),description:a.description,disabled:a.disabled,id:a.id,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,updatedAt:new Date(a.updatedAt),url:a.url}),_toJsonObject:a=>({createdAt:a.createdAt,description:a.description,disabled:a.disabled,id:a.id,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,updatedAt:a.updatedAt,url:a.url})}},3144,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointSecretInSerializer=void 0,c.IngestEndpointSecretInSerializer={_fromJsonObject:a=>({key:a.key}),_toJsonObject:a=>({key:a.key})}},68639,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointSecretOutSerializer=void 0,c.IngestEndpointSecretOutSerializer={_fromJsonObject:a=>({key:a.key}),_toJsonObject:a=>({key:a.key})}},88108,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointTransformationOutSerializer=void 0,c.IngestEndpointTransformationOutSerializer={_fromJsonObject:a=>({code:a.code,enabled:a.enabled}),_toJsonObject:a=>({code:a.code,enabled:a.enabled})}},9381,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointTransformationPatchSerializer=void 0,c.IngestEndpointTransformationPatchSerializer={_fromJsonObject:a=>({code:a.code,enabled:a.enabled}),_toJsonObject:a=>({code:a.code,enabled:a.enabled})}},9969,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpointUpdateSerializer=void 0,c.IngestEndpointUpdateSerializer={_fromJsonObject:a=>({description:a.description,disabled:a.disabled,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,url:a.url}),_toJsonObject:a=>({description:a.description,disabled:a.disabled,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,url:a.url})}},89012,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseIngestEndpointOutSerializer=void 0;let d=a.r(34282);c.ListResponseIngestEndpointOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.IngestEndpointOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.IngestEndpointOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},31663,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestEndpoint=void 0;let d=a.r(36768),e=a.r(93157),f=a.r(83982),g=a.r(34282),h=a.r(3144),i=a.r(68639),j=a.r(88108),k=a.r(9381),l=a.r(9969),m=a.r(89012),n=a.r(51379);c.IngestEndpoint=class{constructor(a){this.requestCtx=a}list(a,b){let c=new n.SvixRequest(n.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return c.setPathParam("source_id",a),c.setQueryParam("limit",null==b?void 0:b.limit),c.setQueryParam("iterator",null==b?void 0:b.iterator),c.setQueryParam("order",null==b?void 0:b.order),c.send(this.requestCtx,m.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(a,b,c){let d=new n.SvixRequest(n.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return d.setPathParam("source_id",a),d.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),d.setBody(f.IngestEndpointInSerializer._toJsonObject(b)),d.send(this.requestCtx,g.IngestEndpointOutSerializer._fromJsonObject)}get(a,b){let c=new n.SvixRequest(n.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return c.setPathParam("source_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,g.IngestEndpointOutSerializer._fromJsonObject)}update(a,b,c){let d=new n.SvixRequest(n.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return d.setPathParam("source_id",a),d.setPathParam("endpoint_id",b),d.setBody(l.IngestEndpointUpdateSerializer._toJsonObject(c)),d.send(this.requestCtx,g.IngestEndpointOutSerializer._fromJsonObject)}delete(a,b){let c=new n.SvixRequest(n.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return c.setPathParam("source_id",a),c.setPathParam("endpoint_id",b),c.sendNoResponseBody(this.requestCtx)}getHeaders(a,b){let c=new n.SvixRequest(n.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return c.setPathParam("source_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,e.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(a,b,c){let e=new n.SvixRequest(n.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return e.setPathParam("source_id",a),e.setPathParam("endpoint_id",b),e.setBody(d.IngestEndpointHeadersInSerializer._toJsonObject(c)),e.sendNoResponseBody(this.requestCtx)}getSecret(a,b){let c=new n.SvixRequest(n.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return c.setPathParam("source_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,i.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(a,b,c,d){let e=new n.SvixRequest(n.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return e.setPathParam("source_id",a),e.setPathParam("endpoint_id",b),e.setHeaderParam("idempotency-key",null==d?void 0:d.idempotencyKey),e.setBody(h.IngestEndpointSecretInSerializer._toJsonObject(c)),e.sendNoResponseBody(this.requestCtx)}getTransformation(a,b){let c=new n.SvixRequest(n.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return c.setPathParam("source_id",a),c.setPathParam("endpoint_id",b),c.send(this.requestCtx,j.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(a,b,c){let d=new n.SvixRequest(n.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return d.setPathParam("source_id",a),d.setPathParam("endpoint_id",b),d.setBody(k.IngestEndpointTransformationPatchSerializer._toJsonObject(c)),d.sendNoResponseBody(this.requestCtx)}}},63782,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AdobeSignConfigSerializer=void 0,c.AdobeSignConfigSerializer={_fromJsonObject:a=>({clientId:a.clientId}),_toJsonObject:a=>({clientId:a.clientId})}},7399,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AirwallexConfigSerializer=void 0,c.AirwallexConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},83710,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckbookConfigSerializer=void 0,c.CheckbookConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},1343,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CronConfigSerializer=void 0,c.CronConfigSerializer={_fromJsonObject:a=>({contentType:a.contentType,payload:a.payload,schedule:a.schedule}),_toJsonObject:a=>({contentType:a.contentType,payload:a.payload,schedule:a.schedule})}},14115,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DocusignConfigSerializer=void 0,c.DocusignConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},14539,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EasypostConfigSerializer=void 0,c.EasypostConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},58574,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.GithubConfigSerializer=void 0,c.GithubConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},22838,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.HubspotConfigSerializer=void 0,c.HubspotConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},97460,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OrumIoConfigSerializer=void 0,c.OrumIoConfigSerializer={_fromJsonObject:a=>({publicKey:a.publicKey}),_toJsonObject:a=>({publicKey:a.publicKey})}},61263,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PandaDocConfigSerializer=void 0,c.PandaDocConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},73743,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PortIoConfigSerializer=void 0,c.PortIoConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},84583,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RutterConfigSerializer=void 0,c.RutterConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},33879,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SegmentConfigSerializer=void 0,c.SegmentConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},85293,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ShopifyConfigSerializer=void 0,c.ShopifyConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},58957,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SlackConfigSerializer=void 0,c.SlackConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},92792,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StripeConfigSerializer=void 0,c.StripeConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},33154,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SvixConfigSerializer=void 0,c.SvixConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},23344,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TelnyxConfigSerializer=void 0,c.TelnyxConfigSerializer={_fromJsonObject:a=>({publicKey:a.publicKey}),_toJsonObject:a=>({publicKey:a.publicKey})}},48512,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VapiConfigSerializer=void 0,c.VapiConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},43314,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VeriffConfigSerializer=void 0,c.VeriffConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},98822,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ZoomConfigSerializer=void 0,c.ZoomConfigSerializer={_fromJsonObject:a=>({secret:a.secret}),_toJsonObject:a=>({secret:a.secret})}},94583,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestSourceInSerializer=void 0;let d=a.r(63782),e=a.r(7399),f=a.r(83710),g=a.r(1343),h=a.r(14115),i=a.r(14539),j=a.r(58574),k=a.r(22838),l=a.r(97460),m=a.r(61263),n=a.r(73743),o=a.r(84583),p=a.r(33879),q=a.r(85293),r=a.r(58957),s=a.r(92792),t=a.r(33154),u=a.r(23344),v=a.r(48512),w=a.r(43314),x=a.r(98822);c.IngestSourceInSerializer={_fromJsonObject(a){let b=a.type;return{type:b,config:function(b){switch(b){case"generic-webhook":return{};case"cron":return g.CronConfigSerializer._fromJsonObject(a.config);case"adobe-sign":return d.AdobeSignConfigSerializer._fromJsonObject(a.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return t.SvixConfigSerializer._fromJsonObject(a.config);case"checkbook":return f.CheckbookConfigSerializer._fromJsonObject(a.config);case"docusign":return h.DocusignConfigSerializer._fromJsonObject(a.config);case"easypost":return i.EasypostConfigSerializer._fromJsonObject(a.config);case"github":return j.GithubConfigSerializer._fromJsonObject(a.config);case"hubspot":return k.HubspotConfigSerializer._fromJsonObject(a.config);case"orum-io":return l.OrumIoConfigSerializer._fromJsonObject(a.config);case"panda-doc":return m.PandaDocConfigSerializer._fromJsonObject(a.config);case"port-io":return n.PortIoConfigSerializer._fromJsonObject(a.config);case"rutter":return o.RutterConfigSerializer._fromJsonObject(a.config);case"segment":return p.SegmentConfigSerializer._fromJsonObject(a.config);case"shopify":return q.ShopifyConfigSerializer._fromJsonObject(a.config);case"slack":return r.SlackConfigSerializer._fromJsonObject(a.config);case"stripe":return s.StripeConfigSerializer._fromJsonObject(a.config);case"zoom":return x.ZoomConfigSerializer._fromJsonObject(a.config);case"telnyx":return u.TelnyxConfigSerializer._fromJsonObject(a.config);case"vapi":return v.VapiConfigSerializer._fromJsonObject(a.config);case"veriff":return w.VeriffConfigSerializer._fromJsonObject(a.config);case"airwallex":return e.AirwallexConfigSerializer._fromJsonObject(a.config);default:throw Error(`Unexpected type: ${b}`)}}(b),metadata:a.metadata,name:a.name,uid:a.uid}},_toJsonObject(a){let b;switch(a.type){case"generic-webhook":b={};break;case"cron":b=g.CronConfigSerializer._toJsonObject(a.config);break;case"adobe-sign":b=d.AdobeSignConfigSerializer._toJsonObject(a.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":b=t.SvixConfigSerializer._toJsonObject(a.config);break;case"checkbook":b=f.CheckbookConfigSerializer._toJsonObject(a.config);break;case"docusign":b=h.DocusignConfigSerializer._toJsonObject(a.config);break;case"easypost":b=i.EasypostConfigSerializer._toJsonObject(a.config);break;case"github":b=j.GithubConfigSerializer._toJsonObject(a.config);break;case"hubspot":b=k.HubspotConfigSerializer._toJsonObject(a.config);break;case"orum-io":b=l.OrumIoConfigSerializer._toJsonObject(a.config);break;case"panda-doc":b=m.PandaDocConfigSerializer._toJsonObject(a.config);break;case"port-io":b=n.PortIoConfigSerializer._toJsonObject(a.config);break;case"rutter":b=o.RutterConfigSerializer._toJsonObject(a.config);break;case"segment":b=p.SegmentConfigSerializer._toJsonObject(a.config);break;case"shopify":b=q.ShopifyConfigSerializer._toJsonObject(a.config);break;case"slack":b=r.SlackConfigSerializer._toJsonObject(a.config);break;case"stripe":b=s.StripeConfigSerializer._toJsonObject(a.config);break;case"zoom":b=x.ZoomConfigSerializer._toJsonObject(a.config);break;case"telnyx":b=u.TelnyxConfigSerializer._toJsonObject(a.config);break;case"vapi":b=v.VapiConfigSerializer._toJsonObject(a.config);break;case"veriff":b=w.VeriffConfigSerializer._toJsonObject(a.config);break;case"airwallex":b=e.AirwallexConfigSerializer._toJsonObject(a.config)}return{type:a.type,config:b,metadata:a.metadata,name:a.name,uid:a.uid}}}},10072,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AdobeSignConfigOutSerializer=void 0,c.AdobeSignConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},92910,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AirwallexConfigOutSerializer=void 0,c.AirwallexConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},96494,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckbookConfigOutSerializer=void 0,c.CheckbookConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},78087,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DocusignConfigOutSerializer=void 0,c.DocusignConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},3741,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EasypostConfigOutSerializer=void 0,c.EasypostConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},88418,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.GithubConfigOutSerializer=void 0,c.GithubConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},89020,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.HubspotConfigOutSerializer=void 0,c.HubspotConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},33532,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OrumIoConfigOutSerializer=void 0,c.OrumIoConfigOutSerializer={_fromJsonObject:a=>({publicKey:a.publicKey}),_toJsonObject:a=>({publicKey:a.publicKey})}},74866,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PandaDocConfigOutSerializer=void 0,c.PandaDocConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},29745,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PortIoConfigOutSerializer=void 0,c.PortIoConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},32128,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RutterConfigOutSerializer=void 0,c.RutterConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},61341,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SegmentConfigOutSerializer=void 0,c.SegmentConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},62729,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ShopifyConfigOutSerializer=void 0,c.ShopifyConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},13016,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SlackConfigOutSerializer=void 0,c.SlackConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},72803,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StripeConfigOutSerializer=void 0,c.StripeConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},47657,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SvixConfigOutSerializer=void 0,c.SvixConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},39673,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TelnyxConfigOutSerializer=void 0,c.TelnyxConfigOutSerializer={_fromJsonObject:a=>({publicKey:a.publicKey}),_toJsonObject:a=>({publicKey:a.publicKey})}},32492,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VapiConfigOutSerializer=void 0,c.VapiConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},50775,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VeriffConfigOutSerializer=void 0,c.VeriffConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},38591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ZoomConfigOutSerializer=void 0,c.ZoomConfigOutSerializer={_fromJsonObject:a=>({}),_toJsonObject:a=>({})}},30026,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestSourceOutSerializer=void 0;let d=a.r(10072),e=a.r(92910),f=a.r(96494),g=a.r(1343),h=a.r(78087),i=a.r(3741),j=a.r(88418),k=a.r(89020),l=a.r(33532),m=a.r(74866),n=a.r(29745),o=a.r(32128),p=a.r(61341),q=a.r(62729),r=a.r(13016),s=a.r(72803),t=a.r(47657),u=a.r(39673),v=a.r(32492),w=a.r(50775),x=a.r(38591);c.IngestSourceOutSerializer={_fromJsonObject(a){let b=a.type;return{type:b,config:function(b){switch(b){case"generic-webhook":return{};case"cron":return g.CronConfigSerializer._fromJsonObject(a.config);case"adobe-sign":return d.AdobeSignConfigOutSerializer._fromJsonObject(a.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return t.SvixConfigOutSerializer._fromJsonObject(a.config);case"checkbook":return f.CheckbookConfigOutSerializer._fromJsonObject(a.config);case"docusign":return h.DocusignConfigOutSerializer._fromJsonObject(a.config);case"easypost":return i.EasypostConfigOutSerializer._fromJsonObject(a.config);case"github":return j.GithubConfigOutSerializer._fromJsonObject(a.config);case"hubspot":return k.HubspotConfigOutSerializer._fromJsonObject(a.config);case"orum-io":return l.OrumIoConfigOutSerializer._fromJsonObject(a.config);case"panda-doc":return m.PandaDocConfigOutSerializer._fromJsonObject(a.config);case"port-io":return n.PortIoConfigOutSerializer._fromJsonObject(a.config);case"rutter":return o.RutterConfigOutSerializer._fromJsonObject(a.config);case"segment":return p.SegmentConfigOutSerializer._fromJsonObject(a.config);case"shopify":return q.ShopifyConfigOutSerializer._fromJsonObject(a.config);case"slack":return r.SlackConfigOutSerializer._fromJsonObject(a.config);case"stripe":return s.StripeConfigOutSerializer._fromJsonObject(a.config);case"zoom":return x.ZoomConfigOutSerializer._fromJsonObject(a.config);case"telnyx":return u.TelnyxConfigOutSerializer._fromJsonObject(a.config);case"vapi":return v.VapiConfigOutSerializer._fromJsonObject(a.config);case"veriff":return w.VeriffConfigOutSerializer._fromJsonObject(a.config);case"airwallex":return e.AirwallexConfigOutSerializer._fromJsonObject(a.config);default:throw Error(`Unexpected type: ${b}`)}}(b),createdAt:new Date(a.createdAt),id:a.id,ingestUrl:a.ingestUrl,metadata:a.metadata,name:a.name,uid:a.uid,updatedAt:new Date(a.updatedAt)}},_toJsonObject(a){let b;switch(a.type){case"generic-webhook":b={};break;case"cron":b=g.CronConfigSerializer._toJsonObject(a.config);break;case"adobe-sign":b=d.AdobeSignConfigOutSerializer._toJsonObject(a.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":b=t.SvixConfigOutSerializer._toJsonObject(a.config);break;case"checkbook":b=f.CheckbookConfigOutSerializer._toJsonObject(a.config);break;case"docusign":b=h.DocusignConfigOutSerializer._toJsonObject(a.config);break;case"easypost":b=i.EasypostConfigOutSerializer._toJsonObject(a.config);break;case"github":b=j.GithubConfigOutSerializer._toJsonObject(a.config);break;case"hubspot":b=k.HubspotConfigOutSerializer._toJsonObject(a.config);break;case"orum-io":b=l.OrumIoConfigOutSerializer._toJsonObject(a.config);break;case"panda-doc":b=m.PandaDocConfigOutSerializer._toJsonObject(a.config);break;case"port-io":b=n.PortIoConfigOutSerializer._toJsonObject(a.config);break;case"rutter":b=o.RutterConfigOutSerializer._toJsonObject(a.config);break;case"segment":b=p.SegmentConfigOutSerializer._toJsonObject(a.config);break;case"shopify":b=q.ShopifyConfigOutSerializer._toJsonObject(a.config);break;case"slack":b=r.SlackConfigOutSerializer._toJsonObject(a.config);break;case"stripe":b=s.StripeConfigOutSerializer._toJsonObject(a.config);break;case"zoom":b=x.ZoomConfigOutSerializer._toJsonObject(a.config);break;case"telnyx":b=u.TelnyxConfigOutSerializer._toJsonObject(a.config);break;case"vapi":b=v.VapiConfigOutSerializer._toJsonObject(a.config);break;case"veriff":b=w.VeriffConfigOutSerializer._toJsonObject(a.config);break;case"airwallex":b=e.AirwallexConfigOutSerializer._toJsonObject(a.config)}return{type:a.type,config:b,createdAt:a.createdAt,id:a.id,ingestUrl:a.ingestUrl,metadata:a.metadata,name:a.name,uid:a.uid,updatedAt:a.updatedAt}}}},68745,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseIngestSourceOutSerializer=void 0;let d=a.r(30026);c.ListResponseIngestSourceOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.IngestSourceOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.IngestSourceOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},49659,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RotateTokenOutSerializer=void 0,c.RotateTokenOutSerializer={_fromJsonObject:a=>({ingestUrl:a.ingestUrl}),_toJsonObject:a=>({ingestUrl:a.ingestUrl})}},30402,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IngestSource=void 0;let d=a.r(94583),e=a.r(30026),f=a.r(68745),g=a.r(49659),h=a.r(51379);c.IngestSource=class{constructor(a){this.requestCtx=a}list(a){let b=new h.SvixRequest(h.HttpMethod.GET,"/ingest/api/v1/source");return b.setQueryParam("limit",null==a?void 0:a.limit),b.setQueryParam("iterator",null==a?void 0:a.iterator),b.setQueryParam("order",null==a?void 0:a.order),b.send(this.requestCtx,f.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(a,b){let c=new h.SvixRequest(h.HttpMethod.POST,"/ingest/api/v1/source");return c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(d.IngestSourceInSerializer._toJsonObject(a)),c.send(this.requestCtx,e.IngestSourceOutSerializer._fromJsonObject)}get(a){let b=new h.SvixRequest(h.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return b.setPathParam("source_id",a),b.send(this.requestCtx,e.IngestSourceOutSerializer._fromJsonObject)}update(a,b){let c=new h.SvixRequest(h.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return c.setPathParam("source_id",a),c.setBody(d.IngestSourceInSerializer._toJsonObject(b)),c.send(this.requestCtx,e.IngestSourceOutSerializer._fromJsonObject)}delete(a){let b=new h.SvixRequest(h.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return b.setPathParam("source_id",a),b.sendNoResponseBody(this.requestCtx)}rotateToken(a,b){let c=new h.SvixRequest(h.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return c.setPathParam("source_id",a),c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.send(this.requestCtx,g.RotateTokenOutSerializer._fromJsonObject)}}},58706,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Ingest=void 0;let d=a.r(72935),e=a.r(24630),f=a.r(31663),g=a.r(30402),h=a.r(51379);c.Ingest=class{constructor(a){this.requestCtx=a}get endpoint(){return new f.IngestEndpoint(this.requestCtx)}get source(){return new g.IngestSource(this.requestCtx)}dashboard(a,b,c){let f=new h.SvixRequest(h.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return f.setPathParam("source_id",a),f.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),f.setBody(e.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(b)),f.send(this.requestCtx,d.DashboardAccessOutSerializer._fromJsonObject)}}},47648,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IntegrationInSerializer=void 0,c.IntegrationInSerializer={_fromJsonObject:a=>({featureFlags:a.featureFlags,name:a.name}),_toJsonObject:a=>({featureFlags:a.featureFlags,name:a.name})}},58899,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IntegrationKeyOutSerializer=void 0,c.IntegrationKeyOutSerializer={_fromJsonObject:a=>({key:a.key}),_toJsonObject:a=>({key:a.key})}},89752,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IntegrationOutSerializer=void 0,c.IntegrationOutSerializer={_fromJsonObject:a=>({createdAt:new Date(a.createdAt),featureFlags:a.featureFlags,id:a.id,name:a.name,updatedAt:new Date(a.updatedAt)}),_toJsonObject:a=>({createdAt:a.createdAt,featureFlags:a.featureFlags,id:a.id,name:a.name,updatedAt:a.updatedAt})}},85078,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IntegrationUpdateSerializer=void 0,c.IntegrationUpdateSerializer={_fromJsonObject:a=>({featureFlags:a.featureFlags,name:a.name}),_toJsonObject:a=>({featureFlags:a.featureFlags,name:a.name})}},22421,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseIntegrationOutSerializer=void 0;let d=a.r(89752);c.ListResponseIntegrationOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.IntegrationOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.IntegrationOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},48549,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Integration=void 0;let d=a.r(47648),e=a.r(58899),f=a.r(89752),g=a.r(85078),h=a.r(22421),i=a.r(51379);c.Integration=class{constructor(a){this.requestCtx=a}list(a,b){let c=new i.SvixRequest(i.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return c.setPathParam("app_id",a),c.setQueryParam("limit",null==b?void 0:b.limit),c.setQueryParam("iterator",null==b?void 0:b.iterator),c.setQueryParam("order",null==b?void 0:b.order),c.send(this.requestCtx,h.ListResponseIntegrationOutSerializer._fromJsonObject)}create(a,b,c){let e=new i.SvixRequest(i.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return e.setPathParam("app_id",a),e.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),e.setBody(d.IntegrationInSerializer._toJsonObject(b)),e.send(this.requestCtx,f.IntegrationOutSerializer._fromJsonObject)}get(a,b){let c=new i.SvixRequest(i.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return c.setPathParam("app_id",a),c.setPathParam("integ_id",b),c.send(this.requestCtx,f.IntegrationOutSerializer._fromJsonObject)}update(a,b,c){let d=new i.SvixRequest(i.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return d.setPathParam("app_id",a),d.setPathParam("integ_id",b),d.setBody(g.IntegrationUpdateSerializer._toJsonObject(c)),d.send(this.requestCtx,f.IntegrationOutSerializer._fromJsonObject)}delete(a,b){let c=new i.SvixRequest(i.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return c.setPathParam("app_id",a),c.setPathParam("integ_id",b),c.sendNoResponseBody(this.requestCtx)}getKey(a,b){let c=new i.SvixRequest(i.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return c.setPathParam("app_id",a),c.setPathParam("integ_id",b),c.send(this.requestCtx,e.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(a,b,c){let d=new i.SvixRequest(i.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return d.setPathParam("app_id",a),d.setPathParam("integ_id",b),d.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),d.send(this.requestCtx,e.IntegrationKeyOutSerializer._fromJsonObject)}}},27668,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ExpungeAllContentsOutSerializer=void 0;let d=a.r(77563),e=a.r(79876);c.ExpungeAllContentsOutSerializer={_fromJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._fromJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._fromJsonObject(a.task)}),_toJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._toJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._toJsonObject(a.task)})}},55057,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseMessageOutSerializer=void 0;let d=a.r(64948);c.ListResponseMessageOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.MessageOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.MessageOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},46619,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PollingEndpointConsumerSeekInSerializer=void 0,c.PollingEndpointConsumerSeekInSerializer={_fromJsonObject:a=>({after:new Date(a.after)}),_toJsonObject:a=>({after:a.after})}},36951,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PollingEndpointConsumerSeekOutSerializer=void 0,c.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject:a=>({iterator:a.iterator}),_toJsonObject:a=>({iterator:a.iterator})}},13531,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PollingEndpointMessageOutSerializer=void 0,c.PollingEndpointMessageOutSerializer={_fromJsonObject:a=>({channels:a.channels,eventId:a.eventId,eventType:a.eventType,headers:a.headers,id:a.id,payload:a.payload,tags:a.tags,timestamp:new Date(a.timestamp)}),_toJsonObject:a=>({channels:a.channels,eventId:a.eventId,eventType:a.eventType,headers:a.headers,id:a.id,payload:a.payload,tags:a.tags,timestamp:a.timestamp})}},5147,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PollingEndpointOutSerializer=void 0;let d=a.r(13531);c.PollingEndpointOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.PollingEndpointMessageOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator}),_toJsonObject:a=>({data:a.data.map(a=>d.PollingEndpointMessageOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator})}},84917,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessagePoller=void 0;let d=a.r(46619),e=a.r(36951),f=a.r(5147),g=a.r(51379);c.MessagePoller=class{constructor(a){this.requestCtx=a}poll(a,b,c){let d=new g.SvixRequest(g.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return d.setPathParam("app_id",a),d.setPathParam("sink_id",b),d.setQueryParam("limit",null==c?void 0:c.limit),d.setQueryParam("iterator",null==c?void 0:c.iterator),d.setQueryParam("event_type",null==c?void 0:c.eventType),d.setQueryParam("channel",null==c?void 0:c.channel),d.setQueryParam("after",null==c?void 0:c.after),d.send(this.requestCtx,f.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(a,b,c,d){let e=new g.SvixRequest(g.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return e.setPathParam("app_id",a),e.setPathParam("sink_id",b),e.setPathParam("consumer_id",c),e.setQueryParam("limit",null==d?void 0:d.limit),e.setQueryParam("iterator",null==d?void 0:d.iterator),e.send(this.requestCtx,f.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(a,b,c,f,h){let i=new g.SvixRequest(g.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return i.setPathParam("app_id",a),i.setPathParam("sink_id",b),i.setPathParam("consumer_id",c),i.setHeaderParam("idempotency-key",null==h?void 0:h.idempotencyKey),i.setBody(d.PollingEndpointConsumerSeekInSerializer._toJsonObject(f)),i.send(this.requestCtx,e.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}}},14672,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageInSerializer=void 0;let d=a.r(45860);c.MessageInSerializer={_fromJsonObject:a=>({application:a.application?d.ApplicationInSerializer._fromJsonObject(a.application):void 0,channels:a.channels,eventId:a.eventId,eventType:a.eventType,payload:a.payload,payloadRetentionHours:a.payloadRetentionHours,payloadRetentionPeriod:a.payloadRetentionPeriod,tags:a.tags,transformationsParams:a.transformationsParams}),_toJsonObject:a=>({application:a.application?d.ApplicationInSerializer._toJsonObject(a.application):void 0,channels:a.channels,eventId:a.eventId,eventType:a.eventType,payload:a.payload,payloadRetentionHours:a.payloadRetentionHours,payloadRetentionPeriod:a.payloadRetentionPeriod,tags:a.tags,transformationsParams:a.transformationsParams})}},24151,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.messageInRaw=c.Message=void 0;let d=a.r(27668),e=a.r(55057),f=a.r(64948),g=a.r(84917),h=a.r(51379),i=a.r(14672);c.Message=class{constructor(a){this.requestCtx=a}get poller(){return new g.MessagePoller(this.requestCtx)}list(a,b){let c=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return c.setPathParam("app_id",a),c.setQueryParam("limit",null==b?void 0:b.limit),c.setQueryParam("iterator",null==b?void 0:b.iterator),c.setQueryParam("channel",null==b?void 0:b.channel),c.setQueryParam("before",null==b?void 0:b.before),c.setQueryParam("after",null==b?void 0:b.after),c.setQueryParam("with_content",null==b?void 0:b.withContent),c.setQueryParam("tag",null==b?void 0:b.tag),c.setQueryParam("event_types",null==b?void 0:b.eventTypes),c.send(this.requestCtx,e.ListResponseMessageOutSerializer._fromJsonObject)}create(a,b,c){let d=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return d.setPathParam("app_id",a),d.setQueryParam("with_content",null==c?void 0:c.withContent),d.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),d.setBody(i.MessageInSerializer._toJsonObject(b)),d.send(this.requestCtx,f.MessageOutSerializer._fromJsonObject)}expungeAllContents(a,b){let c=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return c.setPathParam("app_id",a),c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.send(this.requestCtx,d.ExpungeAllContentsOutSerializer._fromJsonObject)}get(a,b,c){let d=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return d.setPathParam("app_id",a),d.setPathParam("msg_id",b),d.setQueryParam("with_content",null==c?void 0:c.withContent),d.send(this.requestCtx,f.MessageOutSerializer._fromJsonObject)}expungeContent(a,b){let c=new h.SvixRequest(h.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return c.setPathParam("app_id",a),c.setPathParam("msg_id",b),c.sendNoResponseBody(this.requestCtx)}},c.messageInRaw=function(a,b,c){return{eventType:a,payload:{},transformationsParams:{rawPayload:b,headers:c?{"content-type":c}:void 0}}}},71434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageStatusSerializer=c.MessageStatus=void 0,function(a){a[a.Success=0]="Success",a[a.Pending=1]="Pending",a[a.Fail=2]="Fail",a[a.Sending=3]="Sending"}(c.MessageStatus||(c.MessageStatus={})),c.MessageStatusSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},25445,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageStatusTextSerializer=c.MessageStatusText=void 0,function(a){a.Success="success",a.Pending="pending",a.Fail="fail",a.Sending="sending"}(c.MessageStatusText||(c.MessageStatusText={})),c.MessageStatusTextSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},87867,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointMessageOutSerializer=void 0;let d=a.r(71434),e=a.r(25445);c.EndpointMessageOutSerializer={_fromJsonObject:a=>({channels:a.channels,eventId:a.eventId,eventType:a.eventType,id:a.id,nextAttempt:a.nextAttempt?new Date(a.nextAttempt):null,payload:a.payload,status:d.MessageStatusSerializer._fromJsonObject(a.status),statusText:e.MessageStatusTextSerializer._fromJsonObject(a.statusText),tags:a.tags,timestamp:new Date(a.timestamp)}),_toJsonObject:a=>({channels:a.channels,eventId:a.eventId,eventType:a.eventType,id:a.id,nextAttempt:a.nextAttempt,payload:a.payload,status:d.MessageStatusSerializer._toJsonObject(a.status),statusText:e.MessageStatusTextSerializer._toJsonObject(a.statusText),tags:a.tags,timestamp:a.timestamp})}},45779,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseEndpointMessageOutSerializer=void 0;let d=a.r(87867);c.ListResponseEndpointMessageOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.EndpointMessageOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.EndpointMessageOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},12258,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageAttemptTriggerTypeSerializer=c.MessageAttemptTriggerType=void 0,function(a){a[a.Scheduled=0]="Scheduled",a[a.Manual=1]="Manual"}(c.MessageAttemptTriggerType||(c.MessageAttemptTriggerType={})),c.MessageAttemptTriggerTypeSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},76756,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageAttemptOutSerializer=void 0;let d=a.r(12258),e=a.r(64948),f=a.r(71434),g=a.r(25445);c.MessageAttemptOutSerializer={_fromJsonObject:a=>({endpointId:a.endpointId,id:a.id,msg:a.msg?e.MessageOutSerializer._fromJsonObject(a.msg):void 0,msgId:a.msgId,response:a.response,responseDurationMs:a.responseDurationMs,responseStatusCode:a.responseStatusCode,status:f.MessageStatusSerializer._fromJsonObject(a.status),statusText:g.MessageStatusTextSerializer._fromJsonObject(a.statusText),timestamp:new Date(a.timestamp),triggerType:d.MessageAttemptTriggerTypeSerializer._fromJsonObject(a.triggerType),url:a.url}),_toJsonObject:a=>({endpointId:a.endpointId,id:a.id,msg:a.msg?e.MessageOutSerializer._toJsonObject(a.msg):void 0,msgId:a.msgId,response:a.response,responseDurationMs:a.responseDurationMs,responseStatusCode:a.responseStatusCode,status:f.MessageStatusSerializer._toJsonObject(a.status),statusText:g.MessageStatusTextSerializer._toJsonObject(a.statusText),timestamp:a.timestamp,triggerType:d.MessageAttemptTriggerTypeSerializer._toJsonObject(a.triggerType),url:a.url})}},89097,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseMessageAttemptOutSerializer=void 0;let d=a.r(76756);c.ListResponseMessageAttemptOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.MessageAttemptOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.MessageAttemptOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},91892,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageEndpointOutSerializer=void 0;let d=a.r(71434),e=a.r(25445);c.MessageEndpointOutSerializer={_fromJsonObject:a=>({channels:a.channels,createdAt:new Date(a.createdAt),description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,id:a.id,nextAttempt:a.nextAttempt?new Date(a.nextAttempt):null,rateLimit:a.rateLimit,status:d.MessageStatusSerializer._fromJsonObject(a.status),statusText:e.MessageStatusTextSerializer._fromJsonObject(a.statusText),uid:a.uid,updatedAt:new Date(a.updatedAt),url:a.url,version:a.version}),_toJsonObject:a=>({channels:a.channels,createdAt:a.createdAt,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,id:a.id,nextAttempt:a.nextAttempt,rateLimit:a.rateLimit,status:d.MessageStatusSerializer._toJsonObject(a.status),statusText:e.MessageStatusTextSerializer._toJsonObject(a.statusText),uid:a.uid,updatedAt:a.updatedAt,url:a.url,version:a.version})}},31989,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseMessageEndpointOutSerializer=void 0;let d=a.r(91892);c.ListResponseMessageEndpointOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.MessageEndpointOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.MessageEndpointOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},9623,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MessageAttempt=void 0;let d=a.r(45779),e=a.r(89097),f=a.r(31989),g=a.r(76756),h=a.r(51379);c.MessageAttempt=class{constructor(a){this.requestCtx=a}listByEndpoint(a,b,c){let d=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return d.setPathParam("app_id",a),d.setPathParam("endpoint_id",b),d.setQueryParam("limit",null==c?void 0:c.limit),d.setQueryParam("iterator",null==c?void 0:c.iterator),d.setQueryParam("status",null==c?void 0:c.status),d.setQueryParam("status_code_class",null==c?void 0:c.statusCodeClass),d.setQueryParam("channel",null==c?void 0:c.channel),d.setQueryParam("tag",null==c?void 0:c.tag),d.setQueryParam("before",null==c?void 0:c.before),d.setQueryParam("after",null==c?void 0:c.after),d.setQueryParam("with_content",null==c?void 0:c.withContent),d.setQueryParam("with_msg",null==c?void 0:c.withMsg),d.setQueryParam("event_types",null==c?void 0:c.eventTypes),d.send(this.requestCtx,e.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(a,b,c){let d=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return d.setPathParam("app_id",a),d.setPathParam("msg_id",b),d.setQueryParam("limit",null==c?void 0:c.limit),d.setQueryParam("iterator",null==c?void 0:c.iterator),d.setQueryParam("status",null==c?void 0:c.status),d.setQueryParam("status_code_class",null==c?void 0:c.statusCodeClass),d.setQueryParam("channel",null==c?void 0:c.channel),d.setQueryParam("tag",null==c?void 0:c.tag),d.setQueryParam("endpoint_id",null==c?void 0:c.endpointId),d.setQueryParam("before",null==c?void 0:c.before),d.setQueryParam("after",null==c?void 0:c.after),d.setQueryParam("with_content",null==c?void 0:c.withContent),d.setQueryParam("event_types",null==c?void 0:c.eventTypes),d.send(this.requestCtx,e.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(a,b,c){let e=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return e.setPathParam("app_id",a),e.setPathParam("endpoint_id",b),e.setQueryParam("limit",null==c?void 0:c.limit),e.setQueryParam("iterator",null==c?void 0:c.iterator),e.setQueryParam("channel",null==c?void 0:c.channel),e.setQueryParam("tag",null==c?void 0:c.tag),e.setQueryParam("status",null==c?void 0:c.status),e.setQueryParam("before",null==c?void 0:c.before),e.setQueryParam("after",null==c?void 0:c.after),e.setQueryParam("with_content",null==c?void 0:c.withContent),e.setQueryParam("event_types",null==c?void 0:c.eventTypes),e.send(this.requestCtx,d.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(a,b,c){let d=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return d.setPathParam("app_id",a),d.setPathParam("msg_id",b),d.setPathParam("attempt_id",c),d.send(this.requestCtx,g.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(a,b,c){let d=new h.SvixRequest(h.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return d.setPathParam("app_id",a),d.setPathParam("msg_id",b),d.setPathParam("attempt_id",c),d.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(a,b,c){let d=new h.SvixRequest(h.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return d.setPathParam("app_id",a),d.setPathParam("msg_id",b),d.setQueryParam("limit",null==c?void 0:c.limit),d.setQueryParam("iterator",null==c?void 0:c.iterator),d.send(this.requestCtx,f.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(a,b,c,d){let e=new h.SvixRequest(h.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return e.setPathParam("app_id",a),e.setPathParam("msg_id",b),e.setPathParam("endpoint_id",c),e.setHeaderParam("idempotency-key",null==d?void 0:d.idempotencyKey),e.sendNoResponseBody(this.requestCtx)}}},97707,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpointOutSerializer=void 0,c.OperationalWebhookEndpointOutSerializer={_fromJsonObject:a=>({createdAt:new Date(a.createdAt),description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,id:a.id,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,updatedAt:new Date(a.updatedAt),url:a.url}),_toJsonObject:a=>({createdAt:a.createdAt,description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,id:a.id,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,updatedAt:a.updatedAt,url:a.url})}},25960,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ListResponseOperationalWebhookEndpointOutSerializer=void 0;let d=a.r(97707);c.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject:a=>({data:a.data.map(a=>d.OperationalWebhookEndpointOutSerializer._fromJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator}),_toJsonObject:a=>({data:a.data.map(a=>d.OperationalWebhookEndpointOutSerializer._toJsonObject(a)),done:a.done,iterator:a.iterator,prevIterator:a.prevIterator})}},22144,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpointHeadersInSerializer=void 0,c.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject:a=>({headers:a.headers}),_toJsonObject:a=>({headers:a.headers})}},56735,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpointHeadersOutSerializer=void 0,c.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject:a=>({headers:a.headers,sensitive:a.sensitive}),_toJsonObject:a=>({headers:a.headers,sensitive:a.sensitive})}},598,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpointInSerializer=void 0,c.OperationalWebhookEndpointInSerializer={_fromJsonObject:a=>({description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url}),_toJsonObject:a=>({description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,secret:a.secret,uid:a.uid,url:a.url})}},19055,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpointSecretInSerializer=void 0,c.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject:a=>({key:a.key}),_toJsonObject:a=>({key:a.key})}},40090,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpointSecretOutSerializer=void 0,c.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject:a=>({key:a.key}),_toJsonObject:a=>({key:a.key})}},42483,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpointUpdateSerializer=void 0,c.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject:a=>({description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,url:a.url}),_toJsonObject:a=>({description:a.description,disabled:a.disabled,filterTypes:a.filterTypes,metadata:a.metadata,rateLimit:a.rateLimit,uid:a.uid,url:a.url})}},76401,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhookEndpoint=void 0;let d=a.r(25960),e=a.r(22144),f=a.r(56735),g=a.r(598),h=a.r(97707),i=a.r(19055),j=a.r(40090),k=a.r(42483),l=a.r(51379);c.OperationalWebhookEndpoint=class{constructor(a){this.requestCtx=a}list(a){let b=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return b.setQueryParam("limit",null==a?void 0:a.limit),b.setQueryParam("iterator",null==a?void 0:a.iterator),b.setQueryParam("order",null==a?void 0:a.order),b.send(this.requestCtx,d.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(a,b){let c=new l.SvixRequest(l.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(g.OperationalWebhookEndpointInSerializer._toJsonObject(a)),c.send(this.requestCtx,h.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(a){let b=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return b.setPathParam("endpoint_id",a),b.send(this.requestCtx,h.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(a,b){let c=new l.SvixRequest(l.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return c.setPathParam("endpoint_id",a),c.setBody(k.OperationalWebhookEndpointUpdateSerializer._toJsonObject(b)),c.send(this.requestCtx,h.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(a){let b=new l.SvixRequest(l.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return b.setPathParam("endpoint_id",a),b.sendNoResponseBody(this.requestCtx)}getHeaders(a){let b=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return b.setPathParam("endpoint_id",a),b.send(this.requestCtx,f.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(a,b){let c=new l.SvixRequest(l.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return c.setPathParam("endpoint_id",a),c.setBody(e.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(b)),c.sendNoResponseBody(this.requestCtx)}getSecret(a){let b=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return b.setPathParam("endpoint_id",a),b.send(this.requestCtx,j.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(a,b,c){let d=new l.SvixRequest(l.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return d.setPathParam("endpoint_id",a),d.setHeaderParam("idempotency-key",null==c?void 0:c.idempotencyKey),d.setBody(i.OperationalWebhookEndpointSecretInSerializer._toJsonObject(b)),d.sendNoResponseBody(this.requestCtx)}}},23004,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OperationalWebhook=void 0;let d=a.r(76401);c.OperationalWebhook=class{constructor(a){this.requestCtx=a}get endpoint(){return new d.OperationalWebhookEndpoint(this.requestCtx)}}},48869,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AggregateEventTypesOutSerializer=void 0;let d=a.r(77563),e=a.r(79876);c.AggregateEventTypesOutSerializer={_fromJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._fromJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._fromJsonObject(a.task)}),_toJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._toJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._toJsonObject(a.task)})}},90153,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AppUsageStatsInSerializer=void 0,c.AppUsageStatsInSerializer={_fromJsonObject:a=>({appIds:a.appIds,since:new Date(a.since),until:new Date(a.until)}),_toJsonObject:a=>({appIds:a.appIds,since:a.since,until:a.until})}},14649,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AppUsageStatsOutSerializer=void 0;let d=a.r(77563),e=a.r(79876);c.AppUsageStatsOutSerializer={_fromJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._fromJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._fromJsonObject(a.task),unresolvedAppIds:a.unresolvedAppIds}),_toJsonObject:a=>({id:a.id,status:d.BackgroundTaskStatusSerializer._toJsonObject(a.status),task:e.BackgroundTaskTypeSerializer._toJsonObject(a.task),unresolvedAppIds:a.unresolvedAppIds})}},37012,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Statistics=void 0;let d=a.r(48869),e=a.r(90153),f=a.r(14649),g=a.r(51379);c.Statistics=class{constructor(a){this.requestCtx=a}aggregateAppStats(a,b){let c=new g.SvixRequest(g.HttpMethod.POST,"/api/v1/stats/usage/app");return c.setHeaderParam("idempotency-key",null==b?void 0:b.idempotencyKey),c.setBody(e.AppUsageStatsInSerializer._toJsonObject(a)),c.send(this.requestCtx,f.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new g.SvixRequest(g.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,d.AggregateEventTypesOutSerializer._fromJsonObject)}}},21930,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.HTTPValidationError=c.ValidationError=c.HttpErrorOut=void 0;class d{static getAttributeTypeMap(){return d.attributeTypeMap}}c.HttpErrorOut=d,d.discriminator=void 0,d.mapping=void 0,d.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];class e{static getAttributeTypeMap(){return e.attributeTypeMap}}c.ValidationError=e,e.discriminator=void 0,e.mapping=void 0,e.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];class f{static getAttributeTypeMap(){return f.attributeTypeMap}}c.HTTPValidationError=f,f.discriminator=void 0,f.mapping=void 0,f.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}]},64213,(a,b,c)=>{"use strict";function d(a,b=""){if(!a)throw Error(b)}Object.defineProperty(c,"__esModule",{value:!0}),c.timingSafeEqual=void 0,c.timingSafeEqual=function(a,b){if(a.byteLength!==b.byteLength)return!1;a instanceof DataView||(a=new DataView(ArrayBuffer.isView(a)?a.buffer:a)),b instanceof DataView||(b=new DataView(ArrayBuffer.isView(b)?b.buffer:b)),d(a instanceof DataView),d(b instanceof DataView);let c=a.byteLength,e=0,f=-1;for(;++f<c;)e|=a.getUint8(f)^b.getUint8(f);return 0===e}},39629,(a,b,c)=>{"use strict";var d=a.e&&a.e.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a){void 0===a&&(a="="),this._paddingCharacter=a}return a.prototype.encodedLength=function(a){return this._paddingCharacter?(a+2)/3*4|0:(8*a+5)/6|0},a.prototype.encode=function(a){for(var b="",c=0;c<a.length-2;c+=3){var d=a[c]<<16|a[c+1]<<8|a[c+2];b+=this._encodeByte(d>>>18&63),b+=this._encodeByte(d>>>12&63),b+=this._encodeByte(d>>>6&63),b+=this._encodeByte(d>>>0&63)}var e=a.length-c;if(e>0){var d=a[c]<<16|(2===e?a[c+1]<<8:0);b+=this._encodeByte(d>>>18&63),b+=this._encodeByte(d>>>12&63),2===e?b+=this._encodeByte(d>>>6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},a.prototype.maxDecodedLength=function(a){return this._paddingCharacter?a/4*3|0:(6*a+7)/8|0},a.prototype.decodedLength=function(a){return this.maxDecodedLength(a.length-this._getPaddingLength(a))},a.prototype.decode=function(a){if(0===a.length)return new Uint8Array(0);for(var b=this._getPaddingLength(a),c=a.length-b,d=new Uint8Array(this.maxDecodedLength(c)),e=0,f=0,g=0,h=0,i=0,j=0,k=0;f<c-4;f+=4)h=this._decodeChar(a.charCodeAt(f+0)),i=this._decodeChar(a.charCodeAt(f+1)),j=this._decodeChar(a.charCodeAt(f+2)),k=this._decodeChar(a.charCodeAt(f+3)),d[e++]=h<<2|i>>>4,d[e++]=i<<4|j>>>2,d[e++]=j<<6|k,g|=256&h,g|=256&i,g|=256&j,g|=256&k;if(f<c-1&&(h=this._decodeChar(a.charCodeAt(f)),i=this._decodeChar(a.charCodeAt(f+1)),d[e++]=h<<2|i>>>4,g|=256&h,g|=256&i),f<c-2&&(j=this._decodeChar(a.charCodeAt(f+2)),d[e++]=i<<4|j>>>2,g|=256&j),f<c-3&&(k=this._decodeChar(a.charCodeAt(f+3)),d[e++]=j<<6|k,g|=256&k),0!==g)throw Error("Base64Coder: incorrect characters for decoding");return d},a.prototype._encodeByte=function(a){var b=a;return b+=65,b+=25-a>>>8&6,b+=51-a>>>8&-75,b+=61-a>>>8&-15,String.fromCharCode(b+=62-a>>>8&3)},a.prototype._decodeChar=function(a){return 256+((42-a&a-44)>>>8&-256+a-43+62)+((46-a&a-48)>>>8&-256+a-47+63)+((47-a&a-58)>>>8&-256+a-48+52)+((64-a&a-91)>>>8&-256+a-65+0)+((96-a&a-123)>>>8&-256+a-97+26)},a.prototype._getPaddingLength=function(a){var b=0;if(this._paddingCharacter){for(var c=a.length-1;c>=0&&a[c]===this._paddingCharacter;c--)b++;if(a.length<4||b>2)throw Error("Base64Coder: incorrect padding")}return b},a}();c.Coder=e;var f=new e;c.encode=function(a){return f.encode(a)},c.decode=function(a){return f.decode(a)};var g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype._encodeByte=function(a){var b=a;return b+=65,b+=25-a>>>8&6,b+=51-a>>>8&-75,b+=61-a>>>8&-13,String.fromCharCode(b+=62-a>>>8&49)},b.prototype._decodeChar=function(a){return 256+((44-a&a-46)>>>8&-256+a-45+62)+((94-a&a-96)>>>8&-256+a-95+63)+((47-a&a-58)>>>8&-256+a-48+52)+((64-a&a-91)>>>8&-256+a-65+0)+((96-a&a-123)>>>8&-256+a-97+26)},b}(e);c.URLSafeCoder=g;var h=new g;c.encodeURLSafe=function(a){return h.encode(a)},c.decodeURLSafe=function(a){return h.decode(a)},c.encodedLength=function(a){return f.encodedLength(a)},c.maxDecodedLength=function(a){return f.maxDecodedLength(a)},c.decodedLength=function(a){return f.decodedLength(a)}},67091,(a,b,c)=>{!function(c,d){var e={};d(e);var f=e.default;for(var g in e)f[g]=e[g];if("object"==typeof b.exports)b.exports=f;else if("function"==typeof define&&define.amd)a.r,void 0!==f&&a.v(f);else c.sha256=f}(a.e,function(a){"use strict";a.__esModule=!0,a.digestLength=32,a.blockSize=64;var b=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]);function c(a,c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p,q,r,s;f>=64;){for(p=0,g=c[0],h=c[1],i=c[2],j=c[3],k=c[4],l=c[5],m=c[6],n=c[7];p<16;p++)q=e+4*p,a[p]=(255&d[q])<<24|(255&d[q+1])<<16|(255&d[q+2])<<8|255&d[q+3];for(p=16;p<64;p++)r=((o=a[p-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,s=((o=a[p-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,a[p]=(r+a[p-7]|0)+(s+a[p-16]|0);for(p=0;p<64;p++)r=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&l^~k&m)|0)+(n+(b[p]+a[p]|0)|0)|0,s=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&h^g&i^h&i)|0,n=m,m=l,l=k,k=j+r|0,j=i,i=h,h=g,g=r+s|0;c[0]+=g,c[1]+=h,c[2]+=i,c[3]+=j,c[4]+=k,c[5]+=l,c[6]+=m,c[7]+=n,e+=64,f-=64}return e}var d=function(){function b(){this.digestLength=a.digestLength,this.blockSize=a.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return b.prototype.reset=function(){return this.state[0]=0x6a09e667,this.state[1]=0xbb67ae85,this.state[2]=0x3c6ef372,this.state[3]=0xa54ff53a,this.state[4]=0x510e527f,this.state[5]=0x9b05688c,this.state[6]=0x1f83d9ab,this.state[7]=0x5be0cd19,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},b.prototype.clean=function(){for(var a=0;a<this.buffer.length;a++)this.buffer[a]=0;for(var a=0;a<this.temp.length;a++)this.temp[a]=0;this.reset()},b.prototype.update=function(a,b){if(void 0===b&&(b=a.length),this.finished)throw Error("SHA256: can't update because hash was finished.");var d=0;if(this.bytesHashed+=b,this.bufferLength>0){for(;this.bufferLength<64&&b>0;)this.buffer[this.bufferLength++]=a[d++],b--;64===this.bufferLength&&(c(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(b>=64&&(d=c(this.temp,this.state,a,d,b),b%=64);b>0;)this.buffer[this.bufferLength++]=a[d++],b--;return this},b.prototype.finish=function(a){if(!this.finished){var b=this.bytesHashed,d=this.bufferLength,e=b/0x20000000|0,f=b<<3,g=b%64<56?64:128;this.buffer[d]=128;for(var h=d+1;h<g-8;h++)this.buffer[h]=0;this.buffer[g-8]=e>>>24&255,this.buffer[g-7]=e>>>16&255,this.buffer[g-6]=e>>>8&255,this.buffer[g-5]=e>>>0&255,this.buffer[g-4]=f>>>24&255,this.buffer[g-3]=f>>>16&255,this.buffer[g-2]=f>>>8&255,this.buffer[g-1]=f>>>0&255,c(this.temp,this.state,this.buffer,0,g),this.finished=!0}for(var h=0;h<8;h++)a[4*h+0]=this.state[h]>>>24&255,a[4*h+1]=this.state[h]>>>16&255,a[4*h+2]=this.state[h]>>>8&255,a[4*h+3]=this.state[h]>>>0&255;return this},b.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},b.prototype._saveState=function(a){for(var b=0;b<this.state.length;b++)a[b]=this.state[b]},b.prototype._restoreState=function(a,b){for(var c=0;c<this.state.length;c++)this.state[c]=a[c];this.bytesHashed=b,this.finished=!1,this.bufferLength=0},b}();a.Hash=d;var e=function(){function a(a){this.inner=new d,this.outer=new d,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var b=new Uint8Array(this.blockSize);if(a.length>this.blockSize)new d().update(a).finish(b).clean();else for(var c=0;c<a.length;c++)b[c]=a[c];for(var c=0;c<b.length;c++)b[c]^=54;this.inner.update(b);for(var c=0;c<b.length;c++)b[c]^=106;this.outer.update(b),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var c=0;c<b.length;c++)b[c]=0}return a.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},a.prototype.clean=function(){for(var a=0;a<this.istate.length;a++)this.ostate[a]=this.istate[a]=0;this.inner.clean(),this.outer.clean()},a.prototype.update=function(a){return this.inner.update(a),this},a.prototype.finish=function(a){return this.outer.finished?this.outer.finish(a):(this.inner.finish(a),this.outer.update(a,this.digestLength).finish(a)),this},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a}();function f(a){var b=new d().update(a),c=b.digest();return b.clean(),c}function g(a,b){var c=new e(a).update(b),d=c.digest();return c.clean(),d}a.HMAC=e,a.hash=f,a.default=f,a.hmac=g;var h=new Uint8Array(a.digestLength);a.hkdf=function(a,b,c,d){void 0===b&&(b=h),void 0===d&&(d=32);for(var f=new Uint8Array([1]),i=new e(g(b,a)),j=new Uint8Array(i.digestLength),k=j.length,l=new Uint8Array(d),m=0;m<d;m++)k===j.length&&(!function(a,b,c,d){var e=d[0];if(0===e)throw Error("hkdf: cannot expand more");b.reset(),e>1&&b.update(a),c&&b.update(c),b.update(d),b.finish(a),d[0]++}(j,i,c,f),k=0),l[m]=j[k++];return i.clean(),j.fill(0),f.fill(0),l},a.pbkdf2=function(a,b,c,d){for(var f=new e(a),g=f.digestLength,h=new Uint8Array(4),i=new Uint8Array(g),j=new Uint8Array(g),k=new Uint8Array(d),l=0;l*g<d;l++){var m=l+1;h[0]=m>>>24&255,h[1]=m>>>16&255,h[2]=m>>>8&255,h[3]=m>>>0&255,f.reset(),f.update(b),f.update(h),f.finish(j);for(var n=0;n<g;n++)i[n]=j[n];for(var n=2;n<=c;n++){f.reset(),f.update(j).finish(j);for(var o=0;o<g;o++)i[o]^=j[o]}for(var n=0;n<g&&l*g+n<d;n++)k[l*g+n]=i[n]}for(var l=0;l<g;l++)i[l]=j[l]=0;for(var l=0;l<4;l++)h[l]=0;return f.clean(),k}})},40167,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Webhook=c.WebhookVerificationError=void 0;let d=a.r(64213),e=a.r(39629),f=a.r(67091);class g extends Error{constructor(a){super(a),Object.setPrototypeOf(this,g.prototype),this.name="ExtendableError",this.stack=Error(a).stack}}class h extends g{constructor(a){super(a),Object.setPrototypeOf(this,h.prototype),this.name="WebhookVerificationError"}}c.WebhookVerificationError=h;class i{constructor(a,b){if(!a)throw Error("Secret can't be empty.");if((null==b?void 0:b.format)==="raw")a instanceof Uint8Array?this.key=a:this.key=Uint8Array.from(a,a=>a.charCodeAt(0));else{if("string"!=typeof a)throw Error("Expected secret to be of type string");a.startsWith(i.prefix)&&(a=a.substring(i.prefix.length)),this.key=e.decode(a)}}verify(a,b){let c={};for(let a of Object.keys(b))c[a.toLowerCase()]=b[a];let e=c["svix-id"],f=c["svix-signature"],g=c["svix-timestamp"];if((!f||!e||!g)&&(e=c["webhook-id"],f=c["webhook-signature"],g=c["webhook-timestamp"],!f||!e||!g))throw new h("Missing required headers");let i=this.verifyTimestamp(g),j=this.sign(e,i,a).split(",")[1],k=f.split(" "),l=new globalThis.TextEncoder;for(let b of k){let[c,e]=b.split(",");if("v1"===c&&(0,d.timingSafeEqual)(l.encode(e),l.encode(j)))return JSON.parse(a.toString())}throw new h("No matching signature found")}sign(a,b,c){if("string"==typeof c);else if("Buffer"===c.constructor.name)c=c.toString();else throw Error("Expected payload to be of type string or Buffer. Please refer to https://docs.svix.com/receiving/verifying-payloads/how for more information.");let d=new TextEncoder,g=Math.floor(b.getTime()/1e3),h=d.encode(`${a}.${g}.${c}`),i=e.encode(f.hmac(this.key,h));return`v1,${i}`}verifyTimestamp(a){let b=Math.floor(Date.now()/1e3),c=parseInt(a,10);if(isNaN(c))throw new h("Invalid Signature Headers");if(b-c>300)throw new h("Message timestamp too old");if(c>b+300)throw new h("Message timestamp too new");return new Date(1e3*c)}}c.Webhook=i,i.prefix="whsec_"},45376,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndpointDisabledTriggerSerializer=c.EndpointDisabledTrigger=void 0,function(a){a.Manual="manual",a.Automatic="automatic"}(c.EndpointDisabledTrigger||(c.EndpointDisabledTrigger={})),c.EndpointDisabledTriggerSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},21931,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OrderingSerializer=c.Ordering=void 0,function(a){a.Ascending="ascending",a.Descending="descending"}(c.Ordering||(c.Ordering={})),c.OrderingSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},22829,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StatusCodeClassSerializer=c.StatusCodeClass=void 0,function(a){a[a.CodeNone=0]="CodeNone",a[a.Code1xx=100]="Code1xx",a[a.Code2xx=200]="Code2xx",a[a.Code3xx=300]="Code3xx",a[a.Code4xx=400]="Code4xx",a[a.Code5xx=500]="Code5xx"}(c.StatusCodeClass||(c.StatusCodeClass={})),c.StatusCodeClassSerializer={_fromJsonObject:a=>a,_toJsonObject:a=>a}},65599,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StatusCodeClass=c.Ordering=c.MessageStatusText=c.MessageStatus=c.MessageAttemptTriggerType=c.EndpointDisabledTrigger=c.ConnectorKind=c.BackgroundTaskType=c.BackgroundTaskStatus=c.AppPortalCapability=void 0;var d=a.r(47047);Object.defineProperty(c,"AppPortalCapability",{enumerable:!0,get:function(){return d.AppPortalCapability}});var e=a.r(77563);Object.defineProperty(c,"BackgroundTaskStatus",{enumerable:!0,get:function(){return e.BackgroundTaskStatus}});var f=a.r(79876);Object.defineProperty(c,"BackgroundTaskType",{enumerable:!0,get:function(){return f.BackgroundTaskType}});var g=a.r(87340);Object.defineProperty(c,"ConnectorKind",{enumerable:!0,get:function(){return g.ConnectorKind}});var h=a.r(45376);Object.defineProperty(c,"EndpointDisabledTrigger",{enumerable:!0,get:function(){return h.EndpointDisabledTrigger}});var i=a.r(12258);Object.defineProperty(c,"MessageAttemptTriggerType",{enumerable:!0,get:function(){return i.MessageAttemptTriggerType}});var j=a.r(71434);Object.defineProperty(c,"MessageStatus",{enumerable:!0,get:function(){return j.MessageStatus}});var k=a.r(25445);Object.defineProperty(c,"MessageStatusText",{enumerable:!0,get:function(){return k.MessageStatusText}});var l=a.r(21931);Object.defineProperty(c,"Ordering",{enumerable:!0,get:function(){return l.Ordering}});var m=a.r(22829);Object.defineProperty(c,"StatusCodeClass",{enumerable:!0,get:function(){return m.StatusCodeClass}})},65255,(a,b,c)=>{"use strict";var d=a.e&&a.e.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=a.e&&a.e.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(c,"__esModule",{value:!0}),c.Svix=c.messageInRaw=c.ValidationError=c.HttpErrorOut=c.HTTPValidationError=c.ApiException=void 0;let f=a.r(79131),g=a.r(23987),h=a.r(69776),i=a.r(65236),j=a.r(47215),k=a.r(93820),l=a.r(70944),m=a.r(58706),n=a.r(48549),o=a.r(24151),p=a.r(9623),q=a.r(23004),r=a.r(37012),s=a.r(76401);var t=a.r(81857);Object.defineProperty(c,"ApiException",{enumerable:!0,get:function(){return t.ApiException}});var u=a.r(21930);Object.defineProperty(c,"HTTPValidationError",{enumerable:!0,get:function(){return u.HTTPValidationError}}),Object.defineProperty(c,"HttpErrorOut",{enumerable:!0,get:function(){return u.HttpErrorOut}}),Object.defineProperty(c,"ValidationError",{enumerable:!0,get:function(){return u.ValidationError}}),e(a.r(40167),c),e(a.r(65599),c);var v=a.r(24151);Object.defineProperty(c,"messageInRaw",{enumerable:!0,get:function(){return v.messageInRaw}});let w=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}];c.Svix=class{constructor(a,b={}){var c,d,e;let f=null==(c=w.find(b=>b.region===a.split(".")[1]))?void 0:c.url,g=null!=(e=null!=(d=b.serverUrl)?d:f)?e:"https://api.svix.com";if(b.retryScheduleInMs){this.requestCtx={baseUrl:g,token:a,timeout:b.requestTimeout,retryScheduleInMs:b.retryScheduleInMs};return}if(b.numRetries){this.requestCtx={baseUrl:g,token:a,timeout:b.requestTimeout,numRetries:b.numRetries};return}this.requestCtx={baseUrl:g,token:a,timeout:b.requestTimeout}}get application(){return new f.Application(this.requestCtx)}get authentication(){return new g.Authentication(this.requestCtx)}get backgroundTask(){return new h.BackgroundTask(this.requestCtx)}get endpoint(){return new i.Endpoint(this.requestCtx)}get environment(){return new j.Environment(this.requestCtx)}get eventType(){return new k.EventType(this.requestCtx)}get health(){return new l.Health(this.requestCtx)}get ingest(){return new m.Ingest(this.requestCtx)}get integration(){return new n.Integration(this.requestCtx)}get message(){return new o.Message(this.requestCtx)}get messageAttempt(){return new p.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new q.OperationalWebhook(this.requestCtx)}get statistics(){return new r.Statistics(this.requestCtx)}get operationalWebhookEndpoint(){return new s.OperationalWebhookEndpoint(this.requestCtx)}}},61453,a=>{"use strict";a.s(["LoginForm",()=>b]);let b=(0,a.i(80802).registerClientReference)(function(){throw Error("Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/(auth)/login/_components/LoginForm.tsx <module evaluation>","LoginForm")},30512,a=>{"use strict";a.s(["LoginForm",()=>b]);let b=(0,a.i(80802).registerClientReference)(function(){throw Error("Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/(auth)/login/_components/LoginForm.tsx","LoginForm")},22e3,a=>{"use strict";a.i(61453);var b=a.i(30512);a.n(b)},23103,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{RequestCookies:function(){return d.RequestCookies},ResponseCookies:function(){return d.ResponseCookies},stringifyCookie:function(){return d.stringifyCookie}});let d=a.r(42253)},47185,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ReflectAdapter",{enumerable:!0,get:function(){return d}});class d{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}},61294,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{MutableRequestCookiesAdapter:function(){return l},ReadonlyRequestCookiesError:function(){return g},RequestCookiesAdapter:function(){return h},appendMutableCookies:function(){return k},areCookiesMutableInCurrentPhase:function(){return n},createCookiesWithMutableAccessCheck:function(){return m},getModifiedCookieValues:function(){return j},responseCookiesToRequestCookies:function(){return p}});let d=a.r(23103),e=a.r(47185),f=a.r(56704);class g extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new g}}class h{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return g.callable;default:return e.ReflectAdapter.get(a,b,c)}}})}}let i=Symbol.for("next.mutated.cookies");function j(a){let b=a[i];return b&&Array.isArray(b)&&0!==b.length?b:[]}function k(a,b){let c=j(b);if(0===c.length)return!1;let e=new d.ResponseCookies(a),f=e.getAll();for(let a of c)e.set(a);for(let a of f)e.set(a);return!0}class l{static wrap(a,b){let c=new d.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let g=[],h=new Set,j=()=>{let a=f.workAsyncStorage.getStore();if(a&&(a.pathWasRevalidated=!0),g=c.getAll().filter(a=>h.has(a.name)),b){let a=[];for(let b of g){let c=new d.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},k=new Proxy(c,{get(a,b,c){switch(b){case i:return g;case"delete":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),k}finally{j()}};case"set":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),k}finally{j()}};default:return e.ReflectAdapter.get(a,b,c)}}});return k}}function m(a){let b=new Proxy(a.mutableCookies,{get(c,d,f){switch(d){case"delete":return function(...d){return o(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return o(a,"cookies().set"),c.set(...d),b};default:return e.ReflectAdapter.get(c,d,f)}}});return b}function n(a){return"action"===a.phase}function o(a,b){if(!n(a))throw new g}function p(a){let b=new d.RequestCookies(new Headers);for(let c of a.getAll())b.set(c);return b}},14390,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{DynamicServerError:function(){return e},isDynamicServerError:function(){return f}});let d="DYNAMIC_SERVER_USAGE";class e extends Error{constructor(a){super("Dynamic server usage: "+a),this.description=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},55894,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{StaticGenBailoutError:function(){return e},isStaticGenBailoutError:function(){return f}});let d="NEXT_STATIC_GEN_BAILOUT";class e extends Error{constructor(...a){super(...a),this.code=d}}function f(a){return"object"==typeof a&&null!==a&&"code"in a&&a.code===d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},8318,(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===e}Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{isHangingPromiseRejectionError:function(){return d},makeDevtoolsIOAwarePromise:function(){return j},makeHangingPromise:function(){return h}});let e="HANGING_PROMISE_REJECTION";class f extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=e}}let g=new WeakMap;function h(a,b,c){if(a.aborted)return Promise.reject(new f(b,c));{let d=new Promise((d,e)=>{let h=e.bind(null,new f(b,c)),i=g.get(a);if(i)i.push(h);else{let b=[h];g.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(i),d}}function i(){}function j(a){return new Promise(b=>{setTimeout(()=>{b(a)},0)})}},40401,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{METADATA_BOUNDARY_NAME:function(){return d},OUTLET_BOUNDARY_NAME:function(){return f},ROOT_LAYOUT_BOUNDARY_NAME:function(){return g},VIEWPORT_BOUNDARY_NAME:function(){return e}});let d="__next_metadata_boundary__",e="__next_viewport_boundary__",f="__next_outlet_boundary__",g="__next_root_layout_boundary__"},22946,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{atLeastOneTask:function(){return f},scheduleImmediate:function(){return e},scheduleOnNextTick:function(){return d},waitAtLeastOneReactRenderTask:function(){return g}});let d=a=>{Promise.resolve().then(()=>{process.nextTick(a)})},e=a=>{setImmediate(a)};function f(){return new Promise(a=>e(a))}function g(){return new Promise(a=>setImmediate(a))}},37140,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{BailoutToCSRError:function(){return e},isBailoutToCSRError:function(){return f}});let d="BAILOUT_TO_CLIENT_SIDE_RENDERING";class e extends Error{constructor(a){super("Bail out to client-side rendering: "+a),this.reason=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===d}},82540,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"InvariantError",{enumerable:!0,get:function(){return d}});class d extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}},95403,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{Postpone:function(){return A},PreludeState:function(){return V},abortAndThrowOnSynchronousRequestDataAccess:function(){return x},abortOnSynchronousPlatformIOAccess:function(){return v},accessedDynamicData:function(){return I},annotateDynamicAccess:function(){return N},consumeDynamicAccess:function(){return J},createDynamicTrackingState:function(){return o},createDynamicValidationState:function(){return p},createHangingInputAbortSignal:function(){return M},createRenderInBrowserAbortSignal:function(){return L},delayUntilRuntimeStage:function(){return Y},formatDynamicAPIAccesses:function(){return K},getFirstDynamicReason:function(){return q},isDynamicPostpone:function(){return D},isPrerenderInterruptedError:function(){return H},logDisallowedDynamicError:function(){return W},markCurrentScopeAsDynamic:function(){return r},postponeWithTracking:function(){return B},throwIfDisallowedDynamic:function(){return X},throwToInterruptStaticGeneration:function(){return s},trackAllowedDynamicAccess:function(){return U},trackDynamicDataInDynamicRender:function(){return t},trackSynchronousPlatformIOAccessInDev:function(){return w},trackSynchronousRequestDataAccessInDev:function(){return z},useDynamicRouteParams:function(){return O},warnOnSyncDynamicError:function(){return y}});let d=function(a){return a&&a.__esModule?a:{default:a}}(a.r(93649)),e=a.r(14390),f=a.r(55894),g=a.r(32319),h=a.r(56704),i=a.r(8318),j=a.r(40401),k=a.r(22946),l=a.r(37140),m=a.r(82540),n="function"==typeof d.default.unstable_postpone;function o(a){return{isDebugDynamicAccesses:a,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function p(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function q(a){var b;return null==(b=a.dynamicAccesses[0])?void 0:b.expression}function r(a,b,c){if(b)switch(b.type){case"cache":case"unstable-cache":case"private-cache":return}if(!a.forceDynamic&&!a.forceStatic){if(a.dynamicShouldError)throw Object.defineProperty(new f.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(b)switch(b.type){case"prerender-ppr":return B(a.route,c,b.dynamicTracking);case"prerender-legacy":b.revalidate=0;let d=Object.defineProperty(new e.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used ${c}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=c,a.dynamicUsageStack=d.stack,d}}}function s(a,b,c){let d=Object.defineProperty(new e.DynamicServerError(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function t(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function u(a,b,c){let d=G(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`);c.controller.abort(d);let e=c.dynamicTracking;e&&e.dynamicAccesses.push({stack:e.isDebugDynamicAccesses?Error().stack:void 0,expression:b})}function v(a,b,c,d){let e=d.dynamicTracking;u(a,b,d),e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}function w(a){a.prerenderPhase=!1}function x(a,b,c,d){if(!1===d.controller.signal.aborted){u(a,b,d);let e=d.dynamicTracking;e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}throw G(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`)}function y(a){a.syncDynamicErrorWithStack&&console.error(a.syncDynamicErrorWithStack)}let z=w;function A({reason:a,route:b}){let c=g.workUnitAsyncStorage.getStore();B(b,a,c&&"prerender-ppr"===c.type?c.dynamicTracking:null)}function B(a,b,c){(function(){if(!n)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.default.unstable_postpone(C(a,b))}function C(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function D(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&E(a.message)}function E(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===E(C("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let F="NEXT_PRERENDER_INTERRUPTED";function G(a){let b=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return b.digest=F,b}function H(a){return"object"==typeof a&&null!==a&&a.digest===F&&"name"in a&&"message"in a&&a instanceof Error}function I(a){return a.length>0}function J(a,b){return a.dynamicAccesses.push(...b.dynamicAccesses),a.dynamicAccesses}function K(a){return a.filter(a=>"string"==typeof a.stack&&a.stack.length>0).map(({expression:a,stack:b})=>(b=b.split("\n").slice(4).filter(a=>!(a.includes("node_modules/next/")||a.includes(" (<anonymous>)")||a.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${a}:
${b}`))}function L(){let a=new AbortController;return a.abort(Object.defineProperty(new l.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),a.signal}function M(a){switch(a.type){case"prerender":case"prerender-runtime":let b=new AbortController;if(a.cacheSignal)a.cacheSignal.inputReady().then(()=>{b.abort()});else{let c=(0,g.getRuntimeStagePromise)(a);c?c.then(()=>(0,k.scheduleOnNextTick)(()=>b.abort())):(0,k.scheduleOnNextTick)(()=>b.abort())}return b.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function N(a,b){let c=b.dynamicTracking;c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:a})}function O(a){let b=h.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b&&c)switch(c.type){case"prerender-client":case"prerender":{let e=c.fallbackRouteParams;e&&e.size>0&&d.default.use((0,i.makeHangingPromise)(c.renderSignal,b.route,a));break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d&&d.size>0)return B(b.route,a,c.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called during a runtime prerender. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}let P=/\n\s+at Suspense \(<anonymous>\)/,Q=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${j.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),R=RegExp(`\\n\\s+at ${j.METADATA_BOUNDARY_NAME}[\\n\\s]`),S=RegExp(`\\n\\s+at ${j.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),T=RegExp(`\\n\\s+at ${j.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function U(a,b,c,d){if(!T.test(b)){if(R.test(b)){c.hasDynamicMetadata=!0;return}if(S.test(b)){c.hasDynamicViewport=!0;return}if(Q.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(P.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=function(a,b){let c=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return c.stack=c.name+": "+a+b,c}(`Route "${a.route}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,b);return void c.dynamicErrors.push(e)}}}var V=function(a){return a[a.Full=0]="Full",a[a.Empty=1]="Empty",a[a.Errored=2]="Errored",a}({});function W(a,b){console.error(b),a.dev||(a.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function X(a,b,c,d){if(0!==b){if(c.hasSuspenseAboveBody)return;if(d.syncDynamicErrorWithStack)throw W(a,d.syncDynamicErrorWithStack),new f.StaticGenBailoutError;let e=c.dynamicErrors;if(e.length>0){for(let b=0;b<e.length;b++)W(a,e[b]);throw new f.StaticGenBailoutError}if(c.hasDynamicViewport)throw console.error(`Route "${a.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new f.StaticGenBailoutError;if(1===b)throw console.error(`Route "${a.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new f.StaticGenBailoutError}else if(!1===c.hasAllowedDynamic&&c.hasDynamicMetadata)throw console.error(`Route "${a.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new f.StaticGenBailoutError}function Y(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}},68087,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return i}});let d=function(a,b){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=e(b);if(c&&c.has(a))return c.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(d,g,h):d[g]=a[g]}return d.default=a,c&&c.set(a,d),d}(a.r(93649));function e(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(e=function(a){return a?c:b})(a)}let f={current:null},g="function"==typeof d.cache?d.cache:a=>a,h=console.warn;function i(a){return function(...b){h(a(...b))}}g(a=>{try{h(f.current)}finally{f.current=null}})},86180,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{isRequestAPICallableInsideAfter:function(){return i},throwForSearchParamsAccessInUseCache:function(){return h},throwWithStaticGenerationBailoutError:function(){return f},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return g}});let d=a.r(55894),e=a.r(24725);function f(a,b){throw Object.defineProperty(new d.StaticGenBailoutError(`Route ${a} couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:!1,configurable:!0})}function g(a,b){throw Object.defineProperty(new d.StaticGenBailoutError(`Route ${a} with \`dynamic = "error"\` couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function h(a,b){let c=Object.defineProperty(Error(`Route ${a.route} used "searchParams" inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await "searchParams" outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E779",enumerable:!1,configurable:!0});throw Error.captureStackTrace(c,b),a.invalidDynamicUsageError??=c,c}function i(){let a=e.afterTaskAsyncStorage.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}},47966,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"cookies",{enumerable:!0,get:function(){return n}});let d=a.r(61294),e=a.r(23103),f=a.r(56704),g=a.r(32319),h=a.r(95403),i=a.r(55894),j=a.r(8318),k=a.r(68087),l=a.r(86180),m=a.r(82540);function n(){let a="cookies",b=f.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(b.forceStatic)return p(d.RequestCookiesAdapter.seal(new e.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,n),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var k=b,q=c;let g=o.get(q);if(g)return g;let r=(0,j.makeHangingPromise)(q.renderSignal,k.route,"`cookies()`");return o.set(q,r),r;case"prerender-client":let s="`cookies`";throw Object.defineProperty(new m.InvariantError(`${s} must not be used within a client component. Next.js should be preventing ${s} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,h.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,h.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,h.delayUntilRuntimeStage)(c,function(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),c}(c.cookies));case"private-cache":return p(c.cookies);case"request":return(0,h.trackDynamicDataInDynamicRender)(c),p((0,d.areCookiesMutableInCurrentPhase)(c)?c.userspaceMutableCookies:c.cookies)}}(0,g.throwForMissingRequestStore)(a)}a.r(47185);let o=new WeakMap;function p(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),Object.defineProperties(c,{[Symbol.iterator]:{value:a[Symbol.iterator]?a[Symbol.iterator].bind(a):q.bind(a)},size:{get:()=>a.size},get:{value:a.get.bind(a)},getAll:{value:a.getAll.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},delete:{value:a.delete.bind(a)},clear:{value:"function"==typeof a.clear?a.clear.bind(a):r.bind(a,c)},toString:{value:a.toString.bind(a)}}),c}function q(){return this.getAll().map(a=>[a.name,a]).values()}function r(a){for(let a of this.getAll())this.delete(a.name);return a}(0,k.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})})},25152,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{HeadersAdapter:function(){return f},ReadonlyHeadersError:function(){return e}});let d=a.r(47185);class e extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new e}}class f extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,e){if("symbol"==typeof c)return d.ReflectAdapter.get(b,c,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);if(void 0!==g)return d.ReflectAdapter.get(b,g,e)},set(b,c,e,f){if("symbol"==typeof c)return d.ReflectAdapter.set(b,c,e,f);let g=c.toLowerCase(),h=Object.keys(a).find(a=>a.toLowerCase()===g);return d.ReflectAdapter.set(b,h??c,e,f)},has(b,c){if("symbol"==typeof c)return d.ReflectAdapter.has(b,c);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0!==f&&d.ReflectAdapter.has(b,f)},deleteProperty(b,c){if("symbol"==typeof c)return d.ReflectAdapter.deleteProperty(b,c);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0===f||d.ReflectAdapter.deleteProperty(b,f)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return e.callable;default:return d.ReflectAdapter.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new f(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}},32284,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"headers",{enumerable:!0,get:function(){return m}});let d=a.r(25152),e=a.r(56704),f=a.r(32319),g=a.r(95403),h=a.r(55894),i=a.r(8318),j=a.r(68087),k=a.r(86180),l=a.r(82540);function m(){let a="headers",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,k.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(b.forceStatic)return o(d.HeadersAdapter.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"private-cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache: private". Accessing "headers" inside a private cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E742",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":case"prerender-runtime":var j=b,p=c;let e=n.get(p);if(e)return e;let f=(0,i.makeHangingPromise)(p.renderSignal,j.route,"`headers()`");return n.set(p,f),f;case"prerender-client":let q="`headers`";throw Object.defineProperty(new l.InvariantError(`${q} must not be used within a client component. Next.js should be preventing ${q} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,g.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,g.throwToInterruptStaticGeneration)(a,b,c);case"request":return(0,g.trackDynamicDataInDynamicRender)(c),o(c.headers)}}(0,f.throwForMissingRequestStore)(a)}a.r(47185);let n=new WeakMap;function o(a){let b=n.get(a);if(b)return b;let c=Promise.resolve(a);return n.set(a,c),Object.defineProperties(c,{append:{value:a.append.bind(a)},delete:{value:a.delete.bind(a)},get:{value:a.get.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},getSetCookie:{value:a.getSetCookie.bind(a)},forEach:{value:a.forEach.bind(a)},keys:{value:a.keys.bind(a)},values:{value:a.values.bind(a)},entries:{value:a.entries.bind(a)},[Symbol.iterator]:{value:a[Symbol.iterator].bind(a)}}),c}(0,j.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})})},5190,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"draftMode",{enumerable:!0,get:function(){return k}});let d=a.r(32319),e=a.r(56704),f=a.r(95403),g=a.r(68087),h=a.r(55894),i=a.r(14390),j=a.r(82540);function k(){let a=e.workAsyncStorage.getStore(),b=d.workUnitAsyncStorage.getStore();switch((!a||!b)&&(0,d.throwForMissingRequestStore)("draftMode"),b.type){case"prerender-runtime":return(0,f.delayUntilRuntimeStage)(b,l(b.draftMode,a));case"request":return l(b.draftMode,a);case"cache":case"private-cache":case"unstable-cache":let c=(0,d.getDraftModeProviderForCacheScope)(a,b);if(c)return l(c,a);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return l(null,a);default:return b}}function l(a,b){let c,d=a??m,e=n.get(d);return e||(c=function(a){let b=new o(a),c=Promise.resolve(b);return Object.defineProperty(c,"isEnabled",{get:()=>b.isEnabled,enumerable:!0,configurable:!0}),c.enable=b.enable.bind(b),c.disable=b.disable.bind(b),c}(a),n.set(d,c),c)}a.r(47185);let m={},n=new WeakMap;class o{constructor(a){this._provider=a}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){p("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){p("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function p(a,b){let c=e.workAsyncStorage.getStore(),g=d.workUnitAsyncStorage.getStore();if(c){if((null==g?void 0:g.phase)==="after")throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0});if(c.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${c.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(g)switch(g.type){case"cache":case"private-cache":{let d=Object.defineProperty(Error(`Route ${c.route} used "${a}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});throw Error.captureStackTrace(d,b),c.invalidDynamicUsageError??=d,d}case"unstable-cache":throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let b=Object.defineProperty(Error(`Route ${c.route} used ${a} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,f.abortAndThrowOnSynchronousRequestDataAccess)(c.route,a,b,g)}case"prerender-client":let d="`draftMode`";throw Object.defineProperty(new j.InvariantError(`${d} must not be used within a client component. Next.js should be preventing ${d} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,f.postponeWithTracking)(c.route,a,g.dynamicTracking);case"prerender-legacy":g.revalidate=0;let e=Object.defineProperty(new i.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.dynamicUsageDescription=a,c.dynamicUsageStack=e.stack,e;case"request":(0,f.trackDynamicDataInDynamicRender)(g)}}}(0,g.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})})},52215,(a,b,c)=>{b.exports.cookies=a.r(47966).cookies,b.exports.headers=a.r(32284).headers,b.exports.draftMode=a.r(5190).draftMode},28963,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"RedirectStatusCode",{enumerable:!0,get:function(){return d}});var d=function(a){return a[a.SeeOther=303]="SeeOther",a[a.TemporaryRedirect=307]="TemporaryRedirect",a[a.PermanentRedirect=308]="PermanentRedirect",a}({});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},44459,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{REDIRECT_ERROR_CODE:function(){return e},RedirectType:function(){return f},isRedirectError:function(){return g}});let d=a.r(28963),e="NEXT_REDIRECT";var f=function(a){return a.push="push",a.replace="replace",a}({});function g(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,f]=b,g=b.slice(2,-2).join(";"),h=Number(b.at(-2));return c===e&&("replace"===f||"push"===f)&&"string"==typeof g&&!isNaN(h)&&h in d.RedirectStatusCode}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},42845,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{getRedirectError:function(){return g},getRedirectStatusCodeFromError:function(){return l},getRedirectTypeFromError:function(){return k},getURLFromRedirectError:function(){return j},permanentRedirect:function(){return i},redirect:function(){return h}});let d=a.r(28963),e=a.r(44459),f=a.r(20635).actionAsyncStorage;function g(a,b,c){void 0===c&&(c=d.RedirectStatusCode.TemporaryRedirect);let f=Object.defineProperty(Error(e.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return f.digest=e.REDIRECT_ERROR_CODE+";"+b+";"+a+";"+c+";",f}function h(a,b){var c;throw null!=b||(b=(null==f||null==(c=f.getStore())?void 0:c.isAction)?e.RedirectType.push:e.RedirectType.replace),g(a,b,d.RedirectStatusCode.TemporaryRedirect)}function i(a,b){throw void 0===b&&(b=e.RedirectType.replace),g(a,b,d.RedirectStatusCode.PermanentRedirect)}function j(a){return(0,e.isRedirectError)(a)?a.digest.split(";").slice(2,-2).join(";"):null}function k(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return a.digest.split(";",2)[1]}function l(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},36461,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{HTTPAccessErrorStatus:function(){return d},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return f},getAccessFallbackErrorTypeByStatus:function(){return i},getAccessFallbackHTTPStatus:function(){return h},isHTTPAccessFallbackError:function(){return g}});let d={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},e=new Set(Object.values(d)),f="NEXT_HTTP_ERROR_FALLBACK";function g(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return b===f&&e.has(Number(c))}function h(a){return Number(a.digest.split(";")[1])}function i(a){switch(a){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},29484,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"notFound",{enumerable:!0,get:function(){return e}});let d=""+a.r(36461).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function e(){let a=Object.defineProperty(Error(d),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw a.digest=d,a}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},89176,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"forbidden",{enumerable:!0,get:function(){return d}}),a.r(36461).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},93683,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unauthorized",{enumerable:!0,get:function(){return d}}),a.r(36461).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},18896,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isPostpone",{enumerable:!0,get:function(){return e}});let d=Symbol.for("react.postpone");function e(a){return"object"==typeof a&&null!==a&&a.$$typeof===d}},50799,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isNextRouterError",{enumerable:!0,get:function(){return f}});let d=a.r(36461),e=a.r(44459);function f(a){return(0,e.isRedirectError)(a)||(0,d.isHTTPAccessFallbackError)(a)}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},46218,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return function a(b){if((0,g.isNextRouterError)(b)||(0,f.isBailoutToCSRError)(b)||(0,i.isDynamicServerError)(b)||(0,h.isDynamicPostpone)(b)||(0,e.isPostpone)(b)||(0,d.isHangingPromiseRejectionError)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}}});let d=a.r(8318),e=a.r(18896),f=a.r(37140),g=a.r(50799),h=a.r(95403),i=a.r(14390);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},35978,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return d}});let d=a.r(46218).unstable_rethrow;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},58133,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{ReadonlyURLSearchParams:function(){return k},RedirectType:function(){return e.RedirectType},forbidden:function(){return g.forbidden},notFound:function(){return f.notFound},permanentRedirect:function(){return d.permanentRedirect},redirect:function(){return d.redirect},unauthorized:function(){return h.unauthorized},unstable_isUnrecognizedActionError:function(){return l},unstable_rethrow:function(){return i.unstable_rethrow}});let d=a.r(42845),e=a.r(44459),f=a.r(29484),g=a.r(89176),h=a.r(93683),i=a.r(35978);class j extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class k extends URLSearchParams{append(){throw new j}delete(){throw new j}set(){throw new j}sort(){throw new j}}function l(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},51585,a=>{"use strict";let b,c,d,e,f;a.s(["default",()=>uD],51585);var g,h=a.i(25982);function i(){let a="undefined"!=typeof globalThis&&globalThis.crypto;if(a&&"object"==typeof a.subtle&&null!=a.subtle)return a.subtle;throw Error("crypto.subtle must be defined")}let j=(()=>{let a=function(){};return a.prototype=Object.create(null),a})();function k(){return{root:{key:""},static:new j}}function l(a){return a.split("/").filter(Boolean)}function m(a,b){let c=new j;for(let[d,e]of b){let b=d<0?a.slice(-1*d).join("/"):a[d];if("string"==typeof e)c[e]=b;else{let a=b.match(e);if(a)for(let b in a.groups)c[b]=a.groups[b]}}return c}function n(a,b="",c,d){let e=l(c),f=a.root,g=0,h=[];for(let a=0;a<e.length;a++){let b=e[a];if(b.startsWith("**")){f.wildcard||(f.wildcard={key:"**"}),f=f.wildcard,h.push([-a,b.split(":")[1]||"_",2===b.length]);break}if("*"===b||b.includes(":")){f.param||(f.param={key:"*"}),f=f.param;let c="*"===b;h.push([a,c?`_${g++}`:function(a){if(!a.includes(":",1))return a.slice(1);let b=a.replace(/:(\w+)/g,(a,b)=>`(?<${b}>\\w+)`);return RegExp(`^${b}$`)}(b),c]);continue}let c=f.static?.[b];if(c)f=c;else{let a={key:b};f.static||(f.static=new j),f.static[b]=a,f=a}}let i=h.length>0;f.methods||(f.methods=new j),f.methods[b]||(f.methods[b]=[]),f.methods[b].push({data:d||null,paramsMap:i?h:void 0}),i||(a.static[c]=f)}var o=Object.defineProperty,p={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511},q=function(a,b){class c extends a{#b;constructor(...a){if(function(){let a=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===a?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(a,"writable")?a.writable:void 0!==a.set}()){let b=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...a),Error.stackTraceLimit=b}else super(...a);let b=Error().stack;b&&(this.#b=function(a){let b=a.split("\n    at ");return b.length<=1?a:(b.splice(1,1),b.join("\n    at "))}(b.replace(/^Error/,this.name)))}get errorStack(){return this.#b}}return Object.defineProperty(c.prototype,"constructor",{get:()=>b,enumerable:!1,configurable:!0}),c}(class extends Error{constructor(a="INTERNAL_SERVER_ERROR",b,c={},d="number"==typeof a?a:p[a]){super(b?.message,b?.cause?{cause:b.cause}:void 0),this.status=a,this.body=b,this.headers=c,this.statusCode=d,this.name="APIError",this.status=a,this.headers=c,this.statusCode=d,this.body=b?{code:b?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...b}:void 0}},Error);async function r(a){let b=a.headers.get("content-type")||"";if(a.body){if(b.includes("application/json"))return await a.json();if(b.includes("application/x-www-form-urlencoded")){let b=await a.formData(),c={};return b.forEach((a,b)=>{c[b]=a.toString()}),c}if(b.includes("multipart/form-data")){let b=await a.formData(),c={};return b.forEach((a,b)=>{c[b]=a}),c}return b.includes("text/plain")?await a.text():b.includes("application/octet-stream")?await a.arrayBuffer():b.includes("application/pdf")||b.includes("image/")||b.includes("video/")?await a.blob():b.includes("application/stream")||a.body instanceof ReadableStream?a.body:await a.text()}}function s(a){return a instanceof q||a?.name==="APIError"}function t(a,b){if(a instanceof Response)return b?.headers instanceof Headers&&b.headers.forEach((b,c)=>{a.headers.set(c,b)}),a;if(a&&"object"==typeof a&&"_flag"in a&&"json"===a._flag){let c=a.body,d=a.routerResponse;if(d instanceof Response)return d;let e=new Headers({...d?.headers,...a.headers,...b?.headers,"Content-Type":"application/json"});return new Response(JSON.stringify(c),{...d,headers:e,status:a.status??b?.status??d?.status,statusText:b?.statusText??d?.statusText})}if(s(a))return t(a.body,{status:b?.status??a.statusCode,statusText:a.status.toString(),headers:b?.headers||a.headers});let c=a,d=new Headers(b?.headers);return a?"string"==typeof a?(c=a,d.set("Content-Type","text/plain")):a instanceof ArrayBuffer||ArrayBuffer.isView(a)?(c=a,d.set("Content-Type","application/octet-stream")):a instanceof Blob?(c=a,d.set("Content-Type",a.type||"application/octet-stream")):a instanceof FormData?c=a:a instanceof URLSearchParams?(c=a,d.set("Content-Type","application/x-www-form-urlencoded")):a instanceof ReadableStream?(c=a,d.set("Content-Type","application/octet-stream")):function(a){if(void 0===a)return!1;let b=typeof a;return"string"===b||"number"===b||"boolean"===b||null===b||"object"===b&&(!!Array.isArray(a)||!a.buffer&&(a.constructor&&"Object"===a.constructor.name||"function"==typeof a.toJSON))}(a)&&(c=function(a,b,c){let d=0,e=new WeakMap;return JSON.stringify(a,(a,b)=>{if("bigint"==typeof b)return b.toString();if("object"==typeof b&&null!==b){if(e.has(b))return`[Circular ref-${e.get(b)}]`;e.set(b,d++)}return b},void 0)}(a),d.set("Content-Type","application/json")):(null===a&&(c=JSON.stringify(null)),d.set("content-type","application/json")),new Response(c,{...b,headers:d})}async function u(a,b={}){let c={body:b.body,query:b.query};if(a.body){let d=await a.body["~standard"].validate(b.body);if(d.issues)return{data:null,error:v(d.issues,"body")};c.body=d.value}if(a.query){let d=await a.query["~standard"].validate(b.query);if(d.issues)return{data:null,error:v(d.issues,"query")};c.query=d.value}return a.requireHeaders&&!b.headers?{data:null,error:{message:"Headers is required"}}:a.requireRequest&&!b.request?{data:null,error:{message:"Request is required"}}:{data:c,error:null}}function v(a,b){let c=[];for(let b of a){let a=b.message;c.push(a)}return{message:`Invalid ${b} parameters`}}var w={name:"HMAC",hash:"SHA-256"},x=async a=>{let b="string"==typeof a?new TextEncoder().encode(a):a;return await i().importKey("raw",b,w,!1,["sign","verify"])},y=async(a,b,c)=>{try{let d=atob(a),e=new Uint8Array(d.length);for(let a=0,b=d.length;a<b;a++)e[a]=d.charCodeAt(a);return await i().verify(w,c,e,new TextEncoder().encode(b))}catch(a){return!1}},z=async(a,b)=>{let c=await x(b);return btoa(String.fromCharCode(...new Uint8Array(await i().sign(w.name,c,new TextEncoder().encode(a)))))},A=async(a,b)=>{let c=await z(a,b);return encodeURIComponent(a=`${a}.${c}`)},B=(a,b)=>{let c=a;if(b)if("secure"===b)c="__Secure-"+a;else{if("host"!==b)return;c="__Host-"+a}return c},C=(a,b,c={})=>{let d;if(d=c?.prefix==="secure"?`__Secure-${a}=${b}`:c?.prefix==="host"?`__Host-${a}=${b}`:`${a}=${b}`,a.startsWith("__Secure-")&&!c.secure&&(c.secure=!0),a.startsWith("__Host-")&&(c.secure||(c.secure=!0),"/"!==c.path&&(c.path="/"),c.domain&&(c.domain=void 0)),c&&"number"==typeof c.maxAge&&c.maxAge>=0){if(c.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");d+=`; Max-Age=${Math.floor(c.maxAge)}`}if(c.domain&&"host"!==c.prefix&&(d+=`; Domain=${c.domain}`),c.path&&(d+=`; Path=${c.path}`),c.expires){if(c.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");d+=`; Expires=${c.expires.toUTCString()}`}return c.httpOnly&&(d+="; HttpOnly"),c.secure&&(d+="; Secure"),c.sameSite&&(d+=`; SameSite=${c.sameSite.charAt(0).toUpperCase()+c.sameSite.slice(1)}`),c.partitioned&&(c.secure||(c.secure=!0),d+="; Partitioned"),d},D=async(a,b,c,d)=>C(a,b=await A(b,c),d),E=async(a,{options:b,path:c})=>{let d=new Headers,{data:e,error:f}=await u(b,a);if(f)throw new q(400,{message:f.message,code:"VALIDATION_ERROR"});let g="headers"in a?a.headers instanceof Headers?a.headers:new Headers(a.headers):"request"in a&&a.request instanceof Request?a.request.headers:null,h=g?.get("cookie"),i=h?function(a){if("string"!=typeof a)throw TypeError("argument str must be a string");let b=new Map,c=0;for(;c<a.length;){let d=a.indexOf("=",c);if(-1===d)break;let e=a.indexOf(";",c);if(-1===e)e=a.length;else if(e<d){c=a.lastIndexOf(";",d-1)+1;continue}let f=a.slice(c,d).trim();if(!b.has(f)){let c=a.slice(d+1,e).trim();34===c.codePointAt(0)&&(c=c.slice(1,-1)),b.set(f,function(a){try{return a.includes("%")?decodeURIComponent(a):a}catch{return a}}(c))}c=e+1}return b}(h):void 0,j={...a,body:e.body,query:e.query,path:a.path||c,context:"context"in a&&a.context?a.context:{},returned:void 0,headers:a?.headers,request:a?.request,params:"params"in a?a.params:void 0,method:a.method,setHeader:(a,b)=>{d.set(a,b)},getHeader:a=>g?g.get(a):null,getCookie:(a,b)=>{let c=B(a,b);return c&&i?.get(c)||null},getSignedCookie:async(a,b,c)=>{let d=B(a,c);if(!d)return null;let e=i?.get(d);if(!e)return null;let f=e.lastIndexOf(".");if(f<1)return null;let g=e.substring(0,f),h=e.substring(f+1);if(44!==h.length||!h.endsWith("="))return null;let j=await x(b);return!!await y(h,g,j)&&g},setCookie:(a,b,c)=>{let e=((a,b,c)=>C(a,b=encodeURIComponent(b),c))(a,b,c);return d.append("set-cookie",e),e},setSignedCookie:async(a,b,c,e)=>{let f=await D(a,b,c,e);return d.append("set-cookie",f),f},redirect:a=>(d.set("location",a),new q("FOUND",void 0,d)),error:(a,b,c)=>new q(a,b,c),json:(b,c)=>a.asResponse?{body:c?.body||b,routerResponse:c,_flag:"json"}:b,responseHeaders:d};for(let a of b.use||[]){let b=await a({...j,returnHeaders:!0,asResponse:!1});b.response&&Object.assign(j.context,b.response),b.headers&&b.headers.forEach((a,b)=>{j.responseHeaders.set(b,a)})}return j};function F(a,b){let c=async c=>{let d="function"==typeof a?a:b,e=await E(c,{options:"function"==typeof a?{}:a,path:"/"});if(!d)throw Error("handler must be defined");let f=await d(e),g=e.responseHeaders;return c.returnHeaders?{headers:g,response:f}:f};return c.options="function"==typeof a?{}:a,c}F.create=a=>function(b,c){if("function"==typeof b)return F({use:a?.use},b);if(!c)throw Error("Middleware handler is required");return F({...b,method:"*",use:[...a?.use||[],...b.use||[]]},c)};var G=(a,b,c)=>{let d=async(...d)=>{let e=d[0]||{},f=await E(e,{options:b,path:a}),g=await c(f).catch(async a=>{if(s(a)){let c=b.onAPIError;if(c&&await c(a),e.asResponse)return a}throw a}),h=f.responseHeaders;return e.asResponse?t(g,{headers:h}):e.returnHeaders?{headers:h,response:g}:g};return d.options=b,d.path=a,d};function H(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}G.create=a=>(b,c,d)=>G(b,{...c,use:[...c?.use||[],...a?.use||[]]},d),Object.freeze({status:"aborted"}),Symbol("zod_brand");var I=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},J={};function K(a){return a&&Object.assign(J,a),J}var L={};function M(a){return a}function N(a){return a}function O(a){}function P(a){throw Error()}function Q(a){}function R(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function S(a,b="|"){return a.map(a=>ao(a)).join(b)}function T(a,b){return"bigint"==typeof b?b.toString():b}function U(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function V(a){return null==a}function W(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function X(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}function Y(a,b,c){Object.defineProperty(a,b,{get(){{let d=c();return a[b]=d,d}},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function Z(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function $(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function _(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function aa(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function ab(a){return JSON.stringify(a)}((a,b)=>{for(var c in b)o(a,c,{get:b[c],enumerable:!0})})(L,{BIGINT_FORMAT_RANGES:()=>ar,Class:()=>aG,NUMBER_FORMAT_RANGES:()=>aq,aborted:()=>ay,allowsEval:()=>ae,assert:()=>Q,assertEqual:()=>M,assertIs:()=>O,assertNever:()=>P,assertNotEqual:()=>N,assignProp:()=>Z,cached:()=>U,captureStackTrace:()=>ac,cleanEnum:()=>aF,cleanRegex:()=>W,clone:()=>al,createTransparentProxy:()=>an,defineLazy:()=>Y,esc:()=>ab,escapeRegex:()=>ak,extend:()=>au,finalizeIssue:()=>aB,floatSafeRemainder:()=>X,getElementAtPath:()=>$,getEnumValues:()=>R,getLengthableOrigin:()=>aD,getParsedType:()=>ah,getSizableOrigin:()=>aC,isObject:()=>ad,isPlainObject:()=>af,issue:()=>aE,joinValues:()=>S,jsonStringifyReplacer:()=>T,merge:()=>av,normalizeParams:()=>am,nullish:()=>V,numKeys:()=>ag,omit:()=>at,optionalKeys:()=>ap,partial:()=>aw,pick:()=>as,prefixIssues:()=>az,primitiveTypes:()=>aj,promiseAllObject:()=>_,propertyKeyTypes:()=>ai,randomString:()=>aa,required:()=>ax,stringifyPrimitive:()=>ao,unwrapMessage:()=>aA});var ac=Error.captureStackTrace?Error.captureStackTrace:(...a)=>{};function ad(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}var ae=U(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function af(a){if(!1===ad(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==ad(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function ag(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}var ah=a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("undefined"!=typeof Map&&a instanceof Map)return"map";if("undefined"!=typeof Set&&a instanceof Set)return"set";if("undefined"!=typeof Date&&a instanceof Date)return"date";if("undefined"!=typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},ai=new Set(["string","number","symbol"]),aj=new Set(["string","number","bigint","boolean","symbol","undefined"]);function ak(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function al(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function am(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function an(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function ao(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function ap(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}var aq={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ar={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function as(a,b){let c={},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&(c[a]=d.shape[a])}return al(a,{...a._zod.def,shape:c,checks:[]})}function at(a,b){let c={...a._zod.def.shape},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete c[a]}return al(a,{...a._zod.def,shape:c,checks:[]})}function au(a,b){if(!af(b))throw Error("Invalid input to extend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return Z(this,"shape",c),c},checks:[]};return al(a,c)}function av(a,b){return al(a,{...a._zod.def,get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return Z(this,"shape",c),c},catchall:b._zod.def.catchall,checks:[]})}function aw(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return al(b,{...b._zod.def,shape:e,checks:[]})}function ax(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return al(b,{...b._zod.def,shape:e,checks:[]})}function ay(a,b=0){for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function az(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function aA(a){return"string"==typeof a?a:a?.message}function aB(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=aA(a.inst?._zod.def?.error?.(a))??aA(b?.error?.(a))??aA(c.customError?.(a))??aA(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function aC(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function aD(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function aE(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function aF(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}var aG=class{constructor(...a){}},aH=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),Object.defineProperty(a,"message",{get:()=>JSON.stringify(b,T,2),enumerable:!0}),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},aI=H("$ZodError",aH),aJ=H("$ZodError",aH,{Parent:Error}),aK=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new I;return f.issues.length?{success:!1,error:new(a??aI)(f.issues.map(a=>aB(a,e,K())))}:{success:!0,data:f.value}},aL=aK(aJ),aM=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>aB(a,e,K())))}:{success:!0,data:f.value}},aN=aM(aJ),aO=H("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),aP=H("$ZodCheckMaxLength",(a,b)=>{var c;aO.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!V(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=aD(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),aQ=H("$ZodCheckMinLength",(a,b)=>{var c;aO.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!V(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=aD(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),aR=H("$ZodCheckLengthEquals",(a,b)=>{var c;aO.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!V(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=aD(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),aS=H("$ZodCheckOverwrite",(a,b)=>{aO.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}}),aT=class{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}},aU={major:4,minor:0,patch:0},aV=H("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=aU;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=ay(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new I;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=ay(a,b)))});else{if(a.issues.length===b)continue;e||(e=ay(a,b))}}return d?d.then(()=>a):a};a._zod.run=(c,e)=>{let f=a._zod.parse(c,e);if(f instanceof Promise){if(!1===e.async)throw new I;return f.then(a=>b(a,d,e))}return b(f,d,e)}}a["~standard"]={validate:b=>{try{let c=aL(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return aN(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),aW=H("$ZodUnknown",(a,b)=>{aV.init(a,b),a._zod.parse=a=>a}),aX=H("$ZodNever",(a,b)=>{aV.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)});function aY(a,b,c){a.issues.length&&b.issues.push(...az(c,a.issues)),b.value[c]=a.value}var aZ=H("$ZodArray",(a,b)=>{aV.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>aY(b,c,a))):aY(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function a$(a,b,c){a.issues.length&&b.issues.push(...az(c,a.issues)),b.value[c]=a.value}function a_(a,b,c,d){a.issues.length?void 0===d[c]?c in d?b.value[c]=void 0:b.value[c]=a.value:b.issues.push(...az(c,a.issues)):void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}var a0=H("$ZodObject",(a,b)=>{let c,d;aV.init(a,b);let e=U(()=>{let a=Object.keys(b.shape);for(let c of a)if(!(b.shape[c]instanceof aV))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=ap(b.shape);return{shape:b.shape,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(c)}});Y(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=!J.jitless,g=f&&ae.value,h=b.catchall;a._zod.parse=(i,j)=>{d??(d=e.value);let k=i.value;if(!ad(k))return i.issues.push({expected:"object",code:"invalid_type",input:k,inst:a}),i;let l=[];if(f&&g&&j?.async===!1&&!0!==j.jitless)c||(c=(a=>{let b=new aT(["shape","payload","ctx"]),c=e.value,d=a=>{let b=ab(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let f=Object.create(null),g=0;for(let a of c.keys)f[a]=`key_${g++}`;for(let a of(b.write("const newResult = {}"),c.keys))if(c.optionalKeys.has(a)){let c=f[a];b.write(`const ${c} = ${d(a)};`);let e=ab(a);b.write(`
        if (${c}.issues.length) {
          if (input[${e}] === undefined) {
            if (${e} in input) {
              newResult[${e}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${c}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${e}, ...iss.path] : [${e}],
              }))
            );
          }
        } else if (${c}.value === undefined) {
          if (${e} in input) newResult[${e}] = undefined;
        } else {
          newResult[${e}] = ${c}.value;
        }
        `)}else{let c=f[a];b.write(`const ${c} = ${d(a)};`),b.write(`
          if (${c}.issues.length) payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ab(a)}, ...iss.path] : [${ab(a)}]
          })));`),b.write(`newResult[${ab(a)}] = ${c}.value`)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),i=c(i,j);else{i.value={};let a=d.shape;for(let b of d.keys){let c=a[b],d=c._zod.run({value:k[b],issues:[]},j),e="optional"===c._zod.optin&&"optional"===c._zod.optout;d instanceof Promise?l.push(d.then(a=>e?a_(a,i,b,k):a$(a,i,b))):e?a_(d,i,b,k):a$(d,i,b)}}if(!h)return l.length?Promise.all(l).then(()=>i):i;let m=[],n=d.keySet,o=h._zod,p=o.def.type;for(let a of Object.keys(k)){if(n.has(a))continue;if("never"===p){m.push(a);continue}let b=o.run({value:k[a],issues:[]},j);b instanceof Promise?l.push(b.then(b=>a$(b,i,a))):a$(b,i,a)}return(m.length&&i.issues.push({code:"unrecognized_keys",keys:m,input:k,inst:a}),l.length)?Promise.all(l).then(()=>i):i}});function a1(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;return b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>aB(a,d,K())))}),b}var a2=H("$ZodUnion",(a,b)=>{aV.init(a,b),Y(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),Y(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),Y(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),Y(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>W(a.source)).join("|")})$`)}}),a._zod.parse=(c,d)=>{let e=!1,f=[];for(let a of b.options){let b=a._zod.run({value:c.value,issues:[]},d);if(b instanceof Promise)f.push(b),e=!0;else{if(0===b.issues.length)return b;f.push(b)}}return e?Promise.all(f).then(b=>a1(b,c,a,d)):a1(f,c,a,d)}}),a3=H("$ZodIntersection",(a,b)=>{aV.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>a4(a,b,c)):a4(a,e,f)}});function a4(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),ay(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(af(b)&&af(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}var a5=H("$ZodEnum",(a,b)=>{aV.init(a,b);let c=R(b.entries);a._zod.values=new Set(c),a._zod.pattern=RegExp(`^(${c.filter(a=>ai.has(typeof a)).map(a=>"string"==typeof a?ak(a):a.toString()).join("|")})$`),a._zod.parse=(b,d)=>{let e=b.value;return a._zod.values.has(e)||b.issues.push({code:"invalid_value",values:c,input:e,inst:a}),b}}),a6=H("$ZodTransform",(a,b)=>{aV.init(a,b),a._zod.parse=(a,c)=>{let d=b.transform(a.value,a);if(c.async)return(d instanceof Promise?d:Promise.resolve(d)).then(b=>(a.value=b,a));if(d instanceof Promise)throw new I;return a.value=d,a}}),a7=H("$ZodOptional",(a,b)=>{aV.init(a,b),a._zod.optin="optional",a._zod.optout="optional",Y(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),Y(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${W(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>"optional"===b.innerType._zod.optin?b.innerType._zod.run(a,c):void 0===a.value?a:b.innerType._zod.run(a,c)}),a8=H("$ZodNullable",(a,b)=>{aV.init(a,b),Y(a._zod,"optin",()=>b.innerType._zod.optin),Y(a._zod,"optout",()=>b.innerType._zod.optout),Y(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${W(a.source)}|null)$`):void 0}),Y(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),a9=H("$ZodDefault",(a,b)=>{aV.init(a,b),a._zod.optin="optional",Y(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>ba(a,b)):ba(d,b)}});function ba(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}var bb=H("$ZodPrefault",(a,b)=>{aV.init(a,b),a._zod.optin="optional",Y(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>(void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),bc=H("$ZodNonOptional",(a,b)=>{aV.init(a,b),Y(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>bd(b,a)):bd(e,a)}});function bd(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}var be=H("$ZodCatch",(a,b)=>{aV.init(a,b),a._zod.optin="optional",Y(a._zod,"optout",()=>b.innerType._zod.optout),Y(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>aB(a,c,K()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>aB(a,c,K()))},input:a.value}),a.issues=[]),a)}}),bf=H("$ZodPipe",(a,b)=>{aV.init(a,b),Y(a._zod,"values",()=>b.in._zod.values),Y(a._zod,"optin",()=>b.in._zod.optin),Y(a._zod,"optout",()=>b.out._zod.optout),a._zod.parse=(a,c)=>{let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>bg(a,b,c)):bg(d,b,c)}});function bg(a,b,c){return ay(a)?a:b.out._zod.run({value:a.value,issues:a.issues},c)}var bh=H("$ZodReadonly",(a,b)=>{aV.init(a,b),Y(a._zod,"propValues",()=>b.innerType._zod.propValues),Y(a._zod,"values",()=>b.innerType._zod.values),Y(a._zod,"optin",()=>b.innerType._zod.optin),Y(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(bi):bi(d)}});function bi(a){return a.value=Object.freeze(a.value),a}var bj=H("$ZodCustom",(a,b)=>{aO.init(a,b),aV.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>bk(b,c,d,a));bk(e,c,d,a)}});function bk(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(aE(a))}}Symbol("ZodOutput"),Symbol("ZodInput");var bl=new class{constructor(){this._map=new Map,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};return delete c.id,{...c,...this._map.get(a)}}return this._map.get(a)}has(a){return this._map.has(a)}};function bm(a,b){return new aQ({check:"min_length",...am(b),minimum:a})}var bn=(a,b)=>{aI.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>(function(a,b){let c=b||function(a){return a.message},d={_errors:[]},e=a=>{for(let b of a.issues)if("invalid_union"===b.code&&b.errors.length)b.errors.map(a=>e({issues:a}));else if("invalid_key"===b.code)e({issues:b.issues});else if("invalid_element"===b.code)e({issues:b.issues});else if(0===b.path.length)d._errors.push(c(b));else{let a=d,e=0;for(;e<b.path.length;){let d=b.path[e];e===b.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(c(b))):a[d]=a[d]||{_errors:[]},a=a[d],e++}}};return e(a),d})(a,b)},flatten:{value:b=>(function(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}})(a,b)},addIssue:{value:b=>a.issues.push(b)},addIssues:{value:b=>a.issues.push(...b)},isEmpty:{get:()=>0===a.issues.length}})};H("ZodError",bn);var bo=H("ZodError",bn,{Parent:Error}),bp=(a,b,c,d)=>{let e=c?Object.assign(c,{async:!1}):{async:!1},f=a._zod.run({value:b,issues:[]},e);if(f instanceof Promise)throw new I;if(f.issues.length){let a=new(d?.Err??bo)(f.issues.map(a=>aB(a,e,K())));throw ac(a,d?.callee),a}return f.value},bq=async(a,b,c,d)=>{let e=c?Object.assign(c,{async:!0}):{async:!0},f=a._zod.run({value:b,issues:[]},e);if(f instanceof Promise&&(f=await f),f.issues.length){let a=new(d?.Err??bo)(f.issues.map(a=>aB(a,e,K())));throw ac(a,d?.callee),a}return f.value},br=aK(bo),bs=aM(bo),bt=H("ZodType",(a,b)=>(aV.init(a,b),a.def=b,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone({...b,checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),a.clone=(b,c)=>al(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>bp(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>br(a,b,c),a.parseAsync=async(b,c)=>bq(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>bs(a,b,c),a.spa=a.safeParseAsync,a.refine=(b,c)=>a.check(function(a,b={}){return new bO({type:"custom",check:"custom",fn:a,...am(b)})}(b,c)),a.superRefine=b=>a.check(function(a){let b=function(a){let b=new aO({check:"custom"});return b._zod.check=a,b}(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(L.issue(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(L.issue(a)))},a(c.value,c)));return b}(b)),a.overwrite=b=>a.check(new aS({check:"overwrite",tx:b})),a.optional=()=>bE(a),a.nullable=()=>bG(a),a.nullish=()=>bE(bG(a)),a.nonoptional=b=>{var c,d;return c=a,d=b,new bJ({type:"nonoptional",innerType:c,...L.normalizeParams(d)})},a.array=()=>(function(a,b){return new bx({type:"array",element:a,...am(void 0)})})(a),a.or=b=>new bz({type:"union",options:[a,b],...L.normalizeParams(void 0)}),a.and=b=>{var c;return c=a,new bA({type:"intersection",left:c,right:b})},a.transform=b=>bM(a,new bC({type:"transform",transform:b})),a.default=b=>(function(a,b){return new bH({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})})(a,b),a.prefault=b=>(function(a,b){return new bI({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})})(a,b),a.catch=b=>(function(a,b){return new bK({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})})(a,b),a.pipe=b=>bM(a,b),a.readonly=()=>new bN({type:"readonly",innerType:a}),a.describe=b=>{let c=a.clone();return bl.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>bl.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return bl.get(a);let c=a.clone();return bl.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),bu=H("ZodUnknown",(a,b)=>{aW.init(a,b),bt.init(a,b)});function bv(){return new bu({type:"unknown"})}var bw=H("ZodNever",(a,b)=>{aX.init(a,b),bt.init(a,b)}),bx=H("ZodArray",(a,b)=>{aZ.init(a,b),bt.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(bm(b,c)),a.nonempty=b=>a.check(bm(1,b)),a.max=(b,c)=>a.check(new aP({check:"max_length",...am(c),maximum:b})),a.length=(b,c)=>a.check(new aR({check:"length_equals",...am(c),length:b})),a.unwrap=()=>a.element}),by=H("ZodObject",(a,b)=>{a0.init(a,b),bt.init(a,b),L.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>(function(a,b){return new bB({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...L.normalizeParams(void 0)})})(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:bv()}),a.loose=()=>a.clone({...a._zod.def,catchall:bv()}),a.strict=()=>a.clone({...a._zod.def,catchall:new bw({type:"never",...am(void 0)})}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>L.extend(a,b),a.merge=b=>L.merge(a,b),a.pick=b=>L.pick(a,b),a.omit=b=>L.omit(a,b),a.partial=(...b)=>L.partial(bD,a,b[0]),a.required=(...b)=>L.required(bJ,a,b[0])}),bz=H("ZodUnion",(a,b)=>{a2.init(a,b),bt.init(a,b),a.options=b.options}),bA=H("ZodIntersection",(a,b)=>{a3.init(a,b),bt.init(a,b)}),bB=H("ZodEnum",(a,b)=>{a5.init(a,b),bt.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new bB({...b,checks:[],...L.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new bB({...b,checks:[],...L.normalizeParams(d),entries:e})}}),bC=H("ZodTransform",(a,b)=>{a6.init(a,b),bt.init(a,b),a._zod.parse=(c,d)=>{c.addIssue=d=>{"string"==typeof d?c.issues.push(L.issue(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),d.continue??(d.continue=!0),c.issues.push(L.issue(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}}),bD=H("ZodOptional",(a,b)=>{a7.init(a,b),bt.init(a,b),a.unwrap=()=>a._zod.def.innerType});function bE(a){return new bD({type:"optional",innerType:a})}var bF=H("ZodNullable",(a,b)=>{a8.init(a,b),bt.init(a,b),a.unwrap=()=>a._zod.def.innerType});function bG(a){return new bF({type:"nullable",innerType:a})}var bH=H("ZodDefault",(a,b)=>{a9.init(a,b),bt.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap}),bI=H("ZodPrefault",(a,b)=>{bb.init(a,b),bt.init(a,b),a.unwrap=()=>a._zod.def.innerType}),bJ=H("ZodNonOptional",(a,b)=>{bc.init(a,b),bt.init(a,b),a.unwrap=()=>a._zod.def.innerType}),bK=H("ZodCatch",(a,b)=>{be.init(a,b),bt.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap}),bL=H("ZodPipe",(a,b)=>{bf.init(a,b),bt.init(a,b),a.in=b.in,a.out=b.out});function bM(a,b){return new bL({type:"pipe",in:a,out:b})}var bN=H("ZodReadonly",(a,b)=>{bh.init(a,b),bt.init(a,b)}),bO=H("ZodCustom",(a,b)=>{bj.init(a,b),bt.init(a,b)}),bP={};function bQ(a){switch(a.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function bR(a){let b=[];return a.metadata?.openapi?.parameters?b.push(...a.metadata.openapi.parameters):a.query instanceof by&&Object.entries(a.query.shape).forEach(([a,c])=>{c instanceof by&&b.push({name:a,in:"query",schema:{type:bQ(c),..."minLength"in c&&c.minLength?{minLength:c.minLength}:{},description:c.description}})}),b}function bS(a){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...a}}async function bT(a,b){return Object.entries(a).forEach(([a,b])=>{let c=b.options;if(!c.metadata?.SERVER_ONLY&&("GET"===c.method&&(bP[b.path]={get:{tags:["Default",...c.metadata?.openapi?.tags||[]],description:c.metadata?.openapi?.description,operationId:c.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:bR(c),responses:bS(c.metadata?.openapi?.responses)}}),"POST"===c.method)){let a=function(a){if(a.metadata?.openapi?.requestBody)return a.metadata.openapi.requestBody;if(a.body&&(a.body instanceof by||a.body instanceof bD)){let b=a.body.shape;if(!b)return;let c={},d=[];return Object.entries(b).forEach(([a,b])=>{b instanceof by&&(c[a]={type:bQ(b),description:b.description},b instanceof bD||d.push(a))}),{required:!(a.body instanceof bD)&&!!a.body,content:{"application/json":{schema:{type:"object",properties:c,required:d}}}}}}(c);bP[b.path]={post:{tags:["Default",...c.metadata?.openapi?.tags||[]],description:c.metadata?.openapi?.description,operationId:c.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:bR(c),...a?{requestBody:a}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:bS(c.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{schemas:{}},security:[{apiKeyCookie:[]}],servers:[{url:b?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:bP}}a.s(["$brand",()=>bW,"$input",()=>g3,"$output",()=>g2,"NEVER",()=>bU,"TimePrecision",()=>hv,"ZodAny",()=>kr,"ZodArray",()=>kB,"ZodBase64",()=>jV,"ZodBase64URL",()=>jX,"ZodBigInt",()=>kg,"ZodBigIntFormat",()=>ki,"ZodBoolean",()=>ke,"ZodCIDRv4",()=>jR,"ZodCIDRv6",()=>jT,"ZodCUID",()=>jD,"ZodCUID2",()=>jF,"ZodCatch",()=>lh,"ZodCodec",()=>ln,"ZodCustom",()=>lz,"ZodCustomStringFormat",()=>j1,"ZodDate",()=>kz,"ZodDefault",()=>k9,"ZodDiscriminatedUnion",()=>kK,"ZodE164",()=>jZ,"ZodEmail",()=>jn,"ZodEmoji",()=>jz,"ZodEnum",()=>kX,"ZodError",()=>i4,"ZodFile",()=>k0,"ZodFirstPartyTypeKind",()=>g,"ZodFunction",()=>lx,"ZodGUID",()=>jp,"ZodIPv4",()=>jN,"ZodIPv6",()=>jP,"ZodISODate",()=>iZ,"ZodISODateTime",()=>iX,"ZodISODuration",()=>i1,"ZodISOTime",()=>i_,"ZodIntersection",()=>kM,"ZodIssueCode",()=>lI,"ZodJWT",()=>j_,"ZodKSUID",()=>jL,"ZodLazy",()=>lt,"ZodLiteral",()=>k$,"ZodMap",()=>kT,"ZodNaN",()=>lj,"ZodNanoID",()=>jB,"ZodNever",()=>kv,"ZodNonOptional",()=>ld,"ZodNull",()=>kp,"ZodNullable",()=>k6,"ZodNumber",()=>j6,"ZodNumberFormat",()=>j8,"ZodObject",()=>kE,"ZodOptional",()=>k4,"ZodPipe",()=>ll,"ZodPrefault",()=>lb,"ZodPromise",()=>lv,"ZodReadonly",()=>lp,"ZodRealError",()=>i5,"ZodRecord",()=>kQ,"ZodSet",()=>kV,"ZodString",()=>jk,"ZodStringFormat",()=>jm,"ZodSuccess",()=>lf,"ZodSymbol",()=>kl,"ZodTemplateLiteral",()=>lr,"ZodTransform",()=>k2,"ZodTuple",()=>kO,"ZodType",()=>ji,"ZodULID",()=>jH,"ZodURL",()=>jw,"ZodUUID",()=>jr,"ZodUndefined",()=>kn,"ZodUnion",()=>kI,"ZodUnknown",()=>kt,"ZodVoid",()=>kx,"ZodXID",()=>jJ,"_ZodString",()=>jj,"_default",()=>la,"_function",()=>ly,"any",()=>ks,"array",()=>kC,"base64",()=>jW,"base64url",()=>jY,"bigint",()=>kh,"boolean",()=>kf,"catch",()=>li,"check",()=>lA,"cidrv4",()=>jS,"cidrv6",()=>jU,"clone",()=>cv,"codec",()=>lo,"coerce",()=>lX,"config",()=>b$,"core",()=>lU,"cuid",()=>jE,"cuid2",()=>jG,"custom",()=>lB,"date",()=>kA,"decode",()=>jb,"decodeAsync",()=>jd,"default",()=>lZ,"discriminatedUnion",()=>kL,"e164",()=>j$,"email",()=>jo,"emoji",()=>jA,"encode",()=>ja,"encodeAsync",()=>jc,"endsWith",()=>ig,"enum",()=>kY,"file",()=>k1,"flattenError",()=>c_,"float32",()=>ka,"float64",()=>kb,"formatError",()=>c0,"function",()=>ly,"getErrorMap",()=>lK,"globalRegistry",()=>g6,"gt",()=>hZ,"gte",()=>h$,"guid",()=>jq,"hash",()=>j5,"hex",()=>j4,"hostname",()=>j3,"httpUrl",()=>jy,"includes",()=>id,"instanceof",()=>lE,"int",()=>j9,"int32",()=>kc,"int64",()=>kj,"intersection",()=>kN,"ipv4",()=>jO,"ipv6",()=>jQ,"iso",()=>lW,"json",()=>lG,"jwt",()=>j0,"keyof",()=>kD,"ksuid",()=>jM,"lazy",()=>lu,"length",()=>h9,"literal",()=>k_,"locales",()=>lV,"looseObject",()=>kH,"lowercase",()=>ib,"lt",()=>hX,"lte",()=>hY,"map",()=>kU,"maxLength",()=>h7,"maxSize",()=>h4,"mime",()=>ii,"minLength",()=>h8,"minSize",()=>h5,"multipleOf",()=>h3,"nan",()=>lk,"nanoid",()=>jC,"nativeEnum",()=>kZ,"negative",()=>h0,"never",()=>kw,"nonnegative",()=>h2,"nonoptional",()=>le,"nonpositive",()=>h1,"normalize",()=>ik,"null",()=>kq,"nullable",()=>k7,"nullish",()=>k8,"number",()=>j7,"object",()=>kF,"optional",()=>k5,"overwrite",()=>ij,"parse",()=>i6,"parseAsync",()=>i7,"partialRecord",()=>kS,"pipe",()=>lm,"positive",()=>h_,"prefault",()=>lc,"preprocess",()=>lH,"prettifyError",()=>c3,"promise",()=>lw,"property",()=>ih,"readonly",()=>lq,"record",()=>kR,"refine",()=>lC,"regex",()=>ia,"regexes",()=>iV,"registry",()=>g5,"safeDecode",()=>jf,"safeDecodeAsync",()=>jh,"safeEncode",()=>je,"safeEncodeAsync",()=>jg,"safeParse",()=>i8,"safeParseAsync",()=>i9,"set",()=>kW,"setErrorMap",()=>lJ,"size",()=>h6,"startsWith",()=>ie,"strictObject",()=>kG,"string",()=>jl,"stringFormat",()=>j2,"stringbool",()=>lF,"success",()=>lg,"superRefine",()=>lD,"symbol",()=>km,"templateLiteral",()=>ls,"toJSONSchema",()=>iU,"toLowerCase",()=>im,"toUpperCase",()=>io,"transform",()=>k3,"treeifyError",()=>c1,"trim",()=>il,"tuple",()=>kP,"uint32",()=>kd,"uint64",()=>kk,"ulid",()=>jI,"undefined",()=>ko,"union",()=>kJ,"unknown",()=>ku,"uppercase",()=>ic,"url",()=>jx,"util",()=>iW,"uuid",()=>js,"uuidv4",()=>jt,"uuidv6",()=>ju,"uuidv7",()=>jv,"void",()=>ky,"xid",()=>jK,"z",()=>l$],9925),a.s(["default",()=>lZ],87767),a.s([],92199),a.s([],1781),a.s(["$ZodAsyncError",()=>bX,"$ZodEncodeError",()=>bY,"$brand",()=>bW,"$constructor",()=>bV,"NEVER",()=>bU,"config",()=>b$,"globalConfig",()=>bZ],66894);let bU=Object.freeze({status:"aborted"});function bV(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let bW=Symbol("zod_brand");class bX extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class bY extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}let bZ={};function b$(a){return a&&Object.assign(bZ,a),bZ}function b_(a){return a}function b0(a){return a}function b1(a){}function b2(a){throw Error()}function b3(a){}function b4(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function b5(a,b="|"){return a.map(a=>cy(a)).join(b)}function b6(a,b){return"bigint"==typeof b?b.toString():b}function b7(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function b8(a){return null==a}function b9(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function ca(a,b){let c=(a.toString().split(".")[1]||"").length,d=b.toString(),e=(d.split(".")[1]||"").length;if(0===e&&/\d?e-\d?/.test(d)){let a=d.match(/\d?e-(\d?)/);a?.[1]&&(e=Number.parseInt(a[1]))}let f=c>e?c:e;return Number.parseInt(a.toFixed(f).replace(".",""))%Number.parseInt(b.toFixed(f).replace(".",""))/10**f}a.s(["_decode",()=>de,"_decodeAsync",()=>di,"_encode",()=>dc,"_encodeAsync",()=>dg,"_parse",()=>c4,"_parseAsync",()=>c6,"_safeDecode",()=>dm,"_safeDecodeAsync",()=>dr,"_safeEncode",()=>dk,"_safeEncodeAsync",()=>dp,"_safeParse",()=>c8,"_safeParseAsync",()=>da,"decode",()=>df,"decodeAsync",()=>dj,"encode",()=>dd,"encodeAsync",()=>dh,"parse",()=>c5,"parseAsync",()=>c7,"safeDecode",()=>dn,"safeDecodeAsync",()=>ds,"safeEncode",()=>dl,"safeEncodeAsync",()=>dq,"safeParse",()=>c9,"safeParseAsync",()=>db],60597),a.s(["$ZodError",()=>cZ,"$ZodRealError",()=>c$,"flattenError",()=>c_,"formatError",()=>c0,"prettifyError",()=>c3,"toDotPath",()=>c2,"treeifyError",()=>c1],76203),a.s(["BIGINT_FORMAT_RANGES",()=>cB,"Class",()=>cX,"NUMBER_FORMAT_RANGES",()=>cA,"aborted",()=>cJ,"allowsEval",()=>cn,"assert",()=>b3,"assertEqual",()=>b_,"assertIs",()=>b1,"assertNever",()=>b2,"assertNotEqual",()=>b0,"assignProp",()=>ce,"base64ToUint8Array",()=>cR,"base64urlToUint8Array",()=>cT,"cached",()=>b7,"captureStackTrace",()=>cl,"cleanEnum",()=>cQ,"cleanRegex",()=>b9,"clone",()=>cv,"cloneDef",()=>cg,"createTransparentProxy",()=>cx,"defineLazy",()=>cc,"esc",()=>ck,"escapeRegex",()=>cu,"extend",()=>cE,"finalizeIssue",()=>cM,"floatSafeRemainder",()=>ca,"getElementAtPath",()=>ch,"getEnumValues",()=>b4,"getLengthableOrigin",()=>cO,"getParsedType",()=>cr,"getSizableOrigin",()=>cN,"hexToUint8Array",()=>cV,"isObject",()=>cm,"isPlainObject",()=>co,"issue",()=>cP,"joinValues",()=>b5,"jsonStringifyReplacer",()=>b6,"merge",()=>cG,"mergeDefs",()=>cf,"normalizeParams",()=>cw,"nullish",()=>b8,"numKeys",()=>cq,"objectClone",()=>cd,"omit",()=>cD,"optionalKeys",()=>cz,"partial",()=>cH,"pick",()=>cC,"prefixIssues",()=>cK,"primitiveTypes",()=>ct,"promiseAllObject",()=>ci,"propertyKeyTypes",()=>cs,"randomString",()=>cj,"required",()=>cI,"safeExtend",()=>cF,"shallowClone",()=>cp,"stringifyPrimitive",()=>cy,"uint8ArrayToBase64",()=>cS,"uint8ArrayToBase64url",()=>cU,"uint8ArrayToHex",()=>cW,"unwrapMessage",()=>cL],85940);let cb=Symbol("evaluating");function cc(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==cb)return void 0===d&&(d=cb,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function cd(a){return Object.create(Object.getPrototypeOf(a),Object.getOwnPropertyDescriptors(a))}function ce(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function cf(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function cg(a){return cf(a._zod.def)}function ch(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function ci(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function cj(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function ck(a){return JSON.stringify(a)}let cl="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function cm(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let cn=b7(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function co(a){if(!1===cm(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==cm(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function cp(a){return co(a)?{...a}:Array.isArray(a)?[...a]:a}function cq(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let cr=a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("undefined"!=typeof Map&&a instanceof Map)return"map";if("undefined"!=typeof Set&&a instanceof Set)return"set";if("undefined"!=typeof Date&&a instanceof Date)return"date";if("undefined"!=typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},cs=new Set(["string","number","symbol"]),ct=new Set(["string","number","bigint","boolean","symbol","undefined"]);function cu(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function cv(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function cw(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function cx(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function cy(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function cz(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let cA={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},cB={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function cC(a,b){let c=a._zod.def,d=cf(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return ce(this,"shape",a),a},checks:[]});return cv(a,d)}function cD(a,b){let c=a._zod.def,d=cf(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return ce(this,"shape",d),d},checks:[]});return cv(a,d)}function cE(a,b){if(!co(b))throw Error("Invalid input to extend: expected a plain object");let c=a._zod.def.checks;if(c&&c.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let d=cf(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return ce(this,"shape",c),c},checks:[]});return cv(a,d)}function cF(a,b){if(!co(b))throw Error("Invalid input to safeExtend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return ce(this,"shape",c),c},checks:a._zod.def.checks};return cv(a,c)}function cG(a,b){let c=cf(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return ce(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]});return cv(a,c)}function cH(a,b,c){let d=cf(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return ce(this,"shape",e),e},checks:[]});return cv(b,d)}function cI(a,b,c){let d=cf(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return ce(this,"shape",e),e},checks:[]});return cv(b,d)}function cJ(a,b=0){if(!0===a.aborted)return!0;for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function cK(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function cL(a){return"string"==typeof a?a:a?.message}function cM(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=cL(a.inst?._zod.def?.error?.(a))??cL(b?.error?.(a))??cL(c.customError?.(a))??cL(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function cN(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function cO(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function cP(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function cQ(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}function cR(a){let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}function cS(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return btoa(b)}function cT(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c="=".repeat((4-b.length%4)%4);return cR(b+c)}function cU(a){return cS(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function cV(a){let b=a.replace(/^0x/,"");if(b.length%2!=0)throw Error("Invalid hex string length");let c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=Number.parseInt(b.slice(a,a+2),16);return c}function cW(a){return Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join("")}class cX{constructor(...a){}}let cY=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,b6,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},cZ=bV("$ZodError",cY),c$=bV("$ZodError",cY,{Parent:Error});function c_(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function c0(a,b=a=>a.message){let c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code&&e.errors.length)e.errors.map(a=>d({issues:a}));else if("invalid_key"===e.code)d({issues:e.issues});else if("invalid_element"===e.code)d({issues:e.issues});else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(a),c}function c1(a,b=a=>a.message){let c={errors:[]},d=(a,e=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>d({issues:a},h.path));else if("invalid_key"===h.code)d({issues:h.issues},h.path);else if("invalid_element"===h.code)d({issues:h.issues},h.path);else{let a=[...e,...h.path];if(0===a.length){c.errors.push(b(h));continue}let d=c,i=0;for(;i<a.length;){let c=a[i],e=i===a.length-1;"string"==typeof c?(d.properties??(d.properties={}),(f=d.properties)[c]??(f[c]={errors:[]}),d=d.properties[c]):(d.items??(d.items=[]),(g=d.items)[c]??(g[c]={errors:[]}),d=d.items[c]),e&&d.errors.push(b(h)),i++}}};return d(a),c}function c2(a){let b=[];for(let c of a.map(a=>"object"==typeof a?a.key:a))"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function c3(a){let b=[];for(let c of[...a.issues].sort((a,b)=>(a.path??[]).length-(b.path??[]).length))b.push(`✖ ${c.message}`),c.path?.length&&b.push(`  → at ${c2(c.path)}`);return b.join("\n")}let c4=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new bX;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>cM(a,f,b$())));throw cl(b,e?.callee),b}return g.value},c5=c4(c$),c6=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>cM(a,f,b$())));throw cl(b,e?.callee),b}return g.value},c7=c6(c$),c8=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new bX;return f.issues.length?{success:!1,error:new(a??cZ)(f.issues.map(a=>cM(a,e,b$())))}:{success:!0,data:f.value}},c9=c8(c$),da=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>cM(a,e,b$())))}:{success:!0,data:f.value}},db=da(c$),dc=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return c4(a)(b,c,e)},dd=dc(c$),de=a=>(b,c,d)=>c4(a)(b,c,d),df=de(c$),dg=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return c6(a)(b,c,e)},dh=dg(c$),di=a=>async(b,c,d)=>c6(a)(b,c,d),dj=di(c$),dk=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return c8(a)(b,c,e)},dl=dk(c$),dm=a=>(b,c,d)=>c8(a)(b,c,d),dn=dm(c$),dp=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return da(a)(b,c,e)},dq=dp(c$),dr=a=>async(b,c,d)=>da(a)(b,c,d),ds=dr(c$);a.s(["$ZodAny",()=>fq,"$ZodArray",()=>fw,"$ZodBase64",()=>fb,"$ZodBase64URL",()=>fd,"$ZodBigInt",()=>fl,"$ZodBigIntFormat",()=>fm,"$ZodBoolean",()=>fk,"$ZodCIDRv4",()=>e8,"$ZodCIDRv6",()=>e9,"$ZodCUID",()=>eZ,"$ZodCUID2",()=>e$,"$ZodCatch",()=>f_,"$ZodCodec",()=>f3,"$ZodCustom",()=>gc,"$ZodCustomStringFormat",()=>fh,"$ZodDate",()=>fu,"$ZodDefault",()=>fV,"$ZodDiscriminatedUnion",()=>fE,"$ZodE164",()=>fe,"$ZodEmail",()=>eV,"$ZodEmoji",()=>eX,"$ZodEnum",()=>fO,"$ZodFile",()=>fQ,"$ZodFunction",()=>f9,"$ZodGUID",()=>eT,"$ZodIPv4",()=>e6,"$ZodIPv6",()=>e7,"$ZodISODate",()=>e3,"$ZodISODateTime",()=>e2,"$ZodISODuration",()=>e5,"$ZodISOTime",()=>e4,"$ZodIntersection",()=>fF,"$ZodJWT",()=>fg,"$ZodKSUID",()=>e1,"$ZodLazy",()=>gb,"$ZodLiteral",()=>fP,"$ZodMap",()=>fK,"$ZodNaN",()=>f0,"$ZodNanoID",()=>eY,"$ZodNever",()=>fs,"$ZodNonOptional",()=>fY,"$ZodNull",()=>fp,"$ZodNullable",()=>fU,"$ZodNumber",()=>fi,"$ZodNumberFormat",()=>fj,"$ZodObject",()=>fA,"$ZodObjectJIT",()=>fB,"$ZodOptional",()=>fT,"$ZodPipe",()=>f1,"$ZodPrefault",()=>fX,"$ZodPromise",()=>ga,"$ZodReadonly",()=>f6,"$ZodRecord",()=>fJ,"$ZodSet",()=>fM,"$ZodString",()=>eR,"$ZodStringFormat",()=>eS,"$ZodSuccess",()=>f$,"$ZodSymbol",()=>fn,"$ZodTemplateLiteral",()=>f8,"$ZodTransform",()=>fR,"$ZodTuple",()=>fH,"$ZodType",()=>eQ,"$ZodULID",()=>e_,"$ZodURL",()=>eW,"$ZodUUID",()=>eU,"$ZodUndefined",()=>fo,"$ZodUnion",()=>fD,"$ZodUnknown",()=>fr,"$ZodVoid",()=>ft,"$ZodXID",()=>e0,"isValidBase64",()=>fa,"isValidBase64URL",()=>fc,"isValidJWT",()=>ff],61169),a.s(["$ZodCheck",()=>eq,"$ZodCheckBigIntFormat",()=>ew,"$ZodCheckEndsWith",()=>eJ,"$ZodCheckGreaterThan",()=>et,"$ZodCheckIncludes",()=>eH,"$ZodCheckLengthEquals",()=>eC,"$ZodCheckLessThan",()=>es,"$ZodCheckLowerCase",()=>eF,"$ZodCheckMaxLength",()=>eA,"$ZodCheckMaxSize",()=>ex,"$ZodCheckMimeType",()=>eM,"$ZodCheckMinLength",()=>eB,"$ZodCheckMinSize",()=>ey,"$ZodCheckMultipleOf",()=>eu,"$ZodCheckNumberFormat",()=>ev,"$ZodCheckOverwrite",()=>eN,"$ZodCheckProperty",()=>eL,"$ZodCheckRegex",()=>eE,"$ZodCheckSizeEquals",()=>ez,"$ZodCheckStartsWith",()=>eI,"$ZodCheckStringFormat",()=>eD,"$ZodCheckUpperCase",()=>eG],50077),a.s(["base64",()=>dR,"base64url",()=>dS,"bigint",()=>d0,"boolean",()=>d3,"browserEmail",()=>dL,"cidrv4",()=>dP,"cidrv6",()=>dQ,"cuid",()=>dt,"cuid2",()=>du,"date",()=>dX,"datetime",()=>d$,"domain",()=>dU,"duration",()=>dz,"e164",()=>dV,"email",()=>dG,"emoji",()=>dM,"extendedDuration",()=>dA,"guid",()=>dB,"hex",()=>d8,"hostname",()=>dT,"html5Email",()=>dH,"idnEmail",()=>dK,"integer",()=>d1,"ipv4",()=>dN,"ipv6",()=>dO,"ksuid",()=>dx,"lowercase",()=>d6,"md5_base64",()=>ec,"md5_base64url",()=>ed,"md5_hex",()=>eb,"nanoid",()=>dy,"null",()=>d4,"number",()=>d2,"rfc5322Email",()=>dI,"sha1_base64",()=>ef,"sha1_base64url",()=>eg,"sha1_hex",()=>ee,"sha256_base64",()=>ei,"sha256_base64url",()=>ej,"sha256_hex",()=>eh,"sha384_base64",()=>el,"sha384_base64url",()=>em,"sha384_hex",()=>ek,"sha512_base64",()=>eo,"sha512_base64url",()=>ep,"sha512_hex",()=>en,"string",()=>d_,"time",()=>dZ,"ulid",()=>dv,"undefined",()=>d5,"unicodeEmail",()=>dJ,"uppercase",()=>d7,"uuid",()=>dC,"uuid4",()=>dD,"uuid6",()=>dE,"uuid7",()=>dF,"xid",()=>dw],13899);let dt=/^[cC][^\s-]{8,}$/,du=/^[0-9a-z]+$/,dv=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dw=/^[0-9a-vA-V]{20}$/,dx=/^[A-Za-z0-9]{27}$/,dy=/^[a-zA-Z0-9_-]{21}$/,dz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,dA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dB=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,dC=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,dD=dC(4),dE=dC(6),dF=dC(7),dG=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,dH=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dI=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,dJ=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,dK=dJ,dL=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function dM(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let dN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,dQ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dR=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,dS=/^[A-Za-z0-9_-]*$/,dT=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,dU=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,dV=/^\+(?:[0-9]){6,14}[0-9]$/,dW="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dX=RegExp(`^${dW}$`);function dY(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}function dZ(a){return RegExp(`^${dY(a)}$`)}function d$(a){let b=dY({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${dW}T(?:${d})$`)}let d_=a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)},d0=/^-?\d+n?$/,d1=/^-?\d+$/,d2=/^-?\d+(?:\.\d+)?/,d3=/^(?:true|false)$/i,d4=/^null$/i,d5=/^undefined$/i,d6=/^[^A-Z]*$/,d7=/^[^a-z]*$/,d8=/^[0-9a-fA-F]*$/;function d9(a,b){return RegExp(`^[A-Za-z0-9+/]{${a}}${b}$`)}function ea(a){return RegExp(`^[A-Za-z0-9_-]{${a}}$`)}let eb=/^[0-9a-fA-F]{32}$/,ec=d9(22,"=="),ed=ea(22),ee=/^[0-9a-fA-F]{40}$/,ef=d9(27,"="),eg=ea(27),eh=/^[0-9a-fA-F]{64}$/,ei=d9(43,"="),ej=ea(43),ek=/^[0-9a-fA-F]{96}$/,el=d9(64,""),em=ea(64),en=/^[0-9a-fA-F]{128}$/,eo=d9(86,"=="),ep=ea(86),eq=bV("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),er={number:"number",bigint:"bigint",object:"date"},es=bV("$ZodCheckLessThan",(a,b)=>{eq.init(a,b);let c=er[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),et=bV("$ZodCheckGreaterThan",(a,b)=>{eq.init(a,b);let c=er[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),eu=bV("$ZodCheckMultipleOf",(a,b)=>{eq.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===ca(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),ev=bV("$ZodCheckNumberFormat",(a,b)=>{eq.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=cA[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=d1)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",continue:!1,input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:a})}}),ew=bV("$ZodCheckBigIntFormat",(a,b)=>{eq.init(a,b);let[c,d]=cB[b.format];a._zod.onattach.push(a=>{let e=a._zod.bag;e.format=b.format,e.minimum=c,e.maximum=d}),a._zod.check=e=>{let f=e.value;f<c&&e.issues.push({origin:"bigint",input:f,code:"too_small",minimum:c,inclusive:!0,inst:a,continue:!b.abort}),f>d&&e.issues.push({origin:"bigint",input:f,code:"too_big",maximum:d,inst:a})}}),ex=bV("$ZodCheckMaxSize",(a,b)=>{var c;eq.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!b8(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;d.size<=b.maximum||c.issues.push({origin:cN(d),code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),ey=bV("$ZodCheckMinSize",(a,b)=>{var c;eq.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!b8(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;d.size>=b.minimum||c.issues.push({origin:cN(d),code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),ez=bV("$ZodCheckSizeEquals",(a,b)=>{var c;eq.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!b8(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.size,c.maximum=b.size,c.size=b.size}),a._zod.check=c=>{let d=c.value,e=d.size;if(e===b.size)return;let f=e>b.size;c.issues.push({origin:cN(d),...f?{code:"too_big",maximum:b.size}:{code:"too_small",minimum:b.size},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),eA=bV("$ZodCheckMaxLength",(a,b)=>{var c;eq.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!b8(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=cO(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),eB=bV("$ZodCheckMinLength",(a,b)=>{var c;eq.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!b8(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=cO(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),eC=bV("$ZodCheckLengthEquals",(a,b)=>{var c;eq.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!b8(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=cO(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),eD=bV("$ZodCheckStringFormat",(a,b)=>{var c,d;eq.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),eE=bV("$ZodCheckRegex",(a,b)=>{eD.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),eF=bV("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=d6),eD.init(a,b)}),eG=bV("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=d7),eD.init(a,b)}),eH=bV("$ZodCheckIncludes",(a,b)=>{eq.init(a,b);let c=cu(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),eI=bV("$ZodCheckStartsWith",(a,b)=>{eq.init(a,b);let c=RegExp(`^${cu(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),eJ=bV("$ZodCheckEndsWith",(a,b)=>{eq.init(a,b);let c=RegExp(`.*${cu(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}});function eK(a,b,c){a.issues.length&&b.issues.push(...cK(c,a.issues))}let eL=bV("$ZodCheckProperty",(a,b)=>{eq.init(a,b),a._zod.check=a=>{let c=b.schema._zod.run({value:a.value[b.property],issues:[]},{});if(c instanceof Promise)return c.then(c=>eK(c,a,b.property));eK(c,a,b.property)}}),eM=bV("$ZodCheckMimeType",(a,b)=>{eq.init(a,b);let c=new Set(b.mime);a._zod.onattach.push(a=>{a._zod.bag.mime=b.mime}),a._zod.check=d=>{c.has(d.value.type)||d.issues.push({code:"invalid_value",values:b.mime,input:d.value.type,inst:a,continue:!b.abort})}}),eN=bV("$ZodCheckOverwrite",(a,b)=>{eq.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});a.s(["Doc",()=>eO],22093);class eO{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}a.s(["version",()=>eP],21062);let eP={major:4,minor:1,patch:12},eQ=bV("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=eP;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=cJ(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new bX;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=cJ(a,b)))});else{if(a.issues.length===b)continue;e||(e=cJ(a,b))}}return d?d.then(()=>a):a},c=(c,e,f)=>{if(cJ(c))return c.aborted=!0,c;let g=b(e,d,f);if(g instanceof Promise){if(!1===f.async)throw new bX;return g.then(b=>a._zod.parse(b,f))}return a._zod.parse(g,f)};a._zod.run=(e,f)=>{if(f.skipChecks)return a._zod.parse(e,f);if("backward"===f.direction){let b=a._zod.parse({value:e.value,issues:[]},{...f,skipChecks:!0});return b instanceof Promise?b.then(a=>c(a,e,f)):c(b,e,f)}let g=a._zod.parse(e,f);if(g instanceof Promise){if(!1===f.async)throw new bX;return g.then(a=>b(a,d,f))}return b(g,d,f)}}a["~standard"]={validate:b=>{try{let c=c9(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return db(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),eR=bV("$ZodString",(a,b)=>{eQ.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??d_(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),eS=bV("$ZodStringFormat",(a,b)=>{eD.init(a,b),eR.init(a,b)}),eT=bV("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=dB),eS.init(a,b)}),eU=bV("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=dC(a))}else b.pattern??(b.pattern=dC());eS.init(a,b)}),eV=bV("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=dG),eS.init(a,b)}),eW=bV("$ZodURL",(a,b)=>{eS.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:dT.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),eX=bV("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=dM()),eS.init(a,b)}),eY=bV("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=dy),eS.init(a,b)}),eZ=bV("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=dt),eS.init(a,b)}),e$=bV("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=du),eS.init(a,b)}),e_=bV("$ZodULID",(a,b)=>{b.pattern??(b.pattern=dv),eS.init(a,b)}),e0=bV("$ZodXID",(a,b)=>{b.pattern??(b.pattern=dw),eS.init(a,b)}),e1=bV("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=dx),eS.init(a,b)}),e2=bV("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=d$(b)),eS.init(a,b)}),e3=bV("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=dX),eS.init(a,b)}),e4=bV("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=dZ(b)),eS.init(a,b)}),e5=bV("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=dz),eS.init(a,b)}),e6=bV("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=dN),eS.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv4"})}),e7=bV("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=dO),eS.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv6"}),a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),e8=bV("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=dP),eS.init(a,b)}),e9=bV("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=dQ),eS.init(a,b),a._zod.check=c=>{let d=c.value.split("/");try{if(2!==d.length)throw Error();let[a,b]=d;if(!b)throw Error();let c=Number(b);if(`${c}`!==b||c<0||c>128)throw Error();new URL(`http://[${a}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function fa(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let fb=bV("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=dR),eS.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),a._zod.check=c=>{fa(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}});function fc(a){if(!dS.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return fa(b.padEnd(4*Math.ceil(b.length/4),"="))}let fd=bV("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=dS),eS.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),a._zod.check=c=>{fc(c.value)||c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),fe=bV("$ZodE164",(a,b)=>{b.pattern??(b.pattern=dV),eS.init(a,b)});function ff(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}let fg=bV("$ZodJWT",(a,b)=>{eS.init(a,b),a._zod.check=c=>{ff(c.value,b.alg)||c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),fh=bV("$ZodCustomStringFormat",(a,b)=>{eS.init(a,b),a._zod.check=c=>{b.fn(c.value)||c.issues.push({code:"invalid_format",format:b.format,input:c.value,inst:a,continue:!b.abort})}}),fi=bV("$ZodNumber",(a,b)=>{eQ.init(a,b),a._zod.pattern=a._zod.bag.pattern??d2,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),fj=bV("$ZodNumber",(a,b)=>{ev.init(a,b),fi.init(a,b)}),fk=bV("$ZodBoolean",(a,b)=>{eQ.init(a,b),a._zod.pattern=d3,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),fl=bV("$ZodBigInt",(a,b)=>{eQ.init(a,b),a._zod.pattern=d0,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=BigInt(c.value)}catch(a){}return"bigint"==typeof c.value||c.issues.push({expected:"bigint",code:"invalid_type",input:c.value,inst:a}),c}}),fm=bV("$ZodBigInt",(a,b)=>{ew.init(a,b),fl.init(a,b)}),fn=bV("$ZodSymbol",(a,b)=>{eQ.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return"symbol"==typeof d||b.issues.push({expected:"symbol",code:"invalid_type",input:d,inst:a}),b}}),fo=bV("$ZodUndefined",(a,b)=>{eQ.init(a,b),a._zod.pattern=d5,a._zod.values=new Set([void 0]),a._zod.optin="optional",a._zod.optout="optional",a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"undefined",code:"invalid_type",input:d,inst:a}),b}}),fp=bV("$ZodNull",(a,b)=>{eQ.init(a,b),a._zod.pattern=d4,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),fq=bV("$ZodAny",(a,b)=>{eQ.init(a,b),a._zod.parse=a=>a}),fr=bV("$ZodUnknown",(a,b)=>{eQ.init(a,b),a._zod.parse=a=>a}),fs=bV("$ZodNever",(a,b)=>{eQ.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)}),ft=bV("$ZodVoid",(a,b)=>{eQ.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"void",code:"invalid_type",input:d,inst:a}),b}}),fu=bV("$ZodDate",(a,b)=>{eQ.init(a,b),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=new Date(c.value)}catch(a){}let e=c.value,f=e instanceof Date;return f&&!Number.isNaN(e.getTime())||c.issues.push({expected:"date",code:"invalid_type",input:e,...f?{received:"Invalid Date"}:{},inst:a}),c}});function fv(a,b,c){a.issues.length&&b.issues.push(...cK(c,a.issues)),b.value[c]=a.value}let fw=bV("$ZodArray",(a,b)=>{eQ.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>fv(b,c,a))):fv(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function fx(a,b,c,d){a.issues.length&&b.issues.push(...cK(c,a.issues)),void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}function fy(a){let b=Object.keys(a.shape);for(let c of b)if(!a.shape?.[c]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=cz(a.shape);return{...a,keys:b,keySet:new Set(b),numKeys:b.length,optionalKeys:new Set(c)}}function fz(a,b,c,d,e,f){let g=[],h=e.keySet,i=e.catchall._zod,j=i.def.type;for(let e of Object.keys(b)){if(h.has(e))continue;if("never"===j){g.push(e);continue}let f=i.run({value:b[e],issues:[]},d);f instanceof Promise?a.push(f.then(a=>fx(a,c,e,b))):fx(f,c,e,b)}return(g.length&&c.issues.push({code:"unrecognized_keys",keys:g,input:b,inst:f}),a.length)?Promise.all(a).then(()=>c):c}let fA=bV("$ZodObject",(a,b)=>{let c;eQ.init(a,b);let d=Object.getOwnPropertyDescriptor(b,"shape");if(!d?.get){let a=b.shape;Object.defineProperty(b,"shape",{get:()=>{let c={...a};return Object.defineProperty(b,"shape",{value:c}),c}})}let e=b7(()=>fy(b));cc(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=b.catchall;a._zod.parse=(b,d)=>{c??(c=e.value);let g=b.value;if(!cm(g))return b.issues.push({expected:"object",code:"invalid_type",input:g,inst:a}),b;b.value={};let h=[],i=c.shape;for(let a of c.keys){let c=i[a]._zod.run({value:g[a],issues:[]},d);c instanceof Promise?h.push(c.then(c=>fx(c,b,a,g))):fx(c,b,a,g)}return f?fz(h,g,b,d,e.value,a):h.length?Promise.all(h).then(()=>b):b}}),fB=bV("$ZodObjectJIT",(a,b)=>{let c,d;fA.init(a,b);let e=a._zod.parse,f=b7(()=>fy(b)),g=!bZ.jitless,h=g&&cn.value,i=b.catchall;a._zod.parse=(j,k)=>{d??(d=f.value);let l=j.value;return cm(l)?g&&h&&k?.async===!1&&!0!==k.jitless?(c||(c=(a=>{let b=new eO(["shape","payload","ctx"]),c=f.value,d=a=>{let b=ck(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),g=0;for(let a of c.keys)e[a]=`key_${g++}`;for(let a of(b.write("const newResult = {};"),c.keys)){let c=e[a],f=ck(a);b.write(`const ${c} = ${d(a)};`),b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${f}, ...iss.path] : [${f}]
          })));
        }
        
        
        if (${c}.value === undefined) {
          if (${f} in input) {
            newResult[${f}] = undefined;
          }
        } else {
          newResult[${f}] = ${c}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),j=c(j,k),i)?fz([],l,j,k,d,a):j:e(j,k):(j.issues.push({expected:"object",code:"invalid_type",input:l,inst:a}),j)}});function fC(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let e=a.filter(a=>!cJ(a));return 1===e.length?(b.value=e[0].value,e[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>cM(a,d,b$())))}),b)}let fD=bV("$ZodUnion",(a,b)=>{eQ.init(a,b),cc(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),cc(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),cc(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),cc(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>b9(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>fC(b,e,a,f)):fC(h,e,a,f)}}),fE=bV("$ZodDiscriminatedUnion",(a,b)=>{fD.init(a,b);let c=a._zod.parse;cc(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=b7(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues?.[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!cm(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:b.discriminator,input:g,path:[b.discriminator],inst:a}),e)}}),fF=bV("$ZodIntersection",(a,b)=>{eQ.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>fG(a,b,c)):fG(a,e,f)}});function fG(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),cJ(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(co(b)&&co(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let fH=bV("$ZodTuple",(a,b)=>{eQ.init(a,b);let c=b.items,d=c.length-[...c].reverse().findIndex(a=>"optional"!==a._zod.optin);a._zod.parse=(e,f)=>{let g=e.value;if(!Array.isArray(g))return e.issues.push({input:g,inst:a,expected:"tuple",code:"invalid_type"}),e;e.value=[];let h=[];if(!b.rest){let b=g.length>c.length,f=g.length<d-1;if(b||f)return e.issues.push({...b?{code:"too_big",maximum:c.length}:{code:"too_small",minimum:c.length},input:g,inst:a,origin:"array"}),e}let i=-1;for(let a of c){if(++i>=g.length&&i>=d)continue;let b=a._zod.run({value:g[i],issues:[]},f);b instanceof Promise?h.push(b.then(a=>fI(a,e,i))):fI(b,e,i)}if(b.rest)for(let a of g.slice(c.length)){i++;let c=b.rest._zod.run({value:a,issues:[]},f);c instanceof Promise?h.push(c.then(a=>fI(a,e,i))):fI(c,e,i)}return h.length?Promise.all(h).then(()=>e):e}});function fI(a,b,c){a.issues.length&&b.issues.push(...cK(c,a.issues)),b.value[c]=a.value}let fJ=bV("$ZodRecord",(a,b)=>{eQ.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!co(e))return c.issues.push({expected:"record",code:"invalid_type",input:e,inst:a}),c;let f=[];if(b.keyType._zod.values){let g,h=b.keyType._zod.values;for(let a of(c.value={},h))if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){let g=b.valueType._zod.run({value:e[a],issues:[]},d);g instanceof Promise?f.push(g.then(b=>{b.issues.length&&c.issues.push(...cK(a,b.issues)),c.value[a]=b.value})):(g.issues.length&&c.issues.push(...cK(a,g.issues)),c.value[a]=g.value)}for(let a in e)h.has(a)||(g=g??[]).push(a);g&&g.length>0&&c.issues.push({code:"unrecognized_keys",input:e,inst:a,keys:g})}else for(let g of(c.value={},Reflect.ownKeys(e))){if("__proto__"===g)continue;let h=b.keyType._zod.run({value:g,issues:[]},d);if(h instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(h.issues.length){c.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(a=>cM(a,d,b$())),input:g,path:[g],inst:a}),c.value[h.value]=h.value;continue}let i=b.valueType._zod.run({value:e[g],issues:[]},d);i instanceof Promise?f.push(i.then(a=>{a.issues.length&&c.issues.push(...cK(g,a.issues)),c.value[h.value]=a.value})):(i.issues.length&&c.issues.push(...cK(g,i.issues)),c.value[h.value]=i.value)}return f.length?Promise.all(f).then(()=>c):c}}),fK=bV("$ZodMap",(a,b)=>{eQ.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Map))return c.issues.push({expected:"map",code:"invalid_type",input:e,inst:a}),c;let f=[];for(let[g,h]of(c.value=new Map,e)){let i=b.keyType._zod.run({value:g,issues:[]},d),j=b.valueType._zod.run({value:h,issues:[]},d);i instanceof Promise||j instanceof Promise?f.push(Promise.all([i,j]).then(([b,f])=>{fL(b,f,c,g,e,a,d)})):fL(i,j,c,g,e,a,d)}return f.length?Promise.all(f).then(()=>c):c}});function fL(a,b,c,d,e,f,g){a.issues.length&&(cs.has(typeof d)?c.issues.push(...cK(d,a.issues)):c.issues.push({code:"invalid_key",origin:"map",input:e,inst:f,issues:a.issues.map(a=>cM(a,g,b$()))})),b.issues.length&&(cs.has(typeof d)?c.issues.push(...cK(d,b.issues)):c.issues.push({origin:"map",code:"invalid_element",input:e,inst:f,key:d,issues:b.issues.map(a=>cM(a,g,b$()))})),c.value.set(a.value,b.value)}let fM=bV("$ZodSet",(a,b)=>{eQ.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Set))return c.issues.push({input:e,inst:a,expected:"set",code:"invalid_type"}),c;let f=[];for(let a of(c.value=new Set,e)){let e=b.valueType._zod.run({value:a,issues:[]},d);e instanceof Promise?f.push(e.then(a=>fN(a,c))):fN(e,c)}return f.length?Promise.all(f).then(()=>c):c}});function fN(a,b){a.issues.length&&b.issues.push(...a.issues),b.value.add(a.value)}let fO=bV("$ZodEnum",(a,b)=>{eQ.init(a,b);let c=b4(b.entries),d=new Set(c);a._zod.values=d,a._zod.pattern=RegExp(`^(${c.filter(a=>cs.has(typeof a)).map(a=>"string"==typeof a?cu(a):a.toString()).join("|")})$`),a._zod.parse=(b,e)=>{let f=b.value;return d.has(f)||b.issues.push({code:"invalid_value",values:c,input:f,inst:a}),b}}),fP=bV("$ZodLiteral",(a,b)=>{if(eQ.init(a,b),0===b.values.length)throw Error("Cannot create literal schema with no valid values");a._zod.values=new Set(b.values),a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?cu(a):a?cu(a.toString()):String(a)).join("|")})$`),a._zod.parse=(c,d)=>{let e=c.value;return a._zod.values.has(e)||c.issues.push({code:"invalid_value",values:b.values,input:e,inst:a}),c}}),fQ=bV("$ZodFile",(a,b)=>{eQ.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return d instanceof File||b.issues.push({expected:"file",code:"invalid_type",input:d,inst:a}),b}}),fR=bV("$ZodTransform",(a,b)=>{eQ.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new bY(a.constructor.name);let e=b.transform(c.value,c);if(d.async)return(e instanceof Promise?e:Promise.resolve(e)).then(a=>(c.value=a,c));if(e instanceof Promise)throw new bX;return c.value=e,c}});function fS(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let fT=bV("$ZodOptional",(a,b)=>{eQ.init(a,b),a._zod.optin="optional",a._zod.optout="optional",cc(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),cc(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${b9(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>fS(b,a.value)):fS(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),fU=bV("$ZodNullable",(a,b)=>{eQ.init(a,b),cc(a._zod,"optin",()=>b.innerType._zod.optin),cc(a._zod,"optout",()=>b.innerType._zod.optout),cc(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${b9(a.source)}|null)$`):void 0}),cc(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),fV=bV("$ZodDefault",(a,b)=>{eQ.init(a,b),a._zod.optin="optional",cc(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>fW(a,b)):fW(d,b)}});function fW(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let fX=bV("$ZodPrefault",(a,b)=>{eQ.init(a,b),a._zod.optin="optional",cc(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>("backward"===c.direction||void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),fY=bV("$ZodNonOptional",(a,b)=>{eQ.init(a,b),cc(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>fZ(b,a)):fZ(e,a)}});function fZ(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let f$=bV("$ZodSuccess",(a,b)=>{eQ.init(a,b),a._zod.parse=(a,c)=>{if("backward"===c.direction)throw new bY("ZodSuccess");let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>(a.value=0===b.issues.length,a)):(a.value=0===d.issues.length,a)}}),f_=bV("$ZodCatch",(a,b)=>{eQ.init(a,b),cc(a._zod,"optin",()=>b.innerType._zod.optin),cc(a._zod,"optout",()=>b.innerType._zod.optout),cc(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>cM(a,c,b$()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>cM(a,c,b$()))},input:a.value}),a.issues=[]),a)}}),f0=bV("$ZodNaN",(a,b)=>{eQ.init(a,b),a._zod.parse=(b,c)=>("number"==typeof b.value&&Number.isNaN(b.value)||b.issues.push({input:b.value,inst:a,expected:"nan",code:"invalid_type"}),b)}),f1=bV("$ZodPipe",(a,b)=>{eQ.init(a,b),cc(a._zod,"values",()=>b.in._zod.values),cc(a._zod,"optin",()=>b.in._zod.optin),cc(a._zod,"optout",()=>b.out._zod.optout),cc(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("backward"===c.direction){let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>f2(a,b.in,c)):f2(d,b.in,c)}let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>f2(a,b.out,c)):f2(d,b.out,c)}});function f2(a,b,c){return a.issues.length?(a.aborted=!0,a):b._zod.run({value:a.value,issues:a.issues},c)}let f3=bV("$ZodCodec",(a,b)=>{eQ.init(a,b),cc(a._zod,"values",()=>b.in._zod.values),cc(a._zod,"optin",()=>b.in._zod.optin),cc(a._zod,"optout",()=>b.out._zod.optout),cc(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("forward"===(c.direction||"forward")){let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>f4(a,b,c)):f4(d,b,c)}{let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>f4(a,b,c)):f4(d,b,c)}}});function f4(a,b,c){if(a.issues.length)return a.aborted=!0,a;if("forward"===(c.direction||"forward")){let d=b.transform(a.value,a);return d instanceof Promise?d.then(d=>f5(a,d,b.out,c)):f5(a,d,b.out,c)}{let d=b.reverseTransform(a.value,a);return d instanceof Promise?d.then(d=>f5(a,d,b.in,c)):f5(a,d,b.in,c)}}function f5(a,b,c,d){return a.issues.length?(a.aborted=!0,a):c._zod.run({value:b,issues:a.issues},d)}let f6=bV("$ZodReadonly",(a,b)=>{eQ.init(a,b),cc(a._zod,"propValues",()=>b.innerType._zod.propValues),cc(a._zod,"values",()=>b.innerType._zod.values),cc(a._zod,"optin",()=>b.innerType._zod.optin),cc(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(f7):f7(d)}});function f7(a){return a.value=Object.freeze(a.value),a}let f8=bV("$ZodTemplateLiteral",(a,b)=>{eQ.init(a,b);let c=[];for(let a of b.parts)if("object"==typeof a&&null!==a){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let b=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!b)throw Error(`Invalid template literal part: ${a._zod.traits}`);let d=+!!b.startsWith("^"),e=b.endsWith("$")?b.length-1:b.length;c.push(b.slice(d,e))}else if(null===a||ct.has(typeof a))c.push(cu(`${a}`));else throw Error(`Invalid template literal part: ${a}`);a._zod.pattern=RegExp(`^${c.join("")}$`),a._zod.parse=(c,d)=>("string"!=typeof c.value?c.issues.push({input:c.value,inst:a,expected:"template_literal",code:"invalid_type"}):(a._zod.pattern.lastIndex=0,a._zod.pattern.test(c.value)||c.issues.push({input:c.value,inst:a,code:"invalid_format",format:b.format??"template_literal",pattern:a._zod.pattern.source})),c)}),f9=bV("$ZodFunction",(a,b)=>(eQ.init(a,b),a._def=b,a._zod.def=b,a.implement=b=>{if("function"!=typeof b)throw Error("implement() must be called with a function");return function(...c){let d=Reflect.apply(b,this,a._def.input?c5(a._def.input,c):c);return a._def.output?c5(a._def.output,d):d}},a.implementAsync=b=>{if("function"!=typeof b)throw Error("implementAsync() must be called with a function");return async function(...c){let d=a._def.input?await c7(a._def.input,c):c,e=await Reflect.apply(b,this,d);return a._def.output?await c7(a._def.output,e):e}},a._zod.parse=(b,c)=>("function"!=typeof b.value?b.issues.push({code:"invalid_type",expected:"function",input:b.value,inst:a}):a._def.output&&"promise"===a._def.output._zod.def.type?b.value=a.implementAsync(b.value):b.value=a.implement(b.value),b),a.input=(...b)=>{let c=a.constructor;return new c(Array.isArray(b[0])?{type:"function",input:new fH({type:"tuple",items:b[0],rest:b[1]}),output:a._def.output}:{type:"function",input:b[0],output:a._def.output})},a.output=b=>new a.constructor({type:"function",input:a._def.input,output:b}),a)),ga=bV("$ZodPromise",(a,b)=>{eQ.init(a,b),a._zod.parse=(a,c)=>Promise.resolve(a.value).then(a=>b.innerType._zod.run({value:a,issues:[]},c))}),gb=bV("$ZodLazy",(a,b)=>{eQ.init(a,b),cc(a._zod,"innerType",()=>b.getter()),cc(a._zod,"pattern",()=>a._zod.innerType._zod.pattern),cc(a._zod,"propValues",()=>a._zod.innerType._zod.propValues),cc(a._zod,"optin",()=>a._zod.innerType._zod.optin??void 0),cc(a._zod,"optout",()=>a._zod.innerType._zod.optout??void 0),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),gc=bV("$ZodCustom",(a,b)=>{eq.init(a,b),eQ.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>gd(b,c,d,a));gd(e,c,d,a)}});function gd(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(cP(a))}}function ge(){return{localeError:(()=>{let a={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}},b={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"};return c=>{switch(c.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${c.expected}، ولكن تم إدخال ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`مدخلات غير مقبولة: يفترض إدخال ${cy(c.values[0])}`;return`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` أكبر من اللازم: يفترض أن تكون ${c.origin??"القيمة"} ${b} ${c.maximum.toString()} ${d.unit??"عنصر"}`;return`أكبر من اللازم: يفترض أن تكون ${c.origin??"القيمة"} ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`أصغر من اللازم: يفترض لـ ${c.origin} أن يكون ${b} ${c.minimum.toString()} ${d.unit}`;return`أصغر من اللازم: يفترض لـ ${c.origin} أن يكون ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`نَص غير مقبول: يجب أن يبدأ بـ "${c.prefix}"`;if("ends_with"===c.format)return`نَص غير مقبول: يجب أن ينتهي بـ "${c.suffix}"`;if("includes"===c.format)return`نَص غير مقبول: يجب أن يتضمَّن "${c.includes}"`;if("regex"===c.format)return`نَص غير مقبول: يجب أن يطابق النمط ${c.pattern}`;return`${b[c.format]??c.format} غير مقبول`;case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${c.divisor}`;case"unrecognized_keys":return`معرف${c.keys.length>1?"ات":""} غريب${c.keys.length>1?"ة":""}: ${b5(c.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${c.origin}`;case"invalid_union":default:return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${c.origin}`}}})()}}function gf(){return{localeError:(()=>{let a={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`Yanlış dəyər: g\xf6zlənilən ${c.expected}, daxil olan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Yanlış dəyər: g\xf6zlənilən ${cy(c.values[0])}`;return`Yanlış se\xe7im: aşağıdakılardan biri olmalıdır: ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${c.origin??"dəyər"} ${b}${c.maximum.toString()} ${d.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${c.origin??"dəyər"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`\xc7ox ki\xe7ik: g\xf6zlənilən ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlənilən ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Yanlış mətn: "${c.prefix}" ilə başlamalıdır`;if("ends_with"===c.format)return`Yanlış mətn: "${c.suffix}" ilə bitməlidir`;if("includes"===c.format)return`Yanlış mətn: "${c.includes}" daxil olmalıdır`;if("regex"===c.format)return`Yanlış mətn: ${c.pattern} şablonuna uyğun olmalıdır`;return`Yanlış ${b[c.format]??c.format}`;case"not_multiple_of":return`Yanlış ədəd: ${c.divisor} ilə b\xf6l\xfcnə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan a\xe7ar${c.keys.length>1?"lar":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`${c.origin} daxilində yanlış a\xe7ar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${c.origin} daxilində yanlış dəyər`;default:return`Yanlış dəyər`}}})()}}function gg(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function gh(){return{localeError:(()=>{let a={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}},b={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"};return c=>{switch(c.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${c.expected}, атрымана ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"лік";case"object":if(Array.isArray(a))return"масіў";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Няправільны ўвод: чакалася ${cy(c.values[0])}`;return`Няправільны варыянт: чакаўся адзін з ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d){let a=gg(Number(c.maximum),d.unit.one,d.unit.few,d.unit.many);return`Занадта вялікі: чакалася, што ${c.origin??"значэнне"} павінна ${d.verb} ${b}${c.maximum.toString()} ${a}`}return`Занадта вялікі: чакалася, што ${c.origin??"значэнне"} павінна быць ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d){let a=gg(Number(c.minimum),d.unit.one,d.unit.few,d.unit.many);return`Занадта малы: чакалася, што ${c.origin} павінна ${d.verb} ${b}${c.minimum.toString()} ${a}`}return`Занадта малы: чакалася, што ${c.origin} павінна быць ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Няправільны радок: павінен пачынацца з "${c.prefix}"`;if("ends_with"===c.format)return`Няправільны радок: павінен заканчвацца на "${c.suffix}"`;if("includes"===c.format)return`Няправільны радок: павінен змяшчаць "${c.includes}"`;if("regex"===c.format)return`Няправільны радок: павінен адпавядаць шаблону ${c.pattern}`;return`Няправільны ${b[c.format]??c.format}`;case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${c.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${c.keys.length>1?"ключы":"ключ"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${c.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${c.origin}`;default:return`Няправільны ўвод`}}})()}}function gi(){return{localeError:(()=>{let a={string:{unit:"символа",verb:"да съдържа"},file:{unit:"байта",verb:"да съдържа"},array:{unit:"елемента",verb:"да съдържа"},set:{unit:"елемента",verb:"да съдържа"}},b={regex:"вход",email:"имейл адрес",url:"URL",emoji:"емоджи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO време",date:"ISO дата",time:"ISO време",duration:"ISO продължителност",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"base64-кодиран низ",base64url:"base64url-кодиран низ",json_string:"JSON низ",e164:"E.164 номер",jwt:"JWT",template_literal:"вход"};return c=>{switch(c.code){case"invalid_type":return`Невалиден вход: очакван ${c.expected}, получен ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"число";case"object":if(Array.isArray(a))return"масив";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Невалиден вход: очакван ${cy(c.values[0])}`;return`Невалидна опция: очаквано едно от ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Твърде голямо: очаква се ${c.origin??"стойност"} да съдържа ${b}${c.maximum.toString()} ${d.unit??"елемента"}`;return`Твърде голямо: очаква се ${c.origin??"стойност"} да бъде ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Твърде малко: очаква се ${c.origin} да съдържа ${b}${c.minimum.toString()} ${d.unit}`;return`Твърде малко: очаква се ${c.origin} да бъде ${b}${c.minimum.toString()}`}case"invalid_format":{if("starts_with"===c.format)return`Невалиден низ: трябва да започва с "${c.prefix}"`;if("ends_with"===c.format)return`Невалиден низ: трябва да завършва с "${c.suffix}"`;if("includes"===c.format)return`Невалиден низ: трябва да включва "${c.includes}"`;if("regex"===c.format)return`Невалиден низ: трябва да съвпада с ${c.pattern}`;let a="Невалиден";return"emoji"===c.format&&(a="Невалидно"),"datetime"===c.format&&(a="Невалидно"),"date"===c.format&&(a="Невалидна"),"time"===c.format&&(a="Невалидно"),"duration"===c.format&&(a="Невалидна"),`${a} ${b[c.format]??c.format}`}case"not_multiple_of":return`Невалидно число: трябва да бъде кратно на ${c.divisor}`;case"unrecognized_keys":return`Неразпознат${c.keys.length>1?"и":""} ключ${c.keys.length>1?"ове":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Невалиден ключ в ${c.origin}`;case"invalid_union":return"Невалиден вход";case"invalid_element":return`Невалидна стойност в ${c.origin}`;default:return`Невалиден вход`}}})()}}function gj(){return{localeError:(()=>{let a={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},b={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return c=>{switch(c.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${c.expected}, s'ha rebut ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Valor inv\xe0lid: s'esperava ${cy(c.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${b5(c.values," o ")}`;case"too_big":{let b=c.inclusive?"com a màxim":"menys de",d=a[c.origin]??null;if(d)return`Massa gran: s'esperava que ${c.origin??"el valor"} contingu\xe9s ${b} ${c.maximum.toString()} ${d.unit??"elements"}`;return`Massa gran: s'esperava que ${c.origin??"el valor"} fos ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"com a mínim":"més de",d=a[c.origin]??null;if(d)return`Massa petit: s'esperava que ${c.origin} contingu\xe9s ${b} ${c.minimum.toString()} ${d.unit}`;return`Massa petit: s'esperava que ${c.origin} fos ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${c.prefix}"`;if("ends_with"===c.format)return`Format inv\xe0lid: ha d'acabar amb "${c.suffix}"`;if("includes"===c.format)return`Format inv\xe0lid: ha d'incloure "${c.includes}"`;if("regex"===c.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${c.pattern}`;return`Format inv\xe0lid per a ${b[c.format]??c.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${c.divisor}`;case"unrecognized_keys":return`Clau${c.keys.length>1?"s":""} no reconeguda${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${c.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element inv\xe0lid a ${c.origin}`;default:return`Entrada inv\xe0lida`}}})()}}function gk(){return{localeError:(()=>{let a={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}},b={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"};return c=>{switch(c.code){case"invalid_type":return`Neplatn\xfd vstup: oček\xe1v\xe1no ${c.expected}, obdrženo ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(a))return"pole";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Neplatn\xfd vstup: oček\xe1v\xe1no ${cy(c.values[0])}`;return`Neplatn\xe1 možnost: oček\xe1v\xe1na jedna z hodnot ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Hodnota je př\xedliš velk\xe1: ${c.origin??"hodnota"} mus\xed m\xedt ${b}${c.maximum.toString()} ${d.unit??"prvků"}`;return`Hodnota je př\xedliš velk\xe1: ${c.origin??"hodnota"} mus\xed b\xfdt ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Hodnota je př\xedliš mal\xe1: ${c.origin??"hodnota"} mus\xed m\xedt ${b}${c.minimum.toString()} ${d.unit??"prvků"}`;return`Hodnota je př\xedliš mal\xe1: ${c.origin??"hodnota"} mus\xed b\xfdt ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Neplatn\xfd řetězec: mus\xed zač\xednat na "${c.prefix}"`;if("ends_with"===c.format)return`Neplatn\xfd řetězec: mus\xed končit na "${c.suffix}"`;if("includes"===c.format)return`Neplatn\xfd řetězec: mus\xed obsahovat "${c.includes}"`;if("regex"===c.format)return`Neplatn\xfd řetězec: mus\xed odpov\xeddat vzoru ${c.pattern}`;return`Neplatn\xfd form\xe1t ${b[c.format]??c.format}`;case"not_multiple_of":return`Neplatn\xe9 č\xedslo: mus\xed b\xfdt n\xe1sobkem ${c.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xedče: ${b5(c.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xedč v ${c.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${c.origin}`;default:return`Neplatn\xfd vstup`}}})()}}function gl(){return{localeError:(()=>{let a={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},b={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"},c={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return d=>{var e,f,g,h;switch(d.code){case"invalid_type":return`Ugyldigt input: forventede ${b[e=d.expected]??e}, fik ${b[f=(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"tal";case"object":if(Array.isArray(a))return"liste";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name;return"objekt"}return b})(d.input)]??f}`;case"invalid_value":if(1===d.values.length)return`Ugyldig v\xe6rdi: forventede ${cy(d.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${b5(d.values,"|")}`;case"too_big":{let c=d.inclusive?"<=":"<",e=a[d.origin]??null,f=b[g=d.origin]??g;if(e)return`For stor: forventede ${f??"value"} ${e.verb} ${c} ${d.maximum.toString()} ${e.unit??"elementer"}`;return`For stor: forventede ${f??"value"} havde ${c} ${d.maximum.toString()}`}case"too_small":{let c=d.inclusive?">=":">",e=a[d.origin]??null,f=b[h=d.origin]??h;if(e)return`For lille: forventede ${f} ${e.verb} ${c} ${d.minimum.toString()} ${e.unit}`;return`For lille: forventede ${f} havde ${c} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ugyldig streng: skal starte med "${d.prefix}"`;if("ends_with"===d.format)return`Ugyldig streng: skal ende med "${d.suffix}"`;if("includes"===d.format)return`Ugyldig streng: skal indeholde "${d.includes}"`;if("regex"===d.format)return`Ugyldig streng: skal matche m\xf8nsteret ${d.pattern}`;return`Ugyldig ${c[d.format]??d.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${b5(d.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${d.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${d.origin}`;default:return"Ugyldigt input"}}})()}}function gm(){return{localeError:(()=>{let a={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},b={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return c=>{switch(c.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${c.expected}, erhalten ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"Zahl";case"object":if(Array.isArray(a))return"Array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ung\xfcltige Eingabe: erwartet ${cy(c.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Zu gro\xdf: erwartet, dass ${c.origin??"Wert"} ${b}${c.maximum.toString()} ${d.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${c.origin??"Wert"} ${b}${c.maximum.toString()} ist`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Zu klein: erwartet, dass ${c.origin} ${b}${c.minimum.toString()} ${d.unit} hat`;return`Zu klein: erwartet, dass ${c.origin} ${b}${c.minimum.toString()} ist`}case"invalid_format":if("starts_with"===c.format)return`Ung\xfcltiger String: muss mit "${c.prefix}" beginnen`;if("ends_with"===c.format)return`Ung\xfcltiger String: muss mit "${c.suffix}" enden`;if("includes"===c.format)return`Ung\xfcltiger String: muss "${c.includes}" enthalten`;if("regex"===c.format)return`Ung\xfcltiger String: muss dem Muster ${c.pattern} entsprechen`;return`Ung\xfcltig: ${b[c.format]??c.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${c.divisor} sein`;case"unrecognized_keys":return`${c.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${c.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${c.origin}`;default:return`Ung\xfcltige Eingabe`}}})()}}function gn(){return{localeError:(()=>{let a={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`Invalid input: expected ${c.expected}, received ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Invalid input: expected ${cy(c.values[0])}`;return`Invalid option: expected one of ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Too big: expected ${c.origin??"value"} to have ${b}${c.maximum.toString()} ${d.unit??"elements"}`;return`Too big: expected ${c.origin??"value"} to be ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Too small: expected ${c.origin} to have ${b}${c.minimum.toString()} ${d.unit}`;return`Too small: expected ${c.origin} to be ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Invalid string: must start with "${c.prefix}"`;if("ends_with"===c.format)return`Invalid string: must end with "${c.suffix}"`;if("includes"===c.format)return`Invalid string: must include "${c.includes}"`;if("regex"===c.format)return`Invalid string: must match pattern ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${c.divisor}`;case"unrecognized_keys":return`Unrecognized key${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Invalid key in ${c.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${c.origin}`}}})()}}function go(){return{localeError:(()=>{let a={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},b={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return c=>{switch(c.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${c.expected}, riceviĝis ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombro";case"object":if(Array.isArray(a))return"tabelo";if(null===a)return"senvalora";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Nevalida enigo: atendiĝis ${cy(c.values[0])}`;return`Nevalida opcio: atendiĝis unu el ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Tro granda: atendiĝis ke ${c.origin??"valoro"} havu ${b}${c.maximum.toString()} ${d.unit??"elementojn"}`;return`Tro granda: atendiĝis ke ${c.origin??"valoro"} havu ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Tro malgranda: atendiĝis ke ${c.origin} havu ${b}${c.minimum.toString()} ${d.unit}`;return`Tro malgranda: atendiĝis ke ${c.origin} estu ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Nevalida karaktraro: devas komenciĝi per "${c.prefix}"`;if("ends_with"===c.format)return`Nevalida karaktraro: devas finiĝi per "${c.suffix}"`;if("includes"===c.format)return`Nevalida karaktraro: devas inkluzivi "${c.includes}"`;if("regex"===c.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${c.pattern}`;return`Nevalida ${b[c.format]??c.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${c.divisor}`;case"unrecognized_keys":return`Nekonata${c.keys.length>1?"j":""} ŝlosilo${c.keys.length>1?"j":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${c.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${c.origin}`}}})()}}function gp(){return{localeError:(()=>{let a={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},b={string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};function c(a){return b[a]??a}let d={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return b=>{switch(b.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${c(b.expected)}, recibido ${c((a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype)return a.constructor.name;return"object"}return b})(b.input))}`;case"invalid_value":if(1===b.values.length)return`Entrada inv\xe1lida: se esperaba ${cy(b.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${b5(b.values,"|")}`;case"too_big":{let d=b.inclusive?"<=":"<",e=a[b.origin]??null,f=c(b.origin);if(e)return`Demasiado grande: se esperaba que ${f??"valor"} tuviera ${d}${b.maximum.toString()} ${e.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${f??"valor"} fuera ${d}${b.maximum.toString()}`}case"too_small":{let d=b.inclusive?">=":">",e=a[b.origin]??null,f=c(b.origin);if(e)return`Demasiado peque\xf1o: se esperaba que ${f} tuviera ${d}${b.minimum.toString()} ${e.unit}`;return`Demasiado peque\xf1o: se esperaba que ${f} fuera ${d}${b.minimum.toString()}`}case"invalid_format":if("starts_with"===b.format)return`Cadena inv\xe1lida: debe comenzar con "${b.prefix}"`;if("ends_with"===b.format)return`Cadena inv\xe1lida: debe terminar en "${b.suffix}"`;if("includes"===b.format)return`Cadena inv\xe1lida: debe incluir "${b.includes}"`;if("regex"===b.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${b.pattern}`;return`Inv\xe1lido ${d[b.format]??b.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${b.divisor}`;case"unrecognized_keys":return`Llave${b.keys.length>1?"s":""} desconocida${b.keys.length>1?"s":""}: ${b5(b.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${c(b.origin)}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inv\xe1lido en ${c(b.origin)}`;default:return`Entrada inv\xe1lida`}}})()}}function gq(){return{localeError:(()=>{let a={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}},b={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"};return c=>{switch(c.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${c.expected} می‌بود، ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"عدد";case"object":if(Array.isArray(a))return"آرایه";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} دریافت شد`;case"invalid_value":if(1===c.values.length)return`ورودی نامعتبر: می‌بایست ${cy(c.values[0])} می‌بود`;return`گزینه نامعتبر: می‌بایست یکی از ${b5(c.values,"|")} می‌بود`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`خیلی بزرگ: ${c.origin??"مقدار"} باید ${b}${c.maximum.toString()} ${d.unit??"عنصر"} باشد`;return`خیلی بزرگ: ${c.origin??"مقدار"} باید ${b}${c.maximum.toString()} باشد`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`خیلی کوچک: ${c.origin} باید ${b}${c.minimum.toString()} ${d.unit} باشد`;return`خیلی کوچک: ${c.origin} باید ${b}${c.minimum.toString()} باشد`}case"invalid_format":if("starts_with"===c.format)return`رشته نامعتبر: باید با "${c.prefix}" شروع شود`;if("ends_with"===c.format)return`رشته نامعتبر: باید با "${c.suffix}" تمام شود`;if("includes"===c.format)return`رشته نامعتبر: باید شامل "${c.includes}" باشد`;if("regex"===c.format)return`رشته نامعتبر: باید با الگوی ${c.pattern} مطابقت داشته باشد`;return`${b[c.format]??c.format} نامعتبر`;case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${c.divisor} باشد`;case"unrecognized_keys":return`کلید${c.keys.length>1?"های":""} ناشناس: ${b5(c.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${c.origin}`;case"invalid_union":default:return`ورودی نامعتبر`;case"invalid_element":return`مقدار نامعتبر در ${c.origin}`}}})()}}function gr(){return{localeError:(()=>{let a={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}},b={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return c=>{switch(c.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${c.expected}, oli ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${cy(c.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Liian suuri: ${d.subject} t\xe4ytyy olla ${b}${c.maximum.toString()} ${d.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Liian pieni: ${d.subject} t\xe4ytyy olla ${b}${c.minimum.toString()} ${d.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${c.prefix}"`;if("ends_with"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${c.suffix}"`;if("includes"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${c.includes}"`;if("regex"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${c.pattern}`;return`Virheellinen ${b[c.format]??c.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${c.divisor} monikerta`;case"unrecognized_keys":return`${c.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${b5(c.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}}})()}}function gs(){return{localeError:(()=>{let a={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}},b={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return c=>{switch(c.code){case"invalid_type":return`Entr\xe9e invalide : ${c.expected} attendu, ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombre";case"object":if(Array.isArray(a))return"tableau";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} re\xe7u`;case"invalid_value":if(1===c.values.length)return`Entr\xe9e invalide : ${cy(c.values[0])} attendu`;return`Option invalide : une valeur parmi ${b5(c.values,"|")} attendue`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Trop grand : ${c.origin??"valeur"} doit ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"élément(s)"}`;return`Trop grand : ${c.origin??"valeur"} doit \xeatre ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Trop petit : ${c.origin} doit ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Trop petit : ${c.origin} doit \xeatre ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Cha\xeene invalide : doit commencer par "${c.prefix}"`;if("ends_with"===c.format)return`Cha\xeene invalide : doit se terminer par "${c.suffix}"`;if("includes"===c.format)return`Cha\xeene invalide : doit inclure "${c.includes}"`;if("regex"===c.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${c.pattern}`;return`${b[c.format]??c.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${c.divisor}`;case"unrecognized_keys":return`Cl\xe9${c.keys.length>1?"s":""} non reconnue${c.keys.length>1?"s":""} : ${b5(c.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${c.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${c.origin}`;default:return`Entr\xe9e invalide`}}})()}}function gt(){return{localeError:(()=>{let a={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}},b={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return c=>{switch(c.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${c.expected}, re\xe7u ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Entr\xe9e invalide : attendu ${cy(c.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"≤":"<",d=a[c.origin]??null;if(d)return`Trop grand : attendu que ${c.origin??"la valeur"} ait ${b}${c.maximum.toString()} ${d.unit}`;return`Trop grand : attendu que ${c.origin??"la valeur"} soit ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"≥":">",d=a[c.origin]??null;if(d)return`Trop petit : attendu que ${c.origin} ait ${b}${c.minimum.toString()} ${d.unit}`;return`Trop petit : attendu que ${c.origin} soit ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Cha\xeene invalide : doit commencer par "${c.prefix}"`;if("ends_with"===c.format)return`Cha\xeene invalide : doit se terminer par "${c.suffix}"`;if("includes"===c.format)return`Cha\xeene invalide : doit inclure "${c.includes}"`;if("regex"===c.format)return`Cha\xeene invalide : doit correspondre au motif ${c.pattern}`;return`${b[c.format]??c.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${c.divisor}`;case"unrecognized_keys":return`Cl\xe9${c.keys.length>1?"s":""} non reconnue${c.keys.length>1?"s":""} : ${b5(c.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${c.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${c.origin}`;default:return`Entr\xe9e invalide`}}})()}}function gu(){return{localeError:(()=>{let a={string:{unit:"אותיות",verb:"לכלול"},file:{unit:"בייטים",verb:"לכלול"},array:{unit:"פריטים",verb:"לכלול"},set:{unit:"פריטים",verb:"לכלול"}},b={regex:"קלט",email:"כתובת אימייל",url:"כתובת רשת",emoji:"אימוג'י",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"תאריך וזמן ISO",date:"תאריך ISO",time:"זמן ISO",duration:"משך זמן ISO",ipv4:"כתובת IPv4",ipv6:"כתובת IPv6",cidrv4:"טווח IPv4",cidrv6:"טווח IPv6",base64:"מחרוזת בבסיס 64",base64url:"מחרוזת בבסיס 64 לכתובות רשת",json_string:"מחרוזת JSON",e164:"מספר E.164",jwt:"JWT",template_literal:"קלט"};return c=>{switch(c.code){case"invalid_type":return`קלט לא תקין: צריך ${c.expected}, התקבל ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`קלט לא תקין: צריך ${cy(c.values[0])}`;return`קלט לא תקין: צריך אחת מהאפשרויות  ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`גדול מדי: ${c.origin??"value"} צריך להיות ${b}${c.maximum.toString()} ${d.unit??"elements"}`;return`גדול מדי: ${c.origin??"value"} צריך להיות ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`קטן מדי: ${c.origin} צריך להיות ${b}${c.minimum.toString()} ${d.unit}`;return`קטן מדי: ${c.origin} צריך להיות ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`מחרוזת לא תקינה: חייבת להתחיל ב"${c.prefix}"`;if("ends_with"===c.format)return`מחרוזת לא תקינה: חייבת להסתיים ב "${c.suffix}"`;if("includes"===c.format)return`מחרוזת לא תקינה: חייבת לכלול "${c.includes}"`;if("regex"===c.format)return`מחרוזת לא תקינה: חייבת להתאים לתבנית ${c.pattern}`;return`${b[c.format]??c.format} לא תקין`;case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${c.divisor}`;case"unrecognized_keys":return`מפתח${c.keys.length>1?"ות":""} לא מזוה${c.keys.length>1?"ים":"ה"}: ${b5(c.keys,", ")}`;case"invalid_key":return`מפתח לא תקין ב${c.origin}`;case"invalid_union":return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${c.origin}`;default:return`קלט לא תקין`}}})()}}function gv(){return{localeError:(()=>{let a={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},b={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"};return c=>{switch(c.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${c.expected}, a kapott \xe9rt\xe9k ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"szám";case"object":if(Array.isArray(a))return"tömb";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${cy(c.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`T\xfal nagy: ${c.origin??"érték"} m\xe9rete t\xfal nagy ${b}${c.maximum.toString()} ${d.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${c.origin??"érték"} t\xfal nagy: ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${c.origin} m\xe9rete t\xfal kicsi ${b}${c.minimum.toString()} ${d.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${c.origin} t\xfal kicsi ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`\xc9rv\xe9nytelen string: "${c.prefix}" \xe9rt\xe9kkel kell kezdődnie`;if("ends_with"===c.format)return`\xc9rv\xe9nytelen string: "${c.suffix}" \xe9rt\xe9kkel kell v\xe9gződnie`;if("includes"===c.format)return`\xc9rv\xe9nytelen string: "${c.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===c.format)return`\xc9rv\xe9nytelen string: ${c.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${b[c.format]??c.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${c.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${c.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${c.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}}})()}}function gw(){return{localeError:(()=>{let a={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},b={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`Input tidak valid: diharapkan ${c.expected}, diterima ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input tidak valid: diharapkan ${cy(c.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Terlalu besar: diharapkan ${c.origin??"value"} memiliki ${b}${c.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: diharapkan ${c.origin??"value"} menjadi ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Terlalu kecil: diharapkan ${c.origin} memiliki ${b}${c.minimum.toString()} ${d.unit}`;return`Terlalu kecil: diharapkan ${c.origin} menjadi ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`String tidak valid: harus dimulai dengan "${c.prefix}"`;if("ends_with"===c.format)return`String tidak valid: harus berakhir dengan "${c.suffix}"`;if("includes"===c.format)return`String tidak valid: harus menyertakan "${c.includes}"`;if("regex"===c.format)return`String tidak valid: harus sesuai pola ${c.pattern}`;return`${b[c.format]??c.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${c.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${c.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${c.origin}`}}})()}}function gx(){return{localeError:(()=>{let a={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}},b={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"};return c=>{switch(c.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"númer";case"object":if(Array.isArray(a))return"fylki";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} \xfear sem \xe1 a\xf0 vera ${c.expected}`;case"invalid_value":if(1===c.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${cy(c.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin??"gildi"} hafi ${b}${c.maximum.toString()} ${d.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin??"gildi"} s\xe9 ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin} hafi ${b}${c.minimum.toString()} ${d.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin} s\xe9 ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${c.prefix}"`;if("ends_with"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${c.suffix}"`;if("includes"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${c.includes}"`;if("regex"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${c.pattern}`;return`Rangt ${b[c.format]??c.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${c.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${c.keys.length>1?"ir lyklar":"ur lykill"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${c.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${c.origin}`}}})()}}function gy(){return{localeError:(()=>{let a={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},b={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`Input non valido: atteso ${c.expected}, ricevuto ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"numero";case"object":if(Array.isArray(a))return"vettore";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input non valido: atteso ${cy(c.values[0])}`;return`Opzione non valida: atteso uno tra ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Troppo grande: ${c.origin??"valore"} deve avere ${b}${c.maximum.toString()} ${d.unit??"elementi"}`;return`Troppo grande: ${c.origin??"valore"} deve essere ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Troppo piccolo: ${c.origin} deve avere ${b}${c.minimum.toString()} ${d.unit}`;return`Troppo piccolo: ${c.origin} deve essere ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Stringa non valida: deve iniziare con "${c.prefix}"`;if("ends_with"===c.format)return`Stringa non valida: deve terminare con "${c.suffix}"`;if("includes"===c.format)return`Stringa non valida: deve includere "${c.includes}"`;if("regex"===c.format)return`Stringa non valida: deve corrispondere al pattern ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${c.divisor}`;case"unrecognized_keys":return`Chiav${c.keys.length>1?"i":"e"} non riconosciut${c.keys.length>1?"e":"a"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${c.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${c.origin}`}}})()}}function gz(){return{localeError:(()=>{let a={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}},b={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"};return c=>{switch(c.code){case"invalid_type":return`無効な入力: ${c.expected}が期待されましたが、${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"数値";case"object":if(Array.isArray(a))return"配列";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}が入力されました`;case"invalid_value":if(1===c.values.length)return`無効な入力: ${cy(c.values[0])}が期待されました`;return`無効な選択: ${b5(c.values,"、")}のいずれかである必要があります`;case"too_big":{let b=c.inclusive?"以下である":"より小さい",d=a[c.origin]??null;if(d)return`大きすぎる値: ${c.origin??"値"}は${c.maximum.toString()}${d.unit??"要素"}${b}必要があります`;return`大きすぎる値: ${c.origin??"値"}は${c.maximum.toString()}${b}必要があります`}case"too_small":{let b=c.inclusive?"以上である":"より大きい",d=a[c.origin]??null;if(d)return`小さすぎる値: ${c.origin}は${c.minimum.toString()}${d.unit}${b}必要があります`;return`小さすぎる値: ${c.origin}は${c.minimum.toString()}${b}必要があります`}case"invalid_format":if("starts_with"===c.format)return`無効な文字列: "${c.prefix}"で始まる必要があります`;if("ends_with"===c.format)return`無効な文字列: "${c.suffix}"で終わる必要があります`;if("includes"===c.format)return`無効な文字列: "${c.includes}"を含む必要があります`;if("regex"===c.format)return`無効な文字列: パターン${c.pattern}に一致する必要があります`;return`無効な${b[c.format]??c.format}`;case"not_multiple_of":return`無効な数値: ${c.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${c.keys.length>1?"群":""}: ${b5(c.keys,"、")}`;case"invalid_key":return`${c.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${c.origin}内の無効な値`;default:return`無効な入力`}}})()}}function gA(){return{localeError:(()=>{let a={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}},b={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"};return c=>{switch(c.code){case"invalid_type":return`არასწორი შეყვანა: მოსალოდნელი ${c.expected}, მიღებული ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"რიცხვი";case"object":if(Array.isArray(a))return"მასივი";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return({string:"სტრინგი",boolean:"ბულეანი",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"ფუნქცია"})[b]??b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`არასწორი შეყვანა: მოსალოდნელი ${cy(c.values[0])}`;return`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${b5(c.values,"|")}-დან`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`ზედმეტად დიდი: მოსალოდნელი ${c.origin??"მნიშვნელობა"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit}`;return`ზედმეტად დიდი: მოსალოდნელი ${c.origin??"მნიშვნელობა"} იყოს ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`ზედმეტად პატარა: მოსალოდნელი ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`ზედმეტად პატარა: მოსალოდნელი ${c.origin} იყოს ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`არასწორი სტრინგი: უნდა იწყებოდეს "${c.prefix}"-ით`;if("ends_with"===c.format)return`არასწორი სტრინგი: უნდა მთავრდებოდეს "${c.suffix}"-ით`;if("includes"===c.format)return`არასწორი სტრინგი: უნდა შეიცავდეს "${c.includes}"-ს`;if("regex"===c.format)return`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${c.pattern}`;return`არასწორი ${b[c.format]??c.format}`;case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${c.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${c.keys.length>1?"ები":"ი"}: ${b5(c.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${c.origin}-ში`;case"invalid_union":return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${c.origin}-ში`;default:return`არასწორი შეყვანა`}}})()}}function gB(){return{localeError:(()=>{let a={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}},b={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"};return c=>{switch(c.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${c.expected} ប៉ុន្តែទទួលបាន ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":if(Array.isArray(a))return"អារេ (Array)";if(null===a)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${cy(c.values[0])}`;return`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`ធំពេក៖ ត្រូវការ ${c.origin??"តម្លៃ"} ${b} ${c.maximum.toString()} ${d.unit??"ធាតុ"}`;return`ធំពេក៖ ត្រូវការ ${c.origin??"តម្លៃ"} ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`តូចពេក៖ ត្រូវការ ${c.origin} ${b} ${c.minimum.toString()} ${d.unit}`;return`តូចពេក៖ ត្រូវការ ${c.origin} ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${c.prefix}"`;if("ends_with"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${c.suffix}"`;if("includes"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${c.includes}"`;if("regex"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${c.pattern}`;return`មិនត្រឹមត្រូវ៖ ${b[c.format]??c.format}`;case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${c.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${b5(c.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${c.origin}`;case"invalid_union":default:return`ទិន្នន័យមិនត្រឹមត្រូវ`;case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${c.origin}`}}})()}}function gC(){return gB()}function gD(){return{localeError:(()=>{let a={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}},b={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"};return c=>{switch(c.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${c.expected}, 받은 타입은 ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}입니다`;case"invalid_value":if(1===c.values.length)return`잘못된 입력: 값은 ${cy(c.values[0])} 이어야 합니다`;return`잘못된 옵션: ${b5(c.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{let b=c.inclusive?"이하":"미만",d="미만"===b?"이어야 합니다":"여야 합니다",e=a[c.origin]??null,f=e?.unit??"요소";if(e)return`${c.origin??"값"}이 너무 큽니다: ${c.maximum.toString()}${f} ${b}${d}`;return`${c.origin??"값"}이 너무 큽니다: ${c.maximum.toString()} ${b}${d}`}case"too_small":{let b=c.inclusive?"이상":"초과",d="이상"===b?"이어야 합니다":"여야 합니다",e=a[c.origin]??null,f=e?.unit??"요소";if(e)return`${c.origin??"값"}이 너무 작습니다: ${c.minimum.toString()}${f} ${b}${d}`;return`${c.origin??"값"}이 너무 작습니다: ${c.minimum.toString()} ${b}${d}`}case"invalid_format":if("starts_with"===c.format)return`잘못된 문자열: "${c.prefix}"(으)로 시작해야 합니다`;if("ends_with"===c.format)return`잘못된 문자열: "${c.suffix}"(으)로 끝나야 합니다`;if("includes"===c.format)return`잘못된 문자열: "${c.includes}"을(를) 포함해야 합니다`;if("regex"===c.format)return`잘못된 문자열: 정규식 ${c.pattern} 패턴과 일치해야 합니다`;return`잘못된 ${b[c.format]??c.format}`;case"not_multiple_of":return`잘못된 숫자: ${c.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${b5(c.keys,", ")}`;case"invalid_key":return`잘못된 키: ${c.origin}`;case"invalid_union":default:return`잘못된 입력`;case"invalid_element":return`잘못된 값: ${c.origin}`}}})()}}a.s([],3703);let gE=(a,b)=>{switch(a){case"number":return Number.isNaN(b)?"NaN":"skaičius";case"bigint":return"sveikasis skaičius";case"string":return"eilutė";case"boolean":return"loginė reikšmė";case"undefined":case"void":return"neapibrėžta reikšmė";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===b)return"nežinomas objektas";if(null===b)return"nulinė reikšmė";if(Array.isArray(b))return"masyvas";if(Object.getPrototypeOf(b)!==Object.prototype&&b.constructor)return b.constructor.name;return"objektas";case"null":return"nulinė reikšmė"}return a},gF=a=>a.charAt(0).toUpperCase()+a.slice(1);function gG(a){let b=Math.abs(a),c=b%10,d=b%100;return d>=11&&d<=19||0===c?"many":1===c?"one":"few"}function gH(){return{localeError:(()=>{let a={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function b(b,c,d,e){let f=a[b]??null;return null===f?f:{unit:f.unit[c],verb:f.verb[e][d?"inclusive":"notInclusive"]}}let c={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"};return a=>{switch(a.code){case"invalid_type":let d;return`Gautas tipas ${gE(typeof(d=a.input),d)}, o tikėtasi - ${gE(a.expected)}`;case"invalid_value":if(1===a.values.length)return`Privalo būti ${cy(a.values[0])}`;return`Privalo būti vienas iš ${b5(a.values,"|")} pasirinkimų`;case"too_big":{let c=gE(a.origin),d=b(a.origin,gG(Number(a.maximum)),a.inclusive??!1,"smaller");if(d?.verb)return`${gF(c??a.origin??"reikšmė")} ${d.verb} ${a.maximum.toString()} ${d.unit??"elementų"}`;let e=a.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${gF(c??a.origin??"reikšmė")} turi būti ${e} ${a.maximum.toString()} ${d?.unit}`}case"too_small":{let c=gE(a.origin),d=b(a.origin,gG(Number(a.minimum)),a.inclusive??!1,"bigger");if(d?.verb)return`${gF(c??a.origin??"reikšmė")} ${d.verb} ${a.minimum.toString()} ${d.unit??"elementų"}`;let e=a.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${gF(c??a.origin??"reikšmė")} turi būti ${e} ${a.minimum.toString()} ${d?.unit}`}case"invalid_format":if("starts_with"===a.format)return`Eilutė privalo prasidėti "${a.prefix}"`;if("ends_with"===a.format)return`Eilutė privalo pasibaigti "${a.suffix}"`;if("includes"===a.format)return`Eilutė privalo įtraukti "${a.includes}"`;if("regex"===a.format)return`Eilutė privalo atitikti ${a.pattern}`;return`Neteisingas ${c[a.format]??a.format}`;case"not_multiple_of":return`Skaičius privalo būti ${a.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${a.keys.length>1?"i":"as"} rakt${a.keys.length>1?"ai":"as"}: ${b5(a.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga įvestis";case"invalid_element":{let b=gE(a.origin);return`${gF(b??a.origin??"reikšmė")} turi klaidingą įvestį`}}}})()}}function gI(){return{localeError:(()=>{let a={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}},b={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"};return c=>{switch(c.code){case"invalid_type":return`Грешен внес: се очекува ${c.expected}, примено ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"број";case"object":if(Array.isArray(a))return"низа";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Invalid input: expected ${cy(c.values[0])}`;return`Грешана опција: се очекува една ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Премногу голем: се очекува ${c.origin??"вредноста"} да има ${b}${c.maximum.toString()} ${d.unit??"елементи"}`;return`Премногу голем: се очекува ${c.origin??"вредноста"} да биде ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Премногу мал: се очекува ${c.origin} да има ${b}${c.minimum.toString()} ${d.unit}`;return`Премногу мал: се очекува ${c.origin} да биде ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Неважечка низа: мора да започнува со "${c.prefix}"`;if("ends_with"===c.format)return`Неважечка низа: мора да завршува со "${c.suffix}"`;if("includes"===c.format)return`Неважечка низа: мора да вклучува "${c.includes}"`;if("regex"===c.format)return`Неважечка низа: мора да одгоара на патернот ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Грешен број: мора да биде делив со ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${c.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${c.origin}`;default:return`Грешен внес`}}})()}}function gJ(){return{localeError:(()=>{let a={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},b={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`Input tidak sah: dijangka ${c.expected}, diterima ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombor";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input tidak sah: dijangka ${cy(c.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Terlalu besar: dijangka ${c.origin??"nilai"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: dijangka ${c.origin??"nilai"} adalah ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Terlalu kecil: dijangka ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Terlalu kecil: dijangka ${c.origin} adalah ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`String tidak sah: mesti bermula dengan "${c.prefix}"`;if("ends_with"===c.format)return`String tidak sah: mesti berakhir dengan "${c.suffix}"`;if("includes"===c.format)return`String tidak sah: mesti mengandungi "${c.includes}"`;if("regex"===c.format)return`String tidak sah: mesti sepadan dengan corak ${c.pattern}`;return`${b[c.format]??c.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${c.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${b5(c.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${c.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${c.origin}`}}})()}}function gK(){return{localeError:(()=>{let a={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}},b={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return c=>{switch(c.code){case"invalid_type":return`Ongeldige invoer: verwacht ${c.expected}, ontving ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"getal";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ongeldige invoer: verwacht ${cy(c.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Te lang: verwacht dat ${c.origin??"waarde"} ${b}${c.maximum.toString()} ${d.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${c.origin??"waarde"} ${b}${c.maximum.toString()} is`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Te kort: verwacht dat ${c.origin} ${b}${c.minimum.toString()} ${d.unit} bevat`;return`Te kort: verwacht dat ${c.origin} ${b}${c.minimum.toString()} is`}case"invalid_format":if("starts_with"===c.format)return`Ongeldige tekst: moet met "${c.prefix}" beginnen`;if("ends_with"===c.format)return`Ongeldige tekst: moet op "${c.suffix}" eindigen`;if("includes"===c.format)return`Ongeldige tekst: moet "${c.includes}" bevatten`;if("regex"===c.format)return`Ongeldige tekst: moet overeenkomen met patroon ${c.pattern}`;return`Ongeldig: ${b[c.format]??c.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${c.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${c.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${c.origin}`}}})()}}function gL(){return{localeError:(()=>{let a={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}},b={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`Ugyldig input: forventet ${c.expected}, fikk ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"tall";case"object":if(Array.isArray(a))return"liste";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ugyldig verdi: forventet ${cy(c.values[0])}`;return`Ugyldig valg: forventet en av ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`For stor(t): forventet ${c.origin??"value"} til \xe5 ha ${b}${c.maximum.toString()} ${d.unit??"elementer"}`;return`For stor(t): forventet ${c.origin??"value"} til \xe5 ha ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`For lite(n): forventet ${c.origin} til \xe5 ha ${b}${c.minimum.toString()} ${d.unit}`;return`For lite(n): forventet ${c.origin} til \xe5 ha ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ugyldig streng: m\xe5 starte med "${c.prefix}"`;if("ends_with"===c.format)return`Ugyldig streng: m\xe5 ende med "${c.suffix}"`;if("includes"===c.format)return`Ugyldig streng: m\xe5 inneholde "${c.includes}"`;if("regex"===c.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${c.pattern}`;return`Ugyldig ${b[c.format]??c.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${c.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${c.origin}`}}})()}}function gM(){return{localeError:(()=>{let a={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}},b={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"};return c=>{switch(c.code){case"invalid_type":return`F\xe2sit giren: umulan ${c.expected}, alınan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"numara";case"object":if(Array.isArray(a))return"saf";if(null===a)return"gayb";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`F\xe2sit giren: umulan ${cy(c.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Fazla b\xfcy\xfck: ${c.origin??"value"}, ${b}${c.maximum.toString()} ${d.unit??"elements"} sahip olmalıydı.`;return`Fazla b\xfcy\xfck: ${c.origin??"value"}, ${b}${c.maximum.toString()} olmalıydı.`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Fazla k\xfc\xe7\xfck: ${c.origin}, ${b}${c.minimum.toString()} ${d.unit} sahip olmalıydı.`;return`Fazla k\xfc\xe7\xfck: ${c.origin}, ${b}${c.minimum.toString()} olmalıydı.`}case"invalid_format":if("starts_with"===c.format)return`F\xe2sit metin: "${c.prefix}" ile başlamalı.`;if("ends_with"===c.format)return`F\xe2sit metin: "${c.suffix}" ile bitmeli.`;if("includes"===c.format)return`F\xe2sit metin: "${c.includes}" ihtiv\xe2 etmeli.`;if("regex"===c.format)return`F\xe2sit metin: ${c.pattern} nakşına uymalı.`;return`F\xe2sit ${b[c.format]??c.format}`;case"not_multiple_of":return`F\xe2sit sayı: ${c.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`${c.origin} i\xe7in tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${c.origin} i\xe7in tanınmayan kıymet var.`;default:return`Kıymet tanınamadı.`}}})()}}function gN(){return{localeError:(()=>{let a={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}},b={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"};return c=>{switch(c.code){case"invalid_type":return`ناسم ورودي: باید ${c.expected} وای, مګر ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"عدد";case"object":if(Array.isArray(a))return"ارې";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} ترلاسه شو`;case"invalid_value":if(1===c.values.length)return`ناسم ورودي: باید ${cy(c.values[0])} وای`;return`ناسم انتخاب: باید یو له ${b5(c.values,"|")} څخه وای`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`ډیر لوی: ${c.origin??"ارزښت"} باید ${b}${c.maximum.toString()} ${d.unit??"عنصرونه"} ولري`;return`ډیر لوی: ${c.origin??"ارزښت"} باید ${b}${c.maximum.toString()} وي`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`ډیر کوچنی: ${c.origin} باید ${b}${c.minimum.toString()} ${d.unit} ولري`;return`ډیر کوچنی: ${c.origin} باید ${b}${c.minimum.toString()} وي`}case"invalid_format":if("starts_with"===c.format)return`ناسم متن: باید د "${c.prefix}" سره پیل شي`;if("ends_with"===c.format)return`ناسم متن: باید د "${c.suffix}" سره پای ته ورسيږي`;if("includes"===c.format)return`ناسم متن: باید "${c.includes}" ولري`;if("regex"===c.format)return`ناسم متن: باید د ${c.pattern} سره مطابقت ولري`;return`${b[c.format]??c.format} ناسم دی`;case"not_multiple_of":return`ناسم عدد: باید د ${c.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${c.keys.length>1?"کلیډونه":"کلیډ"}: ${b5(c.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${c.origin} کې`;case"invalid_union":default:return`ناسمه ورودي`;case"invalid_element":return`ناسم عنصر په ${c.origin} کې`}}})()}}function gO(){return{localeError:(()=>{let a={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}},b={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"};return c=>{switch(c.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${c.expected}, otrzymano ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"liczba";case"object":if(Array.isArray(a))return"tablica";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Nieprawidłowe dane wejściowe: oczekiwano ${cy(c.values[0])}`;return`Nieprawidłowa opcja: oczekiwano jednej z wartości ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Za duża wartość: oczekiwano, że ${c.origin??"wartość"} będzie mieć ${b}${c.maximum.toString()} ${d.unit??"elementów"}`;return`Zbyt duż(y/a/e): oczekiwano, że ${c.origin??"wartość"} będzie wynosić ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Za mała wartość: oczekiwano, że ${c.origin??"wartość"} będzie mieć ${b}${c.minimum.toString()} ${d.unit??"elementów"}`;return`Zbyt mał(y/a/e): oczekiwano, że ${c.origin??"wartość"} będzie wynosić ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi zaczynać się od "${c.prefix}"`;if("ends_with"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi kończyć się na "${c.suffix}"`;if("includes"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi zawierać "${c.includes}"`;if("regex"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi odpowiadać wzorcowi ${c.pattern}`;return`Nieprawidłow(y/a/e) ${b[c.format]??c.format}`;case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${c.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${c.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${c.origin}`;default:return`Nieprawidłowe dane wejściowe`}}})()}}function gP(){return{localeError:(()=>{let a={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},b={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return c=>{switch(c.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${c.expected}, recebido ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"número";case"object":if(Array.isArray(a))return"array";if(null===a)return"nulo";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Entrada inv\xe1lida: esperado ${cy(c.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Muito grande: esperado que ${c.origin??"valor"} tivesse ${b}${c.maximum.toString()} ${d.unit??"elementos"}`;return`Muito grande: esperado que ${c.origin??"valor"} fosse ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Muito pequeno: esperado que ${c.origin} tivesse ${b}${c.minimum.toString()} ${d.unit}`;return`Muito pequeno: esperado que ${c.origin} fosse ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Texto inv\xe1lido: deve come\xe7ar com "${c.prefix}"`;if("ends_with"===c.format)return`Texto inv\xe1lido: deve terminar com "${c.suffix}"`;if("includes"===c.format)return`Texto inv\xe1lido: deve incluir "${c.includes}"`;if("regex"===c.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${c.pattern}`;return`${b[c.format]??c.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${c.divisor}`;case"unrecognized_keys":return`Chave${c.keys.length>1?"s":""} desconhecida${c.keys.length>1?"s":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${c.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inv\xe1lido em ${c.origin}`;default:return`Campo inv\xe1lido`}}})()}}function gQ(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function gR(){return{localeError:(()=>{let a={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}},b={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"};return c=>{switch(c.code){case"invalid_type":return`Неверный ввод: ожидалось ${c.expected}, получено ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"число";case"object":if(Array.isArray(a))return"массив";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Неверный ввод: ожидалось ${cy(c.values[0])}`;return`Неверный вариант: ожидалось одно из ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d){let a=gQ(Number(c.maximum),d.unit.one,d.unit.few,d.unit.many);return`Слишком большое значение: ожидалось, что ${c.origin??"значение"} будет иметь ${b}${c.maximum.toString()} ${a}`}return`Слишком большое значение: ожидалось, что ${c.origin??"значение"} будет ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d){let a=gQ(Number(c.minimum),d.unit.one,d.unit.few,d.unit.many);return`Слишком маленькое значение: ожидалось, что ${c.origin} будет иметь ${b}${c.minimum.toString()} ${a}`}return`Слишком маленькое значение: ожидалось, что ${c.origin} будет ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Неверная строка: должна начинаться с "${c.prefix}"`;if("ends_with"===c.format)return`Неверная строка: должна заканчиваться на "${c.suffix}"`;if("includes"===c.format)return`Неверная строка: должна содержать "${c.includes}"`;if("regex"===c.format)return`Неверная строка: должна соответствовать шаблону ${c.pattern}`;return`Неверный ${b[c.format]??c.format}`;case"not_multiple_of":return`Неверное число: должно быть кратным ${c.divisor}`;case"unrecognized_keys":return`Нераспознанн${c.keys.length>1?"ые":"ый"} ключ${c.keys.length>1?"и":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${c.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${c.origin}`;default:return`Неверные входные данные`}}})()}}function gS(){return{localeError:(()=>{let a={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},b={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"};return c=>{switch(c.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${c.expected}, prejeto ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"število";case"object":if(Array.isArray(a))return"tabela";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Neveljaven vnos: pričakovano ${cy(c.values[0])}`;return`Neveljavna možnost: pričakovano eno izmed ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Preveliko: pričakovano, da bo ${c.origin??"vrednost"} imelo ${b}${c.maximum.toString()} ${d.unit??"elementov"}`;return`Preveliko: pričakovano, da bo ${c.origin??"vrednost"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Premajhno: pričakovano, da bo ${c.origin} imelo ${b}${c.minimum.toString()} ${d.unit}`;return`Premajhno: pričakovano, da bo ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Neveljaven niz: mora se začeti z "${c.prefix}"`;if("ends_with"===c.format)return`Neveljaven niz: mora se končati z "${c.suffix}"`;if("includes"===c.format)return`Neveljaven niz: mora vsebovati "${c.includes}"`;if("regex"===c.format)return`Neveljaven niz: mora ustrezati vzorcu ${c.pattern}`;return`Neveljaven ${b[c.format]??c.format}`;case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${c.divisor}`;case"unrecognized_keys":return`Neprepoznan${c.keys.length>1?"i ključi":" ključ"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${c.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${c.origin}`}}})()}}function gT(){return{localeError:(()=>{let a={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}},b={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return c=>{switch(c.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${c.expected}, fick ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"antal";case"object":if(Array.isArray(a))return"lista";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${cy(c.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${c.origin??"värdet"} att ha ${b}${c.maximum.toString()} ${d.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${c.origin??"värdet"} att ha ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${c.origin??"värdet"} att ha ${b}${c.minimum.toString()} ${d.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${c.origin??"värdet"} att ha ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${c.prefix}"`;if("ends_with"===c.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${c.suffix}"`;if("includes"===c.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${c.includes}"`;if("regex"===c.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${c.pattern}"`;return`Ogiltig(t) ${b[c.format]??c.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${b5(c.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${c.origin??"värdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${c.origin??"värdet"}`}}})()}}function gU(){return{localeError:(()=>{let a={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}},b={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${c.expected}, பெறப்பட்டது ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"எண் அல்லாதது":"எண்";case"object":if(Array.isArray(a))return"அணி";if(null===a)return"வெறுமை";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${cy(c.values[0])}`;return`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${b5(c.values,"|")} இல் ஒன்று`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${c.origin??"மதிப்பு"} ${b}${c.maximum.toString()} ${d.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`;return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${c.origin??"மதிப்பு"} ${b}${c.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${c.origin} ${b}${c.minimum.toString()} ${d.unit} ஆக இருக்க வேண்டும்`;return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${c.origin} ${b}${c.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":if("starts_with"===c.format)return`தவறான சரம்: "${c.prefix}" இல் தொடங்க வேண்டும்`;if("ends_with"===c.format)return`தவறான சரம்: "${c.suffix}" இல் முடிவடைய வேண்டும்`;if("includes"===c.format)return`தவறான சரம்: "${c.includes}" ஐ உள்ளடக்க வேண்டும்`;if("regex"===c.format)return`தவறான சரம்: ${c.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`;return`தவறான ${b[c.format]??c.format}`;case"not_multiple_of":return`தவறான எண்: ${c.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${c.keys.length>1?"கள்":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`${c.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${c.origin} இல் தவறான மதிப்பு`;default:return`தவறான உள்ளீடு`}}})()}}function gV(){return{localeError:(()=>{let a={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}},b={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"};return c=>{switch(c.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${c.expected} แต่ได้รับ ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":if(Array.isArray(a))return"อาร์เรย์ (Array)";if(null===a)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`ค่าไม่ถูกต้อง: ควรเป็น ${cy(c.values[0])}`;return`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"ไม่เกิน":"น้อยกว่า",d=a[c.origin]??null;if(d)return`เกินกำหนด: ${c.origin??"ค่า"} ควรมี${b} ${c.maximum.toString()} ${d.unit??"รายการ"}`;return`เกินกำหนด: ${c.origin??"ค่า"} ควรมี${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"อย่างน้อย":"มากกว่า",d=a[c.origin]??null;if(d)return`น้อยกว่ากำหนด: ${c.origin} ควรมี${b} ${c.minimum.toString()} ${d.unit}`;return`น้อยกว่ากำหนด: ${c.origin} ควรมี${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${c.prefix}"`;if("ends_with"===c.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${c.suffix}"`;if("includes"===c.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${c.includes}" อยู่ในข้อความ`;if("regex"===c.format)return`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${c.pattern}`;return`รูปแบบไม่ถูกต้อง: ${b[c.format]??c.format}`;case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${c.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${b5(c.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${c.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${c.origin}`;default:return`ข้อมูลไม่ถูกต้อง`}}})()}}function gW(){return{localeError:(()=>{let a={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}},b={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"};return c=>{switch(c.code){case"invalid_type":return`Ge\xe7ersiz değer: beklenen ${c.expected}, alınan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ge\xe7ersiz değer: beklenen ${cy(c.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aşağıdakilerden biri olmalı: ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`\xc7ok b\xfcy\xfck: beklenen ${c.origin??"değer"} ${b}${c.maximum.toString()} ${d.unit??"öğe"}`;return`\xc7ok b\xfcy\xfck: beklenen ${c.origin??"değer"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`\xc7ok k\xfc\xe7\xfck: beklenen ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ge\xe7ersiz metin: "${c.prefix}" ile başlamalı`;if("ends_with"===c.format)return`Ge\xe7ersiz metin: "${c.suffix}" ile bitmeli`;if("includes"===c.format)return`Ge\xe7ersiz metin: "${c.includes}" i\xe7ermeli`;if("regex"===c.format)return`Ge\xe7ersiz metin: ${c.pattern} desenine uymalı`;return`Ge\xe7ersiz ${b[c.format]??c.format}`;case"not_multiple_of":return`Ge\xe7ersiz sayı: ${c.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${c.keys.length>1?"lar":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`${c.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${c.origin} i\xe7inde ge\xe7ersiz değer`;default:return`Ge\xe7ersiz değer`}}})()}}function gX(){return{localeError:(()=>{let a={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}},b={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"};return c=>{switch(c.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${c.expected}, отримано ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"число";case"object":if(Array.isArray(a))return"масив";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Неправильні вхідні дані: очікується ${cy(c.values[0])}`;return`Неправильна опція: очікується одне з ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Занадто велике: очікується, що ${c.origin??"значення"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"елементів"}`;return`Занадто велике: очікується, що ${c.origin??"значення"} буде ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Занадто мале: очікується, що ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Занадто мале: очікується, що ${c.origin} буде ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Неправильний рядок: повинен починатися з "${c.prefix}"`;if("ends_with"===c.format)return`Неправильний рядок: повинен закінчуватися на "${c.suffix}"`;if("includes"===c.format)return`Неправильний рядок: повинен містити "${c.includes}"`;if("regex"===c.format)return`Неправильний рядок: повинен відповідати шаблону ${c.pattern}`;return`Неправильний ${b[c.format]??c.format}`;case"not_multiple_of":return`Неправильне число: повинно бути кратним ${c.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${c.keys.length>1?"і":""}: ${b5(c.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${c.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${c.origin}`;default:return`Неправильні вхідні дані`}}})()}}function gY(){return gX()}function gZ(){return{localeError:(()=>{let a={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}},b={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"};return c=>{switch(c.code){case"invalid_type":return`غلط ان پٹ: ${c.expected} متوقع تھا، ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"نمبر";case"object":if(Array.isArray(a))return"آرے";if(null===a)return"نل";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} موصول ہوا`;case"invalid_value":if(1===c.values.length)return`غلط ان پٹ: ${cy(c.values[0])} متوقع تھا`;return`غلط آپشن: ${b5(c.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`بہت بڑا: ${c.origin??"ویلیو"} کے ${b}${c.maximum.toString()} ${d.unit??"عناصر"} ہونے متوقع تھے`;return`بہت بڑا: ${c.origin??"ویلیو"} کا ${b}${c.maximum.toString()} ہونا متوقع تھا`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`بہت چھوٹا: ${c.origin} کے ${b}${c.minimum.toString()} ${d.unit} ہونے متوقع تھے`;return`بہت چھوٹا: ${c.origin} کا ${b}${c.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":if("starts_with"===c.format)return`غلط سٹرنگ: "${c.prefix}" سے شروع ہونا چاہیے`;if("ends_with"===c.format)return`غلط سٹرنگ: "${c.suffix}" پر ختم ہونا چاہیے`;if("includes"===c.format)return`غلط سٹرنگ: "${c.includes}" شامل ہونا چاہیے`;if("regex"===c.format)return`غلط سٹرنگ: پیٹرن ${c.pattern} سے میچ ہونا چاہیے`;return`غلط ${b[c.format]??c.format}`;case"not_multiple_of":return`غلط نمبر: ${c.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${c.keys.length>1?"ز":""}: ${b5(c.keys,"، ")}`;case"invalid_key":return`${c.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${c.origin} میں غلط ویلیو`;default:return`غلط ان پٹ`}}})()}}function g$(){return{localeError:(()=>{let a={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}},b={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"};return c=>{switch(c.code){case"invalid_type":return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${c.expected}, nhận được ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"số";case"object":if(Array.isArray(a))return"mảng";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${cy(c.values[0])}`;return`T\xf9y chọn kh\xf4ng hợp lệ: mong đợi một trong c\xe1c gi\xe1 trị ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Qu\xe1 lớn: mong đợi ${c.origin??"giá trị"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"phần tử"}`;return`Qu\xe1 lớn: mong đợi ${c.origin??"giá trị"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Qu\xe1 nhỏ: mong đợi ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Qu\xe1 nhỏ: mong đợi ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải bắt đầu bằng "${c.prefix}"`;if("ends_with"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải kết th\xfac bằng "${c.suffix}"`;if("includes"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải bao gồm "${c.includes}"`;if("regex"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải khớp với mẫu ${c.pattern}`;return`${b[c.format]??c.format} kh\xf4ng hợp lệ`;case"not_multiple_of":return`Số kh\xf4ng hợp lệ: phải l\xe0 bội số của ${c.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng được nhận dạng: ${b5(c.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hợp lệ trong ${c.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Gi\xe1 trị kh\xf4ng hợp lệ trong ${c.origin}`;default:return`Đầu v\xe0o kh\xf4ng hợp lệ`}}})()}}function g_(){return{localeError:(()=>{let a={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}},b={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"};return c=>{switch(c.code){case"invalid_type":return`无效输入：期望 ${c.expected}，实际接收 ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"非数字(NaN)":"数字";case"object":if(Array.isArray(a))return"数组";if(null===a)return"空值(null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`无效输入：期望 ${cy(c.values[0])}`;return`无效选项：期望以下之一 ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`数值过大：期望 ${c.origin??"值"} ${b}${c.maximum.toString()} ${d.unit??"个元素"}`;return`数值过大：期望 ${c.origin??"值"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`数值过小：期望 ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`数值过小：期望 ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`无效字符串：必须以 "${c.prefix}" 开头`;if("ends_with"===c.format)return`无效字符串：必须以 "${c.suffix}" 结尾`;if("includes"===c.format)return`无效字符串：必须包含 "${c.includes}"`;if("regex"===c.format)return`无效字符串：必须满足正则表达式 ${c.pattern}`;return`无效${b[c.format]??c.format}`;case"not_multiple_of":return`无效数字：必须是 ${c.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${b5(c.keys,", ")}`;case"invalid_key":return`${c.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${c.origin} 中包含无效值(value)`;default:return`无效输入`}}})()}}function g0(){return{localeError:(()=>{let a={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}},b={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"};return c=>{switch(c.code){case"invalid_type":return`無效的輸入值：預期為 ${c.expected}，但收到 ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`無效的輸入值：預期為 ${cy(c.values[0])}`;return`無效的選項：預期為以下其中之一 ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`數值過大：預期 ${c.origin??"值"} 應為 ${b}${c.maximum.toString()} ${d.unit??"個元素"}`;return`數值過大：預期 ${c.origin??"值"} 應為 ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`數值過小：預期 ${c.origin} 應為 ${b}${c.minimum.toString()} ${d.unit}`;return`數值過小：預期 ${c.origin} 應為 ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`無效的字串：必須以 "${c.prefix}" 開頭`;if("ends_with"===c.format)return`無效的字串：必須以 "${c.suffix}" 結尾`;if("includes"===c.format)return`無效的字串：必須包含 "${c.includes}"`;if("regex"===c.format)return`無效的字串：必須符合格式 ${c.pattern}`;return`無效的 ${b[c.format]??c.format}`;case"not_multiple_of":return`無效的數字：必須為 ${c.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${c.keys.length>1?"們":""}：${b5(c.keys,"、")}`;case"invalid_key":return`${c.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${c.origin} 中有無效的值`;default:return`無效的輸入值`}}})()}}function g1(){return{localeError:(()=>{let a={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}},b={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"};return c=>{switch(c.code){case"invalid_type":return`\xccb\xe1wọl\xe9 aṣ\xecṣe: a n\xed l\xe1ti fi ${c.expected}, \xe0mọ̀ a r\xed ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nọ́mbà";case"object":if(Array.isArray(a))return"akopọ";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`\xccb\xe1wọl\xe9 aṣ\xecṣe: a n\xed l\xe1ti fi ${cy(c.values[0])}`;return`\xc0ṣ\xe0y\xe0n aṣ\xecṣe: yan ọ̀kan l\xe1ra ${b5(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`T\xf3 pọ̀ j\xf9: a n\xed l\xe1ti jẹ́ p\xe9 ${c.origin??"iye"} ${d.verb} ${b}${c.maximum} ${d.unit}`;return`T\xf3 pọ̀ j\xf9: a n\xed l\xe1ti jẹ́ ${b}${c.maximum}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`K\xe9r\xe9 ju: a n\xed l\xe1ti jẹ́ p\xe9 ${c.origin} ${d.verb} ${b}${c.minimum} ${d.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti jẹ́ ${b}${c.minimum}`}case"invalid_format":if("starts_with"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀l\xfa "${c.prefix}"`;if("ends_with"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ par\xed pẹ̀l\xfa "${c.suffix}"`;if("includes"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ n\xed "${c.includes}"`;if("regex"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ b\xe1 \xe0pẹẹrẹ mu ${c.pattern}`;return`Aṣ\xecṣe: ${b[c.format]??c.format}`;case"not_multiple_of":return`Nọ́mb\xe0 aṣ\xecṣe: gbọ́dọ̀ jẹ́ \xe8y\xe0 p\xedp\xedn ti ${c.divisor}`;case"unrecognized_keys":return`Bọt\xecn\xec \xe0\xecmọ̀: ${b5(c.keys,", ")}`;case"invalid_key":return`Bọt\xecn\xec aṣ\xecṣe n\xedn\xfa ${c.origin}`;case"invalid_union":default:return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣ\xecṣe n\xedn\xfa ${c.origin}`}}})()}}a.s(["$ZodRegistry",()=>g4,"$input",()=>g3,"$output",()=>g2,"globalRegistry",()=>g6,"registry",()=>g5],84154);let g2=Symbol("ZodOutput"),g3=Symbol("ZodInput");class g4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function g5(){return new g4}let g6=g5();function g7(a,b){return new a({type:"string",...cw(b)})}function g8(a,b){return new a({type:"string",coerce:!0,...cw(b)})}function g9(a,b){return new a({type:"string",format:"email",check:"string_format",abort:!1,...cw(b)})}function ha(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...cw(b)})}function hb(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...cw(b)})}function hc(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...cw(b)})}function hd(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...cw(b)})}function he(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...cw(b)})}function hf(a,b){return new a({type:"string",format:"url",check:"string_format",abort:!1,...cw(b)})}function hg(a,b){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...cw(b)})}function hh(a,b){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...cw(b)})}function hi(a,b){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...cw(b)})}function hj(a,b){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...cw(b)})}function hk(a,b){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...cw(b)})}function hl(a,b){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...cw(b)})}function hm(a,b){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...cw(b)})}function hn(a,b){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...cw(b)})}function ho(a,b){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...cw(b)})}function hp(a,b){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...cw(b)})}function hq(a,b){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...cw(b)})}function hr(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...cw(b)})}function hs(a,b){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...cw(b)})}function ht(a,b){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...cw(b)})}function hu(a,b){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...cw(b)})}a.s(["TimePrecision",()=>hv,"_any",()=>hQ,"_array",()=>ip,"_base64",()=>hr,"_base64url",()=>hs,"_bigint",()=>hJ,"_boolean",()=>hH,"_catch",()=>iH,"_check",()=>iQ,"_cidrv4",()=>hp,"_cidrv6",()=>hq,"_coercedBigint",()=>hK,"_coercedBoolean",()=>hI,"_coercedDate",()=>hV,"_coercedNumber",()=>hB,"_coercedString",()=>g8,"_cuid",()=>hi,"_cuid2",()=>hj,"_custom",()=>iN,"_date",()=>hU,"_default",()=>iE,"_discriminatedUnion",()=>ir,"_e164",()=>ht,"_email",()=>g9,"_emoji",()=>hg,"_endsWith",()=>ig,"_enum",()=>ix,"_file",()=>iA,"_float32",()=>hD,"_float64",()=>hE,"_gt",()=>hZ,"_gte",()=>h$,"_guid",()=>ha,"_includes",()=>id,"_int",()=>hC,"_int32",()=>hF,"_int64",()=>hL,"_intersection",()=>is,"_ipv4",()=>hn,"_ipv6",()=>ho,"_isoDate",()=>hx,"_isoDateTime",()=>hw,"_isoDuration",()=>hz,"_isoTime",()=>hy,"_jwt",()=>hu,"_ksuid",()=>hm,"_lazy",()=>iL,"_length",()=>h9,"_literal",()=>iz,"_lowercase",()=>ib,"_lt",()=>hX,"_lte",()=>hY,"_map",()=>iv,"_max",()=>hY,"_maxLength",()=>h7,"_maxSize",()=>h4,"_mime",()=>ii,"_min",()=>h$,"_minLength",()=>h8,"_minSize",()=>h5,"_multipleOf",()=>h3,"_nan",()=>hW,"_nanoid",()=>hh,"_nativeEnum",()=>iy,"_negative",()=>h0,"_never",()=>hS,"_nonnegative",()=>h2,"_nonoptional",()=>iF,"_nonpositive",()=>h1,"_normalize",()=>ik,"_null",()=>hP,"_nullable",()=>iD,"_number",()=>hA,"_optional",()=>iC,"_overwrite",()=>ij,"_pipe",()=>iI,"_positive",()=>h_,"_promise",()=>iM,"_property",()=>ih,"_readonly",()=>iJ,"_record",()=>iu,"_refine",()=>iO,"_regex",()=>ia,"_set",()=>iw,"_size",()=>h6,"_startsWith",()=>ie,"_string",()=>g7,"_stringFormat",()=>iS,"_stringbool",()=>iR,"_success",()=>iG,"_superRefine",()=>iP,"_symbol",()=>hN,"_templateLiteral",()=>iK,"_toLowerCase",()=>im,"_toUpperCase",()=>io,"_transform",()=>iB,"_trim",()=>il,"_tuple",()=>it,"_uint32",()=>hG,"_uint64",()=>hM,"_ulid",()=>hk,"_undefined",()=>hO,"_union",()=>iq,"_unknown",()=>hR,"_uppercase",()=>ic,"_url",()=>hf,"_uuid",()=>hb,"_uuidv4",()=>hc,"_uuidv6",()=>hd,"_uuidv7",()=>he,"_void",()=>hT,"_xid",()=>hl],35824);let hv={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function hw(a,b){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...cw(b)})}function hx(a,b){return new a({type:"string",format:"date",check:"string_format",...cw(b)})}function hy(a,b){return new a({type:"string",format:"time",check:"string_format",precision:null,...cw(b)})}function hz(a,b){return new a({type:"string",format:"duration",check:"string_format",...cw(b)})}function hA(a,b){return new a({type:"number",checks:[],...cw(b)})}function hB(a,b){return new a({type:"number",coerce:!0,checks:[],...cw(b)})}function hC(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"safeint",...cw(b)})}function hD(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float32",...cw(b)})}function hE(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float64",...cw(b)})}function hF(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"int32",...cw(b)})}function hG(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"uint32",...cw(b)})}function hH(a,b){return new a({type:"boolean",...cw(b)})}function hI(a,b){return new a({type:"boolean",coerce:!0,...cw(b)})}function hJ(a,b){return new a({type:"bigint",...cw(b)})}function hK(a,b){return new a({type:"bigint",coerce:!0,...cw(b)})}function hL(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...cw(b)})}function hM(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...cw(b)})}function hN(a,b){return new a({type:"symbol",...cw(b)})}function hO(a,b){return new a({type:"undefined",...cw(b)})}function hP(a,b){return new a({type:"null",...cw(b)})}function hQ(a){return new a({type:"any"})}function hR(a){return new a({type:"unknown"})}function hS(a,b){return new a({type:"never",...cw(b)})}function hT(a,b){return new a({type:"void",...cw(b)})}function hU(a,b){return new a({type:"date",...cw(b)})}function hV(a,b){return new a({type:"date",coerce:!0,...cw(b)})}function hW(a,b){return new a({type:"nan",...cw(b)})}function hX(a,b){return new es({check:"less_than",...cw(b),value:a,inclusive:!1})}function hY(a,b){return new es({check:"less_than",...cw(b),value:a,inclusive:!0})}function hZ(a,b){return new et({check:"greater_than",...cw(b),value:a,inclusive:!1})}function h$(a,b){return new et({check:"greater_than",...cw(b),value:a,inclusive:!0})}function h_(a){return hZ(0,a)}function h0(a){return hX(0,a)}function h1(a){return hY(0,a)}function h2(a){return h$(0,a)}function h3(a,b){return new eu({check:"multiple_of",...cw(b),value:a})}function h4(a,b){return new ex({check:"max_size",...cw(b),maximum:a})}function h5(a,b){return new ey({check:"min_size",...cw(b),minimum:a})}function h6(a,b){return new ez({check:"size_equals",...cw(b),size:a})}function h7(a,b){return new eA({check:"max_length",...cw(b),maximum:a})}function h8(a,b){return new eB({check:"min_length",...cw(b),minimum:a})}function h9(a,b){return new eC({check:"length_equals",...cw(b),length:a})}function ia(a,b){return new eE({check:"string_format",format:"regex",...cw(b),pattern:a})}function ib(a){return new eF({check:"string_format",format:"lowercase",...cw(a)})}function ic(a){return new eG({check:"string_format",format:"uppercase",...cw(a)})}function id(a,b){return new eH({check:"string_format",format:"includes",...cw(b),includes:a})}function ie(a,b){return new eI({check:"string_format",format:"starts_with",...cw(b),prefix:a})}function ig(a,b){return new eJ({check:"string_format",format:"ends_with",...cw(b),suffix:a})}function ih(a,b,c){return new eL({check:"property",property:a,schema:b,...cw(c)})}function ii(a,b){return new eM({check:"mime_type",mime:a,...cw(b)})}function ij(a){return new eN({check:"overwrite",tx:a})}function ik(a){return ij(b=>b.normalize(a))}function il(){return ij(a=>a.trim())}function im(){return ij(a=>a.toLowerCase())}function io(){return ij(a=>a.toUpperCase())}function ip(a,b,c){return new a({type:"array",element:b,...cw(c)})}function iq(a,b,c){return new a({type:"union",options:b,...cw(c)})}function ir(a,b,c,d){return new a({type:"union",options:c,discriminator:b,...cw(d)})}function is(a,b,c){return new a({type:"intersection",left:b,right:c})}function it(a,b,c,d){let e=c instanceof eQ,f=e?d:c;return new a({type:"tuple",items:b,rest:e?c:null,...cw(f)})}function iu(a,b,c,d){return new a({type:"record",keyType:b,valueType:c,...cw(d)})}function iv(a,b,c,d){return new a({type:"map",keyType:b,valueType:c,...cw(d)})}function iw(a,b,c){return new a({type:"set",valueType:b,...cw(c)})}function ix(a,b,c){return new a({type:"enum",entries:Array.isArray(b)?Object.fromEntries(b.map(a=>[a,a])):b,...cw(c)})}function iy(a,b,c){return new a({type:"enum",entries:b,...cw(c)})}function iz(a,b,c){return new a({type:"literal",values:Array.isArray(b)?b:[b],...cw(c)})}function iA(a,b){return new a({type:"file",...cw(b)})}function iB(a,b){return new a({type:"transform",transform:b})}function iC(a,b){return new a({type:"optional",innerType:b})}function iD(a,b){return new a({type:"nullable",innerType:b})}function iE(a,b,c){return new a({type:"default",innerType:b,get defaultValue(){return"function"==typeof c?c():cp(c)}})}function iF(a,b,c){return new a({type:"nonoptional",innerType:b,...cw(c)})}function iG(a,b){return new a({type:"success",innerType:b})}function iH(a,b,c){return new a({type:"catch",innerType:b,catchValue:"function"==typeof c?c:()=>c})}function iI(a,b,c){return new a({type:"pipe",in:b,out:c})}function iJ(a,b){return new a({type:"readonly",innerType:b})}function iK(a,b,c){return new a({type:"template_literal",parts:b,...cw(c)})}function iL(a,b){return new a({type:"lazy",getter:b})}function iM(a,b){return new a({type:"promise",innerType:b})}function iN(a,b,c){let d=cw(c);return d.abort??(d.abort=!0),new a({type:"custom",check:"custom",fn:b,...d})}function iO(a,b,c){return new a({type:"custom",check:"custom",fn:b,...cw(c)})}function iP(a){let b=iQ(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(cP(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(cP(a)))},a(c.value,c)));return b}function iQ(a,b){let c=new eq({check:"custom",...cw(b)});return c._zod.check=a,c}function iR(a,b){let c=cw(b),d=c.truthy??["true","1","yes","on","y","enabled"],e=c.falsy??["false","0","no","off","n","disabled"];"sensitive"!==c.case&&(d=d.map(a=>"string"==typeof a?a.toLowerCase():a),e=e.map(a=>"string"==typeof a?a.toLowerCase():a));let f=new Set(d),g=new Set(e),h=a.Codec??f3,i=a.Boolean??fk,j=new h({type:"pipe",in:new(a.String??eR)({type:"string",error:c.error}),out:new i({type:"boolean",error:c.error}),transform:(a,b)=>{let d=a;return"sensitive"!==c.case&&(d=d.toLowerCase()),!!f.has(d)||!g.has(d)&&(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...f,...g],input:b.value,inst:j,continue:!1}),{})},reverseTransform:(a,b)=>!0===a?d[0]||"true":e[0]||"false",error:c.error});return j}function iS(a,b,c,d={}){let e=cw(d),f={...cw(d),check:"string_format",type:"string",format:b,fn:"function"==typeof c?c:a=>c.test(a),...e};return c instanceof RegExp&&(f.pattern=c),new a(f)}a.s(["JSONSchemaGenerator",()=>iT,"toJSONSchema",()=>iU],65330);class iT{constructor(a){this.counter=0,this.metadataRegistry=a?.metadata??g6,this.target=a?.target??"draft-2020-12",this.unrepresentable=a?.unrepresentable??"throw",this.override=a?.override??(()=>{}),this.io=a?.io??"output",this.seen=new Map}process(a,b={path:[],schemaPath:[]}){var c;let d=a._zod.def,e=this.seen.get(a);if(e)return e.count++,b.schemaPath.includes(a)&&(e.cycle=b.path),e.schema;let f={schema:{},count:1,cycle:void 0,path:b.path};this.seen.set(a,f);let g=a._zod.toJSONSchema?.();if(g)f.schema=g;else{let c={...b,schemaPath:[...b.schemaPath,a],path:b.path},e=a._zod.parent;if(e)f.ref=e,this.process(e,c),this.seen.get(e).isParent=!0;else{let b=f.schema;switch(d.type){case"string":{b.type="string";let{minimum:c,maximum:d,format:e,patterns:g,contentEncoding:h}=a._zod.bag;if("number"==typeof c&&(b.minLength=c),"number"==typeof d&&(b.maxLength=d),e&&(b.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[e]??e,""===b.format&&delete b.format),h&&(b.contentEncoding=h),g&&g.size>0){let a=[...g];1===a.length?b.pattern=a[0].source:a.length>1&&(f.schema.allOf=[...a.map(a=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:a.source}))])}break}case"number":{let{minimum:c,maximum:d,format:e,multipleOf:f,exclusiveMaximum:g,exclusiveMinimum:h}=a._zod.bag;"string"==typeof e&&e.includes("int")?b.type="integer":b.type="number","number"==typeof h&&("draft-4"===this.target||"openapi-3.0"===this.target?(b.minimum=h,b.exclusiveMinimum=!0):b.exclusiveMinimum=h),"number"==typeof c&&(b.minimum=c,"number"==typeof h&&"draft-4"!==this.target&&(h>=c?delete b.minimum:delete b.exclusiveMinimum)),"number"==typeof g&&("draft-4"===this.target||"openapi-3.0"===this.target?(b.maximum=g,b.exclusiveMaximum=!0):b.exclusiveMaximum=g),"number"==typeof d&&(b.maximum=d,"number"==typeof g&&"draft-4"!==this.target&&(g<=d?delete b.maximum:delete b.exclusiveMaximum)),"number"==typeof f&&(b.multipleOf=f);break}case"boolean":case"success":b.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(b.type="string",b.nullable=!0,b.enum=[null]):b.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":b.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:e,maximum:f}=a._zod.bag;"number"==typeof e&&(b.minItems=e),"number"==typeof f&&(b.maxItems=f),b.type="array",b.items=this.process(d.element,{...c,path:[...c.path,"items"]});break}case"object":{b.type="object",b.properties={};let a=d.shape;for(let d in a)b.properties[d]=this.process(a[d],{...c,path:[...c.path,"properties",d]});let e=new Set([...new Set(Object.keys(a))].filter(a=>{let b=d.shape[a]._zod;return"input"===this.io?void 0===b.optin:void 0===b.optout}));e.size>0&&(b.required=Array.from(e)),d.catchall?._zod.def.type==="never"?b.additionalProperties=!1:d.catchall?d.catchall&&(b.additionalProperties=this.process(d.catchall,{...c,path:[...c.path,"additionalProperties"]})):"output"===this.io&&(b.additionalProperties=!1);break}case"union":b.anyOf=d.options.map((a,b)=>this.process(a,{...c,path:[...c.path,"anyOf",b]}));break;case"intersection":{let a=this.process(d.left,{...c,path:[...c.path,"allOf",0]}),e=this.process(d.right,{...c,path:[...c.path,"allOf",1]}),f=a=>"allOf"in a&&1===Object.keys(a).length;b.allOf=[...f(a)?a.allOf:[a],...f(e)?e.allOf:[e]];break}case"tuple":{b.type="array";let e="draft-2020-12"===this.target?"prefixItems":"items",f="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",g=d.items.map((a,b)=>this.process(a,{...c,path:[...c.path,e,b]})),h=d.rest?this.process(d.rest,{...c,path:[...c.path,f,..."openapi-3.0"===this.target?[d.items.length]:[]]}):null;"draft-2020-12"===this.target?(b.prefixItems=g,h&&(b.items=h)):"openapi-3.0"===this.target?(b.items={anyOf:g},h&&b.items.anyOf.push(h),b.minItems=g.length,h||(b.maxItems=g.length)):(b.items=g,h&&(b.additionalItems=h));let{minimum:i,maximum:j}=a._zod.bag;"number"==typeof i&&(b.minItems=i),"number"==typeof j&&(b.maxItems=j);break}case"record":b.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(b.propertyNames=this.process(d.keyType,{...c,path:[...c.path,"propertyNames"]})),b.additionalProperties=this.process(d.valueType,{...c,path:[...c.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let a=b4(d.entries);a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),b.enum=a;break}case"literal":{let a=[];for(let b of d.values)if(void 0===b){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof b)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else a.push(Number(b));else a.push(b);if(0===a.length);else if(1===a.length){let c=a[0];b.type=null===c?"null":typeof c,"draft-4"===this.target||"openapi-3.0"===this.target?b.enum=[c]:b.const=c}else a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),a.every(a=>"boolean"==typeof a)&&(b.type="string"),a.every(a=>null===a)&&(b.type="null"),b.enum=a;break}case"file":{let c={type:"string",format:"binary",contentEncoding:"binary"},{minimum:d,maximum:e,mime:f}=a._zod.bag;void 0!==d&&(c.minLength=d),void 0!==e&&(c.maxLength=e),f?1===f.length?(c.contentMediaType=f[0],Object.assign(b,c)):b.anyOf=f.map(a=>({...c,contentMediaType:a})):Object.assign(b,c);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let a=this.process(d.innerType,c);"openapi-3.0"===this.target?(f.ref=d.innerType,b.nullable=!0):b.anyOf=[a,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(d.innerType,c),f.ref=d.innerType;break;case"default":this.process(d.innerType,c),f.ref=d.innerType,b.default=JSON.parse(JSON.stringify(d.defaultValue));break;case"prefault":this.process(d.innerType,c),f.ref=d.innerType,"input"===this.io&&(b._prefault=JSON.parse(JSON.stringify(d.defaultValue)));break;case"catch":{let a;this.process(d.innerType,c),f.ref=d.innerType;try{a=d.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}b.default=a;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let c=a._zod.pattern;if(!c)throw Error("Pattern not found in template literal");b.type="string",b.pattern=c.source;break}case"pipe":{let a="input"===this.io?"transform"===d.in._zod.def.type?d.out:d.in:d.out;this.process(a,c),f.ref=a;break}case"readonly":this.process(d.innerType,c),f.ref=d.innerType,b.readOnly=!0;break;case"lazy":{let b=a._zod.innerType;this.process(b,c),f.ref=b;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let h=this.metadataRegistry.get(a);return h&&Object.assign(f.schema,h),"input"===this.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;switch(e.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return a(e.element,d);case"object":for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1;case"union":for(let b of e.options)if(a(b,d))return!0;return!1;case"intersection":return a(e.left,d)||a(e.right,d);case"tuple":for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0;return!1;case"record":case"map":return a(e.keyType,d)||a(e.valueType,d);case"set":return a(e.valueType,d);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return a(e.innerType,d);case"lazy":return a(e.getter(),d);case"transform":return!0;case"pipe":return a(e.in,d)||a(e.out,d)}throw Error(`Unknown schema type: ${e.type}`)}(a)&&(delete f.schema.examples,delete f.schema.default),"input"===this.io&&f.schema._prefault&&((c=f.schema).default??(c.default=f.schema._prefault)),delete f.schema._prefault,this.seen.get(a).schema}emit(a,b){let c={cycles:b?.cycles??"ref",reused:b?.reused??"inline",external:b?.external??void 0},d=this.seen.get(a);if(!d)throw Error("Unprocessed schema. This is a bug in Zod.");let e=a=>{let b="draft-2020-12"===this.target?"$defs":"definitions";if(c.external){let d=c.external.registry.get(a[0])?.id,e=c.external.uri??(a=>a);if(d)return{ref:e(d)};let f=a[1].defId??a[1].schema.id??`schema${this.counter++}`;return a[1].defId=f,{defId:f,ref:`${e("__shared")}#/${b}/${f}`}}if(a[1]===d)return{ref:"#"};let e=`#/${b}/`,f=a[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:e+f}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===c.cycles)for(let a of this.seen.entries()){let b=a[1];if(b.cycle)throw Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let b of this.seen.entries()){let d=b[1];if(a===b[0]){f(b);continue}if(c.external){let d=c.external.registry.get(b[0])?.id;if(a!==b[0]&&d){f(b);continue}}if(this.metadataRegistry.get(b[0])?.id||d.cycle||d.count>1&&"ref"===c.reused){f(b);continue}}let g=(a,b)=>{let c=this.seen.get(a),d=c.def??c.schema,e={...d};if(null===c.ref)return;let f=c.ref;if(c.ref=null,f){g(f,b);let a=this.seen.get(f).schema;a.$ref&&("draft-7"===b.target||"draft-4"===b.target||"openapi-3.0"===b.target)?(d.allOf=d.allOf??[],d.allOf.push(a)):(Object.assign(d,a),Object.assign(d,e))}c.isParent||this.override({zodSchema:a,jsonSchema:d,path:c.path??[]})};for(let a of[...this.seen.entries()].reverse())g(a[0],{target:this.target});let h={};if("draft-2020-12"===this.target?h.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?h.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?h.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),c.external?.uri){let b=c.external.registry.get(a)?.id;if(!b)throw Error("Schema is missing an `id` property");h.$id=c.external.uri(b)}Object.assign(h,d.def);let i=c.external?.defs??{};for(let a of this.seen.entries()){let b=a[1];b.def&&b.defId&&(i[b.defId]=b.def)}c.external||Object.keys(i).length>0&&("draft-2020-12"===this.target?h.$defs=i:h.definitions=i);try{return JSON.parse(JSON.stringify(h))}catch(a){throw Error("Error converting schema to JSON.")}}}function iU(a,b){if(a instanceof g4){let c=new iT(b),d={};for(let b of a._idmap.entries()){let[a,d]=b;c.process(d)}let e={},f={registry:a,uri:b?.uri,defs:d};for(let d of a._idmap.entries()){let[a,g]=d;e[a]=c.emit(g,{...b,external:f})}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=new iT(b);return c.process(a),c.emit(a,b)}a.s([],31395),a.s(["ZodAny",()=>kr,"ZodArray",()=>kB,"ZodBase64",()=>jV,"ZodBase64URL",()=>jX,"ZodBigInt",()=>kg,"ZodBigIntFormat",()=>ki,"ZodBoolean",()=>ke,"ZodCIDRv4",()=>jR,"ZodCIDRv6",()=>jT,"ZodCUID",()=>jD,"ZodCUID2",()=>jF,"ZodCatch",()=>lh,"ZodCodec",()=>ln,"ZodCustom",()=>lz,"ZodCustomStringFormat",()=>j1,"ZodDate",()=>kz,"ZodDefault",()=>k9,"ZodDiscriminatedUnion",()=>kK,"ZodE164",()=>jZ,"ZodEmail",()=>jn,"ZodEmoji",()=>jz,"ZodEnum",()=>kX,"ZodFile",()=>k0,"ZodFunction",()=>lx,"ZodGUID",()=>jp,"ZodIPv4",()=>jN,"ZodIPv6",()=>jP,"ZodIntersection",()=>kM,"ZodJWT",()=>j_,"ZodKSUID",()=>jL,"ZodLazy",()=>lt,"ZodLiteral",()=>k$,"ZodMap",()=>kT,"ZodNaN",()=>lj,"ZodNanoID",()=>jB,"ZodNever",()=>kv,"ZodNonOptional",()=>ld,"ZodNull",()=>kp,"ZodNullable",()=>k6,"ZodNumber",()=>j6,"ZodNumberFormat",()=>j8,"ZodObject",()=>kE,"ZodOptional",()=>k4,"ZodPipe",()=>ll,"ZodPrefault",()=>lb,"ZodPromise",()=>lv,"ZodReadonly",()=>lp,"ZodRecord",()=>kQ,"ZodSet",()=>kV,"ZodString",()=>jk,"ZodStringFormat",()=>jm,"ZodSuccess",()=>lf,"ZodSymbol",()=>kl,"ZodTemplateLiteral",()=>lr,"ZodTransform",()=>k2,"ZodTuple",()=>kO,"ZodType",()=>ji,"ZodULID",()=>jH,"ZodURL",()=>jw,"ZodUUID",()=>jr,"ZodUndefined",()=>kn,"ZodUnion",()=>kI,"ZodUnknown",()=>kt,"ZodVoid",()=>kx,"ZodXID",()=>jJ,"_ZodString",()=>jj,"_default",()=>la,"_function",()=>ly,"any",()=>ks,"array",()=>kC,"base64",()=>jW,"base64url",()=>jY,"bigint",()=>kh,"boolean",()=>kf,"catch",()=>li,"check",()=>lA,"cidrv4",()=>jS,"cidrv6",()=>jU,"codec",()=>lo,"cuid",()=>jE,"cuid2",()=>jG,"custom",()=>lB,"date",()=>kA,"discriminatedUnion",()=>kL,"e164",()=>j$,"email",()=>jo,"emoji",()=>jA,"enum",()=>kY,"file",()=>k1,"float32",()=>ka,"float64",()=>kb,"function",()=>ly,"guid",()=>jq,"hash",()=>j5,"hex",()=>j4,"hostname",()=>j3,"httpUrl",()=>jy,"instanceof",()=>lE,"int",()=>j9,"int32",()=>kc,"int64",()=>kj,"intersection",()=>kN,"ipv4",()=>jO,"ipv6",()=>jQ,"json",()=>lG,"jwt",()=>j0,"keyof",()=>kD,"ksuid",()=>jM,"lazy",()=>lu,"literal",()=>k_,"looseObject",()=>kH,"map",()=>kU,"nan",()=>lk,"nanoid",()=>jC,"nativeEnum",()=>kZ,"never",()=>kw,"nonoptional",()=>le,"null",()=>kq,"nullable",()=>k7,"nullish",()=>k8,"number",()=>j7,"object",()=>kF,"optional",()=>k5,"partialRecord",()=>kS,"pipe",()=>lm,"prefault",()=>lc,"preprocess",()=>lH,"promise",()=>lw,"readonly",()=>lq,"record",()=>kR,"refine",()=>lC,"set",()=>kW,"strictObject",()=>kG,"string",()=>jl,"stringFormat",()=>j2,"stringbool",()=>lF,"success",()=>lg,"superRefine",()=>lD,"symbol",()=>km,"templateLiteral",()=>ls,"transform",()=>k3,"tuple",()=>kP,"uint32",()=>kd,"uint64",()=>kk,"ulid",()=>jI,"undefined",()=>ko,"union",()=>kJ,"unknown",()=>ku,"url",()=>jx,"uuid",()=>js,"uuidv4",()=>jt,"uuidv6",()=>ju,"uuidv7",()=>jv,"void",()=>ky,"xid",()=>jK],58073),a.s(["$ZodAny",()=>fq,"$ZodArray",()=>fw,"$ZodBase64",()=>fb,"$ZodBase64URL",()=>fd,"$ZodBigInt",()=>fl,"$ZodBigIntFormat",()=>fm,"$ZodBoolean",()=>fk,"$ZodCIDRv4",()=>e8,"$ZodCIDRv6",()=>e9,"$ZodCUID",()=>eZ,"$ZodCUID2",()=>e$,"$ZodCatch",()=>f_,"$ZodCodec",()=>f3,"$ZodCustom",()=>gc,"$ZodCustomStringFormat",()=>fh,"$ZodDate",()=>fu,"$ZodDefault",()=>fV,"$ZodDiscriminatedUnion",()=>fE,"$ZodE164",()=>fe,"$ZodEmail",()=>eV,"$ZodEmoji",()=>eX,"$ZodEnum",()=>fO,"$ZodFile",()=>fQ,"$ZodFunction",()=>f9,"$ZodGUID",()=>eT,"$ZodIPv4",()=>e6,"$ZodIPv6",()=>e7,"$ZodISODate",()=>e3,"$ZodISODateTime",()=>e2,"$ZodISODuration",()=>e5,"$ZodISOTime",()=>e4,"$ZodIntersection",()=>fF,"$ZodJWT",()=>fg,"$ZodKSUID",()=>e1,"$ZodLazy",()=>gb,"$ZodLiteral",()=>fP,"$ZodMap",()=>fK,"$ZodNaN",()=>f0,"$ZodNanoID",()=>eY,"$ZodNever",()=>fs,"$ZodNonOptional",()=>fY,"$ZodNull",()=>fp,"$ZodNullable",()=>fU,"$ZodNumber",()=>fi,"$ZodNumberFormat",()=>fj,"$ZodObject",()=>fA,"$ZodObjectJIT",()=>fB,"$ZodOptional",()=>fT,"$ZodPipe",()=>f1,"$ZodPrefault",()=>fX,"$ZodPromise",()=>ga,"$ZodReadonly",()=>f6,"$ZodRecord",()=>fJ,"$ZodSet",()=>fM,"$ZodString",()=>eR,"$ZodStringFormat",()=>eS,"$ZodSuccess",()=>f$,"$ZodSymbol",()=>fn,"$ZodTemplateLiteral",()=>f8,"$ZodTransform",()=>fR,"$ZodTuple",()=>fH,"$ZodType",()=>eQ,"$ZodULID",()=>e_,"$ZodURL",()=>eW,"$ZodUUID",()=>eU,"$ZodUndefined",()=>fo,"$ZodUnion",()=>fD,"$ZodUnknown",()=>fr,"$ZodVoid",()=>ft,"$ZodXID",()=>e0,"clone",()=>cv,"isValidBase64",()=>fa,"isValidBase64URL",()=>fc,"isValidJWT",()=>ff],62098),a.i(61169);var iV=a.i(13899),iV=iV,iW=a.i(85940),iW=iW;a.s([],42628),a.s(["ZodISODate",()=>iZ,"ZodISODateTime",()=>iX,"ZodISODuration",()=>i1,"ZodISOTime",()=>i_,"date",()=>i$,"datetime",()=>iY,"duration",()=>i2,"time",()=>i0],18003);let iX=bV("ZodISODateTime",(a,b)=>{e2.init(a,b),jm.init(a,b)});function iY(a){return hw(iX,a)}let iZ=bV("ZodISODate",(a,b)=>{e3.init(a,b),jm.init(a,b)});function i$(a){return hx(iZ,a)}let i_=bV("ZodISOTime",(a,b)=>{e4.init(a,b),jm.init(a,b)});function i0(a){return hy(i_,a)}let i1=bV("ZodISODuration",(a,b)=>{e5.init(a,b),jm.init(a,b)});function i2(a){return hz(i1,a)}a.s(["decode",()=>jb,"decodeAsync",()=>jd,"encode",()=>ja,"encodeAsync",()=>jc,"parse",()=>i6,"parseAsync",()=>i7,"safeDecode",()=>jf,"safeDecodeAsync",()=>jh,"safeEncode",()=>je,"safeEncodeAsync",()=>jg,"safeParse",()=>i8,"safeParseAsync",()=>i9],72640),a.s(["ZodError",()=>i4,"ZodRealError",()=>i5],69269);let i3=(a,b)=>{cZ.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>c0(a,b)},flatten:{value:b=>c_(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,b6,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,b6,2)}},isEmpty:{get:()=>0===a.issues.length}})},i4=bV("ZodError",i3),i5=bV("ZodError",i3,{Parent:Error}),i6=c4(i5),i7=c6(i5),i8=c8(i5),i9=da(i5),ja=dc(i5),jb=de(i5),jc=dg(i5),jd=di(i5),je=dk(i5),jf=dm(i5),jg=dp(i5),jh=dr(i5),ji=bV("ZodType",(a,b)=>(eQ.init(a,b),a.def=b,a.type=b.type,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone(iW.mergeDefs(b,{checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),a.clone=(b,c)=>cv(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>i6(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>i8(a,b,c),a.parseAsync=async(b,c)=>i7(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>i9(a,b,c),a.spa=a.safeParseAsync,a.encode=(b,c)=>ja(a,b,c),a.decode=(b,c)=>jb(a,b,c),a.encodeAsync=async(b,c)=>jc(a,b,c),a.decodeAsync=async(b,c)=>jd(a,b,c),a.safeEncode=(b,c)=>je(a,b,c),a.safeDecode=(b,c)=>jf(a,b,c),a.safeEncodeAsync=async(b,c)=>jg(a,b,c),a.safeDecodeAsync=async(b,c)=>jh(a,b,c),a.refine=(b,c)=>a.check(lC(b,c)),a.superRefine=b=>a.check(iP(b)),a.overwrite=b=>a.check(ij(b)),a.optional=()=>k5(a),a.nullable=()=>k7(a),a.nullish=()=>k5(k7(a)),a.nonoptional=b=>le(a,b),a.array=()=>kC(a),a.or=b=>kJ([a,b]),a.and=b=>kN(a,b),a.transform=b=>lm(a,k3(b)),a.default=b=>la(a,b),a.prefault=b=>lc(a,b),a.catch=b=>li(a,b),a.pipe=b=>lm(a,b),a.readonly=()=>lq(a),a.describe=b=>{let c=a.clone();return g6.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>g6.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return g6.get(a);let c=a.clone();return g6.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),jj=bV("_ZodString",(a,b)=>{eR.init(a,b),ji.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(ia(...b)),a.includes=(...b)=>a.check(id(...b)),a.startsWith=(...b)=>a.check(ie(...b)),a.endsWith=(...b)=>a.check(ig(...b)),a.min=(...b)=>a.check(h8(...b)),a.max=(...b)=>a.check(h7(...b)),a.length=(...b)=>a.check(h9(...b)),a.nonempty=(...b)=>a.check(h8(1,...b)),a.lowercase=b=>a.check(ib(b)),a.uppercase=b=>a.check(ic(b)),a.trim=()=>a.check(il()),a.normalize=(...b)=>a.check(ik(...b)),a.toLowerCase=()=>a.check(im()),a.toUpperCase=()=>a.check(io())}),jk=bV("ZodString",(a,b)=>{eR.init(a,b),jj.init(a,b),a.email=b=>a.check(g9(jn,b)),a.url=b=>a.check(hf(jw,b)),a.jwt=b=>a.check(hu(j_,b)),a.emoji=b=>a.check(hg(jz,b)),a.guid=b=>a.check(ha(jp,b)),a.uuid=b=>a.check(hb(jr,b)),a.uuidv4=b=>a.check(hc(jr,b)),a.uuidv6=b=>a.check(hd(jr,b)),a.uuidv7=b=>a.check(he(jr,b)),a.nanoid=b=>a.check(hh(jB,b)),a.guid=b=>a.check(ha(jp,b)),a.cuid=b=>a.check(hi(jD,b)),a.cuid2=b=>a.check(hj(jF,b)),a.ulid=b=>a.check(hk(jH,b)),a.base64=b=>a.check(hr(jV,b)),a.base64url=b=>a.check(hs(jX,b)),a.xid=b=>a.check(hl(jJ,b)),a.ksuid=b=>a.check(hm(jL,b)),a.ipv4=b=>a.check(hn(jN,b)),a.ipv6=b=>a.check(ho(jP,b)),a.cidrv4=b=>a.check(hp(jR,b)),a.cidrv6=b=>a.check(hq(jT,b)),a.e164=b=>a.check(ht(jZ,b)),a.datetime=b=>a.check(iY(b)),a.date=b=>a.check(i$(b)),a.time=b=>a.check(i0(b)),a.duration=b=>a.check(i2(b))});function jl(a){return g7(jk,a)}let jm=bV("ZodStringFormat",(a,b)=>{eS.init(a,b),jj.init(a,b)}),jn=bV("ZodEmail",(a,b)=>{eV.init(a,b),jm.init(a,b)});function jo(a){return g9(jn,a)}let jp=bV("ZodGUID",(a,b)=>{eT.init(a,b),jm.init(a,b)});function jq(a){return ha(jp,a)}let jr=bV("ZodUUID",(a,b)=>{eU.init(a,b),jm.init(a,b)});function js(a){return hb(jr,a)}function jt(a){return hc(jr,a)}function ju(a){return hd(jr,a)}function jv(a){return he(jr,a)}let jw=bV("ZodURL",(a,b)=>{eW.init(a,b),jm.init(a,b)});function jx(a){return hf(jw,a)}function jy(a){return hf(jw,{protocol:/^https?$/,hostname:iV.domain,...iW.normalizeParams(a)})}let jz=bV("ZodEmoji",(a,b)=>{eX.init(a,b),jm.init(a,b)});function jA(a){return hg(jz,a)}let jB=bV("ZodNanoID",(a,b)=>{eY.init(a,b),jm.init(a,b)});function jC(a){return hh(jB,a)}let jD=bV("ZodCUID",(a,b)=>{eZ.init(a,b),jm.init(a,b)});function jE(a){return hi(jD,a)}let jF=bV("ZodCUID2",(a,b)=>{e$.init(a,b),jm.init(a,b)});function jG(a){return hj(jF,a)}let jH=bV("ZodULID",(a,b)=>{e_.init(a,b),jm.init(a,b)});function jI(a){return hk(jH,a)}let jJ=bV("ZodXID",(a,b)=>{e0.init(a,b),jm.init(a,b)});function jK(a){return hl(jJ,a)}let jL=bV("ZodKSUID",(a,b)=>{e1.init(a,b),jm.init(a,b)});function jM(a){return hm(jL,a)}let jN=bV("ZodIPv4",(a,b)=>{e6.init(a,b),jm.init(a,b)});function jO(a){return hn(jN,a)}let jP=bV("ZodIPv6",(a,b)=>{e7.init(a,b),jm.init(a,b)});function jQ(a){return ho(jP,a)}let jR=bV("ZodCIDRv4",(a,b)=>{e8.init(a,b),jm.init(a,b)});function jS(a){return hp(jR,a)}let jT=bV("ZodCIDRv6",(a,b)=>{e9.init(a,b),jm.init(a,b)});function jU(a){return hq(jT,a)}let jV=bV("ZodBase64",(a,b)=>{fb.init(a,b),jm.init(a,b)});function jW(a){return hr(jV,a)}let jX=bV("ZodBase64URL",(a,b)=>{fd.init(a,b),jm.init(a,b)});function jY(a){return hs(jX,a)}let jZ=bV("ZodE164",(a,b)=>{fe.init(a,b),jm.init(a,b)});function j$(a){return ht(jZ,a)}let j_=bV("ZodJWT",(a,b)=>{fg.init(a,b),jm.init(a,b)});function j0(a){return hu(j_,a)}let j1=bV("ZodCustomStringFormat",(a,b)=>{fh.init(a,b),jm.init(a,b)});function j2(a,b,c={}){return iS(j1,a,b,c)}function j3(a){return iS(j1,"hostname",iV.hostname,a)}function j4(a){return iS(j1,"hex",iV.hex,a)}function j5(a,b){let c=b?.enc??"hex",d=`${a}_${c}`,e=iV[d];if(!e)throw Error(`Unrecognized hash format: ${d}`);return iS(j1,d,e,b)}let j6=bV("ZodNumber",(a,b)=>{fi.init(a,b),ji.init(a,b),a.gt=(b,c)=>a.check(hZ(b,c)),a.gte=(b,c)=>a.check(h$(b,c)),a.min=(b,c)=>a.check(h$(b,c)),a.lt=(b,c)=>a.check(hX(b,c)),a.lte=(b,c)=>a.check(hY(b,c)),a.max=(b,c)=>a.check(hY(b,c)),a.int=b=>a.check(j9(b)),a.safe=b=>a.check(j9(b)),a.positive=b=>a.check(hZ(0,b)),a.nonnegative=b=>a.check(h$(0,b)),a.negative=b=>a.check(hX(0,b)),a.nonpositive=b=>a.check(hY(0,b)),a.multipleOf=(b,c)=>a.check(h3(b,c)),a.step=(b,c)=>a.check(h3(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function j7(a){return hA(j6,a)}let j8=bV("ZodNumberFormat",(a,b)=>{fj.init(a,b),j6.init(a,b)});function j9(a){return hC(j8,a)}function ka(a){return hD(j8,a)}function kb(a){return hE(j8,a)}function kc(a){return hF(j8,a)}function kd(a){return hG(j8,a)}let ke=bV("ZodBoolean",(a,b)=>{fk.init(a,b),ji.init(a,b)});function kf(a){return hH(ke,a)}let kg=bV("ZodBigInt",(a,b)=>{fl.init(a,b),ji.init(a,b),a.gte=(b,c)=>a.check(h$(b,c)),a.min=(b,c)=>a.check(h$(b,c)),a.gt=(b,c)=>a.check(hZ(b,c)),a.gte=(b,c)=>a.check(h$(b,c)),a.min=(b,c)=>a.check(h$(b,c)),a.lt=(b,c)=>a.check(hX(b,c)),a.lte=(b,c)=>a.check(hY(b,c)),a.max=(b,c)=>a.check(hY(b,c)),a.positive=b=>a.check(hZ(BigInt(0),b)),a.negative=b=>a.check(hX(BigInt(0),b)),a.nonpositive=b=>a.check(hY(BigInt(0),b)),a.nonnegative=b=>a.check(h$(BigInt(0),b)),a.multipleOf=(b,c)=>a.check(h3(b,c));let c=a._zod.bag;a.minValue=c.minimum??null,a.maxValue=c.maximum??null,a.format=c.format??null});function kh(a){return hJ(kg,a)}let ki=bV("ZodBigIntFormat",(a,b)=>{fm.init(a,b),kg.init(a,b)});function kj(a){return hL(ki,a)}function kk(a){return hM(ki,a)}let kl=bV("ZodSymbol",(a,b)=>{fn.init(a,b),ji.init(a,b)});function km(a){return hN(kl,a)}let kn=bV("ZodUndefined",(a,b)=>{fo.init(a,b),ji.init(a,b)});function ko(a){return hO(kn,a)}let kp=bV("ZodNull",(a,b)=>{fp.init(a,b),ji.init(a,b)});function kq(a){return hP(kp,a)}let kr=bV("ZodAny",(a,b)=>{fq.init(a,b),ji.init(a,b)});function ks(){return hQ(kr)}let kt=bV("ZodUnknown",(a,b)=>{fr.init(a,b),ji.init(a,b)});function ku(){return hR(kt)}let kv=bV("ZodNever",(a,b)=>{fs.init(a,b),ji.init(a,b)});function kw(a){return hS(kv,a)}let kx=bV("ZodVoid",(a,b)=>{ft.init(a,b),ji.init(a,b)});function ky(a){return hT(kx,a)}let kz=bV("ZodDate",(a,b)=>{fu.init(a,b),ji.init(a,b),a.min=(b,c)=>a.check(h$(b,c)),a.max=(b,c)=>a.check(hY(b,c));let c=a._zod.bag;a.minDate=c.minimum?new Date(c.minimum):null,a.maxDate=c.maximum?new Date(c.maximum):null});function kA(a){return hU(kz,a)}let kB=bV("ZodArray",(a,b)=>{fw.init(a,b),ji.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(h8(b,c)),a.nonempty=b=>a.check(h8(1,b)),a.max=(b,c)=>a.check(h7(b,c)),a.length=(b,c)=>a.check(h9(b,c)),a.unwrap=()=>a.element});function kC(a,b){return ip(kB,a,b)}function kD(a){return kY(Object.keys(a._zod.def.shape))}let kE=bV("ZodObject",(a,b)=>{fB.init(a,b),ji.init(a,b),iW.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>kY(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:ku()}),a.loose=()=>a.clone({...a._zod.def,catchall:ku()}),a.strict=()=>a.clone({...a._zod.def,catchall:kw()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>iW.extend(a,b),a.safeExtend=b=>iW.safeExtend(a,b),a.merge=b=>iW.merge(a,b),a.pick=b=>iW.pick(a,b),a.omit=b=>iW.omit(a,b),a.partial=(...b)=>iW.partial(k4,a,b[0]),a.required=(...b)=>iW.required(ld,a,b[0])});function kF(a,b){return new kE({type:"object",shape:a??{},...iW.normalizeParams(b)})}function kG(a,b){return new kE({type:"object",shape:a,catchall:kw(),...iW.normalizeParams(b)})}function kH(a,b){return new kE({type:"object",shape:a,catchall:ku(),...iW.normalizeParams(b)})}let kI=bV("ZodUnion",(a,b)=>{fD.init(a,b),ji.init(a,b),a.options=b.options});function kJ(a,b){return new kI({type:"union",options:a,...iW.normalizeParams(b)})}let kK=bV("ZodDiscriminatedUnion",(a,b)=>{kI.init(a,b),fE.init(a,b)});function kL(a,b,c){return new kK({type:"union",options:b,discriminator:a,...iW.normalizeParams(c)})}let kM=bV("ZodIntersection",(a,b)=>{fF.init(a,b),ji.init(a,b)});function kN(a,b){return new kM({type:"intersection",left:a,right:b})}let kO=bV("ZodTuple",(a,b)=>{fH.init(a,b),ji.init(a,b),a.rest=b=>a.clone({...a._zod.def,rest:b})});function kP(a,b,c){let d=b instanceof eQ,e=d?c:b;return new kO({type:"tuple",items:a,rest:d?b:null,...iW.normalizeParams(e)})}let kQ=bV("ZodRecord",(a,b)=>{fJ.init(a,b),ji.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function kR(a,b,c){return new kQ({type:"record",keyType:a,valueType:b,...iW.normalizeParams(c)})}function kS(a,b,c){let d=cv(a);return d._zod.values=void 0,new kQ({type:"record",keyType:d,valueType:b,...iW.normalizeParams(c)})}let kT=bV("ZodMap",(a,b)=>{fK.init(a,b),ji.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function kU(a,b,c){return new kT({type:"map",keyType:a,valueType:b,...iW.normalizeParams(c)})}let kV=bV("ZodSet",(a,b)=>{fM.init(a,b),ji.init(a,b),a.min=(...b)=>a.check(h5(...b)),a.nonempty=b=>a.check(h5(1,b)),a.max=(...b)=>a.check(h4(...b)),a.size=(...b)=>a.check(h6(...b))});function kW(a,b){return new kV({type:"set",valueType:a,...iW.normalizeParams(b)})}let kX=bV("ZodEnum",(a,b)=>{fO.init(a,b),ji.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new kX({...b,checks:[],...iW.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new kX({...b,checks:[],...iW.normalizeParams(d),entries:e})}});function kY(a,b){return new kX({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...iW.normalizeParams(b)})}function kZ(a,b){return new kX({type:"enum",entries:a,...iW.normalizeParams(b)})}let k$=bV("ZodLiteral",(a,b)=>{fP.init(a,b),ji.init(a,b),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function k_(a,b){return new k$({type:"literal",values:Array.isArray(a)?a:[a],...iW.normalizeParams(b)})}let k0=bV("ZodFile",(a,b)=>{fQ.init(a,b),ji.init(a,b),a.min=(b,c)=>a.check(h5(b,c)),a.max=(b,c)=>a.check(h4(b,c)),a.mime=(b,c)=>a.check(ii(Array.isArray(b)?b:[b],c))});function k1(a){return iA(k0,a)}let k2=bV("ZodTransform",(a,b)=>{fR.init(a,b),ji.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new bY(a.constructor.name);c.addIssue=d=>{"string"==typeof d?c.issues.push(iW.issue(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),c.issues.push(iW.issue(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}});function k3(a){return new k2({type:"transform",transform:a})}let k4=bV("ZodOptional",(a,b)=>{fT.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType});function k5(a){return new k4({type:"optional",innerType:a})}let k6=bV("ZodNullable",(a,b)=>{fU.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType});function k7(a){return new k6({type:"nullable",innerType:a})}function k8(a){return k5(k7(a))}let k9=bV("ZodDefault",(a,b)=>{fV.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function la(a,b){return new k9({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():iW.shallowClone(b)}})}let lb=bV("ZodPrefault",(a,b)=>{fX.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType});function lc(a,b){return new lb({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():iW.shallowClone(b)}})}let ld=bV("ZodNonOptional",(a,b)=>{fY.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType});function le(a,b){return new ld({type:"nonoptional",innerType:a,...iW.normalizeParams(b)})}let lf=bV("ZodSuccess",(a,b)=>{f$.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType});function lg(a){return new lf({type:"success",innerType:a})}let lh=bV("ZodCatch",(a,b)=>{f_.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function li(a,b){return new lh({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})}let lj=bV("ZodNaN",(a,b)=>{f0.init(a,b),ji.init(a,b)});function lk(a){return hW(lj,a)}let ll=bV("ZodPipe",(a,b)=>{f1.init(a,b),ji.init(a,b),a.in=b.in,a.out=b.out});function lm(a,b){return new ll({type:"pipe",in:a,out:b})}let ln=bV("ZodCodec",(a,b)=>{ll.init(a,b),f3.init(a,b)});function lo(a,b,c){return new ln({type:"pipe",in:a,out:b,transform:c.decode,reverseTransform:c.encode})}let lp=bV("ZodReadonly",(a,b)=>{f6.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType});function lq(a){return new lp({type:"readonly",innerType:a})}let lr=bV("ZodTemplateLiteral",(a,b)=>{f8.init(a,b),ji.init(a,b)});function ls(a,b){return new lr({type:"template_literal",parts:a,...iW.normalizeParams(b)})}let lt=bV("ZodLazy",(a,b)=>{gb.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.getter()});function lu(a){return new lt({type:"lazy",getter:a})}let lv=bV("ZodPromise",(a,b)=>{ga.init(a,b),ji.init(a,b),a.unwrap=()=>a._zod.def.innerType});function lw(a){return new lv({type:"promise",innerType:a})}let lx=bV("ZodFunction",(a,b)=>{f9.init(a,b),ji.init(a,b)});function ly(a){return new lx({type:"function",input:Array.isArray(a?.input)?kP(a?.input):a?.input??kC(ku()),output:a?.output??ku()})}let lz=bV("ZodCustom",(a,b)=>{gc.init(a,b),ji.init(a,b)});function lA(a){let b=new eq({check:"custom"});return b._zod.check=a,b}function lB(a,b){return iN(lz,a??(()=>!0),b)}function lC(a,b={}){return iO(lz,a,b)}function lD(a){return iP(a)}function lE(a,b={error:`Input not instance of ${a.name}`}){let c=new lz({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...iW.normalizeParams(b)});return c._zod.bag.Class=a,c}let lF=(...a)=>iR({Codec:ln,Boolean:ke,String:jk},...a);function lG(a){let b=lu(()=>kJ([jl(a),j7(),kf(),kq(),kC(b),kR(jl(),b)]));return b}function lH(a,b){return lm(k3(a),b)}a.s(["ZodFirstPartyTypeKind",()=>g,"ZodIssueCode",()=>lI,"getErrorMap",()=>lK,"setErrorMap",()=>lJ],27735);let lI={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function lJ(a){b$({customError:a})}function lK(){return b$().customError}function lL(a){return g8(jk,a)}function lM(a){return hB(j6,a)}function lN(a){return hI(ke,a)}function lO(a){return hK(kg,a)}function lP(a){return hV(kz,a)}g||(g={}),a.s(["bigint",()=>lO,"boolean",()=>lN,"date",()=>lP,"number",()=>lM,"string",()=>lL],26886),b$(gn()),a.s(["$brand",()=>bW,"$input",()=>g3,"$output",()=>g2,"NEVER",()=>bU,"TimePrecision",()=>hv,"ZodAny",()=>kr,"ZodArray",()=>kB,"ZodBase64",()=>jV,"ZodBase64URL",()=>jX,"ZodBigInt",()=>kg,"ZodBigIntFormat",()=>ki,"ZodBoolean",()=>ke,"ZodCIDRv4",()=>jR,"ZodCIDRv6",()=>jT,"ZodCUID",()=>jD,"ZodCUID2",()=>jF,"ZodCatch",()=>lh,"ZodCodec",()=>ln,"ZodCustom",()=>lz,"ZodCustomStringFormat",()=>j1,"ZodDate",()=>kz,"ZodDefault",()=>k9,"ZodDiscriminatedUnion",()=>kK,"ZodE164",()=>jZ,"ZodEmail",()=>jn,"ZodEmoji",()=>jz,"ZodEnum",()=>kX,"ZodError",()=>i4,"ZodFile",()=>k0,"ZodFirstPartyTypeKind",()=>g,"ZodFunction",()=>lx,"ZodGUID",()=>jp,"ZodIPv4",()=>jN,"ZodIPv6",()=>jP,"ZodISODate",()=>iZ,"ZodISODateTime",()=>iX,"ZodISODuration",()=>i1,"ZodISOTime",()=>i_,"ZodIntersection",()=>kM,"ZodIssueCode",()=>lI,"ZodJWT",()=>j_,"ZodKSUID",()=>jL,"ZodLazy",()=>lt,"ZodLiteral",()=>k$,"ZodMap",()=>kT,"ZodNaN",()=>lj,"ZodNanoID",()=>jB,"ZodNever",()=>kv,"ZodNonOptional",()=>ld,"ZodNull",()=>kp,"ZodNullable",()=>k6,"ZodNumber",()=>j6,"ZodNumberFormat",()=>j8,"ZodObject",()=>kE,"ZodOptional",()=>k4,"ZodPipe",()=>ll,"ZodPrefault",()=>lb,"ZodPromise",()=>lv,"ZodReadonly",()=>lp,"ZodRealError",()=>i5,"ZodRecord",()=>kQ,"ZodSet",()=>kV,"ZodString",()=>jk,"ZodStringFormat",()=>jm,"ZodSuccess",()=>lf,"ZodSymbol",()=>kl,"ZodTemplateLiteral",()=>lr,"ZodTransform",()=>k2,"ZodTuple",()=>kO,"ZodType",()=>ji,"ZodULID",()=>jH,"ZodURL",()=>jw,"ZodUUID",()=>jr,"ZodUndefined",()=>kn,"ZodUnion",()=>kI,"ZodUnknown",()=>kt,"ZodVoid",()=>kx,"ZodXID",()=>jJ,"_ZodString",()=>jj,"_default",()=>la,"_function",()=>ly,"any",()=>ks,"array",()=>kC,"base64",()=>jW,"base64url",()=>jY,"bigint",()=>kh,"boolean",()=>kf,"catch",()=>li,"check",()=>lA,"cidrv4",()=>jS,"cidrv6",()=>jU,"clone",()=>cv,"codec",()=>lo,"coerce",()=>lX,"config",()=>b$,"core",()=>lU,"cuid",()=>jE,"cuid2",()=>jG,"custom",()=>lB,"date",()=>kA,"decode",()=>jb,"decodeAsync",()=>jd,"discriminatedUnion",()=>kL,"e164",()=>j$,"email",()=>jo,"emoji",()=>jA,"encode",()=>ja,"encodeAsync",()=>jc,"endsWith",()=>ig,"enum",()=>kY,"file",()=>k1,"flattenError",()=>c_,"float32",()=>ka,"float64",()=>kb,"formatError",()=>c0,"function",()=>ly,"getErrorMap",()=>lK,"globalRegistry",()=>g6,"gt",()=>hZ,"gte",()=>h$,"guid",()=>jq,"hash",()=>j5,"hex",()=>j4,"hostname",()=>j3,"httpUrl",()=>jy,"includes",()=>id,"instanceof",()=>lE,"int",()=>j9,"int32",()=>kc,"int64",()=>kj,"intersection",()=>kN,"ipv4",()=>jO,"ipv6",()=>jQ,"iso",()=>lW,"json",()=>lG,"jwt",()=>j0,"keyof",()=>kD,"ksuid",()=>jM,"lazy",()=>lu,"length",()=>h9,"literal",()=>k_,"locales",()=>lV,"looseObject",()=>kH,"lowercase",()=>ib,"lt",()=>hX,"lte",()=>hY,"map",()=>kU,"maxLength",()=>h7,"maxSize",()=>h4,"mime",()=>ii,"minLength",()=>h8,"minSize",()=>h5,"multipleOf",()=>h3,"nan",()=>lk,"nanoid",()=>jC,"nativeEnum",()=>kZ,"negative",()=>h0,"never",()=>kw,"nonnegative",()=>h2,"nonoptional",()=>le,"nonpositive",()=>h1,"normalize",()=>ik,"null",()=>kq,"nullable",()=>k7,"nullish",()=>k8,"number",()=>j7,"object",()=>kF,"optional",()=>k5,"overwrite",()=>ij,"parse",()=>i6,"parseAsync",()=>i7,"partialRecord",()=>kS,"pipe",()=>lm,"positive",()=>h_,"prefault",()=>lc,"preprocess",()=>lH,"prettifyError",()=>c3,"promise",()=>lw,"property",()=>ih,"readonly",()=>lq,"record",()=>kR,"refine",()=>lC,"regex",()=>ia,"regexes",()=>iV,"registry",()=>g5,"safeDecode",()=>jf,"safeDecodeAsync",()=>jh,"safeEncode",()=>je,"safeEncodeAsync",()=>jg,"safeParse",()=>i8,"safeParseAsync",()=>i9,"set",()=>kW,"setErrorMap",()=>lJ,"size",()=>h6,"startsWith",()=>ie,"strictObject",()=>kG,"string",()=>jl,"stringFormat",()=>j2,"stringbool",()=>lF,"success",()=>lg,"superRefine",()=>lD,"symbol",()=>km,"templateLiteral",()=>ls,"toJSONSchema",()=>iU,"toLowerCase",()=>im,"toUpperCase",()=>io,"transform",()=>k3,"treeifyError",()=>c1,"trim",()=>il,"tuple",()=>kP,"uint32",()=>kd,"uint64",()=>kk,"ulid",()=>jI,"undefined",()=>ko,"union",()=>kJ,"unknown",()=>ku,"uppercase",()=>ic,"url",()=>jx,"util",()=>iW,"uuid",()=>js,"uuidv4",()=>jt,"uuidv6",()=>ju,"uuidv7",()=>jv,"void",()=>ky,"xid",()=>jK],51465),a.i(92199),a.s(["$ZodAny",()=>fq,"$ZodArray",()=>fw,"$ZodAsyncError",()=>bX,"$ZodBase64",()=>fb,"$ZodBase64URL",()=>fd,"$ZodBigInt",()=>fl,"$ZodBigIntFormat",()=>fm,"$ZodBoolean",()=>fk,"$ZodCIDRv4",()=>e8,"$ZodCIDRv6",()=>e9,"$ZodCUID",()=>eZ,"$ZodCUID2",()=>e$,"$ZodCatch",()=>f_,"$ZodCheck",()=>eq,"$ZodCheckBigIntFormat",()=>ew,"$ZodCheckEndsWith",()=>eJ,"$ZodCheckGreaterThan",()=>et,"$ZodCheckIncludes",()=>eH,"$ZodCheckLengthEquals",()=>eC,"$ZodCheckLessThan",()=>es,"$ZodCheckLowerCase",()=>eF,"$ZodCheckMaxLength",()=>eA,"$ZodCheckMaxSize",()=>ex,"$ZodCheckMimeType",()=>eM,"$ZodCheckMinLength",()=>eB,"$ZodCheckMinSize",()=>ey,"$ZodCheckMultipleOf",()=>eu,"$ZodCheckNumberFormat",()=>ev,"$ZodCheckOverwrite",()=>eN,"$ZodCheckProperty",()=>eL,"$ZodCheckRegex",()=>eE,"$ZodCheckSizeEquals",()=>ez,"$ZodCheckStartsWith",()=>eI,"$ZodCheckStringFormat",()=>eD,"$ZodCheckUpperCase",()=>eG,"$ZodCodec",()=>f3,"$ZodCustom",()=>gc,"$ZodCustomStringFormat",()=>fh,"$ZodDate",()=>fu,"$ZodDefault",()=>fV,"$ZodDiscriminatedUnion",()=>fE,"$ZodE164",()=>fe,"$ZodEmail",()=>eV,"$ZodEmoji",()=>eX,"$ZodEncodeError",()=>bY,"$ZodEnum",()=>fO,"$ZodError",()=>cZ,"$ZodFile",()=>fQ,"$ZodFunction",()=>f9,"$ZodGUID",()=>eT,"$ZodIPv4",()=>e6,"$ZodIPv6",()=>e7,"$ZodISODate",()=>e3,"$ZodISODateTime",()=>e2,"$ZodISODuration",()=>e5,"$ZodISOTime",()=>e4,"$ZodIntersection",()=>fF,"$ZodJWT",()=>fg,"$ZodKSUID",()=>e1,"$ZodLazy",()=>gb,"$ZodLiteral",()=>fP,"$ZodMap",()=>fK,"$ZodNaN",()=>f0,"$ZodNanoID",()=>eY,"$ZodNever",()=>fs,"$ZodNonOptional",()=>fY,"$ZodNull",()=>fp,"$ZodNullable",()=>fU,"$ZodNumber",()=>fi,"$ZodNumberFormat",()=>fj,"$ZodObject",()=>fA,"$ZodObjectJIT",()=>fB,"$ZodOptional",()=>fT,"$ZodPipe",()=>f1,"$ZodPrefault",()=>fX,"$ZodPromise",()=>ga,"$ZodReadonly",()=>f6,"$ZodRealError",()=>c$,"$ZodRecord",()=>fJ,"$ZodRegistry",()=>g4,"$ZodSet",()=>fM,"$ZodString",()=>eR,"$ZodStringFormat",()=>eS,"$ZodSuccess",()=>f$,"$ZodSymbol",()=>fn,"$ZodTemplateLiteral",()=>f8,"$ZodTransform",()=>fR,"$ZodTuple",()=>fH,"$ZodType",()=>eQ,"$ZodULID",()=>e_,"$ZodURL",()=>eW,"$ZodUUID",()=>eU,"$ZodUndefined",()=>fo,"$ZodUnion",()=>fD,"$ZodUnknown",()=>fr,"$ZodVoid",()=>ft,"$ZodXID",()=>e0,"$brand",()=>bW,"$constructor",()=>bV,"$input",()=>g3,"$output",()=>g2,"Doc",()=>eO,"JSONSchema",()=>lT,"JSONSchemaGenerator",()=>iT,"NEVER",()=>bU,"TimePrecision",()=>hv,"_any",()=>hQ,"_array",()=>ip,"_base64",()=>hr,"_base64url",()=>hs,"_bigint",()=>hJ,"_boolean",()=>hH,"_catch",()=>iH,"_check",()=>iQ,"_cidrv4",()=>hp,"_cidrv6",()=>hq,"_coercedBigint",()=>hK,"_coercedBoolean",()=>hI,"_coercedDate",()=>hV,"_coercedNumber",()=>hB,"_coercedString",()=>g8,"_cuid",()=>hi,"_cuid2",()=>hj,"_custom",()=>iN,"_date",()=>hU,"_decode",()=>de,"_decodeAsync",()=>di,"_default",()=>iE,"_discriminatedUnion",()=>ir,"_e164",()=>ht,"_email",()=>g9,"_emoji",()=>hg,"_encode",()=>dc,"_encodeAsync",()=>dg,"_endsWith",()=>ig,"_enum",()=>ix,"_file",()=>iA,"_float32",()=>hD,"_float64",()=>hE,"_gt",()=>hZ,"_gte",()=>h$,"_guid",()=>ha,"_includes",()=>id,"_int",()=>hC,"_int32",()=>hF,"_int64",()=>hL,"_intersection",()=>is,"_ipv4",()=>hn,"_ipv6",()=>ho,"_isoDate",()=>hx,"_isoDateTime",()=>hw,"_isoDuration",()=>hz,"_isoTime",()=>hy,"_jwt",()=>hu,"_ksuid",()=>hm,"_lazy",()=>iL,"_length",()=>h9,"_literal",()=>iz,"_lowercase",()=>ib,"_lt",()=>hX,"_lte",()=>hY,"_map",()=>iv,"_max",()=>hY,"_maxLength",()=>h7,"_maxSize",()=>h4,"_mime",()=>ii,"_min",()=>h$,"_minLength",()=>h8,"_minSize",()=>h5,"_multipleOf",()=>h3,"_nan",()=>hW,"_nanoid",()=>hh,"_nativeEnum",()=>iy,"_negative",()=>h0,"_never",()=>hS,"_nonnegative",()=>h2,"_nonoptional",()=>iF,"_nonpositive",()=>h1,"_normalize",()=>ik,"_null",()=>hP,"_nullable",()=>iD,"_number",()=>hA,"_optional",()=>iC,"_overwrite",()=>ij,"_parse",()=>c4,"_parseAsync",()=>c6,"_pipe",()=>iI,"_positive",()=>h_,"_promise",()=>iM,"_property",()=>ih,"_readonly",()=>iJ,"_record",()=>iu,"_refine",()=>iO,"_regex",()=>ia,"_safeDecode",()=>dm,"_safeDecodeAsync",()=>dr,"_safeEncode",()=>dk,"_safeEncodeAsync",()=>dp,"_safeParse",()=>c8,"_safeParseAsync",()=>da,"_set",()=>iw,"_size",()=>h6,"_startsWith",()=>ie,"_string",()=>g7,"_stringFormat",()=>iS,"_stringbool",()=>iR,"_success",()=>iG,"_superRefine",()=>iP,"_symbol",()=>hN,"_templateLiteral",()=>iK,"_toLowerCase",()=>im,"_toUpperCase",()=>io,"_transform",()=>iB,"_trim",()=>il,"_tuple",()=>it,"_uint32",()=>hG,"_uint64",()=>hM,"_ulid",()=>hk,"_undefined",()=>hO,"_union",()=>iq,"_unknown",()=>hR,"_uppercase",()=>ic,"_url",()=>hf,"_uuid",()=>hb,"_uuidv4",()=>hc,"_uuidv6",()=>hd,"_uuidv7",()=>he,"_void",()=>hT,"_xid",()=>hl,"clone",()=>cv,"config",()=>b$,"decode",()=>df,"decodeAsync",()=>dj,"encode",()=>dd,"encodeAsync",()=>dh,"flattenError",()=>c_,"formatError",()=>c0,"globalConfig",()=>bZ,"globalRegistry",()=>g6,"isValidBase64",()=>fa,"isValidBase64URL",()=>fc,"isValidJWT",()=>ff,"locales",()=>lS,"parse",()=>c5,"parseAsync",()=>c7,"prettifyError",()=>c3,"regexes",()=>lR,"registry",()=>g5,"safeDecode",()=>dn,"safeDecodeAsync",()=>ds,"safeEncode",()=>dl,"safeEncodeAsync",()=>dq,"safeParse",()=>c9,"safeParseAsync",()=>db,"toDotPath",()=>c2,"toJSONSchema",()=>iU,"treeifyError",()=>c1,"util",()=>lQ,"version",()=>eP],43578),a.i(1781),a.i(66894),a.i(60597),a.i(76203),a.i(62098),a.i(50077),a.i(21062);var lQ=iW,lR=iV;a.s(["ar",()=>ge,"az",()=>gf,"be",()=>gh,"bg",()=>gi,"ca",()=>gj,"cs",()=>gk,"da",()=>gl,"de",()=>gm,"en",()=>gn,"eo",()=>go,"es",()=>gp,"fa",()=>gq,"fi",()=>gr,"fr",()=>gs,"frCA",()=>gt,"he",()=>gu,"hu",()=>gv,"id",()=>gw,"is",()=>gx,"it",()=>gy,"ja",()=>gz,"ka",()=>gA,"kh",()=>gC,"km",()=>gB,"ko",()=>gD,"lt",()=>gH,"mk",()=>gI,"ms",()=>gJ,"nl",()=>gK,"no",()=>gL,"ota",()=>gM,"pl",()=>gO,"ps",()=>gN,"pt",()=>gP,"ru",()=>gR,"sl",()=>gS,"sv",()=>gT,"ta",()=>gU,"th",()=>gV,"tr",()=>gW,"ua",()=>gY,"uk",()=>gX,"ur",()=>gZ,"vi",()=>g$,"yo",()=>g1,"zhCN",()=>g_,"zhTW",()=>g0],420),a.i(3703);var lS=a.i(420);a.i(84154),a.i(22093),a.i(35824),a.i(65330);var lT=a.i(31395),lU=a.i(43578);a.i(58073),a.s(["endsWith",()=>ig,"gt",()=>hZ,"gte",()=>h$,"includes",()=>id,"length",()=>h9,"lowercase",()=>ib,"lt",()=>hX,"lte",()=>hY,"maxLength",()=>h7,"maxSize",()=>h4,"mime",()=>ii,"minLength",()=>h8,"minSize",()=>h5,"multipleOf",()=>h3,"negative",()=>h0,"nonnegative",()=>h2,"nonpositive",()=>h1,"normalize",()=>ik,"overwrite",()=>ij,"positive",()=>h_,"property",()=>ih,"regex",()=>ia,"size",()=>h6,"startsWith",()=>ie,"toLowerCase",()=>im,"toUpperCase",()=>io,"trim",()=>il,"uppercase",()=>ic],42583),a.i(42628),a.i(42583),a.i(69269),a.i(72640),a.s(["$brand",()=>bW,"ZodFirstPartyTypeKind",()=>g,"ZodIssueCode",()=>lI,"config",()=>b$,"getErrorMap",()=>lK,"setErrorMap",()=>lJ],972),a.i(27735),a.i(972);var iV=iV,iW=iW,lV=lS,lW=a.i(18003),lX=a.i(26886),lY=a.i(51465);let lZ=lY;a.i(87767);var l$=lY;a.i(9925);var lX=lX;let l_=(a,b="ms")=>new Date(Date.now()+("sec"===b?1e3*a:a));class l0 extends Error{constructor(a,b){super(a),this.name="BetterAuthError",this.message=a,this.cause=b,this.stack=""}}let l1=Object.create(null),l2=a=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(a?l1:globalThis),l3=new Proxy(l1,{get:(a,b)=>l2()[b]??l1[b],has:(a,b)=>b in l2()||b in l1,set:(a,b,c)=>(l2(!0)[b]=c,!0),deleteProperty(a,b){if(!b)return!1;let c=l2(!0);return delete c[b],!0},ownKeys:()=>Object.keys(l2(!0))}),l4="undefined"!=typeof process&&process.env&&"production"||"",l5="production"===l4,l6="dev"===l4||"development"===l4,l7=()=>"test"===l4||function(a){return!!a&&"false"!==a}(l3.TEST);function l8(a,b){return"undefined"!=typeof process&&process.env?process.env[a]??b:"undefined"!=typeof Deno?Deno.env.get(a)??b:"undefined"!=typeof Bun?Bun.env[a]??b:b}function l9(a,b=!0){let c=l8(a);return c?"0"!==c&&"false"!==c.toLowerCase()&&""!==c:b}let ma={get BETTER_AUTH_TELEMETRY_ENDPOINT(){return l8("BETTER_AUTH_TELEMETRY_ENDPOINT","https://telemetry.better-auth.com/v1/track")}};function mb(a){return a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function mc(a,b,c){let d="",e=0,f=0;for(let c of a)for(e=e<<8|c,f+=8;f>=6;)f-=6,d+=b[e>>f&63];if(f>0&&(d+=b[e<<6-f&63]),c){let a=(4-d.length%4)%4;d+="=".repeat(a)}return d}function md(a,b){let c=new Map;for(let a=0;a<b.length;a++)c.set(b[a],a);let d=[],e=0,f=0;for(let b of a){if("="===b)break;let a=c.get(b);if(void 0===a)throw Error(`Invalid Base64 character: ${b}`);e=e<<6|a,(f+=6)>=8&&(f-=8,d.push(e>>f&255))}return Uint8Array.from(d)}let me={encode(a,b={}){let c=mb(!1);return mc("string"==typeof a?new TextEncoder().encode(a):new Uint8Array(a),c,b.padding??!0)},decode(a){"string"!=typeof a&&(a=new TextDecoder().decode(a));let b=mb(a.includes("-")||a.includes("_"));return md(a,b)}},mf={encode(a,b={}){let c=mb(!0);return mc("string"==typeof a?new TextEncoder().encode(a):new Uint8Array(a),c,b.padding??!0)},decode(a){let b=mb(a.includes("-")||a.includes("_"));return md(a,b)}},mg={encode:a=>{if("string"==typeof a&&(a=new TextEncoder().encode(a)),0===a.byteLength)return"";let b=new Uint8Array(a),c="";for(let a of b)c+=a.toString(16).padStart(2,"0");return c},decode:a=>{if(!a)return"";if("string"==typeof a){if(a.length%2!=0||!RegExp("^[0123456789abcdef]+$").test(a))throw Error("Invalid hexadecimal string");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2)b[c/2]=parseInt(a.slice(c,c+2),16);return new TextDecoder().decode(b)}return new TextDecoder().decode(a)}},mh=(a="SHA-256",b="none")=>{let c={importKey:async(b,c)=>i().importKey("raw","string"==typeof b?new TextEncoder().encode(b):b,{name:"HMAC",hash:{name:a}},!1,[c]),sign:async(a,d)=>{"string"==typeof a&&(a=await c.importKey(a,"sign"));let e=await i().sign("HMAC",a,"string"==typeof d?new TextEncoder().encode(d):d);return"hex"===b?mg.encode(e):"base64"===b||"base64url"===b||"base64urlnopad"===b?mf.encode(e,{padding:"base64urlnopad"!==b}):e},verify:async(a,d,e)=>("string"==typeof a&&(a=await c.importKey(a,"verify")),"hex"===b&&(e=mg.decode(e)),("base64"===b||"base64url"===b||"base64urlnopad"===b)&&(e=await me.decode(e)),i().verify("HMAC",a,"string"==typeof e?new TextEncoder().encode(e):e,"string"==typeof d?new TextEncoder().encode(d):d))};return c},mi={eterm:4,cons25:4,console:4,cygwin:4,dtterm:4,gnome:4,hurd:4,jfbterm:4,konsole:4,kterm:4,mlterm:4,mosh:24,putty:4,st:4,"rxvt-unicode-24bit":24,terminator:24,"xterm-kitty":24},mj=new Map(Object.entries({APPVEYOR:8,BUILDKITE:8,CIRCLECI:24,DRONE:8,GITEA_ACTIONS:24,GITHUB_ACTIONS:24,GITLAB_CI:8,TRAVIS:8})),mk=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/],ml={reset:"\x1b[0m",bright:"\x1b[1m",dim:"\x1b[2m",fg:{red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m"},bg:{black:"\x1b[40m"}},mm=["info","success","warn","error","debug"];function mn(a,b){return mm.indexOf(b)<=mm.indexOf(a)}let mo={info:ml.fg.blue,success:ml.fg.green,warn:ml.fg.yellow,error:ml.fg.red,debug:ml.fg.magenta},mp=a=>{let b=a?.disabled!==!0,c=a?.level??"error",d=a?.disableColors!==void 0?!a.disableColors:1!==function(){if(void 0!==l8("FORCE_COLOR"))switch(l8("FORCE_COLOR")){case"":case"1":case"true":return 4;case"2":return 8;case"3":return 24;default:return 1}if(void 0!==l8("NODE_DISABLE_COLORS")&&""!==l8("NODE_DISABLE_COLORS")||void 0!==l8("NO_COLOR")&&""!==l8("NO_COLOR")||"dumb"===l8("TERM"))return 1;if("undefined"!=typeof process&&"win32"===process.platform||l8("TMUX"))return 24;if("TF_BUILD"in l3&&"AGENT_NAME"in l3)return 4;if("CI"in l3){for(let{0:a,1:b}of mj)if(a in l3)return b;return"codeship"===l8("CI_NAME")?8:1}if("TEAMCITY_VERSION"in l3)return null!==/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(l8("TEAMCITY_VERSION"))?4:1;switch(l8("TERM_PROGRAM")){case"iTerm.app":if(!l8("TERM_PROGRAM_VERSION")||null!==/^[0-2]\./.exec(l8("TERM_PROGRAM_VERSION")))return 8;return 24;case"HyperTerm":case"MacTerm":return 24;case"Apple_Terminal":return 8}if("truecolor"===l8("COLORTERM")||"24bit"===l8("COLORTERM"))return 24;if(l8("TERM")){if(null!==/truecolor/.exec(l8("TERM")))return 24;if(null!==/^xterm-256/.exec(l8("TERM")))return 8;let a=l8("TERM").toLowerCase();if(mi[a])return mi[a];if(mk.some(b=>null!==b.exec(a)))return 4}return l8("COLORTERM")?4:1}();return{...Object.fromEntries(mm.map(e=>[e,(...[f,...g])=>((e,f,g=[])=>{if(!b||!mn(c,e))return;let h=((a,b,c)=>{let d=new Date().toISOString();return c?`${ml.dim}${d}${ml.reset} ${mo[a]}${a.toUpperCase()}${ml.reset} ${ml.bright}[Better Auth]:${ml.reset} ${b}`:`${d} ${a.toUpperCase()} [Better Auth]: ${b}`})(e,f,d);if(!a||"function"!=typeof a.log)return void("error"===e?console.error(h,...g):"warn"===e?console.warn(h,...g):console.log(h,...g));a.log("success"===e?"info":e,f,...g)})(e,f,g)])),get level(){return c}}},mq=mp();function mr(a){try{if("string"!=typeof a)return a;return JSON.parse(a,function(a,b){if("string"==typeof b&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$/.test(b)){let a=new Date(b);if(!isNaN(a.getTime()))return a}return b})}catch(a){return mq.error("Error parsing JSON",{error:a}),null}}function ms(a,b="/api/auth"){if(function(a){try{let b=new URL(a).pathname.replace(/\/+$/,"")||"/";return"/"!==b}catch(b){throw new l0(`Invalid base URL: ${a}. Please provide a valid base URL.`)}}(a))return a;let c=a.replace(/\/+$/,"");return b&&"/"!==b?(b=b.startsWith("/")?b:`/${b}`,`${c}${b}`):c}function mt(a,b,c,d){if(a)return ms(a,b);if(!1!==d){let a=l3.BETTER_AUTH_URL||l3.NEXT_PUBLIC_BETTER_AUTH_URL||l3.PUBLIC_BETTER_AUTH_URL||l3.NUXT_PUBLIC_BETTER_AUTH_URL||l3.NUXT_PUBLIC_AUTH_URL||("/"!==l3.BASE_URL?l3.BASE_URL:void 0);if(a)return ms(a,b)}let e=c?.headers.get("x-forwarded-host"),f=c?.headers.get("x-forwarded-proto");if(e&&f)return ms(`${f}://${e}`,b);if(c){let a=mu(c.url);if(!a)throw new l0("Could not get origin from request. Please provide a valid base URL.");return ms(a,b)}}function mu(a){try{return new URL(a).origin}catch(a){return null}}function mv(a){try{return new URL(a).protocol}catch(a){return null}}function mw(a){try{return new URL(a).host}catch(b){return a}}let mx=new Map,my={decode:(a,b="utf-8")=>(mx.has(b)||mx.set(b,new TextDecoder(b)),mx.get(b).decode(a)),encode:new TextEncoder().encode};function mz(a,b){if("string"==typeof a){var c=a;if("string"!=typeof c||0===c.length||c.length>100)throw Error(`Value provided to ms.parse() must be a string with length between 1 and 99. value=${JSON.stringify(c)}`);let b=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec(c);if(!b?.groups)return NaN;let{value:d,unit:e="ms"}=b.groups,f=parseFloat(d),g=e.toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*f;case"months":case"month":case"mo":return 26298e5*f;case"weeks":case"week":case"w":return 6048e5*f;case"days":case"day":case"d":return 864e5*f;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*f;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*f;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:throw Error(`Unknown unit "${g}" provided to ms.parse(). value=${JSON.stringify(c)}`)}}if("number"==typeof a){var d=a;if("number"!=typeof d||!Number.isFinite(d))throw Error("Value provided to ms.format() must be of type number.");let b=Math.abs(d);return b>=315576e5?`${Math.round(d/315576e5)}y`:b>=26298e5?`${Math.round(d/26298e5)}mo`:b>=6048e5?`${Math.round(d/6048e5)}w`:b>=864e5?`${Math.round(d/864e5)}d`:b>=36e5?`${Math.round(d/36e5)}h`:b>=6e4?`${Math.round(d/6e4)}m`:b>=1e3?`${Math.round(d/1e3)}s`:`${d}ms`}throw Error(`Value provided to ms() must be a string or number. value=${JSON.stringify(a)}`)}function mA(a){let b=(a.advanced?.useSecureCookies!==void 0?a.advanced?.useSecureCookies:void 0!==a.baseURL?!!a.baseURL.startsWith("https://"):l5)?"__Secure-":"",c=!!a.advanced?.crossSubDomainCookies?.enabled,d=c?a.advanced?.crossSubDomainCookies?.domain||(a.baseURL?new URL(a.baseURL).hostname:void 0):void 0;if(c&&!d)throw new l0("baseURL is required when crossSubdomainCookies are enabled");return function(e,f={}){let g=a.advanced?.cookiePrefix||"better-auth",h=a.advanced?.cookies?.[e]?.name||`${g}.${e}`,i=a.advanced?.cookies?.[e]?.attributes;return{name:`${b}${h}`,attributes:{secure:!!b,sameSite:"lax",path:"/",httpOnly:!0,...c?{domain:d}:{},...a.advanced?.defaultCookieAttributes,...f,...i}}}}async function mB(a,b,c){if(a.context.options.session?.cookieCache?.enabled){let d={session:Object.entries(b.session).reduce((b,[c,d])=>{let e=a.context.options.session?.additionalFields?.[c];return e&&!1===e.returned||(b[c]=d),b},{}),user:b.user},e={...a.context.authCookies.sessionData.options,maxAge:c?void 0:a.context.authCookies.sessionData.options.maxAge},f=l_(e.maxAge||60,"sec").getTime(),g=mf.encode(JSON.stringify({session:d,expiresAt:f,signature:await mh("SHA-256","base64urlnopad").sign(a.context.secret,JSON.stringify({...d,expiresAt:f}))}),{padding:!1});if(g.length>4093)return void a.context?.logger?.error(`Session data exceeds cookie size limit (${g.length} bytes > 4093 bytes). Consider reducing session data size or disabling cookie cache. Session will not be cached in cookie.`);a.setCookie(a.context.authCookies.sessionData.name,g,e)}}async function mC(a,b,c,d){let e=await a.getSignedCookie(a.context.authCookies.dontRememberToken.name,a.context.secret);c=void 0!==c?c:!!e;let f=a.context.authCookies.sessionToken.options,g=c?void 0:a.context.sessionConfig.expiresIn;await a.setSignedCookie(a.context.authCookies.sessionToken.name,b.session.token,a.context.secret,{...f,maxAge:g,...d}),c&&await a.setSignedCookie(a.context.authCookies.dontRememberToken.name,"true",a.context.secret,a.context.authCookies.dontRememberToken.options),await mB(a,b,c),a.context.setNewSession(b),a.context.options.secondaryStorage&&await a.context.secondaryStorage?.set(b.session.token,JSON.stringify({user:b.user,session:b.session}),Math.floor((new Date(b.session.expiresAt).getTime()-Date.now())/1e3))}function mD(a,b){a.setCookie(a.context.authCookies.sessionToken.name,"",{...a.context.authCookies.sessionToken.options,maxAge:0}),a.setCookie(a.context.authCookies.sessionData.name,"",{...a.context.authCookies.sessionData.options,maxAge:0}),b||a.setCookie(a.context.authCookies.dontRememberToken.name,"",{...a.context.authCookies.dontRememberToken.options,maxAge:0})}var lX=lX;let mE=F(async()=>({})),mF=F.create({use:[mE,F(async()=>({}))]}),mG=G.create({use:[mE]}),mH={USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_USER:"Failed to create user",FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_UPDATE_USER:"Failed to update user",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL:"Invalid email",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",SOCIAL_ACCOUNT_ALREADY_LINKED:"Social account already linked",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"Invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"User already exists. Use another email.",EMAIL_CAN_NOT_BE_UPDATED:"Email can not be updated",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action.",FAILED_TO_UNLINK_LAST_ACCOUNT:"You can't unlink your last account",ACCOUNT_NOT_FOUND:"Account not found",USER_ALREADY_HAS_PASSWORD:"User already has a password. Provide that to delete the account."},mI=k5(kF({disableCookieCache:lX.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:lX.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),mJ=()=>mG("/get-session",{method:"GET",query:mI,requireHeaders:!0,metadata:{openapi:{description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async a=>{try{let b=await a.getSignedCookie(a.context.authCookies.sessionToken.name,a.context.secret);if(!b)return null;let c=a.getCookie(a.context.authCookies.sessionData.name),d=c?mr(my.decode(mf.decode(c))):null;if(d&&!await mh("SHA-256","base64urlnopad").verify(a.context.secret,JSON.stringify({...d.session,expiresAt:d.expiresAt}),d.signature)){let b=a.context.authCookies.sessionData.name;return a.setCookie(b,"",{maxAge:0}),a.json(null)}let e=await a.getSignedCookie(a.context.authCookies.dontRememberToken.name,a.context.secret);if(d?.session&&a.context.options.session?.cookieCache?.enabled&&!a.query?.disableCookieCache){let b=d.session;if(!(d.expiresAt<Date.now()||b.session.expiresAt<new Date))return a.context.session=b,a.json(b);{let b=a.context.authCookies.sessionData.name;a.setCookie(b,"",{maxAge:0})}}let f=await a.context.internalAdapter.findSession(b);if(a.context.session=f,!f||f.session.expiresAt<new Date)return mD(a),f&&await a.context.internalAdapter.deleteSession(f.session.token),a.json(null);if(e||a.query?.disableRefresh)return a.json(f);let g=a.context.sessionConfig.expiresIn,h=a.context.sessionConfig.updateAge;if(f.session.expiresAt.valueOf()-1e3*g+1e3*h<=Date.now()&&(!a.query?.disableRefresh||!a.context.options.session?.disableSessionRefresh)){let b=await a.context.internalAdapter.updateSession(f.session.token,{expiresAt:l_(a.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!b)return mD(a),a.json(null,{status:401});let c=(b.expiresAt.valueOf()-Date.now())/1e3;return await mC(a,{session:b,user:f.user},!1,{maxAge:c}),a.json({session:b,user:f.user})}return await mB(a,f,!!e),a.json(f)}catch(b){throw a.context.logger.error("INTERNAL_SERVER_ERROR",b),new q("INTERNAL_SERVER_ERROR",{message:mH.FAILED_TO_GET_SESSION})}}),mK=async(a,b)=>{if(a.context.session)return a.context.session;let c=await mJ()({...a,asResponse:!1,headers:a.headers,returnHeaders:!1,query:{...b,...a.query}}).catch(a=>null);return a.context.session=c,c},mL=mF(async a=>{let b=await mK(a);if(!b?.session)throw new q("UNAUTHORIZED");return{session:b}}),mM=mF(async a=>{let b=await mK(a,{disableCookieCache:!0});if(!b?.session)throw new q("UNAUTHORIZED");return{session:b}});mF(async a=>{let b=await mK(a);if(!b?.session&&(a.request||a.headers))throw new q("UNAUTHORIZED");return{session:b}});let mN=mF(async a=>{let b=await mK(a);if(!b?.session)throw new q("UNAUTHORIZED");if(0===a.context.sessionConfig.freshAge)return{session:b};let c=a.context.sessionConfig.freshAge,d=b.session.updatedAt?.valueOf()||b.session.createdAt.valueOf();if(!(Date.now()-d<1e3*c))throw new q("FORBIDDEN",{message:"Session is not fresh"});return{session:b}}),mO=mG("/revoke-session",{method:"POST",body:kF({token:jl().meta({description:"The token to revoke"})}),use:[mM],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async a=>{let b=a.body.token,c=await a.context.internalAdapter.findSession(b);if(!c)throw new q("BAD_REQUEST",{message:"Session not found"});if(c.session.userId!==a.context.session.user.id)throw new q("UNAUTHORIZED");try{await a.context.internalAdapter.deleteSession(b)}catch(b){throw a.context.logger.error(b&&"object"==typeof b&&"name"in b?b.name:"",b),new q("INTERNAL_SERVER_ERROR")}return a.json({status:!0})}),mP=mG("/revoke-sessions",{method:"POST",use:[mM],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async a=>{try{await a.context.internalAdapter.deleteSessions(a.context.session.user.id)}catch(b){throw a.context.logger.error(b&&"object"==typeof b&&"name"in b?b.name:"",b),new q("INTERNAL_SERVER_ERROR")}return a.json({status:!0})}),mQ=mG("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[mM],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async a=>{let b=a.context.session;if(!b.user)throw new q("UNAUTHORIZED");let c=(await a.context.internalAdapter.listSessions(b.user.id)).filter(a=>a.expiresAt>new Date).filter(b=>b.token!==a.context.session.session.token);return await Promise.all(c.map(b=>a.context.internalAdapter.deleteSession(b.token))),a.json({status:!0})});function mR(a,b){return{digest:async c=>{let d=new TextEncoder,e="string"==typeof c?d.encode(c):c,f=await i().digest(a,e);return"hex"===b?Array.from(new Uint8Array(f)).map(a=>a.toString(16).padStart(2,"0")).join(""):"base64"===b||"base64url"===b||"base64urlnopad"===b?b.includes("url")?mf.encode(f,{padding:"base64urlnopad"!==b}):me.encode(f):f}}}function mS(a){if("boolean"!=typeof a)throw Error(`boolean expected, not ${a}`)}function mT(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function mU(a,b,c=""){let d=a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name,e=a?.length,f=void 0!==b;if(!d||f&&e!==b)throw Error((c&&`"${c}" `)+"expected Uint8Array"+(f?` of length ${b}`:"")+", got "+(d?`length=${e}`:`type=${typeof a}`));return a}function mV(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function mW(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function mX(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}let mY=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],mZ="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,m$=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0")),m_={_0:48,_9:57,A:65,F:70,a:97,f:102};function m0(a){return a>=m_._0&&a<=m_._9?a-m_._0:a>=m_.A&&a<=m_.F?a-(m_.A-10):a>=m_.a&&a<=m_.f?a-(m_.a-10):void 0}function m1(a,b,c=!0){if(void 0===b)return new Uint8Array(a);if(b.length!==a)throw Error('"output" expected Uint8Array of length '+a+", got: "+b.length);if(c&&b.byteOffset%4!=0)throw Error("invalid output, must be aligned");return b}function m2(a){return Uint8Array.from(a)}function m3(a=32){let b="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof b?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return b.getRandomValues(new Uint8Array(a))}function m4(a,b=m3){let{nonceLength:c}=a;mT(c);let d=(a,b)=>{let c=function(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];mU(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}(a,b);return b.fill(0),c};return(e,...f)=>({encrypt(g){mU(g);let h=b(c),i=a(e,h,...f).encrypt(g);return i instanceof Promise?i.then(a=>d(h,a)):d(h,i)},decrypt(b){mU(b);let d=b.subarray(0,c),g=b.subarray(c);return a(e,d,...f).decrypt(g)}})}let m5=a=>Uint8Array.from(a.split(""),a=>a.charCodeAt(0)),m6=m5("expand 16-byte k"),m7=m5("expand 32-byte k"),m8=mW(m6),m9=mW(m7);function na(a,b){return a<<b|a>>>32-b}function nb(a){return a.byteOffset%4==0}let nc=0x100000000-1,nd=Uint32Array.of();function ne(a,b){let{allowShortKeys:c,extendNonceFn:d,counterLength:e,counterRight:f,rounds:g}=function(a,b){if(null==b||"object"!=typeof b)throw Error("options must be defined");return Object.assign(a,b)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},b);if("function"!=typeof a)throw Error("core must be a function");return mT(e),mT(g),mS(f),mS(c),(b,h,i,j,k=0)=>{let l,m;mU(b,void 0,"key"),mU(h,void 0,"nonce"),mU(i,void 0,"data");let n=i.length;if(void 0===j&&(j=new Uint8Array(n)),mU(j,void 0,"output"),mT(k),k<0||k>=nc)throw Error("arx: counter overflow");if(j.length<n)throw Error(`arx: output (${j.length}) is shorter than data (${n})`);let o=[],p=b.length;if(32===p)o.push(l=m2(b)),m=m9;else if(16===p&&c)(l=new Uint8Array(32)).set(b),l.set(b,16),m=m8,o.push(l);else throw mU(b,32,"arx key"),Error("invalid key size");nb(h)||o.push(h=m2(h));let q=mW(l);if(d){if(24!==h.length)throw Error("arx: extended nonce must be 24 bytes");d(m,q,mW(h.subarray(0,16)),q),h=h.subarray(16)}let r=16-e;if(r!==h.length)throw Error(`arx: nonce must be ${r} or 16 bytes`);if(12!==r){let a=new Uint8Array(12);a.set(h,f?0:12-h.length),h=a,o.push(h)}return!function(a,b,c,d,e,f,g,h){let i=e.length,j=new Uint8Array(64),k=mW(j),l=nb(e)&&nb(f),m=l?mW(e):nd,n=l?mW(f):nd;for(let o=0;o<i;g++){if(a(b,c,d,k,g,h),g>=nc)throw Error("arx: counter overflow");let p=Math.min(64,i-o);if(l&&64===p){let a=o/4;if(o%4!=0)throw Error("arx: invalid block position");for(let b=0,c;b<16;b++)n[c=a+b]=m[c]^k[b];o+=64;continue}for(let a=0,b;a<p;a++)f[b=o+a]=e[b]^j[a];o+=p}}(a,m,q,mW(h),i,j,k,g),mX(...o),j}}function nf(a,b){return 255&a[b++]|(255&a[b++])<<8}class ng{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(a){let b=nf(a=m2(mU(a,32,"key")),0),c=nf(a,2),d=nf(a,4),e=nf(a,6),f=nf(a,8),g=nf(a,10),h=nf(a,12),i=nf(a,14);this.r[0]=8191&b,this.r[1]=(b>>>13|c<<3)&8191,this.r[2]=(c>>>10|d<<6)&7939,this.r[3]=(d>>>7|e<<9)&8191,this.r[4]=(e>>>4|f<<12)&255,this.r[5]=f>>>1&8190,this.r[6]=(f>>>14|g<<2)&8191,this.r[7]=(g>>>11|h<<5)&8065,this.r[8]=(h>>>8|i<<8)&8191,this.r[9]=i>>>5&127;for(let b=0;b<8;b++)this.pad[b]=nf(a,16+2*b)}process(a,b,c=!1){let{h:d,r:e}=this,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],n=e[8],o=e[9],p=nf(a,b+0),q=nf(a,b+2),r=nf(a,b+4),s=nf(a,b+6),t=nf(a,b+8),u=nf(a,b+10),v=nf(a,b+12),w=nf(a,b+14),x=d[0]+(8191&p),y=d[1]+((p>>>13|q<<3)&8191),z=d[2]+((q>>>10|r<<6)&8191),A=d[3]+((r>>>7|s<<9)&8191),B=d[4]+((s>>>4|t<<12)&8191),C=d[5]+(t>>>1&8191),D=d[6]+((t>>>14|u<<2)&8191),E=d[7]+((u>>>11|v<<5)&8191),F=d[8]+((v>>>8|w<<8)&8191),G=d[9]+(w>>>5|2048*!c),H=0,I=0+x*f+5*o*y+5*n*z+5*m*A+5*l*B;H=I>>>13,I&=8191,I+=5*k*C+5*j*D+5*i*E+5*h*F+5*g*G,H+=I>>>13,I&=8191;let J=H+x*g+y*f+5*o*z+5*n*A+5*m*B;H=J>>>13,J&=8191,J+=5*l*C+5*k*D+5*j*E+5*i*F+5*h*G,H+=J>>>13,J&=8191;let K=H+x*h+y*g+z*f+5*o*A+5*n*B;H=K>>>13,K&=8191,K+=5*m*C+5*l*D+5*k*E+5*j*F+5*i*G,H+=K>>>13,K&=8191;let L=H+x*i+y*h+z*g+A*f+5*o*B;H=L>>>13,L&=8191,L+=5*n*C+5*m*D+5*l*E+5*k*F+5*j*G,H+=L>>>13,L&=8191;let M=H+x*j+y*i+z*h+A*g+B*f;H=M>>>13,M&=8191,M+=5*o*C+5*n*D+5*m*E+5*l*F+5*k*G,H+=M>>>13,M&=8191;let N=H+x*k+y*j+z*i+A*h+B*g;H=N>>>13,N&=8191,N+=C*f+5*o*D+5*n*E+5*m*F+5*l*G,H+=N>>>13,N&=8191;let O=H+x*l+y*k+z*j+A*i+B*h;H=O>>>13,O&=8191,O+=C*g+D*f+5*o*E+5*n*F+5*m*G,H+=O>>>13,O&=8191;let P=H+x*m+y*l+z*k+A*j+B*i;H=P>>>13,P&=8191,P+=C*h+D*g+E*f+5*o*F+5*n*G,H+=P>>>13,P&=8191;let Q=H+x*n+y*m+z*l+A*k+B*j;H=Q>>>13,Q&=8191,Q+=C*i+D*h+E*g+F*f+5*o*G,H+=Q>>>13,Q&=8191;let R=H+x*o+y*n+z*m+A*l+B*k;H=R>>>13,R&=8191,R+=C*j+D*i+E*h+F*g+G*f,H+=R>>>13,R&=8191,I=8191&(H=(H=(H<<2)+H|0)+I|0),H>>>=13,J+=H,d[0]=I,d[1]=J,d[2]=K,d[3]=L,d[4]=M,d[5]=N,d[6]=O,d[7]=P,d[8]=Q,d[9]=R}finalize(){let{h:a,pad:b}=this,c=new Uint16Array(10),d=a[1]>>>13;a[1]&=8191;for(let b=2;b<10;b++)a[b]+=d,d=a[b]>>>13,a[b]&=8191;a[0]+=5*d,d=a[0]>>>13,a[0]&=8191,a[1]+=d,d=a[1]>>>13,a[1]&=8191,a[2]+=d,c[0]=a[0]+5,d=c[0]>>>13,c[0]&=8191;for(let b=1;b<10;b++)c[b]=a[b]+d,d=c[b]>>>13,c[b]&=8191;c[9]-=8192;let e=(1^d)-1;for(let a=0;a<10;a++)c[a]&=e;e=~e;for(let b=0;b<10;b++)a[b]=a[b]&e|c[b];a[0]=(a[0]|a[1]<<13)&65535,a[1]=(a[1]>>>3|a[2]<<10)&65535,a[2]=(a[2]>>>6|a[3]<<7)&65535,a[3]=(a[3]>>>9|a[4]<<4)&65535,a[4]=(a[4]>>>12|a[5]<<1|a[6]<<14)&65535,a[5]=(a[6]>>>2|a[7]<<11)&65535,a[6]=(a[7]>>>5|a[8]<<8)&65535,a[7]=(a[8]>>>8|a[9]<<5)&65535;let f=a[0]+b[0];a[0]=65535&f;for(let c=1;c<8;c++)f=(a[c]+b[c]|0)+(f>>>16)|0,a[c]=65535&f;mX(c)}update(a){mV(this),mU(a);let{buffer:b,blockLen:c}=this,d=(a=m2(a)).length;for(let e=0;e<d;){let f=Math.min(c-this.pos,d-e);if(f===c){for(;c<=d-e;e+=c)this.process(a,e);continue}b.set(a.subarray(e,e+f),this.pos),this.pos+=f,e+=f,this.pos===c&&(this.process(b,0,!1),this.pos=0)}return this}destroy(){mX(this.h,this.r,this.buffer,this.pad)}digestInto(a){mV(this);mU(a,void 0,"output");let b=this.outputLen;if(a.length<b)throw Error("digestInto() expects output buffer of length at least "+b);this.finished=!0;let{buffer:c,h:d}=this,{pos:e}=this;if(e){for(c[e++]=1;e<16;e++)c[e]=0;this.process(c,0,!0)}this.finalize();let f=0;for(let b=0;b<8;b++)a[f++]=d[b]>>>0,a[f++]=d[b]>>>8;return a}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}}let nh=function(a){let b=(b,c)=>a(c).update(b).digest(),c=a(new Uint8Array(32));return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b}(a=>new ng(a));function ni(a,b,c,d,e,f=20){let g=a[0],h=a[1],i=a[2],j=a[3],k=b[0],l=b[1],m=b[2],n=b[3],o=b[4],p=b[5],q=b[6],r=b[7],s=c[0],t=c[1],u=c[2],v=g,w=h,x=i,y=j,z=k,A=l,B=m,C=n,D=o,E=p,F=q,G=r,H=e,I=s,J=t,K=u;for(let a=0;a<f;a+=2)D=D+(H=na(H^(v=v+z|0),16))|0,v=v+(z=na(z^D,12))|0,D=D+(H=na(H^v,8))|0,z=na(z^D,7),E=E+(I=na(I^(w=w+A|0),16))|0,w=w+(A=na(A^E,12))|0,E=E+(I=na(I^w,8))|0,A=na(A^E,7),F=F+(J=na(J^(x=x+B|0),16))|0,x=x+(B=na(B^F,12))|0,F=F+(J=na(J^x,8))|0,B=na(B^F,7),G=G+(K=na(K^(y=y+C|0),16))|0,y=y+(C=na(C^G,12))|0,G=G+(K=na(K^y,8))|0,C=na(C^G,7),F=F+(K=na(K^(v=v+A|0),16))|0,v=v+(A=na(A^F,12))|0,F=F+(K=na(K^v,8))|0,A=na(A^F,7),G=G+(H=na(H^(w=w+B|0),16))|0,w=w+(B=na(B^G,12))|0,G=G+(H=na(H^w,8))|0,B=na(B^G,7),D=D+(I=na(I^(x=x+C|0),16))|0,x=x+(C=na(C^D,12))|0,D=D+(I=na(I^x,8))|0,C=na(C^D,7),E=E+(J=na(J^(y=y+z|0),16))|0,y=y+(z=na(z^E,12))|0,E=E+(J=na(J^y,8))|0,z=na(z^E,7);let L=0;d[L++]=g+v|0,d[L++]=h+w|0,d[L++]=i+x|0,d[L++]=j+y|0,d[L++]=k+z|0,d[L++]=l+A|0,d[L++]=m+B|0,d[L++]=n+C|0,d[L++]=o+D|0,d[L++]=p+E|0,d[L++]=q+F|0,d[L++]=r+G|0,d[L++]=e+H|0,d[L++]=s+I|0,d[L++]=t+J|0,d[L++]=u+K|0}let nj=ne(ni,{counterRight:!1,counterLength:4,allowShortKeys:!1}),nk=ne(ni,{counterRight:!1,counterLength:8,extendNonceFn:function(a,b,c,d){let e=a[0],f=a[1],g=a[2],h=a[3],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],q=c[0],r=c[1],s=c[2],t=c[3];for(let a=0;a<20;a+=2)m=m+(q=na(q^(e=e+i|0),16))|0,e=e+(i=na(i^m,12))|0,m=m+(q=na(q^e,8))|0,i=na(i^m,7),n=n+(r=na(r^(f=f+j|0),16))|0,f=f+(j=na(j^n,12))|0,n=n+(r=na(r^f,8))|0,j=na(j^n,7),o=o+(s=na(s^(g=g+k|0),16))|0,g=g+(k=na(k^o,12))|0,o=o+(s=na(s^g,8))|0,k=na(k^o,7),p=p+(t=na(t^(h=h+l|0),16))|0,h=h+(l=na(l^p,12))|0,p=p+(t=na(t^h,8))|0,l=na(l^p,7),o=o+(t=na(t^(e=e+j|0),16))|0,e=e+(j=na(j^o,12))|0,o=o+(t=na(t^e,8))|0,j=na(j^o,7),p=p+(q=na(q^(f=f+k|0),16))|0,f=f+(k=na(k^p,12))|0,p=p+(q=na(q^f,8))|0,k=na(k^p,7),m=m+(r=na(r^(g=g+l|0),16))|0,g=g+(l=na(l^m,12))|0,m=m+(r=na(r^g,8))|0,l=na(l^m,7),n=n+(s=na(s^(h=h+i|0),16))|0,h=h+(i=na(i^n,12))|0,n=n+(s=na(s^h,8))|0,i=na(i^n,7);let u=0;d[u++]=e,d[u++]=f,d[u++]=g,d[u++]=h,d[u++]=q,d[u++]=r,d[u++]=s,d[u++]=t},allowShortKeys:!1}),nl=new Uint8Array(16),nm=(a,b)=>{a.update(b);let c=b.length%16;c&&a.update(nl.subarray(c))},nn=new Uint8Array(32);function no(a,b,c,d,e){void 0!==e&&mU(e,void 0,"AAD");let f=a(b,c,nn),g=function(a,b,c){mS(c);let d=new Uint8Array(16),e=new DataView(d.buffer,d.byteOffset,d.byteLength);return e.setBigUint64(0,BigInt(b),c),e.setBigUint64(8,BigInt(a),c),d}(d.length,e?e.length:0,!0),h=nh.create(f);e&&nm(h,e),nm(h,d),h.update(g);let i=h.digest();return mX(f,g),i}let np=a=>(b,c,d)=>({encrypt(e,f){let g=e.length;(f=m1(g+16,f,!1)).set(e);let h=f.subarray(0,-16);a(b,c,h,h,1);let i=no(a,b,c,h,d);return f.set(i,g),mX(i),f},decrypt(e,f){f=m1(e.length-16,f,!1);let g=e.subarray(0,-16),h=e.subarray(-16),i=no(a,b,c,g,d);if(!function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}(h,i))throw Error("invalid tag");return f.set(e.subarray(0,-16)),a(b,c,f,f,1),mX(i),f}});np(nj);let nq=((a,b)=>{function c(d,...e){if(mU(d,void 0,"key"),!mY)throw Error("Non little-endian hardware is not yet supported");void 0!==a.nonceLength&&mU(e[0],a.varSizeNonce?void 0:a.nonceLength,"nonce");let f=a.tagLength;f&&void 0!==e[1]&&mU(e[1],void 0,"AAD");let g=b(d,...e),h=(a,b)=>{if(void 0!==b){if(2!==a)throw Error("cipher output not supported");mU(b,void 0,"output")}},i=!1;return{encrypt(a,b){if(i)throw Error("cannot encrypt() twice with same key + nonce");return i=!0,mU(a),h(g.encrypt.length,b),g.encrypt(a,b)},decrypt(a,b){if(mU(a),f&&a.length<f)throw Error('"ciphertext" expected length bigger than tagLength='+f);return h(g.decrypt.length,b),g.decrypt(a,b)}}}return Object.assign(c,a),c})({blockSize:64,nonceLength:24,tagLength:16},np(nk)),nr=new TextEncoder,ns=new TextDecoder;function nt(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function nu(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:ns.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=ns.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var c=b;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(c);let a=atob(c),d=new Uint8Array(a.length);for(let b=0;b<a.length;b++)d[b]=a.charCodeAt(b);return d}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function nv(a){let b=a;return("string"==typeof b&&(b=nr.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):(function(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=[];for(let c=0;c<a.length;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join(""))})(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class nw extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class nx extends nw{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class ny extends nw{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class nz extends nw{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class nA extends nw{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class nB extends nw{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class nC extends nw{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class nD extends nw{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class nE extends nw{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(a="no applicable key found in the JSON Web Key Set",b){super(a,b)}}class nF extends nw{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}class nG extends nw{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(a="request timed out",b){super(a,b)}}class nH extends nw{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(a="signature verification failed",b){super(a,b)}}let nI=(a,b)=>{let c=`SHA-${a.slice(-3)}`;switch(a){case"HS256":case"HS384":case"HS512":return{hash:c,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:c,name:"RSA-PSS",saltLength:parseInt(a.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:c,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:c,name:"ECDSA",namedCurve:b.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:a};default:throw new nA(`alg ${a} is not supported either by JOSE or your javascript runtime`)}},nJ=(a,b)=>{if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}};function nK(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function nL(a,b){return a.name===b}function nM(a){return parseInt(a.name.slice(4),10)}function nN(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}function nO(a,b,...c){return nN(`Key for the ${a} algorithm must be `,b,...c)}let nP=async(a,b,c)=>{if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError(((a,...b)=>nN("Key must be ",a,...b))(b,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",b,{hash:`SHA-${a.slice(-3)}`,name:"HMAC"},!1,[c])}return!function(a,b,c){switch(b){case"HS256":case"HS384":case"HS512":{if(!nL(a.algorithm,"HMAC"))throw nK("HMAC");let c=parseInt(b.slice(2),10);if(nM(a.algorithm.hash)!==c)throw nK(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!nL(a.algorithm,"RSASSA-PKCS1-v1_5"))throw nK("RSASSA-PKCS1-v1_5");let c=parseInt(b.slice(2),10);if(nM(a.algorithm.hash)!==c)throw nK(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!nL(a.algorithm,"RSA-PSS"))throw nK("RSA-PSS");let c=parseInt(b.slice(2),10);if(nM(a.algorithm.hash)!==c)throw nK(`SHA-${c}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!nL(a.algorithm,"Ed25519"))throw nK("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!nL(a.algorithm,b))throw nK(b);break;case"ES256":case"ES384":case"ES512":{if(!nL(a.algorithm,"ECDSA"))throw nK("ECDSA");let c=function(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(b);if(a.algorithm.namedCurve!==c)throw nK(c,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(c&&!a.usages.includes(c))throw TypeError(`CryptoKey does not support this operation, its usages must include ${c}.`)}(b,a,c),b},nQ=async(a,b,c)=>{let d=await nP(a,b,"sign");return nJ(a,d),new Uint8Array(await crypto.subtle.sign(nI(a,d.algorithm),d,c))},nR=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0};function nS(a){return a?.[Symbol.toStringTag]==="CryptoKey"}function nT(a){return a?.[Symbol.toStringTag]==="KeyObject"}let nU=a=>nS(a)||nT(a),nV=a=>{if(!function(a){return"object"==typeof a&&null!==a}(a)||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b};function nW(a){return nV(a)&&"string"==typeof a.kty}let nX=a=>a?.[Symbol.toStringTag],nY=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0},nZ=(a,b,c)=>{a.startsWith("HS")||"dir"===a||a.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(a)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(a)?((a,b,c)=>{if(!(b instanceof Uint8Array)){if(nW(b)){if(function(a){return"oct"===a.kty&&"string"==typeof a.k}(b)&&nY(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!nU(b))throw TypeError(nO(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${nX(b)} instances for symmetric algorithms must be of type "secret"`)}})(a,b,c):((a,b,c)=>{if(nW(b))switch(c){case"decrypt":case"sign":if(function(a){return"oct"!==a.kty&&("AKP"===a.kty&&"string"==typeof a.priv||"string"==typeof a.d)}(b)&&nY(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(function(a){return"oct"!==a.kty&&void 0===a.d&&void 0===a.priv}(b)&&nY(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!nU(b))throw TypeError(nO(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${nX(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${nX(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${nX(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${nX(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${nX(b)} instances for asymmetric algorithm encryption must be of type "public"`)}})(a,b,c)},n$=(a,b,c,d,e)=>{let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new nA(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)},n_=async a=>{if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new nA('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new nA('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new nA('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new nA('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new nA('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),d={...a};return"AKP"!==d.kty&&delete d.alg,delete d.use,crypto.subtle.importKey("jwk",d,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)},n0=async(a,c,d,e=!1)=>{let f=(b||=new WeakMap).get(a);if(f?.[d])return f[d];let g=await n_({...c,alg:d});return e&&Object.freeze(a),f?f[d]=g:b.set(a,{[d]:g}),g},n1=async(a,c)=>{if(a instanceof Uint8Array||nS(a))return a;if(nT(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return((a,c)=>{let d,e=(b||=new WeakMap).get(a);if(e?.[c])return e[c];let f="public"===a.type,g=!!f;if("x25519"===a.asymmetricKeyType){switch(c){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}d=a.toCryptoKey(a.asymmetricKeyType,g,f?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==c&&"Ed25519"!==c)throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(c!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let b;switch(c){case"RSA-OAEP":b="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":b="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":b="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":b="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(c.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:b},g,f?["encrypt"]:["decrypt"]);d=a.toCryptoKey({name:c.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:b},g,[f?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let b=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!b)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===c&&"P-256"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),"ES384"===c&&"P-384"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),"ES512"===c&&"P-521"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),c.startsWith("ECDH-ES")&&(d=a.toCryptoKey({name:"ECDH",namedCurve:b},g,f?[]:["deriveBits"]))}if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");return e?e[c]=d:b.set(a,{[c]:d}),d})(a,c)}catch(a){if(a instanceof TypeError)throw a}let d=a.export({format:"jwk"});return n0(a,d,c)}if(nW(a))return a.k?nu(a.k):n0(a,a,c,!0);throw Error("unreachable")};class n2{#c;#d;#e;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#c=a}setProtectedHeader(a){if(this.#d)throw TypeError("setProtectedHeader can only be called once");return this.#d=a,this}setUnprotectedHeader(a){if(this.#e)throw TypeError("setUnprotectedHeader can only be called once");return this.#e=a,this}async sign(a,b){let c;if(!this.#d&&!this.#e)throw new nB("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!nR(this.#d,this.#e))throw new nB("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let d={...this.#d,...this.#e},e=n$(nB,new Map([["b64",!0]]),b?.crit,this.#d,d),f=!0;if(e.has("b64")&&"boolean"!=typeof(f=this.#d.b64))throw new nB('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:g}=d;if("string"!=typeof g||!g)throw new nB('JWS "alg" (Algorithm) Header Parameter missing or invalid');nZ(g,a,"sign");let h=this.#c;f&&(h=nr.encode(nv(h)));let i=nt(c=this.#d?nr.encode(nv(JSON.stringify(this.#d))):nr.encode(""),nr.encode("."),h),j=await n1(a,g),k={signature:nv(await nQ(g,j,i)),payload:""};return f&&(k.payload=ns.decode(h)),this.#e&&(k.header=this.#e),this.#d&&(k.protected=ns.decode(c)),k}}class n3{#f;constructor(a){this.#f=new n2(a)}setProtectedHeader(a){return this.#f.setProtectedHeader(a),this}async sign(a,b){let c=await this.#f.sign(a,b);if(void 0===c.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}let n4=a=>Math.floor(a.getTime()/1e3),n5=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,n6=a=>{let b,c=n5.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b};function n7(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let n8=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`;class n9{#c;constructor(a){if(!nV(a))throw TypeError("JWT Claims Set MUST be an object");this.#c=structuredClone(a)}data(){return nr.encode(JSON.stringify(this.#c))}get iss(){return this.#c.iss}set iss(a){this.#c.iss=a}get sub(){return this.#c.sub}set sub(a){this.#c.sub=a}get aud(){return this.#c.aud}set aud(a){this.#c.aud=a}set jti(a){this.#c.jti=a}set nbf(a){"number"==typeof a?this.#c.nbf=n7("setNotBefore",a):a instanceof Date?this.#c.nbf=n7("setNotBefore",n4(a)):this.#c.nbf=n4(new Date)+n6(a)}set exp(a){"number"==typeof a?this.#c.exp=n7("setExpirationTime",a):a instanceof Date?this.#c.exp=n7("setExpirationTime",n4(a)):this.#c.exp=n4(new Date)+n6(a)}set iat(a){void 0===a?this.#c.iat=n4(new Date):a instanceof Date?this.#c.iat=n7("setIssuedAt",n4(a)):"string"==typeof a?this.#c.iat=n7("setIssuedAt",n4(new Date)+n6(a)):this.#c.iat=n7("setIssuedAt",a)}}class oa{#d;#g;constructor(a={}){this.#g=new n9(a)}setIssuer(a){return this.#g.iss=a,this}setSubject(a){return this.#g.sub=a,this}setAudience(a){return this.#g.aud=a,this}setJti(a){return this.#g.jti=a,this}setNotBefore(a){return this.#g.nbf=a,this}setExpirationTime(a){return this.#g.exp=a,this}setIssuedAt(a){return this.#g.iat=a,this}setProtectedHeader(a){return this.#d=a,this}async sign(a,b){let c=new n3(this.#g.data());if(c.setProtectedHeader(this.#d),Array.isArray(this.#d?.crit)&&this.#d.crit.includes("b64")&&!1===this.#d.b64)throw new nC("JWTs MUST NOT use unencoded payload");return c.sign(a,b)}}function ob(a,b=""){if(!Number.isSafeInteger(a)||a<0){let c=b&&`"${b}" `;throw Error(`${c}expected integer >= 0, got ${a}`)}}function oc(a,b,c=""){let d=a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name,e=a?.length,f=void 0!==b;if(!d||f&&e!==b)throw Error((c&&`"${c}" `)+"expected Uint8Array"+(f?` of length ${b}`:"")+", got "+(d?`length=${e}`:`type=${typeof a}`));return a}function od(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash must wrapped by utils.createHasher");ob(a.outputLen),ob(a.blockLen)}function oe(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function of(a,b){oc(a,void 0,"digestInto() output");let c=b.outputLen;if(a.length<c)throw Error('"digestInto() output" expected to be of length >='+c)}function og(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function oh(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}function oi(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function oj(a,b){return a<<32-b|a>>>b}function ok(a,b){return a<<b|a>>>32-b>>>0}let ol=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?a=>a:function(a){for(let c=0;c<a.length;c++){var b;a[c]=(b=a[c])<<24&0xff000000|b<<8&0xff0000|b>>>8&65280|b>>>24&255}return a},om="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,on={_0:48,_9:57,A:65,F:70,a:97,f:102};function oo(a){return a>=on._0&&a<=on._9?a-on._0:a>=on.A&&a<=on.F?a-(on.A-10):a>=on.a&&a<=on.f?a-(on.a-10):void 0}let op=async()=>{};async function oq(a,b,c){let d=Date.now();for(let e=0;e<a;e++){c(e);let a=Date.now()-d;a>=0&&a<b||(await op(),d+=a)}}function or(a,b=""){if("string"==typeof a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}return oc(a,void 0,b)}function os(a,b){if(void 0!==b&&"[object Object]"!==({}).toString.call(b))throw Error("options must be object or undefined");return Object.assign(a,b)}class ot{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(a,b){if(od(a),oc(b,void 0,"key"),this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let c=this.blockLen,d=new Uint8Array(c);d.set(b.length>c?a.create().update(b).digest():b);for(let a=0;a<d.length;a++)d[a]^=54;this.iHash.update(d),this.oHash=a.create();for(let a=0;a<d.length;a++)d[a]^=106;this.oHash.update(d),oh(d)}update(a){return oe(this),this.iHash.update(a),this}digestInto(a){oe(this),oc(a,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||=Object.create(Object.getPrototypeOf(this),{});let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ou=(a,b,c)=>new ot(a,b).update(c).digest();function ov(a,b,c,d){var e;let f,{c:g,dkLen:h,DK:i,PRF:j,PRFSalt:k}=function(a,b,c,d){od(a);let{c:e,dkLen:f,asyncTick:g}=os({dkLen:32,asyncTick:10},d);if(ob(e,"c"),ob(f,"dkLen"),ob(g,"asyncTick"),e<1)throw Error("iterations (c) must be >= 1");let h=or(b,"password"),i=or(c,"salt"),j=new Uint8Array(f),k=ou.create(a,h),l=k._cloneInto().update(i);return{c:e,dkLen:f,asyncTick:g,DK:j,PRF:k,PRFSalt:l}}(a,b,c,d),l=new Uint8Array(4),m=oi(l),n=new Uint8Array(j.outputLen);for(let a=1,b=0;b<h;a++,b+=j.outputLen){let c=i.subarray(b,b+j.outputLen);m.setInt32(0,a,!1),(f=k._cloneInto(f)).update(l).digestInto(n),c.set(n.subarray(0,c.length));for(let a=1;a<g;a++){j._cloneInto(f).update(n).digestInto(n);for(let a=0;a<c.length;a++)c[a]^=n[a]}}return e=f,j.destroy(),k.destroy(),e&&e.destroy(),oh(n),i}ou.create=(a,b)=>new ot(a,b);class ow{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(a,b,c,d){this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.buffer=new Uint8Array(a),this.view=oi(this.buffer)}update(a){oe(this),oc(a);let{view:b,buffer:c,blockLen:d}=this,e=a.length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=oi(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){oe(this),of(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:d,isLE:e}=this,{pos:f}=this;b[f++]=128,oh(this.buffer.subarray(f)),this.padOffset>d-f&&(this.process(c,0),f=0);for(let a=f;a<d;a++)b[a]=0;c.setBigUint64(d-8,BigInt(8*this.length),e),this.process(c,0);let g=oi(a),h=this.outputLen;if(h%4)throw Error("_sha2: outputLen must be aligned to 32bit");let i=h/4,j=this.get();if(i>j.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<i;a++)g.setUint32(4*a,j[a],e)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){(a||=new this.constructor).set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.destroyed=f,a.finished=e,a.length=d,a.pos=g,d%b&&a.buffer.set(c),a}clone(){return this._cloneInto()}}let ox=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),oy=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),oz=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),oA=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),oB=BigInt(0x100000000-1),oC=BigInt(32);function oD(a,b=!1){let c=a.length,d=new Uint32Array(c),e=new Uint32Array(c);for(let f=0;f<c;f++){let{h:c,l:g}=function(a,b=!1){return b?{h:Number(a&oB),l:Number(a>>oC&oB)}:{h:0|Number(a>>oC&oB),l:0|Number(a&oB)}}(a[f],b);[d[f],e[f]]=[c,g]}return[d,e]}let oE=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),oF=new Uint32Array(64);class oG extends ow{constructor(a){super(64,a,8,!1)}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)oF[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=oF[a-15],c=oF[a-2],d=oj(b,7)^oj(b,18)^b>>>3,e=oj(c,17)^oj(c,19)^c>>>10;oF[a]=e+oF[a-7]+d+oF[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){var k,l,m,n;let b=j+(oj(g,6)^oj(g,11)^oj(g,25))+((k=g)&h^~k&i)+oE[a]+oF[a]|0,o=(oj(c,2)^oj(c,13)^oj(c,22))+((l=c)&(m=d)^l&(n=e)^m&n)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+o|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){oh(oF)}destroy(){this.set(0,0,0,0,0,0,0,0),oh(this.buffer)}}class oH extends oG{A=0|ox[0];B=0|ox[1];C=0|ox[2];D=0|ox[3];E=0|ox[4];F=0|ox[5];G=0|ox[6];H=0|ox[7];constructor(){super(32)}}let oI=oD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),oJ=oI[0],oK=oI[1],oL=new Uint32Array(80),oM=new Uint32Array(80),oN=function(a,b={}){let c=(b,c)=>a(c).update(b).digest(),d=a(void 0);return c.outputLen=d.outputLen,c.blockLen=d.blockLen,c.create=b=>a(b),Object.assign(c,b),Object.freeze(c)}(()=>new oH,{oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,1])});function oO(a,b,c,d,e,f){let g=a[b++]^c[d++],h=a[b++]^c[d++],i=a[b++]^c[d++],j=a[b++]^c[d++],k=a[b++]^c[d++],l=a[b++]^c[d++],m=a[b++]^c[d++],n=a[b++]^c[d++],o=a[b++]^c[d++],p=a[b++]^c[d++],q=a[b++]^c[d++],r=a[b++]^c[d++],s=a[b++]^c[d++],t=a[b++]^c[d++],u=a[b++]^c[d++],v=a[b++]^c[d++],w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=v;for(let a=0;a<8;a+=2)A^=ok(w+I|0,7),E^=ok(A+w|0,9),I^=ok(E+A|0,13),w^=ok(I+E|0,18),F^=ok(B+x|0,7),J^=ok(F+B|0,9),x^=ok(J+F|0,13),B^=ok(x+J|0,18),K^=ok(G+C|0,7),y^=ok(K+G|0,9),C^=ok(y+K|0,13),G^=ok(C+y|0,18),z^=ok(L+H|0,7),D^=ok(z+L|0,9),H^=ok(D+z|0,13),L^=ok(H+D|0,18),x^=ok(w+z|0,7),y^=ok(x+w|0,9),z^=ok(y+x|0,13),w^=ok(z+y|0,18),C^=ok(B+A|0,7),D^=ok(C+B|0,9),A^=ok(D+C|0,13),B^=ok(A+D|0,18),H^=ok(G+F|0,7),E^=ok(H+G|0,9),F^=ok(E+H|0,13),G^=ok(F+E|0,18),I^=ok(L+K|0,7),J^=ok(I+L|0,9),K^=ok(J+I|0,13),L^=ok(K+J|0,18);e[f++]=g+w|0,e[f++]=h+x|0,e[f++]=i+y|0,e[f++]=j+z|0,e[f++]=k+A|0,e[f++]=l+B|0,e[f++]=m+C|0,e[f++]=n+D|0,e[f++]=o+E|0,e[f++]=p+F|0,e[f++]=q+G|0,e[f++]=r+H|0,e[f++]=s+I|0,e[f++]=t+J|0,e[f++]=u+K|0,e[f++]=v+L|0}function oP(a,b,c,d,e){let f=d+0,g=d+16*e;for(let d=0;d<16;d++)c[g+d]=a[b+(2*e-1)*16+d];for(let d=0;d<e;d++,f+=16,b+=16)oO(c,g,a,b,c,f),d>0&&(g+=16),oO(c,f,a,b+=16,c,g)}async function oQ(a,b,c){let{N:d,r:e,p:f,dkLen:g,blockSize32:h,V:i,B32:j,B:k,tmp:l,blockMixCb:m,asyncTick:n}=function(a,b,c){let{N:d,r:e,p:f,dkLen:g,asyncTick:h,maxmem:i,onProgress:j}=os({dkLen:32,asyncTick:10,maxmem:0x40000400},c);if(ob(d,"N"),ob(e,"r"),ob(f,"p"),ob(g,"dkLen"),ob(h,"asyncTick"),ob(i,"maxmem"),void 0!==j&&"function"!=typeof j)throw Error("progressCb must be a function");let k=128*e,l=k/4;if(d<=1||(d&d-1)!=0||d>0x100000000)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(f<1||f>0x1fffffffe0/k)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(g<1||g>0x1fffffffe0)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(k*(d+f)>i)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+i);let m=ov(oN,a,b,{c:1,dkLen:k*f}),n=og(m),o=og(new Uint8Array(k*d)),p=og(new Uint8Array(k)),q=()=>{};if(j){let a=2*d*f,b=Math.max(Math.floor(a/1e4),1),c=0;q=()=>{c++,j&&(!(c%b)||c===a)&&j(c/a)}}return{N:d,r:e,p:f,dkLen:g,blockSize32:l,V:o,B32:n,B:m,tmp:p,blockMixCb:q,asyncTick:h}}(a,b,c);ol(j);for(let a=0;a<f;a++){let b=h*a;for(let a=0;a<h;a++)i[a]=j[b+a];let c=0;await oq(d-1,n,()=>{oP(i,c,i,c+=h,e),m()}),oP(i,(d-1)*h,j,b,e),m(),await oq(d,n,()=>{let a=(j[b+h-16]&d-1)>>>0;for(let c=0;c<h;c++)l[c]=j[b+c]^i[a*h+c];oP(l,0,j,b,e),m()})}ol(j);let o=ov(oN,a,k,{c:1,dkLen:g});return oh(k,i,l),o}function oR(a){switch(a){case"a-z":return"abcdefghijklmnopqrstuvwxyz";case"A-Z":return"ABCDEFGHIJKLMNOPQRSTUVWXYZ";case"0-9":return"0123456789";case"-_":return"-_";default:throw Error(`Unsupported alphabet: ${a}`)}}function oS(...a){let b=a.map(oR).join("");if(0===b.length)throw Error("No valid characters provided for random string generation.");let c=b.length;return(a,...d)=>{let e;if(a<=0)throw Error("Length must be a positive integer.");let f=b,g=c;d.length>0&&(g=(f=d.map(oR).join("")).length);let h=Math.floor(256/g)*g,i=new Uint8Array(2*a),j=i.length,k="",l=j;for(;k.length<a;)l>=j&&(crypto.getRandomValues(i),l=0),(e=i[l++])<h&&(k+=f[e%g]);return k}}let oT=oS("a-z","0-9","A-Z","-_");async function oU(a,b,c=3600){return await new oa(a).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+c).sign(new TextEncoder().encode(b))}async function oV(a){let b=await mR("SHA-256").digest(a);return me.encode(b)}let oW={N:16384,r:16,p:1,dkLen:64};async function oX(a,b){return await oQ(a.normalize("NFKC"),b,{N:oW.N,p:oW.p,r:oW.r,dkLen:oW.dkLen,maxmem:128*oW.N*oW.r*2})}let oY=async a=>{let b=mg.encode(crypto.getRandomValues(new Uint8Array(16))),c=await oX(a,b);return`${b}:${mg.encode(c)}`},oZ=async({hash:a,password:b})=>{let[c,d]=a.split(":");if(!c||!d)throw new l0("Invalid password hash");return function(a,b){let c=new Uint8Array(a),d=new Uint8Array(b),e=c.length^d.length,f=Math.max(c.length,d.length);for(let a=0;a<f;a++)e|=(a<c.length?c[a]:0)^(a<d.length?d[a]:0);return 0===e}(await oX(b,c),function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(om)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=oo(a.charCodeAt(e)),f=oo(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}(d))},o$=async({key:a,data:b})=>{let c=await mR("SHA-256").digest(a),d=function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}(b);return function(a){if(mU(a),mZ)return a.toHex();let b="";for(let c=0;c<a.length;c++)b+=m$[a[c]];return b}(m4(nq)(new Uint8Array(c)).encrypt(d))},o_=async({key:a,data:b})=>{let c=await mR("SHA-256").digest(a),d=function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(mZ)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=m0(a.charCodeAt(e)),f=m0(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}(b),e=m4(nq)(new Uint8Array(c));return new TextDecoder().decode(e.decrypt(d))};var o0=Object.defineProperty,o1=Object.defineProperties,o2=Object.getOwnPropertyDescriptors,o3=Object.getOwnPropertySymbols,o4=Object.prototype.hasOwnProperty,o5=Object.prototype.propertyIsEnumerable,o6=(a,b,c)=>b in a?o0(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,o7=(a,b)=>{for(var c in b||(b={}))o4.call(b,c)&&o6(a,c,b[c]);if(o3)for(var c of o3(b))o5.call(b,c)&&o6(a,c,b[c]);return a},o8=(a,b)=>o1(a,o2(b)),o9=class extends Error{constructor(a,b,c){super(b||a.toString(),{cause:c}),this.status=a,this.statusText=b,this.error=c}},pa=async(a,b)=>{var c,d,e,f,g,h;let i=b||{},j={onRequest:[null==b?void 0:b.onRequest],onResponse:[null==b?void 0:b.onResponse],onSuccess:[null==b?void 0:b.onSuccess],onError:[null==b?void 0:b.onError],onRetry:[null==b?void 0:b.onRetry]};if(!b||!(null==b?void 0:b.plugins))return{url:a,options:i,hooks:j};for(let k of(null==b?void 0:b.plugins)||[]){if(k.init){let d=await (null==(c=k.init)?void 0:c.call(k,a.toString(),b));i=d.options||i,a=d.url}j.onRequest.push(null==(d=k.hooks)?void 0:d.onRequest),j.onResponse.push(null==(e=k.hooks)?void 0:e.onResponse),j.onSuccess.push(null==(f=k.hooks)?void 0:f.onSuccess),j.onError.push(null==(g=k.hooks)?void 0:g.onError),j.onRetry.push(null==(h=k.hooks)?void 0:h.onRetry)}return{url:a,options:i,hooks:j}},pb=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(){return this.options.delay}},pc=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(a){return Math.min(this.options.maxDelay,this.options.baseDelay*2**a)}},pd=async a=>{let b={},c=async a=>"function"==typeof a?await a():a;if(null==a?void 0:a.auth){if("Bearer"===a.auth.type){let d=await c(a.auth.token);if(!d)return b;b.authorization=`Bearer ${d}`}else if("Basic"===a.auth.type){let d=c(a.auth.username),e=c(a.auth.password);if(!d||!e)return b;b.authorization=`Basic ${btoa(`${d}:${e}`)}`}else if("Custom"===a.auth.type){let d=c(a.auth.value);if(!d)return b;b.authorization=`${c(a.auth.prefix)} ${d}`}}return b},pe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function pf(a){if(void 0===a)return!1;let b=typeof a;return"string"===b||"number"===b||"boolean"===b||null===b||"object"===b&&(!!Array.isArray(a)||!a.buffer&&(a.constructor&&"Object"===a.constructor.name||"function"==typeof a.toJSON))}function pg(a){try{return JSON.parse(a)}catch(b){return a}}async function ph(a){let b=new Headers(null==a?void 0:a.headers);for(let[c,d]of Object.entries(await pd(a)||{}))b.set(c,d);if(!b.has("content-type")){let c=pf(null==a?void 0:a.body)?"application/json":null;c&&b.set("content-type",c)}return b}var pi=class a extends Error{constructor(b,c){super(c||JSON.stringify(b,null,2)),this.issues=b,Object.setPrototypeOf(this,a.prototype)}};async function pj(a,b){let c=await a["~standard"].validate(b);if(c.issues)throw new pi(c.issues);return c.value}var pk=["get","post","put","patch","delete"],pl=async(a,b)=>{var c,d,e,f,g,h,i,j;let{hooks:k,url:l,options:m}=await pa(a,b),n=function(a){if(null==a?void 0:a.customFetchImpl)return a.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(m),o=new AbortController,p=null!=(c=m.signal)?c:o.signal,q=function(a,b){let{baseURL:c,params:d,query:e}=b||{query:{},params:{},baseURL:""},f=a.startsWith("http")?a.split("/").slice(0,3).join("/"):c||"";if(a.startsWith("@")){let b=a.toString().split("@")[1].split("/")[0];pk.includes(b)&&(a=a.replace(`@${b}/`,"/"))}f.endsWith("/")||(f+="/");let[g,h]=a.replace(f,"").split("?"),i=new URLSearchParams(h);for(let[a,b]of Object.entries(e||{}))null!=b&&i.set(a,String(b));if(d)if(Array.isArray(d))for(let[a,b]of g.split("/").filter(a=>a.startsWith(":")).entries()){let c=d[a];g=g.replace(b,c)}else for(let[a,b]of Object.entries(d))g=g.replace(`:${a}`,String(b));(g=g.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(g=g.slice(1));let j=i.toString();return(j=j.length>0?`?${j}`.replace(/\+/g,"%20"):"",f.startsWith("http"))?new URL(`${g}${j}`,f):`${f}${g}${j}`}(l,m),r=function(a){if(!(null==a?void 0:a.body))return null;let b=new Headers(null==a?void 0:a.headers);if(pf(a.body)&&!b.has("content-type")){for(let[b,c]of Object.entries(null==a?void 0:a.body))c instanceof Date&&(a.body[b]=c.toISOString());return JSON.stringify(a.body)}return a.body}(m),s=await ph(m),t=function(a,b){var c;if(null==b?void 0:b.method)return b.method.toUpperCase();if(a.startsWith("@")){let d=null==(c=a.split("@")[1])?void 0:c.split("/")[0];return pk.includes(d)?d.toUpperCase():(null==b?void 0:b.body)?"POST":"GET"}return(null==b?void 0:b.body)?"POST":"GET"}(l,m),u=o8(o7({},m),{url:q,headers:s,body:r,method:t,signal:p});for(let a of k.onRequest)if(a){let b=await a(u);b instanceof Object&&(u=b)}("pipeTo"in u&&"function"==typeof u.pipeTo||"function"==typeof(null==(d=null==b?void 0:b.body)?void 0:d.pipe))&&!("duplex"in u)&&(u.duplex="half");let{clearTimeout:v}=function(a,b){let c;return!(null==a?void 0:a.signal)&&(null==a?void 0:a.timeout)&&(c=setTimeout(()=>null==b?void 0:b.abort(),null==a?void 0:a.timeout)),{abortTimeout:c,clearTimeout:()=>{c&&clearTimeout(c)}}}(m,o),w=await n(u.url,u);v();let x={response:w,request:u};for(let a of k.onResponse)if(a){let c=await a(o8(o7({},x),{response:(null==(e=null==b?void 0:b.hookOptions)?void 0:e.cloneResponse)?w.clone():w}));c instanceof Response?w=c:c instanceof Object&&(w=c.response)}if(w.ok){if("HEAD"===u.method)return{data:"",error:null};let a=function(a){let b=a.headers.get("content-type"),c=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!b)return"json";let d=b.split(";").shift()||"";return pe.test(d)?"json":c.has(d)||d.startsWith("text/")?"text":"blob"}(w),c={data:"",response:w,request:u};if("json"===a||"text"===a){let a=await w.text(),b=null!=(f=u.jsonParser)?f:pg;c.data=await b(a)}else c.data=await w[a]();for(let a of((null==u?void 0:u.output)&&u.output&&!u.disableValidation&&(c.data=await pj(u.output,c.data)),k.onSuccess))a&&await a(o8(o7({},c),{response:(null==(g=null==b?void 0:b.hookOptions)?void 0:g.cloneResponse)?w.clone():w}));return(null==b?void 0:b.throw)?c.data:{data:c.data,error:null}}let y=null!=(h=null==b?void 0:b.jsonParser)?h:pg,z=await w.text(),A=function(a){try{return JSON.parse(a),!0}catch(a){return!1}}(z),B=A?await y(z):null,C={response:w,responseText:z,request:u,error:o8(o7({},B),{status:w.status,statusText:w.statusText})};for(let a of k.onError)a&&await a(o8(o7({},C),{response:(null==(i=null==b?void 0:b.hookOptions)?void 0:i.cloneResponse)?w.clone():w}));if(null==b?void 0:b.retry){let c=function(a){if("number"==typeof a)return new pb({type:"linear",attempts:a,delay:1e3});switch(a.type){case"linear":return new pb(a);case"exponential":return new pc(a);default:throw Error("Invalid retry strategy")}}(b.retry),d=null!=(j=b.retryAttempt)?j:0;if(await c.shouldAttemptRetry(d,w)){for(let a of k.onRetry)a&&await a(x);let e=c.getDelay(d);return await new Promise(a=>setTimeout(a,e)),await pl(a,o8(o7({},b),{retryAttempt:d+1}))}}if(null==b?void 0:b.throw)throw new o9(w.status,w.statusText,A?B:z);return{data:null,error:o8(o7({},B),{status:w.status,statusText:w.statusText})}};let pm=async(a,b,c,d)=>{let e=await nP(a,b,"verify");nJ(a,e);let f=nI(a,e.algorithm);try{return await crypto.subtle.verify(f,e,c,d)}catch{return!1}};async function pn(a,b,c){let d,e;if(!nV(a))throw new nB("Flattened JWS must be an object");if(void 0===a.protected&&void 0===a.header)throw new nB('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new nB("JWS Protected Header incorrect type");if(void 0===a.payload)throw new nB("JWS Payload missing");if("string"!=typeof a.signature)throw new nB("JWS Signature missing or incorrect type");if(void 0!==a.header&&!nV(a.header))throw new nB("JWS Unprotected Header incorrect type");let f={};if(a.protected)try{let b=nu(a.protected);f=JSON.parse(ns.decode(b))}catch{throw new nB("JWS Protected Header is invalid")}if(!nR(f,a.header))throw new nB("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...f,...a.header},h=n$(nB,new Map([["b64",!0]]),c?.crit,f,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=f.b64))throw new nB('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new nB('JWS "alg" (Algorithm) Header Parameter missing or invalid');let k=c&&((a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)})("algorithms",c.algorithms);if(k&&!k.has(j))throw new nz('"alg" (Algorithm) Header Parameter value not allowed');if(i){if("string"!=typeof a.payload)throw new nB("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new nB("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof b&&(b=await b(f,a),l=!0),nZ(j,b,"verify");let m=nt(nr.encode(a.protected??""),nr.encode("."),"string"==typeof a.payload?nr.encode(a.payload):a.payload);try{d=nu(a.signature)}catch{throw new nB("Failed to base64url decode the signature")}let n=await n1(b,j);if(!await pm(j,n,d,m))throw new nH;if(i)try{e=nu(a.payload)}catch{throw new nB("Failed to base64url decode the payload")}else e="string"==typeof a.payload?nr.encode(a.payload):a.payload;let o={payload:e};return(void 0!==a.protected&&(o.protectedHeader=f),void 0!==a.header&&(o.unprotectedHeader=a.header),l)?{...o,key:n}:o}async function po(a,b,c){if(a instanceof Uint8Array&&(a=ns.decode(a)),"string"!=typeof a)throw new nB("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new nB("Invalid Compact JWS");let h=await pn({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}async function pp(a,b,c){let d=await po(a,b,c);if(d.protectedHeader.crit?.includes("b64")&&!1===d.protectedHeader.b64)throw new nC("JWTs MUST NOT use unencoded payload");let e={payload:function(a,b,c={}){var d,e;let f,g;try{f=JSON.parse(ns.decode(b))}catch{}if(!nV(f))throw new nC("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||n8(a.typ)!==n8(h)))throw new nx('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new nx(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new nx('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new nx('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new nx('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=n6(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=n4(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new nx('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new nx('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new nx('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new nx('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new ny('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:n6(m)))throw new ny('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new nx('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f}(d.protectedHeader,d.payload,c),protectedHeader:d.protectedHeader};return"function"==typeof b?{...e,key:d.key}:e}function pq(a){let b,c;if("string"!=typeof a)throw new nC("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new nC("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new nC("Invalid JWT");if(!d)throw new nC("JWTs must contain a payload");try{b=nu(d)}catch{throw new nC("Failed to base64url decode the payload")}try{c=JSON.parse(ns.decode(b))}catch{throw new nC("Failed to parse the decoded payload as JSON")}if(!nV(c))throw new nC("Invalid JWT Claims Set");return c}function pr(a){let b;if("string"==typeof a){let c=a.split(".");(3===c.length||5===c.length)&&([b]=c)}else if("object"==typeof a&&a)if("protected"in a)b=a.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof b||!b)throw Error();let a=JSON.parse(ns.decode(nu(b)));if(!nV(a))throw Error();return a}catch{throw TypeError("Invalid Token or Protected Header formatting")}}async function ps(a,b,c){let d;if(!nV(a))throw TypeError("JWK must be an object");switch(b??=a.alg,d??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return nu(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new nA('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return n_({...a,alg:b,ext:d});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return n_({...a,ext:d});case"EC":case"OKP":return n_({...a,alg:b,ext:d});default:throw new nA('Unsupported "kty" (Key Type) Parameter value')}}function pt(a){return nV(a)}class pu{#h;#i=new WeakMap;constructor(a){if(!function(a){return a&&"object"==typeof a&&Array.isArray(a.keys)&&a.keys.every(pt)}(a))throw new nD("JSON Web Key Set malformed");this.#h=structuredClone(a)}jwks(){return this.#h}async getKey(a,b){let{alg:c,kid:d}={...a,...b?.header},e=function(a){switch("string"==typeof a&&a.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new nA('Unsupported "alg" value for a JSON Web Key Set')}}(c),f=this.#h.keys.filter(a=>{let b=e===a.kty;if(b&&"string"==typeof d&&(b=d===a.kid),b&&("string"==typeof a.alg||"AKP"===e)&&(b=c===a.alg),b&&"string"==typeof a.use&&(b="sig"===a.use),b&&Array.isArray(a.key_ops)&&(b=a.key_ops.includes("verify")),b)switch(c){case"ES256":b="P-256"===a.crv;break;case"ES384":b="P-384"===a.crv;break;case"ES512":b="P-521"===a.crv;break;case"Ed25519":case"EdDSA":b="Ed25519"===a.crv}return b}),{0:g,length:h}=f;if(0===h)throw new nE;if(1!==h){let a=new nF,b=this.#i;throw a[Symbol.asyncIterator]=async function*(){for(let a of f)try{yield await pv(b,a,c)}catch{}},a}return pv(this.#i,g,c)}}async function pv(a,b,c){let d=a.get(b)||a.set(b,{}).get(b);if(void 0===d[c]){let a=await ps({...b,ext:!0},c);if(a instanceof Uint8Array||"public"!==a.type)throw new nD("JSON Web Key Set members must be public keys");d[c]=a}return d[c]}function pw(a){let b=new pu(a),c=async(a,c)=>b.getKey(a,c);return Object.defineProperties(c,{jwks:{value:()=>structuredClone(b.jwks()),enumerable:!1,configurable:!1,writable:!1}}),c}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(c="jose/v6.1.0");let px=Symbol();async function py(a,b,c,d=fetch){let e=await d(a,{method:"GET",signal:c,redirect:"manual",headers:b}).catch(a=>{if("TimeoutError"===a.name)throw new nG;throw a});if(200!==e.status)throw new nw("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await e.json()}catch{throw new nw("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let pz=Symbol();class pA{#j;#k;#l;#m;#n;#o;#p;#q;#r;#s;constructor(a,b){if(!(a instanceof URL))throw TypeError("url must be an instance of URL");this.#j=new URL(a.href),this.#k="number"==typeof b?.timeoutDuration?b?.timeoutDuration:5e3,this.#l="number"==typeof b?.cooldownDuration?b?.cooldownDuration:3e4,this.#m="number"==typeof b?.cacheMaxAge?b?.cacheMaxAge:6e5,this.#p=new Headers(b?.headers),c&&!this.#p.has("User-Agent")&&this.#p.set("User-Agent",c),this.#p.has("accept")||(this.#p.set("accept","application/json"),this.#p.append("accept","application/jwk-set+json")),this.#q=b?.[px],b?.[pz]!==void 0&&(this.#s=b?.[pz],function(a,b){return!("object"!=typeof a||null===a||!("uat"in a)||"number"!=typeof a.uat||Date.now()-a.uat>=b)&&"jwks"in a&&!!nV(a.jwks)&&!!Array.isArray(a.jwks.keys)&&!!Array.prototype.every.call(a.jwks.keys,nV)}(b?.[pz],this.#m)&&(this.#n=this.#s.uat,this.#r=pw(this.#s.jwks)))}pendingFetch(){return!!this.#o}coolingDown(){return"number"==typeof this.#n&&Date.now()<this.#n+this.#l}fresh(){return"number"==typeof this.#n&&Date.now()<this.#n+this.#m}jwks(){return this.#r?.jwks()}async getKey(a,b){this.#r&&this.fresh()||await this.reload();try{return await this.#r(a,b)}catch(c){if(c instanceof nE&&!1===this.coolingDown())return await this.reload(),this.#r(a,b);throw c}}async reload(){this.#o&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this.#o=void 0),this.#o||=py(this.#j.href,this.#p,AbortSignal.timeout(this.#k),this.#q).then(a=>{this.#r=pw(a),this.#s&&(this.#s.uat=Date.now(),this.#s.jwks=a),this.#n=Date.now(),this.#o=void 0}).catch(a=>{throw this.#o=void 0,a}),await this.#o}}let pB=a=>oS("a-z","A-Z","0-9")(a||32);var lX=lX;let pC=kF({id:jl(),createdAt:kA().default(()=>new Date),updatedAt:kA().default(()=>new Date)});function pD(a){if(null===a||"object"!=typeof a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.iterator in a)&&(!(Symbol.toStringTag in a)||"[object Module]"===Object.prototype.toString.call(a))}function pE(a){return(...b)=>b.reduce((b,c)=>(function a(b,c,d=".",e){if(!pD(c))return a(b,{},d,e);let f=Object.assign({},c);for(let c in b){if("__proto__"===c||"constructor"===c)continue;let g=b[c];null!=g&&(e&&e(f,c,g,d)||(Array.isArray(g)&&Array.isArray(f[c])?f[c]=[...g,...f[c]]:pD(g)&&pD(f[c])?f[c]=a(g,f[c],(d?`${d}.`:"")+c.toString(),e):f[c]=g))}return f})(b,c,"",a),{})}pC.extend({email:jl().transform(a=>a.toLowerCase()),emailVerified:kf().default(!1),name:jl(),image:jl().nullish()}),pC.extend({providerId:jl(),accountId:jl(),userId:lX.string(),accessToken:jl().nullish(),refreshToken:jl().nullish(),idToken:jl().nullish(),accessTokenExpiresAt:kA().nullish(),refreshTokenExpiresAt:kA().nullish(),scope:jl().nullish(),password:jl().nullish()}),pC.extend({userId:lX.string(),expiresAt:kA(),token:jl(),ipAddress:jl().nullish(),userAgent:jl().nullish()}),pC.extend({value:jl(),expiresAt:kA(),identifier:jl()});let pF=pE();function pG(a){return"-"===a||"^"===a||"$"===a||"+"===a||"."===a||"("===a||")"===a||"|"===a||"["===a||"]"===a||"{"===a||"}"===a||"*"===a||"?"===a||"\\"===a?`\\${a}`:a}function pH(a,b){if("string"!=typeof b)throw TypeError(`Sample must be a string, but ${typeof b} given`);return a.test(b)}function pI(a,b){if("string"!=typeof a&&!Array.isArray(a))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof a} given`);if(("string"==typeof b||"boolean"==typeof b)&&(b={separator:b}),2==arguments.length&&!(void 0===b||"object"==typeof b&&null!==b&&!Array.isArray(b)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof b} given`);if("\\"===(b=b||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let c=function a(b,c=!0){if(Array.isArray(b)){let d=b.map(b=>`^${a(b,c)}$`);return`(?:${d.join("|")})`}let d="",e="",f=".";!0===c?(d="/",e="[/\\\\]",f="[^/\\\\]"):c&&((e=function(a){let b="";for(let c=0;c<a.length;c++)b+=pG(a[c]);return b}(d=c)).length>1?(e=`(?:${e})`,f=`((?!${e}).)`):f=`[^${e}]`);let g=c?`${e}+?`:"",h=c?`${e}*?`:"",i=c?b.split(d):[b],j="";for(let a=0;a<i.length;a++){let b=i[a],d=i[a+1],e="";if(b||!(a>0)){if(c&&(e=a===i.length-1?h:"**"!==d?g:""),c&&"**"===b){e&&(j+=0===a?"":e,j+=`(?:${f}*?${e})*?`);continue}for(let a=0;a<b.length;a++){let c=b[a];"\\"===c?a<b.length-1&&(j+=pG(b[a+1]),a++):"?"===c?j+=f:"*"===c?j+=`${f}*?`:j+=pG(c)}j+=e}}return j}(a,b.separator),d=RegExp(`^${c}$`,b.flags),e=pH.bind(null,d);return e.options=b,e.pattern=a,e.regexp=d,e}pE((a,b,c)=>{if(void 0!==a[b]&&"function"==typeof c)return a[b]=c(a[b]),!0}),pE((a,b,c)=>{if(Array.isArray(a[b])&&"function"==typeof c)return a[b]=c(a[b]),!0});let pJ=mF(async a=>{if(a.request?.method!=="POST"||!a.request)return;let{body:b,query:c,context:d}=a,e=a.headers?.get("origin")||a.headers?.get("referer")||"",f=b?.callbackURL||c?.callbackURL,g=b?.redirectTo,h=b?.errorCallbackURL,i=b?.newUserCallbackURL,j=Array.isArray(d.options.trustedOrigins)?d.trustedOrigins:[...d.trustedOrigins,...await d.options.trustedOrigins?.(a.request)||[]],k=a.headers?.has("cookie"),l=(b,c)=>{if(b&&!j.some(a=>((a,b)=>{if(a.startsWith("/"))return!1;if(b.includes("*"))return b.includes("://")?pI(b)(mu(a)||a):pI(b)(mw(a));let c=mv(a);return"http:"!==c&&"https:"!==c&&c?a.startsWith(b):b===mu(a)})(b,a)||b?.startsWith("/")&&"origin"!==c&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(b)))throw a.context.logger.error(`Invalid ${c}: ${b}`),a.context.logger.info(`If it's a valid URL, please add ${b} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${j}`),new q("FORBIDDEN",{message:`Invalid ${c}`})};k&&!a.context.options.advanced?.disableCSRFCheck&&l(e,"origin"),f&&l(f,"callbackURL"),g&&l(g,"redirectURL"),h&&l(h,"errorCallbackURL"),i&&l(i,"newUserCallbackURL")}),pK=a=>mF(async b=>{if(!b.request)return;let{context:c}=b,d=a(b),e=Array.isArray(c.options.trustedOrigins)?c.trustedOrigins:[...c.trustedOrigins,...await c.options.trustedOrigins?.(b.request)||[]],f=(a,c)=>{if(a&&!e.some(b=>((a,b)=>{if(a.startsWith("/"))return!1;if(b.includes("*"))return b.includes("://")?pI(b)(mu(a)||a):pI(b)(mw(a));let c=mv(a);return"http:"!==c&&"https:"!==c&&c?a.startsWith(b):b===mu(a)})(a,b)||a?.startsWith("/")&&"origin"!==c&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(a)))throw b.context.logger.error(`Invalid ${c}: ${a}`),b.context.logger.info(`If it's a valid URL, please add ${a} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${e}`),new q("FORBIDDEN",{message:`Invalid ${c}`})};for(let a of Array.isArray(d)?d:[d])f(a,"callbackURL")});async function pL(a,b,c,d=3600){return await oU({email:b.toLowerCase(),updateTo:c},a,d)}async function pM(a,b){if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new q("BAD_REQUEST",{message:"Verification email isn't enabled"});let c=await pL(a.context.secret,b.email,void 0,a.context.options.emailVerification?.expiresIn),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;await a.context.options.emailVerification.sendVerificationEmail({user:b,url:d,token:c},a.request)}let pN=mG("/send-verification-email",{method:"POST",body:kF({email:jo().meta({description:"The email to send the verification email to"}),callbackURL:jl().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async a=>{if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new q("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:b}=a.body,c=await mK(a);if(!c){let c=await a.context.internalAdapter.findUserByEmail(b);return c&&await pM(a,c.user),a.json({status:!0})}if(c?.user.emailVerified)throw new q("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(c?.user.email!==b)throw new q("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await pM(a,c.user),a.json({status:!0})}),pO=mG("/verify-email",{method:"GET",query:kF({token:jl().meta({description:"The token to verify the email"}),callbackURL:jl().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[pK(a=>a.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string",description:"User ID"},email:{type:"string",description:"User email"},name:{type:"string",description:"User name"},image:{type:"string",description:"User image URL"},emailVerified:{type:"boolean",description:"Indicates if the user email is verified"},createdAt:{type:"string",description:"User creation date"},updatedAt:{type:"string",description:"User update date"}},required:["id","email","name","image","emailVerified","createdAt","updatedAt"]},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async a=>{let b;function c(b){if(a.query.callbackURL){if(a.query.callbackURL.includes("?"))throw a.redirect(`${a.query.callbackURL}&error=${b}`);throw a.redirect(`${a.query.callbackURL}?error=${b}`)}throw new q("UNAUTHORIZED",{message:b})}let{token:d}=a.query;try{b=await pp(d,new TextEncoder().encode(a.context.secret),{algorithms:["HS256"]})}catch(a){if(a instanceof ny)return c("token_expired");return c("invalid_token")}let e=kF({email:jl().email(),updateTo:jl().optional()}).parse(b.payload),f=await a.context.internalAdapter.findUserByEmail(e.email);if(!f)return c("user_not_found");if(e.updateTo){let b=await mK(a);if(!b||b.user.email!==e.email){if(a.query.callbackURL)throw a.redirect(`${a.query.callbackURL}?error=unauthorized`);return c("unauthorized")}let d=await a.context.internalAdapter.updateUserByEmail(e.email,{email:e.updateTo,emailVerified:!1},a),f=await pL(a.context.secret,e.updateTo);if(await a.context.options.emailVerification?.sendVerificationEmail?.({user:d,url:`${a.context.baseURL}/verify-email?token=${f}&callbackURL=${a.query.callbackURL||"/"}`,token:f},a.request),await mC(a,{session:b.session,user:{...b.user,email:e.updateTo,emailVerified:!1}}),a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:{id:d.id,email:d.email,name:d.name,image:d.image,emailVerified:d.emailVerified,createdAt:d.createdAt,updatedAt:d.updatedAt}})}a.context.options.emailVerification?.onEmailVerification&&await a.context.options.emailVerification.onEmailVerification(f.user,a.request);let g=await a.context.internalAdapter.updateUserByEmail(e.email,{emailVerified:!0},a);if(a.context.options.emailVerification?.afterEmailVerification&&await a.context.options.emailVerification.afterEmailVerification(g,a.request),a.context.options.emailVerification?.autoSignInAfterVerification){let b=await mK(a);if(b&&b.user.email===e.email)await mC(a,{session:b.session,user:{...b.user,emailVerified:!0}});else{let b=await a.context.internalAdapter.createSession(f.user.id,a);if(!b)throw new q("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await mC(a,{session:b,user:{...f.user,emailVerified:!0}})}}if(a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:null})}),pP={isAction:!1};async function pQ(a,b){let c=a.body?.callbackURL||a.context.options.baseURL;if(!c)throw new q("BAD_REQUEST",{message:"callbackURL is required"});let d=oT(128),e=oT(32),f=a.context.createAuthCookie("state",{maxAge:3e5});await a.setSignedCookie(f.name,e,a.context.secret,f.attributes);let g=JSON.stringify({callbackURL:c,codeVerifier:d,errorURL:a.body?.errorCallbackURL,newUserURL:a.body?.newUserCallbackURL,link:b,expiresAt:Date.now()+6e5,requestSignUp:a.body?.requestSignUp}),h=new Date;h.setMinutes(h.getMinutes()+10);let i=await a.context.internalAdapter.createVerificationValue({value:g,identifier:e,expiresAt:h},a);if(!i)throw a.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new q("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:i.identifier,codeVerifier:d}}async function pR(a){let b=a.query.state||a.body.state,c=await a.context.internalAdapter.findVerificationValue(b);if(!c){a.context.logger.error("State Mismatch. Verification not found",{state:b});let c=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${c}?error=please_restart_the_process`)}let d=kF({callbackURL:jl(),codeVerifier:jl(),errorURL:jl().optional(),newUserURL:jl().optional(),expiresAt:j7(),link:kF({email:jl(),userId:lX.string()}).optional(),requestSignUp:kf().optional()}).parse(JSON.parse(c.value));d.errorURL||(d.errorURL=`${a.context.baseURL}/error`);let e=a.context.createAuthCookie("state"),f=await a.getSignedCookie(e.name,a.context.secret);if(!a.context.oauthConfig?.skipStateCookieCheck&&(!f||f!==b)){let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=state_mismatch`)}if(a.setCookie(e.name,"",{maxAge:0}),d.expiresAt<Date.now()){await a.context.internalAdapter.deleteVerificationValue(c.id);let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}return await a.context.internalAdapter.deleteVerificationValue(c.id),d}async function pS(a){let b=await mR("SHA-256").digest(a);return mf.encode(new Uint8Array(b),{padding:!1})}function pT(a){return{tokenType:a.token_type,accessToken:a.access_token,refreshToken:a.refresh_token,accessTokenExpiresAt:a.expires_in?l_(a.expires_in,"sec"):void 0,refreshTokenExpiresAt:a.refresh_token_expires_in?l_(a.refresh_token_expires_in,"sec"):void 0,scopes:a?.scope?"string"==typeof a.scope?a.scope.split(" "):a.scope:[],idToken:a.id_token}}function pU(a,b){return b.options.account?.encryptOAuthTokens&&a?o$({key:b.secret,data:a}):a}async function pV(a,{userInfo:b,account:c,callbackURL:d,disableSignUp:e,overrideUserInfo:f}){let g=await a.context.internalAdapter.findOAuthUser(b.email.toLowerCase(),c.accountId,c.providerId).catch(b=>{mq.error("Better auth was unable to query your database.\nError: ",b);let c=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${c}?error=internal_server_error`)}),h=g?.user,i=!h;if(g){let d=g.accounts.find(a=>a.providerId===c.providerId&&a.accountId===c.accountId);if(d){if(a.context.options.account?.updateAccountOnSignIn!==!1){let b=Object.fromEntries(Object.entries({idToken:c.idToken,accessToken:await pU(c.accessToken,a.context),refreshToken:await pU(c.refreshToken,a.context),accessTokenExpiresAt:c.accessTokenExpiresAt,refreshTokenExpiresAt:c.refreshTokenExpiresAt,scope:c.scope}).filter(([a,b])=>void 0!==b));Object.keys(b).length>0&&await a.context.internalAdapter.updateAccount(d.id,b,a)}b.emailVerified&&!g.user.emailVerified&&b.email.toLowerCase()===g.user.email&&await a.context.internalAdapter.updateUser(g.user.id,{emailVerified:!0})}else{let d=a.context.options.account?.accountLinking?.trustedProviders;if(!d?.includes(c.providerId)&&!b.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)return l6&&mq.warn(`User already exist but account isn't linked to ${c.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await a.context.internalAdapter.linkAccount({providerId:c.providerId,accountId:b.id.toString(),userId:g.user.id,accessToken:await pU(c.accessToken,a.context),refreshToken:await pU(c.refreshToken,a.context),idToken:c.idToken,accessTokenExpiresAt:c.accessTokenExpiresAt,refreshTokenExpiresAt:c.refreshTokenExpiresAt,scope:c.scope},a)}catch(a){return mq.error("Unable to link account",a),{error:"unable to link account",data:null}}b.emailVerified&&!g.user.emailVerified&&b.email.toLowerCase()===g.user.email&&await a.context.internalAdapter.updateUser(g.user.id,{emailVerified:!0})}if(f){let{id:c,...d}=b;await a.context.internalAdapter.updateUser(g.user.id,{...d,email:b.email.toLowerCase(),emailVerified:b.email.toLowerCase()===g.user.email&&g.user.emailVerified||b.emailVerified})}}else{if(e)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:e,...f}=b;if(h=await a.context.internalAdapter.createOAuthUser({...f,email:b.email.toLowerCase()},{accessToken:await pU(c.accessToken,a.context),refreshToken:await pU(c.refreshToken,a.context),idToken:c.idToken,accessTokenExpiresAt:c.accessTokenExpiresAt,refreshTokenExpiresAt:c.refreshTokenExpiresAt,scope:c.scope,providerId:c.providerId,accountId:b.id.toString()},a).then(a=>a?.user),!b.emailVerified&&h&&a.context.options.emailVerification?.sendOnSignUp){let b=await pL(a.context.secret,h.email,void 0,a.context.options.emailVerification?.expiresIn),c=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${d}`;await a.context.options.emailVerification?.sendVerificationEmail?.({user:h,url:c,token:b},a.request)}}catch(a){if(mq.error(a),a instanceof q)return{error:a.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!h)return{error:"unable to create user",data:null,isRegister:!1};let j=await a.context.internalAdapter.createSession(h.id,a);return j?{data:{session:j,user:h},error:null,isRegister:i}:{error:"unable to create session",data:null,isRegister:!1}}async function pW({id:a,options:b,authorizationEndpoint:c,state:d,codeVerifier:e,scopes:f,claims:g,redirectURI:h,duration:i,prompt:j,accessType:k,responseType:l,display:m,loginHint:n,hd:o,responseMode:p,additionalParams:q,scopeJoiner:r}){let s=new URL(c);s.searchParams.set("response_type",l||"code");let t=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;if(s.searchParams.set("client_id",t),s.searchParams.set("state",d),s.searchParams.set("scope",f.join(r||" ")),s.searchParams.set("redirect_uri",b.redirectURI||h),i&&s.searchParams.set("duration",i),m&&s.searchParams.set("display",m),n&&s.searchParams.set("login_hint",n),j&&s.searchParams.set("prompt",j),o&&s.searchParams.set("hd",o),k&&s.searchParams.set("access_type",k),p&&s.searchParams.set("response_mode",p),e){let a=await pS(e);s.searchParams.set("code_challenge_method","S256"),s.searchParams.set("code_challenge",a)}if(g){let a=g.reduce((a,b)=>(a[b]=null,a),{});s.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...a}}))}return q&&Object.entries(q).forEach(([a,b])=>{s.searchParams.set(a,b)}),s}async function pX({code:a,codeVerifier:b,redirectURI:c,options:d,tokenEndpoint:e,authentication:f,deviceId:g,headers:h,additionalParams:i={},resource:j}){let{body:k,headers:l}=function({code:a,codeVerifier:b,redirectURI:c,options:d,authentication:e,deviceId:f,headers:g,additionalParams:h={},resource:i}){let j=new URLSearchParams,k={"content-type":"application/x-www-form-urlencoded",accept:"application/json","user-agent":"better-auth",...g};if(j.set("grant_type","authorization_code"),j.set("code",a),b&&j.set("code_verifier",b),d.clientKey&&j.set("client_key",d.clientKey),f&&j.set("device_id",f),j.set("redirect_uri",d.redirectURI||c),i)if("string"==typeof i)j.append("resource",i);else for(let a of i)j.append("resource",a);if("basic"===e){let a=Array.isArray(d.clientId)?d.clientId[0]:d.clientId,b=me.encode(`${a}:${d.clientSecret??""}`);k.authorization=`Basic ${b}`}else{let a=Array.isArray(d.clientId)?d.clientId[0]:d.clientId;j.set("client_id",a),d.clientSecret&&j.set("client_secret",d.clientSecret)}for(let[a,b]of Object.entries(h))j.has(a)||j.append(a,b);return{body:j,headers:k}}({code:a,codeVerifier:b,redirectURI:c,options:d,authentication:f,deviceId:g,headers:h,additionalParams:i,resource:j}),{data:m,error:n}=await pl(e,{method:"POST",body:k,headers:l});if(n)throw n;return pT(m)}async function pY({refreshToken:a,options:b,tokenEndpoint:c,authentication:d,extraParams:e}){let{body:f,headers:g}=function({refreshToken:a,options:b,authentication:c,extraParams:d,resource:e}){let f=new URLSearchParams,g={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(f.set("grant_type","refresh_token"),f.set("refresh_token",a),"basic"===c){let a=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;a?g.authorization="Basic "+me.encode(`${a}:${b.clientSecret??""}`):g.authorization="Basic "+me.encode(`:${b.clientSecret??""}`)}else{let a=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;f.set("client_id",a),b.clientSecret&&f.set("client_secret",b.clientSecret)}if(e)if("string"==typeof e)f.append("resource",e);else for(let a of e)f.append("resource",a);if(d)for(let[a,b]of Object.entries(d))f.set(a,b);return{body:f,headers:g}}({refreshToken:a,options:b,authentication:d,extraParams:e}),{data:h,error:i}=await pl(c,{method:"POST",body:f,headers:g});if(i)throw i;let j={accessToken:h.access_token,refreshToken:h.refresh_token,tokenType:h.token_type,scopes:h.scope?.split(" "),idToken:h.id_token};return h.expires_in&&(j.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*h.expires_in)),j}let pZ=async a=>{let{data:b}=await pl("https://appleid.apple.com/auth/keys");if(!b?.keys)throw new q("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await ps(c,c.alg)},p$=async(a,b,c)=>{let d=`https://cognito-idp.${b}.amazonaws.com/${c}/.well-known/jwks.json`;try{let{data:b}=await pl(d);if(!b?.keys)throw new q("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await ps(c,c.alg)}catch(a){throw mq.error("Failed to fetch Cognito public key:",a),a}},p_=(a="")=>a.split("://").map(a=>a.replace(/\/{2,}/g,"/")).join("://"),p0={apple:a=>({id:"apple",name:"Apple",async createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["email","name"];return a.scope&&e.push(...a.scope),c&&e.push(...c),await pW({id:"apple",options:a,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:e,state:b,redirectURI:d,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://appleid.apple.com/auth/token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let{kid:d,alg:e}=pr(b);if(!d||!e)return!1;let f=await pZ(d),{payload:g}=await pp(b,f,{algorithms:[e],issuer:"https://appleid.apple.com",audience:a.audience&&a.audience.length?a.audience:a.appBundleIdentifier?a.appBundleIdentifier:a.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(a=>{void 0!==g[a]&&(g[a]=!!g[a])}),(!c||g.nonce===c)&&!!g},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=pq(b.idToken);if(!c)return null;let d=b.user?`${b.user.name?.firstName} ${b.user.name?.lastName}`:c.name||c.email,e="boolean"==typeof c.email_verified?c.email_verified:"true"===c.email_verified,f={...c,name:d},g=await a.mapProfileToUser?.(f);return{user:{id:c.sub,name:f.name,emailVerified:e,email:c.email,...g},data:f}},options:a}),atlassian:a=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw mq.error("Client Id and Secret are required for Atlassian"),new l0("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new l0("codeVerifier is required for Atlassian");let f=a.disableDefaultScope?[]:["read:jira-user","offline_access"];return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"atlassian",options:a,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e,additionalParams:{audience:"api.atlassian.com"},prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return null;try{let{data:c}=await pl("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.account_id,name:c.name,email:c.email,image:c.picture,emailVerified:!1,...d},data:c}}catch(a){return mq.error("Failed to fetch user info from Figma:",a),null}},options:a}),cognito:a=>{if(!a.domain||!a.region||!a.userPoolId)throw mq.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new l0("DOMAIN_AND_REGION_REQUIRED");let b=a.domain.replace(/^https?:\/\//,""),c=`https://${b}/oauth2/authorize`,d=`https://${b}/oauth2/token`,e=`https://${b}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f}){if(!a.clientId)throw mq.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new l0("CLIENT_ID_AND_SECRET_REQUIRED");if(a.requireClientSecret&&!a.clientSecret)throw mq.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new l0("CLIENT_SECRET_REQUIRED");let g=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&g.push(...a.scope),d&&g.push(...d),await pW({id:"cognito",options:{...a},authorizationEndpoint:c,scopes:g,state:b,codeVerifier:e,redirectURI:f,prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>pX({code:b,codeVerifier:c,redirectURI:e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:d}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);try{let{kid:d,alg:e}=pr(b);if(!d||!e)return!1;let f=await p$(d,a.region,a.userPoolId),g=`https://cognito-idp.${a.region}.amazonaws.com/${a.userPoolId}`,{payload:h}=await pp(b,f,{algorithms:[e],issuer:g,audience:a.clientId,maxTokenAge:"1h"});if(c&&h.nonce!==c)return!1;return!0}catch(a){return mq.error("Failed to verify ID token:",a),!1}},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(b.idToken)try{let c=pq(b.idToken);if(!c)return null;let d=c.name||c.given_name||c.username||c.email,e={...c,name:d},f=await a.mapProfileToUser?.(e);return{user:{id:c.sub,name:e.name,email:c.email,image:c.picture,emailVerified:c.email_verified,...f},data:e}}catch(a){mq.error("Failed to decode ID token:",a)}if(b.accessToken)try{let{data:c}=await pl(e,{headers:{Authorization:`Bearer ${b.accessToken}`}});if(c){let b=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.given_name||c.username,email:c.email,image:c.picture,emailVerified:c.email_verified,...b},data:c}}}catch(a){mq.error("Failed to fetch user info from Cognito:",a)}return null},options:a}},discord:a=>({id:"discord",name:"Discord",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["identify","email"];c&&e.push(...c),a.scope&&e.push(...a.scope);let f=e.includes("bot")&&void 0!==a.permissions?`&permissions=${a.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${e.join("+")}&response_type=code&client_id=${a.clientId}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}&prompt=${a.prompt||"none"}${f}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;if(null===c.avatar){let a="0"===c.discriminator?Number(BigInt(c.id)>>BigInt(22))%6:parseInt(c.discriminator)%5;c.image_url=`https://cdn.discordapp.com/embed/avatars/${a}.png`}else{let a=c.avatar.startsWith("a_")?"gif":"png";c.image_url=`https://cdn.discordapp.com/avatars/${c.id}/${c.avatar}.${a}`}let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.global_name||c.username||"",email:c.email,emailVerified:c.verified,image:c.image_url,...e},data:c}},options:a}),facebook:a=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:b,scopes:c,redirectURI:d,loginHint:e}){let f=a.disableDefaultScope?[]:["email","public_profile"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await pW({id:"facebook",options:a,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:f,state:b,redirectURI:d,loginHint:e,additionalParams:a.configId?{config_id:a.configId}:{}})},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);if(3===b.split(".").length)try{let{payload:d}=await pp(b,function(a,b){let c=new pA(a,void 0),d=async(a,b)=>c.getKey(a,b);return Object.defineProperties(d,{coolingDown:{get:()=>c.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>c.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>c.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>c.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>c.jwks(),enumerable:!0,configurable:!1,writable:!1}}),d}(new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/")),{algorithms:["RS256"],audience:a.clientId,issuer:"https://www.facebook.com"});if(c&&d.nonce!==c)return!1;return!!d}catch(a){return!1}return!0},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(b.idToken&&3===b.idToken.split(".").length){let c=pq(b.idToken),d={id:c.sub,name:c.name,email:c.email,picture:{data:{url:c.picture,height:100,width:100,is_silhouette:!1}}},e=await a.mapProfileToUser?.({...d,email_verified:!0});return{user:{...d,emailVerified:!0,...e},data:c}}let c=["id","name","email","picture",...a?.fields||[]],{data:d,error:e}=await pl("https://graph.facebook.com/me?fields="+c.join(","),{auth:{type:"Bearer",token:b.accessToken}});if(e)return null;let f=await a.mapProfileToUser?.(d);return{user:{id:d.id,name:d.name,email:d.email,image:d.picture.data.url,emailVerified:d.email_verified,...f},data:d}},options:a}),figma:a=>({id:"figma",name:"Figma",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw mq.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new l0("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new l0("codeVerifier is required for Figma");let f=a.disableDefaultScope?[]:["file_read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await pW({id:"figma",options:a,authorizationEndpoint:"https://www.figma.com/oauth",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);try{let{data:c}=await pl("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return mq.error("Failed to fetch user from Figma"),null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.handle,email:c.email,image:c.img_url,emailVerified:!!c.email,...d},data:c}}catch(a){return mq.error("Failed to fetch user info from Figma:",a),null}},options:a}),github:a=>({id:"github",name:"GitHub",createAuthorizationURL({state:b,scopes:c,loginHint:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["read:user","user:email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"github",options:a,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:f,state:b,redirectURI:e,loginHint:d,prompt:a.prompt})},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://github.com/login/oauth/access_token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${b.accessToken}`}});if(d)return null;let{data:e}=await pl("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${b.accessToken}`,"User-Agent":"better-auth"}});!c.email&&e&&(c.email=(e.find(a=>a.primary)??e[0])?.email);let f=e?.find(a=>a.email===c.email)?.verified??!1,g=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name||c.login,email:c.email,image:c.avatar_url,emailVerified:f,...g},data:c}},options:a}),microsoft:a=>{let b=a.tenantId||"common",c=a.authority||"https://login.microsoftonline.com",d=`${c}/${b}/oauth2/v2.0/authorize`,e=`${c}/${b}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(b){let c=a.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return a.scope&&c.push(...a.scope),b.scopes&&c.push(...b.scopes),pW({id:"microsoft",options:a,authorizationEndpoint:d,state:b.state,codeVerifier:b.codeVerifier,scopes:c,redirectURI:b.redirectURI,prompt:a.prompt,loginHint:b.loginHint})},validateAuthorizationCode:({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:e}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=pq(b.idToken),d=a.profilePhotoSize||48;await pl(`https://graph.microsoft.com/v1.0/me/photos/${d}x${d}/$value`,{headers:{Authorization:`Bearer ${b.accessToken}`},async onResponse(b){if(!a.disableProfilePhoto&&b.response.ok)try{let a=b.response.clone(),d=await a.arrayBuffer(),e=me.encode(d);c.picture=`data:image/jpeg;base64, ${e}`}catch(a){mq.error(a&&"object"==typeof a&&"name"in a?a.name:"",a)}}});let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name,email:c.email,image:c.picture,emailVerified:!0,...e},data:c}},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>{let c=a.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return a.scope&&c.push(...a.scope),pY({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},extraParams:{scope:c.join(" ")},tokenEndpoint:e})},options:a}},google:a=>({id:"google",name:"Google",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e,loginHint:f,display:g}){if(!a.clientId||!a.clientSecret)throw mq.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new l0("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new l0("codeVerifier is required for Google");let h=a.disableDefaultScope?[]:["email","profile","openid"];return a.scope&&h.push(...a.scope),c&&h.push(...c),await pW({id:"google",options:a,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:h,state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt,accessType:a.accessType,display:g||a.display,loginHint:f,hd:a.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let d=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${b}`,{data:e}=await pl(d);return!!e&&e.aud===a.clientId&&("https://accounts.google.com"===e.iss||"accounts.google.com"===e.iss)},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=pq(b.idToken),d=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name,email:c.email,image:c.picture,emailVerified:c.email_verified,...d},data:c}},options:a}),huggingface:a=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"huggingface",options:a,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.preferred_username,email:c.email,image:c.picture,emailVerified:c.email_verified??!1,...e},data:c}},options:a}),slack:a=>({id:"slack",name:"Slack",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["openid","profile","email"];c&&e.push(...c),a.scope&&e.push(...a.scope);let f=new URL("https://slack.com/openid/connect/authorize");return f.searchParams.set("scope",e.join(" ")),f.searchParams.set("response_type","code"),f.searchParams.set("client_id",a.clientId),f.searchParams.set("redirect_uri",a.redirectURI||d),f.searchParams.set("state",b),f},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c["https://slack.com/user_id"],name:c.name||"",email:c.email,emailVerified:c.email_verified,image:c.picture||c["https://slack.com/user_image_512"],...e},data:c}},options:a}),spotify:a=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["user-read-email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"spotify",options:a,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.display_name,email:c.email,image:c.images[0]?.url,emailVerified:!1,...e},data:c}},options:a}),twitch:a=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["user:read:email","openid"];return a.scope&&e.push(...a.scope),c&&e.push(...c),pW({id:"twitch",redirectURI:d,options:a,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:e,state:b,claims:a.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let c=b.idToken;if(!c)return mq.error("No idToken found in token"),null;let d=pq(c),e=await a.mapProfileToUser?.(d);return{user:{id:d.sub,name:d.preferred_username,email:d.email,image:d.picture,emailVerified:d.email_verified,...e},data:d}},options:a}),twitter:a=>({id:"twitter",name:"Twitter",createAuthorizationURL(b){let c=a.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return a.scope&&c.push(...a.scope),b.scopes&&c.push(...b.scopes),pW({id:"twitter",options:a,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:c,state:b.state,codeVerifier:b.codeVerifier,redirectURI:b.redirectURI})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>pX({code:b,codeVerifier:c,authentication:"basic",redirectURI:d,options:a,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let{data:e,error:f}=await pl("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}}),g=!1;!f&&e?.data?.confirmed_email&&(c.data.email=e.data.confirmed_email,g=!0);let h=await a.mapProfileToUser?.(c);return{user:{id:c.data.id,name:c.data.name,email:c.data.email||c.data.username||null,image:c.data.profile_image_url,emailVerified:g,...h},data:c}},options:a}),dropbox:a=>({id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:b,scopes:c,codeVerifier:d,redirectURI:e})=>{let f=a.disableDefaultScope?[]:["account_info.read"];a.scope&&f.push(...a.scope),c&&f.push(...c);let g={};return a.accessType&&(g.token_access_type=a.accessType),await pW({id:"dropbox",options:a,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:f,state:b,redirectURI:e,codeVerifier:d,additionalParams:g})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>await pX({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://api.dropboxapi.com/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.account_id,name:c.name?.display_name,email:c.email,emailVerified:c.email_verified||!1,image:c.profile_photo_url,...e},data:c}},options:a}),kick:a=>({id:"kick",name:"Kick",createAuthorizationURL({state:b,scopes:c,redirectURI:d,codeVerifier:e}){let f=a.disableDefaultScope?[]:["user:read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"kick",redirectURI:d,options:a,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:f,codeVerifier:e,state:b})},validateAuthorizationCode:async({code:b,redirectURI:c,codeVerifier:d})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=c.data[0],f=await a.mapProfileToUser?.(e);return{user:{id:e.user_id,name:e.name,email:e.email,image:e.profile_picture,emailVerified:!0,...f},data:e}},options:a}),linear:a=>{let b="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:b,scopes:c,loginHint:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"linear",options:a,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:f,state:b,redirectURI:e,loginHint:d})},validateAuthorizationCode:async({code:c,redirectURI:d})=>pX({code:c,redirectURI:d,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>pY({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(d||!c?.data?.viewer)return null;let e=c.data.viewer,f=await a.mapProfileToUser?.(e);return{user:{id:c.data.viewer.id,name:c.data.viewer.name,email:c.data.viewer.email,image:c.data.viewer.avatarUrl,emailVerified:!0,...f},data:e}},options:a}},linkedin:a=>{let b="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:b,scopes:c,redirectURI:d,loginHint:e})=>{let f=a.disableDefaultScope?[]:["profile","email","openid"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await pW({id:"linkedin",options:a,authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",scopes:f,state:b,loginHint:e,redirectURI:d})},validateAuthorizationCode:async({code:c,redirectURI:d})=>await pX({code:c,redirectURI:d,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>pY({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name,email:c.email,emailVerified:c.email_verified||!1,image:c.picture,...e},data:c}},options:a}},gitlab:a=>{let{authorizationEndpoint:b,tokenEndpoint:c,userinfoEndpoint:d}=(a=>{let b=a||"https://gitlab.com";return{authorizationEndpoint:p_(`${b}/oauth/authorize`),tokenEndpoint:p_(`${b}/oauth/token`),userinfoEndpoint:p_(`${b}/api/v4/user`)}})(a.issuer),e="gitlab";return{id:e,name:"Gitlab",createAuthorizationURL:async({state:c,scopes:d,codeVerifier:f,loginHint:g,redirectURI:h})=>{let i=a.disableDefaultScope?[]:["read_user"];return a.scope&&i.push(...a.scope),d&&i.push(...d),await pW({id:e,options:a,authorizationEndpoint:b,scopes:i,state:c,redirectURI:h,codeVerifier:f,loginHint:g})},validateAuthorizationCode:async({code:b,redirectURI:d,codeVerifier:e})=>pX({code:b,redirectURI:d,options:a,codeVerifier:e,tokenEndpoint:c}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://gitlab.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:e}=await pl(d,{headers:{authorization:`Bearer ${b.accessToken}`}});if(e||"active"!==c.state||c.locked)return null;let f=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name??c.username,email:c.email,image:c.avatar_url,emailVerified:!0,...f},data:c}},options:a}},tiktok:a=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["user.info.profile"];return a.scope&&e.push(...a.scope),c&&e.push(...c),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${e.join(",")}&response_type=code&client_key=${a.clientKey}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:a.redirectURI||c,options:{clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientSecret:a.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:a.clientKey}}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://open.tiktokapis.com/v2/user/info/?fields=open_id,avatar_large_url,display_name,username",{headers:{authorization:`Bearer ${b.accessToken}`}});return d?null:{user:{email:c.data.user.email||c.data.user.username,id:c.data.user.open_id,name:c.data.user.display_name||c.data.user.username,image:c.data.user.avatar_large_url,emailVerified:!!c.data.user.email},data:c}},options:a}),reddit:a=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["identity"];return a.scope&&e.push(...a.scope),c&&e.push(...c),pW({id:"reddit",options:a,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:e,state:b,redirectURI:d,duration:a.duration})},validateAuthorizationCode:async({code:b,redirectURI:c})=>{let d=new URLSearchParams({grant_type:"authorization_code",code:b,redirect_uri:a.redirectURI||c}),e={"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${me.encode(`${a.clientId}:${a.clientSecret}`)}`},{data:f,error:g}=await pl("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:e,body:d.toString()});if(g)throw g;return pT(f)},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${b.accessToken}`,"User-Agent":"better-auth"}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name,email:c.oauth_client_id,emailVerified:c.has_verified_email,image:c.icon_img?.split("?")[0],...e},data:c}},options:a}),roblox:a=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["openid","profile"];return a.scope&&e.push(...a.scope),c&&e.push(...c),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${e.join("+")}&response_type=code&client_id=${a.clientId}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}&prompt=${a.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:a.redirectURI||c,options:a,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.nickname||c.preferred_username||"",image:c.picture,email:c.preferred_username||null,emailVerified:!0,...e},data:{...c}}},options:a}),salesforce:a=>{let b="sandbox"===(a.environment??"production"),c=a.loginUrl?`https://${a.loginUrl}/services/oauth2/authorize`:b?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",d=a.loginUrl?`https://${a.loginUrl}/services/oauth2/token`:b?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",e=a.loginUrl?`https://${a.loginUrl}/services/oauth2/userinfo`:b?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f}){if(!a.clientId||!a.clientSecret)throw mq.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new l0("CLIENT_ID_AND_SECRET_REQUIRED");if(!e)throw new l0("codeVerifier is required for Salesforce");let g=a.disableDefaultScope?[]:["openid","email","profile"];return a.scope&&g.push(...a.scope),d&&g.push(...d),pW({id:"salesforce",options:a,authorizationEndpoint:c,scopes:g,state:b,codeVerifier:e,redirectURI:a.redirectURI||f})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>pX({code:b,codeVerifier:c,redirectURI:a.redirectURI||e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);try{let{data:c}=await pl(e,{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return mq.error("Failed to fetch user info from Salesforce"),null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.user_id,name:c.name,email:c.email,image:c.photos?.picture||c.photos?.thumbnail,emailVerified:c.email_verified??!1,...d},data:c}}catch(a){return mq.error("Failed to fetch user info from Salesforce:",a),null}},options:a}},vk:a=>({id:"vk",name:"VK",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["email","phone"];return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"vk",options:a,authorizationEndpoint:"https://id.vk.com/authorize",scopes:f,state:b,redirectURI:e,codeVerifier:d})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d,deviceId:e})=>pX({code:b,codeVerifier:c,redirectURI:a.redirectURI||d,options:a,deviceId:e,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return null;let c=new URLSearchParams({access_token:b.accessToken,client_id:a.clientId}).toString(),{data:d,error:e}=await pl("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c});if(e||!d.user.email)return null;let f=await a.mapProfileToUser?.(d);return{user:{id:d.user.user_id,first_name:d.user.first_name,last_name:d.user.last_name,email:d.user.email,image:d.user.avatar,emailVerified:!!d.user.email,birthday:d.user.birthday,sex:d.user.sex,name:`${d.user.first_name} ${d.user.last_name}`,...f},data:d}},options:a}),zoom:a=>{let b={pkce:!0,...a};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:a,redirectURI:c,codeVerifier:d})=>{let e=new URLSearchParams({response_type:"code",redirect_uri:b.redirectURI?b.redirectURI:c,client_id:b.clientId,state:a});if(b.pkce){let a=await pS(d);e.set("code_challenge_method","S256"),e.set("code_challenge",a)}let f=new URL("https://zoom.us/oauth/authorize");return f.search=e.toString(),f},validateAuthorizationCode:async({code:a,redirectURI:c,codeVerifier:d})=>pX({code:a,redirectURI:b.redirectURI||c,codeVerifier:d,options:b,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),async getUserInfo(a){if(b.getUserInfo)return b.getUserInfo(a);let{data:c,error:d}=await pl("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${a.accessToken}`}});if(d)return null;let e=await b.mapProfileToUser?.(c);return{user:{id:c.id,name:c.display_name,image:c.pic_url,email:c.email,emailVerified:!!c.verified,...e},data:{...c}}}}},notion:a=>{let b="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:b,scopes:c,loginHint:d,redirectURI:e}){let f=(a.disableDefaultScope,[]);return a.scope&&f.push(...a.scope),c&&f.push(...c),pW({id:"notion",options:a,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:f,state:b,redirectURI:e,loginHint:d,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:c,redirectURI:d})=>pX({code:c,redirectURI:d,options:a,tokenEndpoint:b,authentication:"basic"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>pY({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${b.accessToken}`,"Notion-Version":"2022-06-28"}});if(d||!c)return null;let e=c.bot?.owner?.user;if(!e)return null;let f=await a.mapProfileToUser?.(e);return{user:{id:e.id,name:e.name||"Notion User",email:e.person?.email||null,image:e.avatar_url,emailVerified:!!e.person?.email,...f},data:e}},options:a}},kakao:a=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return a.scope&&e.push(...a.scope),c&&e.push(...c),pW({id:"kakao",options:a,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:e,state:b,redirectURI:d})},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c)return null;let e=await a.mapProfileToUser?.(c),f=c.kakao_account||{},g=f.profile||{};return{user:{id:String(c.id),name:g.nickname||f.name||void 0,email:f.email,image:g.profile_image_url||g.thumbnail_image_url,emailVerified:!!f.is_email_valid&&!!f.is_email_verified,...e},data:c}},options:a}),naver:a=>({id:"naver",name:"Naver",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["profile","email"];return a.scope&&e.push(...a.scope),c&&e.push(...c),pW({id:"naver",options:a,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:e,state:b,redirectURI:d})},validateAuthorizationCode:async({code:b,redirectURI:c})=>pX({code:b,redirectURI:c,options:a,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>pY({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await pl("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c||"00"!==c.resultcode)return null;let e=await a.mapProfileToUser?.(c),f=c.response||{};return{user:{id:f.id,name:f.name||f.nickname,email:f.email,image:f.profile_image,emailVerified:!1,...e},data:c}},options:a}),line:a=>{let b="https://api.line.me/oauth2/v2.1/token";return{id:"line",name:"LINE",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e,loginHint:f}){let g=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&g.push(...a.scope),c&&g.push(...c),await pW({id:"line",options:a,authorizationEndpoint:"https://access.line.me/oauth2/v2.1/authorize",scopes:g,state:b,codeVerifier:d,redirectURI:e,loginHint:f})},validateAuthorizationCode:async({code:c,codeVerifier:d,redirectURI:e})=>pX({code:c,codeVerifier:d,redirectURI:e,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>pY({refreshToken:c,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:b}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let d=new URLSearchParams;d.set("id_token",b),d.set("client_id",a.clientId),c&&d.set("nonce",c);let{data:e,error:f}=await pl("https://api.line.me/oauth2/v2.1/verify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:d});return!f&&!!e&&e.aud===a.clientId&&(!c||!e.nonce||e.nonce===c)},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let c=null;if(b.idToken)try{c=pq(b.idToken)}catch{}if(!c){let{data:a}=await pl("https://api.line.me/oauth2/v2.1/userinfo",{headers:{authorization:`Bearer ${b.accessToken}`}});c=a||null}if(!c)return null;let d=await a.mapProfileToUser?.(c),e=c.sub||c.userId,f=c.name||c.displayName,g=c.picture||c.pictureUrl||void 0;return{user:{id:e,name:f,email:c.email,image:g,emailVerified:!1,...d},data:c}},options:a}},paypal:a=>{let b="sandbox"===(a.environment||"sandbox"),c=b?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",d=b?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",e=b?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:b,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw mq.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new l0("CLIENT_ID_AND_SECRET_REQUIRED");return await pW({id:"paypal",options:a,authorizationEndpoint:c,scopes:[],state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt})},validateAuthorizationCode:async({code:b,redirectURI:c})=>{let e=me.encode(`${a.clientId}:${a.clientSecret}`);try{let a=await pl(d,{method:"POST",headers:{Authorization:`Basic ${e}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:b,redirect_uri:c}).toString()});if(!a.data)throw new l0("FAILED_TO_GET_ACCESS_TOKEN");let f=a.data;return{accessToken:f.access_token,refreshToken:f.refresh_token,accessTokenExpiresAt:f.expires_in?new Date(Date.now()+1e3*f.expires_in):void 0,idToken:f.id_token}}catch(a){throw mq.error("PayPal token exchange failed:",a),new l0("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>{let c=me.encode(`${a.clientId}:${a.clientSecret}`);try{let a=await pl(d,{method:"POST",headers:{Authorization:`Basic ${c}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:b}).toString()});if(!a.data)throw new l0("FAILED_TO_REFRESH_ACCESS_TOKEN");let e=a.data;return{accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?new Date(Date.now()+1e3*e.expires_in):void 0}}catch(a){throw mq.error("PayPal token refresh failed:",a),new l0("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);try{return!!pq(b).sub}catch(a){return mq.error("Failed to verify PayPal ID token:",a),!1}},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return mq.error("Access token is required to fetch PayPal user info"),null;try{let c=await pl(`${e}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${b.accessToken}`,Accept:"application/json"}});if(!c.data)return mq.error("Failed to fetch user info from PayPal"),null;let d=c.data,f=await a.mapProfileToUser?.(d);return{user:{id:d.user_id,name:d.name,email:d.email,image:d.picture,emailVerified:d.email_verified,...f},data:d}}catch(a){return mq.error("Failed to fetch user info from PayPal:",a),null}},options:a}}},p1=kY(Object.keys(p0)).or(jl()),p2=mG("/sign-in/social",{method:"POST",body:kF({callbackURL:jl().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:jl().optional(),errorCallbackURL:jl().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:p1,disableRedirect:kf().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:k5(kF({token:jl().meta({description:"ID token from the provider"}),nonce:jl().meta({description:"Nonce used to generate the token"}).optional(),accessToken:jl().meta({description:"Access token from the provider"}).optional(),refreshToken:jl().meta({description:"Refresh token from the provider"}).optional(),expiresAt:j7().meta({description:"Expiry date of the token"}).optional()})),scopes:kC(jl()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:kf().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:jl().meta({description:"The login hint to use for the authorization code request"}).optional()}),metadata:{openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token",url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}}},required:["redirect","token","user"]}}}}}}}},async a=>{let b=a.context.socialProviders.find(b=>b.id===a.body.provider);if(!b)throw a.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:a.body.provider}),new q("NOT_FOUND",{message:mH.PROVIDER_NOT_FOUND});if(a.body.idToken){if(!b.verifyIdToken)throw a.context.logger.error("Provider does not support id token verification",{provider:a.body.provider}),new q("NOT_FOUND",{message:mH.ID_TOKEN_NOT_SUPPORTED});let{token:c,nonce:d}=a.body.idToken;if(!await b.verifyIdToken(c,d))throw a.context.logger.error("Invalid id token",{provider:a.body.provider}),new q("UNAUTHORIZED",{message:mH.INVALID_TOKEN});let e=await b.getUserInfo({idToken:c,accessToken:a.body.idToken.accessToken,refreshToken:a.body.idToken.refreshToken});if(!e||!e?.user)throw a.context.logger.error("Failed to get user info",{provider:a.body.provider}),new q("UNAUTHORIZED",{message:mH.FAILED_TO_GET_USER_INFO});if(!e.user.email)throw a.context.logger.error("User email not found",{provider:a.body.provider}),new q("UNAUTHORIZED",{message:mH.USER_EMAIL_NOT_FOUND});let f=await pV(a,{userInfo:{...e.user,email:e.user.email,id:String(e.user.id),name:e.user.name||"",image:e.user.image,emailVerified:e.user.emailVerified||!1},account:{providerId:b.id,accountId:String(e.user.id),accessToken:a.body.idToken.accessToken},callbackURL:a.body.callbackURL,disableSignUp:b.disableImplicitSignUp&&!a.body.requestSignUp||b.disableSignUp});if(f.error)throw new q("UNAUTHORIZED",{message:f.error});return await mC(a,f.data),a.json({redirect:!1,token:f.data.session.token,url:void 0,user:{id:f.data.user.id,email:f.data.user.email,name:f.data.user.name,image:f.data.user.image,emailVerified:f.data.user.emailVerified,createdAt:f.data.user.createdAt,updatedAt:f.data.user.updatedAt}})}let{codeVerifier:c,state:d}=await pQ(a),e=await b.createAuthorizationURL({state:d,codeVerifier:c,redirectURI:`${a.context.baseURL}/callback/${b.id}`,scopes:a.body.scopes,loginHint:a.body.loginHint});return a.json({url:e.toString(),redirect:!a.body.disableRedirect})}),p3=mG("/sign-in/email",{method:"POST",body:kF({email:jl().meta({description:"Email of the user"}),password:jl().meta({description:"Password of the user"}),callbackURL:jl().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:kf().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{openapi:{description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}},required:["redirect","token","user"]}}}}}}}},async a=>{if(!a.context.options?.emailAndPassword?.enabled)throw a.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new q("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:b,password:c}=a.body;if(!jl().email().safeParse(b).success)throw new q("BAD_REQUEST",{message:mH.INVALID_EMAIL});let d=await a.context.internalAdapter.findUserByEmail(b,{includeAccounts:!0});if(!d)throw await a.context.password.hash(c),a.context.logger.error("User not found",{email:b}),new q("UNAUTHORIZED",{message:mH.INVALID_EMAIL_OR_PASSWORD});let e=d.accounts.find(a=>"credential"===a.providerId);if(!e)throw a.context.logger.error("Credential account not found",{email:b}),new q("UNAUTHORIZED",{message:mH.INVALID_EMAIL_OR_PASSWORD});let f=e?.password;if(!f)throw a.context.logger.error("Password not found",{email:b}),new q("UNAUTHORIZED",{message:mH.INVALID_EMAIL_OR_PASSWORD});if(!await a.context.password.verify({hash:f,password:c}))throw a.context.logger.error("Invalid password"),new q("UNAUTHORIZED",{message:mH.INVALID_EMAIL_OR_PASSWORD});if(a.context.options?.emailAndPassword?.requireEmailVerification&&!d.user.emailVerified){if(!a.context.options?.emailVerification?.sendVerificationEmail)throw new q("FORBIDDEN",{message:mH.EMAIL_NOT_VERIFIED});if(a.context.options?.emailVerification?.sendOnSignIn){let b=await pL(a.context.secret,d.user.email,void 0,a.context.options.emailVerification?.expiresIn),c=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${a.body.callbackURL||"/"}`;await a.context.options.emailVerification.sendVerificationEmail({user:d.user,url:c,token:b},a.request)}throw new q("FORBIDDEN",{message:mH.EMAIL_NOT_VERIFIED})}let g=await a.context.internalAdapter.createSession(d.user.id,a,!1===a.body.rememberMe);if(!g)throw a.context.logger.error("Failed to create session"),new q("UNAUTHORIZED",{message:mH.FAILED_TO_CREATE_SESSION});return await mC(a,{session:g,user:d.user},!1===a.body.rememberMe),a.json({redirect:!!a.body.callbackURL,token:g.token,url:a.body.callbackURL,user:{id:d.user.id,email:d.user.email,name:d.user.name,image:d.user.image,emailVerified:d.user.emailVerified,createdAt:d.user.createdAt,updatedAt:d.user.updatedAt}})}),p4=kF({code:jl().optional(),error:jl().optional(),device_id:jl().optional(),error_description:jl().optional(),state:jl().optional(),user:jl().optional()}),p5=mG("/callback/:id",{method:["GET","POST"],body:p4.optional(),query:p4.optional(),metadata:pP},async a=>{let b,c,d,e=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;try{if("GET"===a.method)b=p4.parse(a.query);else if("POST"===a.method)b=p4.parse(a.body);else throw Error("Unsupported method")}catch(b){throw a.context.logger.error("INVALID_CALLBACK_REQUEST",b),a.redirect(`${e}?error=invalid_callback_request`)}let{code:f,error:g,state:h,error_description:i,device_id:j}=b;if(!h){a.context.logger.error("State not found",g);let b=e.includes("?")?"&":"?",c=`${e}${b}state=state_not_found`;throw a.redirect(c)}let{codeVerifier:k,callbackURL:l,link:m,errorURL:n,newUserURL:o,requestSignUp:p}=await pR(a);function q(b,c){let d=n??e,f=new URLSearchParams({error:b});c&&f.set("error_description",c);let g=d.includes("?")?"&":"?",h=`${d}${g}${f.toString()}`;throw a.redirect(h)}if(g&&q(g,i),!f)throw a.context.logger.error("Code not found"),q("no_code");let r=a.context.socialProviders.find(b=>b.id===a.params.id);if(!r)throw a.context.logger.error("Oauth provider with id",a.params.id,"not found"),q("oauth_provider_not_found");try{c=await r.validateAuthorizationCode({code:f,codeVerifier:k,deviceId:j,redirectURI:`${a.context.baseURL}/callback/${r.id}`})}catch(b){throw a.context.logger.error("",b),q("invalid_code")}let s=await r.getUserInfo({...c,user:a.body?.user?mr(a.body.user):void 0}).then(a=>a?.user);if(!s)return a.context.logger.error("Unable to get user info"),q("unable_to_get_user_info");if(!l)throw a.context.logger.error("No callback URL found"),q("no_callback_url");if(m){let b,d=a.context.options.account?.accountLinking?.trustedProviders;if(!d?.includes(r.id)&&!s.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)return a.context.logger.error("Unable to link account - untrusted provider"),q("unable_to_link_account");if(s.email!==m.email&&a.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return q("email_doesn't_match");let e=await a.context.internalAdapter.findAccount(String(s.id));if(e){if(e.userId.toString()!==m.userId.toString())return q("account_already_linked_to_different_user");let b=Object.fromEntries(Object.entries({accessToken:await pU(c.accessToken,a.context),refreshToken:await pU(c.refreshToken,a.context),idToken:c.idToken,accessTokenExpiresAt:c.accessTokenExpiresAt,refreshTokenExpiresAt:c.refreshTokenExpiresAt,scope:c.scopes?.join(",")}).filter(([a,b])=>void 0!==b));await a.context.internalAdapter.updateAccount(e.id,b)}else if(!await a.context.internalAdapter.createAccount({userId:m.userId,providerId:r.id,accountId:String(s.id),...c,accessToken:await pU(c.accessToken,a.context),refreshToken:await pU(c.refreshToken,a.context),scope:c.scopes?.join(",")},a))return q("unable_to_link_account");try{b=l.toString()}catch{b=l}throw a.redirect(b)}if(!s.email)return a.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),q("email_not_found");let t=await pV(a,{userInfo:{...s,id:String(s.id),email:s.email,name:s.name||s.email},account:{providerId:r.id,accountId:String(s.id),...c,scope:c.scopes?.join(",")},callbackURL:l,disableSignUp:r.disableImplicitSignUp&&!p||r.options?.disableSignUp,overrideUserInfo:r.options?.overrideUserInfoOnSignIn});if(t.error)return a.context.logger.error(t.error.split(" ").join("_")),q(t.error.split(" ").join("_"));let{session:u,user:v}=t.data;await mC(a,{session:u,user:v});try{d=(t.isRegister&&o||l).toString()}catch{d=t.isRegister&&o||l}throw a.redirect(d)}),p6=mG("/sign-out",{method:"POST",requireHeaders:!0,metadata:{openapi:{description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async a=>{let b=await a.getSignedCookie(a.context.authCookies.sessionToken.name,a.context.secret);if(!b)throw mD(a),new q("BAD_REQUEST",{message:mH.FAILED_TO_GET_SESSION});return await a.context.internalAdapter.deleteSession(b),mD(a),a.json({success:!0})});function p7(a,b,c){let d=b?new URL(b,a.baseURL):new URL(`${a.baseURL}/error`);return c&&Object.entries(c).forEach(([a,b])=>d.searchParams.set(a,b)),d.href}let p8=mG("/request-password-reset",{method:"POST",body:kF({email:jo().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:jl().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async a=>{if(!a.context.options.emailAndPassword?.sendResetPassword)throw a.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new q("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:b,redirectTo:c}=a.body,d=await a.context.internalAdapter.findUserByEmail(b,{includeAccounts:!0});if(!d)return a.context.logger.error("Reset Password: User not found",{email:b}),a.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let e=l_(a.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),f=pB(24);await a.context.internalAdapter.createVerificationValue({value:d.user.id,identifier:`reset-password:${f}`,expiresAt:e},a);let g=c?encodeURIComponent(c):"",h=`${a.context.baseURL}/reset-password/${f}?callbackURL=${g}`;return await a.context.options.emailAndPassword.sendResetPassword({user:d.user,url:h,token:f},a.request),a.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),p9=mG("/forget-password",{method:"POST",body:kF({email:jl().email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:jl().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async a=>{if(!a.context.options.emailAndPassword?.sendResetPassword)throw a.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new q("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:b,redirectTo:c}=a.body,d=await a.context.internalAdapter.findUserByEmail(b,{includeAccounts:!0});if(!d)return a.context.logger.error("Reset Password: User not found",{email:b}),a.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let e=l_(a.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),f=pB(24);await a.context.internalAdapter.createVerificationValue({value:d.user.id,identifier:`reset-password:${f}`,expiresAt:e},a);let g=c?encodeURIComponent(c):"",h=`${a.context.baseURL}/reset-password/${f}?callbackURL=${g}`;return await a.context.options.emailAndPassword.sendResetPassword({user:d.user,url:h,token:f},a.request),a.json({status:!0})}),qa=mG("/reset-password/:token",{method:"GET",query:kF({callbackURL:jl().meta({description:"The URL to redirect the user to reset their password"})}),use:[pK(a=>a.query.callbackURL)],metadata:{openapi:{description:"Redirects the user to the callback URL with the token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async a=>{let{token:b}=a.params,{callbackURL:c}=a.query;if(!b||!c)throw a.redirect(p7(a.context,c,{error:"INVALID_TOKEN"}));let d=await a.context.internalAdapter.findVerificationValue(`reset-password:${b}`);if(!d||d.expiresAt<new Date)throw a.redirect(p7(a.context,c,{error:"INVALID_TOKEN"}));throw a.redirect(function(a,b,c){let d=new URL(b,a.baseURL);return c&&Object.entries(c).forEach(([a,b])=>d.searchParams.set(a,b)),d.href}(a.context,c,{token:b}))}),qb=mG("/reset-password",{method:"POST",query:kF({token:jl().optional()}).optional(),body:kF({newPassword:jl().meta({description:"The new password to set"}),token:jl().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async a=>{let b=a.body.token||a.query?.token;if(!b)throw new q("BAD_REQUEST",{message:mH.INVALID_TOKEN});let{newPassword:c}=a.body,d=a.context.password?.config.minPasswordLength,e=a.context.password?.config.maxPasswordLength;if(c.length<d)throw new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_SHORT});if(c.length>e)throw new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_LONG});let f=`reset-password:${b}`,g=await a.context.internalAdapter.findVerificationValue(f);if(!g||g.expiresAt<new Date)throw new q("BAD_REQUEST",{message:mH.INVALID_TOKEN});let h=g.value,i=await a.context.password.hash(c);if((await a.context.internalAdapter.findAccounts(h)).find(a=>"credential"===a.providerId)?await a.context.internalAdapter.updatePassword(h,i,a):await a.context.internalAdapter.createAccount({userId:h,providerId:"credential",password:i,accountId:h},a),await a.context.internalAdapter.deleteVerificationValue(g.id),a.context.options.emailAndPassword?.onPasswordReset){let b=await a.context.internalAdapter.findUserById(h);b&&await a.context.options.emailAndPassword.onPasswordReset({user:b},a.request)}return a.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await a.context.internalAdapter.deleteSessions(h),a.json({status:!0})}),qc=mG("/change-password",{method:"POST",body:kF({newPassword:jl().meta({description:"The new password to set"}),currentPassword:jl().meta({description:"The current password is required"}),revokeOtherSessions:kf().meta({description:"Must be a boolean value"}).optional()}),use:[mM],metadata:{openapi:{description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async a=>{let{newPassword:b,currentPassword:c,revokeOtherSessions:d}=a.body,e=a.context.session,f=a.context.password.config.minPasswordLength;if(b.length<f)throw a.context.logger.error("Password is too short"),new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_SHORT});let g=a.context.password.config.maxPasswordLength;if(b.length>g)throw a.context.logger.error("Password is too long"),new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_LONG});let h=(await a.context.internalAdapter.findAccounts(e.user.id)).find(a=>"credential"===a.providerId&&a.password);if(!h||!h.password)throw new q("BAD_REQUEST",{message:mH.CREDENTIAL_ACCOUNT_NOT_FOUND});let i=await a.context.password.hash(b);if(!await a.context.password.verify({hash:h.password,password:c}))throw new q("BAD_REQUEST",{message:mH.INVALID_PASSWORD});await a.context.internalAdapter.updateAccount(h.id,{password:i});let j=null;if(d){await a.context.internalAdapter.deleteSessions(e.user.id);let b=await a.context.internalAdapter.createSession(e.user.id,a);if(!b)throw new q("INTERNAL_SERVER_ERROR",{message:mH.FAILED_TO_GET_SESSION});await mC(a,{session:b,user:e.user}),j=b.token}return a.json({token:j,user:{id:e.user.id,email:e.user.email,name:e.user.name,image:e.user.image,emailVerified:e.user.emailVerified,createdAt:e.user.createdAt,updatedAt:e.user.updatedAt}})}),qd=mG("/set-password",{method:"POST",body:kF({newPassword:jl().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[mM]},async a=>{let{newPassword:b}=a.body,c=a.context.session,d=a.context.password.config.minPasswordLength;if(b.length<d)throw a.context.logger.error("Password is too short"),new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_SHORT});let e=a.context.password.config.maxPasswordLength;if(b.length>e)throw a.context.logger.error("Password is too long"),new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_LONG});let f=(await a.context.internalAdapter.findAccounts(c.user.id)).find(a=>"credential"===a.providerId&&a.password),g=await a.context.password.hash(b);if(!f)return await a.context.internalAdapter.linkAccount({userId:c.user.id,providerId:"credential",accountId:c.user.id,password:g},a),a.json({status:!0});throw new q("BAD_REQUEST",{message:"user already has a password"})}),qe=mG("/delete-user",{method:"POST",use:[mM],body:kF({callbackURL:jl().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:jl().meta({description:"The password of the user is required to delete the user"}).optional(),token:jl().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{description:"Delete the user",responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async a=>{if(!a.context.options.user?.deleteUser?.enabled)throw a.context.logger.error("Delete user is disabled. Enable it in the options",{session:a.context.session}),new q("NOT_FOUND");let b=a.context.session;if(a.body.password){let c=(await a.context.internalAdapter.findAccounts(b.user.id)).find(a=>"credential"===a.providerId&&a.password);if(!c||!c.password)throw new q("BAD_REQUEST",{message:mH.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await a.context.password.verify({hash:c.password,password:a.body.password}))throw new q("BAD_REQUEST",{message:mH.INVALID_PASSWORD})}if(a.body.token)return await qf({...a,query:{token:a.body.token}}),a.json({success:!0,message:"User deleted"});if(a.context.options.user.deleteUser?.sendDeleteAccountVerification){let c=oT(32,"0-9","a-z");await a.context.internalAdapter.createVerificationValue({value:b.user.id,identifier:`delete-account-${c}`,expiresAt:new Date(Date.now()+1e3*(a.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))},a);let d=`${a.context.baseURL}/delete-user/callback?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;return await a.context.options.user.deleteUser.sendDeleteAccountVerification({user:b.user,url:d,token:c},a.request),a.json({success:!0,message:"Verification email sent"})}if(!a.body.password&&0!==a.context.sessionConfig.freshAge){let c=new Date(b.session.createdAt).getTime(),d=1e3*a.context.sessionConfig.freshAge;if(Date.now()-c>1e3*d)throw new q("BAD_REQUEST",{message:mH.SESSION_EXPIRED})}let c=a.context.options.user.deleteUser?.beforeDelete;c&&await c(b.user,a.request),await a.context.internalAdapter.deleteUser(b.user.id),await a.context.internalAdapter.deleteSessions(b.user.id),await a.context.internalAdapter.deleteAccounts(b.user.id),mD(a);let d=a.context.options.user.deleteUser?.afterDelete;return d&&await d(b.user,a.request),a.json({success:!0,message:"User deleted"})}),qf=mG("/delete-user/callback",{method:"GET",query:kF({token:jl().meta({description:"The token to verify the deletion request"}),callbackURL:jl().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[pK(a=>a.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async a=>{if(!a.context.options.user?.deleteUser?.enabled)throw a.context.logger.error("Delete user is disabled. Enable it in the options"),new q("NOT_FOUND");let b=await mK(a);if(!b)throw new q("NOT_FOUND",{message:mH.FAILED_TO_GET_USER_INFO});let c=await a.context.internalAdapter.findVerificationValue(`delete-account-${a.query.token}`);if(!c||c.expiresAt<new Date||c.value!==b.user.id)throw new q("NOT_FOUND",{message:mH.INVALID_TOKEN});let d=a.context.options.user.deleteUser?.beforeDelete;d&&await d(b.user,a.request),await a.context.internalAdapter.deleteUser(b.user.id),await a.context.internalAdapter.deleteSessions(b.user.id),await a.context.internalAdapter.deleteAccounts(b.user.id),await a.context.internalAdapter.deleteVerificationValue(c.id),mD(a);let e=a.context.options.user.deleteUser?.afterDelete;if(e&&await e(b.user,a.request),a.query.callbackURL)throw a.redirect(a.query.callbackURL||"/");return a.json({success:!0,message:"User deleted"})}),qg=mG("/change-email",{method:"POST",body:kF({newEmail:jo().meta({description:"The new email address to set must be a valid email address"}),callbackURL:jl().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[mM],metadata:{openapi:{responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async a=>{if(!a.context.options.user?.changeEmail?.enabled)throw a.context.logger.error("Change email is disabled."),new q("BAD_REQUEST",{message:"Change email is disabled"});let b=a.body.newEmail.toLowerCase();if(b===a.context.session.user.email)throw a.context.logger.error("Email is the same"),new q("BAD_REQUEST",{message:"Email is the same"});if(await a.context.internalAdapter.findUserByEmail(b))throw a.context.logger.error("Email already exists"),new q("BAD_REQUEST",{message:"Couldn't update your email"});if(!0!==a.context.session.user.emailVerified){if(await a.context.internalAdapter.findUserByEmail(b))throw new q("UNPROCESSABLE_ENTITY",{message:mH.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(await a.context.internalAdapter.updateUserByEmail(a.context.session.user.email,{email:b},a),await mC(a,{session:a.context.session.session,user:{...a.context.session.user,email:b}}),a.context.options.emailVerification?.sendVerificationEmail){let c=await pL(a.context.secret,b,void 0,a.context.options.emailVerification?.expiresIn),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;await a.context.options.emailVerification.sendVerificationEmail({user:{...a.context.session.user,email:b},url:d,token:c},a.request)}return a.json({status:!0})}if(!a.context.options.user.changeEmail.sendChangeEmailVerification)throw a.context.logger.error("Verification email isn't enabled."),new q("BAD_REQUEST",{message:"Verification email isn't enabled"});let c=await pL(a.context.secret,a.context.session.user.email,b,a.context.options.emailVerification?.expiresIn),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;return await a.context.options.user.changeEmail.sendChangeEmailVerification({user:a.context.session.user,newEmail:b,url:d,token:c},a.request),a.json({status:!0})}),qh=mG("/error",{method:"GET",metadata:{...pP,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async a=>new Response(((a="Unknown")=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --accent-color: #000000;
            --error-color: #dc3545;
            --border-color: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            line-height: 1.5;
        }
        .error-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        h1 {
            color: var(--error-color);
            font-size: 1.75rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        p {
            margin-bottom: 1.5rem;
            color: #495057;
        }
        .btn {
            background-color: var(--accent-color);
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            border: 2px solid var(--accent-color);
        }
        .btn:hover {
            background-color: #131721;
        }
        .error-code {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="icon">\u26A0\uFE0F</div>
        <h1>Better Auth Error</h1>
        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>
        <a href="/" id="returnLink" class="btn">Return to Application</a>
        <div class="error-code">Error Code: <span id="errorCode">${a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}</span></div>
    </div>
</body>
</html>`)(new URL(a.request?.url||"").searchParams.get("error")||"Unknown"),{headers:{"Content-Type":"text/html"}})),qi=mG("/ok",{method:"GET",metadata:{...pP,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async a=>a.json({ok:!0})),qj=mG("/list-accounts",{method:"GET",use:[mL],metadata:{openapi:{description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","scopes"]}}}}}}}}},async a=>{let b=a.context.session,c=await a.context.internalAdapter.findAccounts(b.user.id);return a.json(c.map(a=>({id:a.id,providerId:a.providerId,createdAt:a.createdAt,updatedAt:a.updatedAt,accountId:a.accountId,scopes:a.scope?.split(",")||[]})))}),qk=mG("/link-social",{method:"POST",requireHeaders:!0,body:kF({callbackURL:jl().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:p1,idToken:kF({token:jl(),nonce:jl().optional(),accessToken:jl().optional(),refreshToken:jl().optional(),scopes:kC(jl()).optional()}).optional(),requestSignUp:kf().optional(),scopes:kC(jl()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:jl().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:kf().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional()}),use:[mL],metadata:{openapi:{description:"Link a social account to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async a=>{let b=a.context.session,c=a.context.socialProviders.find(b=>b.id===a.body.provider);if(!c)throw a.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:a.body.provider}),new q("NOT_FOUND",{message:mH.PROVIDER_NOT_FOUND});if(a.body.idToken){if(!c.verifyIdToken)throw a.context.logger.error("Provider does not support id token verification",{provider:a.body.provider}),new q("NOT_FOUND",{message:mH.ID_TOKEN_NOT_SUPPORTED});let{token:d,nonce:e}=a.body.idToken;if(!await c.verifyIdToken(d,e))throw a.context.logger.error("Invalid id token",{provider:a.body.provider}),new q("UNAUTHORIZED",{message:mH.INVALID_TOKEN});let f=await c.getUserInfo({idToken:d,accessToken:a.body.idToken.accessToken,refreshToken:a.body.idToken.refreshToken});if(!f||!f?.user)throw a.context.logger.error("Failed to get user info",{provider:a.body.provider}),new q("UNAUTHORIZED",{message:mH.FAILED_TO_GET_USER_INFO});let g=String(f.user.id);if(!f.user.email)throw a.context.logger.error("User email not found",{provider:a.body.provider}),new q("UNAUTHORIZED",{message:mH.USER_EMAIL_NOT_FOUND});if((await a.context.internalAdapter.findAccounts(b.user.id)).find(a=>a.providerId===c.id&&a.accountId===g))return a.json({url:"",status:!0,redirect:!1});let h=a.context.options.account?.accountLinking?.trustedProviders;if(!h?.includes(c.id)&&!f.user.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)throw new q("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(f.user.email!==b.user.email&&a.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new q("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await a.context.internalAdapter.createAccount({userId:b.user.id,providerId:c.id,accountId:g,accessToken:a.body.idToken.accessToken,idToken:d,refreshToken:a.body.idToken.refreshToken,scope:a.body.idToken.scopes?.join(",")},a)}catch(a){throw new q("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(a.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await a.context.internalAdapter.updateUser(b.user.id,{name:f.user?.name,image:f.user?.image})}catch(a){console.warn("Could not update user - "+a.toString())}return a.json({url:"",status:!0,redirect:!1})}let d=await pQ(a,{userId:b.user.id,email:b.user.email}),e=await c.createAuthorizationURL({state:d.state,codeVerifier:d.codeVerifier,redirectURI:`${a.context.baseURL}/callback/${c.id}`,scopes:a.body.scopes});return a.json({url:e.toString(),redirect:!a.body.disableRedirect})}),ql=mG("/unlink-account",{method:"POST",body:kF({providerId:jl(),accountId:jl().optional()}),use:[mN],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async a=>{let{providerId:b,accountId:c}=a.body,d=await a.context.internalAdapter.findAccounts(a.context.session.user.id);if(1===d.length&&!a.context.options.account?.accountLinking?.allowUnlinkingAll)throw new q("BAD_REQUEST",{message:mH.FAILED_TO_UNLINK_LAST_ACCOUNT});let e=d.find(a=>c?a.accountId===c&&a.providerId===b:a.providerId===b);if(!e)throw new q("BAD_REQUEST",{message:mH.ACCOUNT_NOT_FOUND});return await a.context.internalAdapter.deleteAccount(e.id),a.json({status:!0})}),qm=mG("/get-access-token",{method:"POST",body:kF({providerId:jl().meta({description:"The provider ID for the OAuth provider"}),accountId:jl().meta({description:"The account ID associated with the refresh token"}).optional(),userId:jl().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async a=>{let{providerId:b,accountId:c,userId:d}=a.body,e=a.request,f=await mK(a);if(e&&!f)throw a.error("UNAUTHORIZED");let g=f?.user?.id||d;if(!g)throw new q("BAD_REQUEST",{message:"Either userId or session is required"});if(!a.context.socialProviders.find(a=>a.id===b))throw new q("BAD_REQUEST",{message:`Provider ${b} is not supported.`});let h=(await a.context.internalAdapter.findAccounts(g)).find(a=>c?a.id===c&&a.providerId===b:a.providerId===b);if(!h)throw new q("BAD_REQUEST",{message:"Account not found"});let i=a.context.socialProviders.find(a=>a.id===b);if(!i)throw new q("BAD_REQUEST",{message:`Provider ${b} not found.`});try{let b=null,c=h.accessTokenExpiresAt&&new Date(h.accessTokenExpiresAt).getTime()-Date.now()<5e3;h.refreshToken&&c&&i.refreshAccessToken&&(b=await i.refreshAccessToken(h.refreshToken),await a.context.internalAdapter.updateAccount(h.id,{accessToken:await pU(b.accessToken,a.context),accessTokenExpiresAt:b.accessTokenExpiresAt,refreshToken:await pU(b.refreshToken,a.context),refreshTokenExpiresAt:b.refreshTokenExpiresAt}));let d={accessToken:await function(a,b){return a&&b.options.account?.encryptOAuthTokens?o_({key:b.secret,data:a}):a}(b?.accessToken??h.accessToken??"",a.context),accessTokenExpiresAt:b?.accessTokenExpiresAt??h.accessTokenExpiresAt??void 0,scopes:h.scope?.split(",")??[],idToken:b?.idToken??h.idToken??void 0};return a.json(d)}catch(a){throw new q("BAD_REQUEST",{message:"Failed to get a valid access token",cause:a})}}),qn=mG("/refresh-token",{method:"POST",body:kF({providerId:jl().meta({description:"The provider ID for the OAuth provider"}),accountId:jl().meta({description:"The account ID associated with the refresh token"}).optional(),userId:jl().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async a=>{let{providerId:b,accountId:c,userId:d}=a.body,e=a.request,f=await mK(a);if(e&&!f)throw a.error("UNAUTHORIZED");let g=f?.user?.id||d;if(!g)throw new q("BAD_REQUEST",{message:"Either userId or session is required"});let h=(await a.context.internalAdapter.findAccounts(g)).find(a=>c?a.id===c&&a.providerId===b:a.providerId===b);if(!h)throw new q("BAD_REQUEST",{message:"Account not found"});let i=a.context.socialProviders.find(a=>a.id===b);if(!i)throw new q("BAD_REQUEST",{message:`Provider ${b} not found.`});if(!i.refreshAccessToken)throw new q("BAD_REQUEST",{message:`Provider ${b} does not support token refreshing.`});try{let b=await i.refreshAccessToken(h.refreshToken);return await a.context.internalAdapter.updateAccount(h.id,{accessToken:await pU(b.accessToken,a.context),refreshToken:await pU(b.refreshToken,a.context),accessTokenExpiresAt:b.accessTokenExpiresAt,refreshTokenExpiresAt:b.refreshTokenExpiresAt}),a.json(b)}catch(a){throw new q("BAD_REQUEST",{message:"Failed to refresh access token",cause:a})}}),qo=mG("/account-info",{method:"POST",use:[mL],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},body:kF({accountId:jl().meta({description:"The provider given account id for which to get the account info"})})},async a=>{let b=await a.context.internalAdapter.findAccount(a.body.accountId);if(!b||b.userId!==a.context.session.user.id)throw new q("BAD_REQUEST",{message:"Account not found"});let c=a.context.socialProviders.find(a=>a.id===b.providerId);if(!c)throw new q("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${b.providerId} but it is not configured`});let d=await qm({...a,body:{accountId:b.id,providerId:b.providerId},returnHeaders:!1});if(!d.accessToken)throw new q("BAD_REQUEST",{message:"Access token not found"});let e=await c.getUserInfo({...d,accessToken:d.accessToken});return a.json(e)}),qp=pE((a,b,c)=>{if(Array.isArray(a[b])&&Array.isArray(c))return a[b]=c,!0});async function qq(a,b){let c={};for(let d of b)if(d.matcher(a)){let b=await d.handler({...a,returnHeaders:!1}).catch(b=>{throw b instanceof q&&mn(a.context.logger.level,"debug")&&(b.stack=b.errorStack),b});if(b&&"object"==typeof b){if("context"in b&&"object"==typeof b.context){let{headers:a,...d}=b.context;a instanceof Headers&&(c.headers?a.forEach((a,b)=>{c.headers?.set(b,a)}):c.headers=a),c=qp(d,c);continue}return b}}return{context:c}}async function qr(a,b){for(let c of b)if(c.matcher(a)){let b=await c.handler(a).catch(b=>{if(b instanceof q)return mn(a.context.logger.level,"debug")&&(b.stack=b.errorStack),{response:b,headers:b.headers?new Headers(b.headers):null};throw b});b.headers&&b.headers.forEach((b,c)=>{a.context.responseHeaders?"set-cookie"===c.toLowerCase()?a.context.responseHeaders.append(c,b):a.context.responseHeaders.set(c,b):a.context.responseHeaders=new Headers({[c]:b})}),b.response&&(a.context.returned=b.response)}return{response:a.context.returned,headers:a.context.responseHeaders}}let qs=new WeakMap;function qt(a,b){let c=b.fields,d={};for(let b in a){let e=c[b];if(!e){d[b]=a[b];continue}!1!==e.returned&&(d[b]=a[b])}return d}function qu(a,b){qs.has(a)||qs.set(a,new Map);let c=qs.get(a);if(c.has(b))return c.get(b);let d={..."user"===b?a.user?.additionalFields:{},..."session"===b?a.session?.additionalFields:{}};for(let c of a.plugins||[])c.schema&&c.schema[b]&&(d={...d,...c.schema[b].fields});return qs.get(a).set(b,d),d}function qv(a,b){return qt(b,{fields:qu(a,"user")})}function qw(a,b){return qt(b,{fields:qu(a,"session")})}var qx=lY;function qy(a,b){if(b.advanced?.ipAddress?.disableIpTracking)return null;if(l7()||l6)return"127.0.0.1";let c="headers"in a?a.headers:a;for(let a of b.advanced?.ipAddress?.ipAddressHeaders||["x-forwarded-for"]){let b="get"in c?c.get(a):c[a];if("string"==typeof b){var d;let a=b.split(",")[0].trim();if(d=a,qx.ipv4().safeParse(d).success||qx.ipv6().safeParse(d).success)return a}}return null}let qz=new Map;async function qA(a,b){if(!b.rateLimit.enabled)return;let c=new URL(a.url).pathname.replace(b.options.basePath||"/api/auth",""),d=b.rateLimit.window,e=b.rateLimit.max,f=qy(a,b.options);if(!f)return;let g=f+c,h=[{pathMatcher:a=>a.startsWith("/sign-in")||a.startsWith("/sign-up")||a.startsWith("/change-password")||a.startsWith("/change-email"),window:10,max:3}].find(a=>a.pathMatcher(c));for(let a of(h&&(d=h.window,e=h.max),b.options.plugins||[]))if(a.rateLimit){let b=a.rateLimit.find(a=>a.pathMatcher(c));if(b){d=b.window,e=b.max;break}}if(b.rateLimit.customRules){let f=Object.keys(b.rateLimit.customRules).find(a=>a.includes("*")?pI(a)(c):a===c);if(f){let c=b.rateLimit.customRules[f],g="function"==typeof c?await c(a):c;if(g&&(d=g.window,e=g.max),!1===g)return}}let i=function(a,b){if(a.options.rateLimit?.customStorage)return a.options.rateLimit.customStorage;let c=a.rateLimit.storage;if("secondary-storage"===c)return{get:async b=>{let c=await a.options.secondaryStorage?.get(b);return c?mr(c):void 0},set:async(c,d,e)=>{let f=b?.window??a.options.rateLimit?.window??10;await a.options.secondaryStorage?.set?.(c,JSON.stringify(d),f)}};if("memory"===c)return{get:async a=>qz.get(a),async set(a,b,c){qz.set(a,b)}};let d="rateLimit",e=a.adapter;return{get:async a=>{let b=(await e.findMany({model:d,where:[{field:"key",value:a}]}))[0];return"bigint"==typeof b?.lastRequest&&(b.lastRequest=Number(b.lastRequest)),b},set:async(b,c,f)=>{try{f?await e.updateMany({model:d,where:[{field:"key",value:b}],update:{count:c.count,lastRequest:c.lastRequest}}):await e.create({model:d,data:{key:b,count:c.count,lastRequest:c.lastRequest}})}catch(b){a.logger.error("Error setting rate limit",b)}}}}(b,{window:d}),j=await i.get(g),k=Date.now();if(j){var l,m,n,o;let a=k-j.lastRequest;if(l=e,m=d,n=j,Date.now()-n.lastRequest<1e3*m&&n.count>=l){return o=Math.ceil((j.lastRequest+1e3*d-Date.now())/1e3),new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":o.toString()}})}a>1e3*d?await i.set(g,{...j,count:1,lastRequest:k},!0):await i.set(g,{...j,count:j.count+1,lastRequest:k},!0)}else await i.set(g,{key:g,count:1,lastRequest:k})}function qB(a,b){let c=b.plugins?.reduce((a,b)=>({...a,...b.endpoints}),{})??{},d=b.plugins?.map(b=>b.middlewares?.map(b=>{let c=async c=>{let d=await a;return b.middleware({...c,context:{...d,...c.context}})};return c.options=b.middleware.options,{path:b.path,middleware:c}})).filter(a=>void 0!==a).flat()||[];return{api:function(a,b){let c={};for(let[d,e]of Object.entries(a))c[d]=async a=>{let c=await b,d={...a,context:{...c,returned:void 0,responseHeaders:void 0,session:null},path:e.path,headers:a?.headers?new Headers(a?.headers):void 0},{beforeHooks:f,afterHooks:g}=function(a){let b=a.options.plugins||[],c=[],d=[];a.options.hooks?.before&&c.push({matcher:()=>!0,handler:a.options.hooks.before}),a.options.hooks?.after&&d.push({matcher:()=>!0,handler:a.options.hooks.after});let e=b.map(a=>{if(a.hooks?.before)return a.hooks.before}).filter(a=>void 0!==a).flat(),f=b.map(a=>{if(a.hooks?.after)return a.hooks.after}).filter(a=>void 0!==a).flat();return e.length&&c.push(...e),f.length&&d.push(...f),{beforeHooks:c,afterHooks:d}}(c),h=await qq(d,f);if("context"in h&&h.context&&"object"==typeof h.context){let{headers:a,...b}=h.context;a&&a.forEach((a,b)=>{d.headers.set(b,a)}),d=qp(b,d)}else if(h)return a?.asResponse?t(h,{headers:a?.headers}):a?.returnHeaders?{headers:a?.headers,response:h}:h;d.asResponse=!1,d.returnHeaders=!0;let i=await e(d).catch(a=>{if(a instanceof q)return{response:a,headers:a.headers?new Headers(a.headers):null};throw a});if(i&&i instanceof Response)return i;d.context.returned=i.response,d.context.responseHeaders=i.headers;let j=await qr(d,g);if(j.response&&(i.response=j.response),i.response instanceof q&&mn(c.logger.level,"debug")&&(i.response.stack=i.response.errorStack),i.response instanceof q&&!a?.asResponse)throw i.response;return a?.asResponse?t(i.response,{headers:i.headers}):a?.returnHeaders?{headers:i.headers,response:i.response}:i.response},c[d].path=e.path,c[d].options=e.options;return c}({...{signInSocial:p2,callbackOAuth:p5,getSession:mJ(),signOut:p6,signUpEmail:mG("/sign-up/email",{method:"POST",body:kR(jl(),ks()),metadata:{$Infer:{body:{}},openapi:{description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async a=>{let b;if(!a.context.options.emailAndPassword?.enabled||a.context.options.emailAndPassword?.disableSignUp)throw new q("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let c=a.body,{name:d,email:e,password:f,image:g,callbackURL:h,rememberMe:i,...j}=c;if(!jo().safeParse(e).success)throw new q("BAD_REQUEST",{message:mH.INVALID_EMAIL});let k=a.context.password.config.minPasswordLength;if(f.length<k)throw a.context.logger.error("Password is too short"),new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_SHORT});let l=a.context.password.config.maxPasswordLength;if(f.length>l)throw a.context.logger.error("Password is too long"),new q("BAD_REQUEST",{message:mH.PASSWORD_TOO_LONG});let m=await a.context.internalAdapter.findUserByEmail(e);if(m?.user)throw a.context.logger.info(`Sign-up attempt for existing email: ${e}`),new q("UNPROCESSABLE_ENTITY",{message:mH.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let n=await a.context.password.hash(f);try{let c=function(a,b={},c){return function(a,b){let c=b.action||"create",d=b.fields,e=Object.assign(Object.create(null),null);for(let b in d){if(b in a){if(!1===d[b].input){if(d[b].defaultValue){e[b]=d[b].defaultValue;continue}if(e[b])throw new q("BAD_REQUEST",{message:`${b} is not allowed to be set`});continue}if(d[b].validator?.input&&void 0!==a[b]){e[b]=d[b].validator.input.parse(a[b]);continue}if(d[b].transform?.input&&void 0!==a[b]){e[b]=d[b].transform?.input(a[b]);continue}e[b]=a[b];continue}if(d[b].defaultValue&&"create"===c){e[b]=d[b].defaultValue;continue}if(d[b].required&&"create"===c)throw new q("BAD_REQUEST",{message:`${b} is required`})}return e}(b,{fields:qu(a,"user"),action:c})}(a.context.options,j,"create");if(!(b=await a.context.internalAdapter.createUser({email:e.toLowerCase(),name:d,image:g,...c,emailVerified:!1},a)))throw new q("BAD_REQUEST",{message:mH.FAILED_TO_CREATE_USER})}catch(b){if(l6&&a.context.logger.error("Failed to create user",b),b instanceof q)throw b;throw a.context.logger?.error("Failed to create user",b),new q("UNPROCESSABLE_ENTITY",{message:mH.FAILED_TO_CREATE_USER,details:b})}if(!b)throw new q("UNPROCESSABLE_ENTITY",{message:mH.FAILED_TO_CREATE_USER});if(await a.context.internalAdapter.linkAccount({userId:b.id,providerId:"credential",accountId:b.id,password:n},a),a.context.options.emailVerification?.sendOnSignUp||a.context.options.emailAndPassword.requireEmailVerification){let d=await pL(a.context.secret,b.email,void 0,a.context.options.emailVerification?.expiresIn),e=`${a.context.baseURL}/verify-email?token=${d}&callbackURL=${c.callbackURL||"/"}`,f=a.request?[{user:b,url:e,token:d},a.request]:[{user:b,url:e,token:d}];await a.context.options.emailVerification?.sendVerificationEmail?.(...f)}if(!1===a.context.options.emailAndPassword.autoSignIn||a.context.options.emailAndPassword.requireEmailVerification)return a.json({token:null,user:{id:b.id,email:b.email,name:b.name,image:b.image,emailVerified:b.emailVerified,createdAt:b.createdAt,updatedAt:b.updatedAt}});let o=await a.context.internalAdapter.createSession(b.id,a,!1===i);if(!o)throw new q("BAD_REQUEST",{message:mH.FAILED_TO_CREATE_SESSION});return await mC(a,{session:o,user:b},!1===i),a.json({token:o.token,user:{id:b.id,email:b.email,name:b.name,image:b.image,emailVerified:b.emailVerified,createdAt:b.createdAt,updatedAt:b.updatedAt}})}),signInEmail:p3,forgetPassword:p9,resetPassword:qb,verifyEmail:pO,sendVerificationEmail:pN,changeEmail:qg,changePassword:qc,setPassword:qd,updateUser:mG("/update-user",{method:"POST",body:kR(jl().meta({description:"Field name must be a string"}),ks()),use:[mL],metadata:{$Infer:{body:{}},openapi:{description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user"}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the update was successful"}}}}}}}}}},async a=>{let b=a.body;if(b.email)throw new q("BAD_REQUEST",{message:mH.EMAIL_CAN_NOT_BE_UPDATED});let{name:c,image:d,...e}=b,f=a.context.session;if(void 0===d&&void 0===c&&0===Object.keys(e).length)return a.json({status:!0});let g=await a.context.internalAdapter.updateUser(f.user.id,{name:c,image:d,...e},a);return await mC(a,{session:f.session,user:g}),a.json({status:!0})}),deleteUser:qe,forgetPasswordCallback:qa,requestPasswordReset:p8,requestPasswordResetCallback:qa,listSessions:mG("/list-sessions",{method:"GET",use:[mL],requireHeaders:!0,metadata:{openapi:{description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async a=>{try{let b=(await a.context.internalAdapter.listSessions(a.context.session.user.id)).filter(a=>a.expiresAt>new Date);return a.json(b)}catch(b){throw a.context.logger.error(b),a.error("INTERNAL_SERVER_ERROR")}}),revokeSession:mO,revokeSessions:mP,revokeOtherSessions:mQ,linkSocialAccount:qk,listUserAccounts:qj,deleteUserCallback:qf,unlinkAccount:ql,refreshToken:qn,getAccessToken:qm,accountInfo:qo},...c,ok:qi,error:qh},a),middlewares:d}}let qC=a=>{let b=(a.plugins??[]).reduce((a,b)=>{let c=b.schema;if(!c)return a;for(let[b,d]of Object.entries(c))a[b]={fields:{...a[b]?.fields,...d.fields},modelName:d.modelName||b};return a},{}),c=a.rateLimit?.storage==="database",d={rateLimit:{modelName:a.rateLimit?.modelName||"rateLimit",fields:{key:{type:"string",fieldName:a.rateLimit?.fields?.key||"key"},count:{type:"number",fieldName:a.rateLimit?.fields?.count||"count"},lastRequest:{type:"number",bigint:!0,fieldName:a.rateLimit?.fields?.lastRequest||"lastRequest"}}}},{user:e,session:f,account:g,...h}=b,i={session:{modelName:a.session?.modelName||"session",fields:{expiresAt:{type:"date",required:!0,fieldName:a.session?.fields?.expiresAt||"expiresAt"},token:{type:"string",required:!0,fieldName:a.session?.fields?.token||"token",unique:!0},createdAt:{type:"date",required:!0,fieldName:a.session?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:a.session?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},ipAddress:{type:"string",required:!1,fieldName:a.session?.fields?.ipAddress||"ipAddress"},userAgent:{type:"string",required:!1,fieldName:a.session?.fields?.userAgent||"userAgent"},userId:{type:"string",fieldName:a.session?.fields?.userId||"userId",references:{model:a.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0},...f?.fields,...a.session?.additionalFields},order:2}};return{user:{modelName:a.user?.modelName||"user",fields:{name:{type:"string",required:!0,fieldName:a.user?.fields?.name||"name",sortable:!0},email:{type:"string",unique:!0,required:!0,fieldName:a.user?.fields?.email||"email",sortable:!0},emailVerified:{type:"boolean",defaultValue:!1,required:!0,fieldName:a.user?.fields?.emailVerified||"emailVerified"},image:{type:"string",required:!1,fieldName:a.user?.fields?.image||"image"},createdAt:{type:"date",defaultValue:()=>new Date,required:!0,fieldName:a.user?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",defaultValue:()=>new Date,onUpdate:()=>new Date,required:!0,fieldName:a.user?.fields?.updatedAt||"updatedAt"},...e?.fields,...a.user?.additionalFields},order:1},...!a.secondaryStorage||a.session?.storeSessionInDatabase?i:{},account:{modelName:a.account?.modelName||"account",fields:{accountId:{type:"string",required:!0,fieldName:a.account?.fields?.accountId||"accountId"},providerId:{type:"string",required:!0,fieldName:a.account?.fields?.providerId||"providerId"},userId:{type:"string",references:{model:a.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0,fieldName:a.account?.fields?.userId||"userId"},accessToken:{type:"string",required:!1,fieldName:a.account?.fields?.accessToken||"accessToken"},refreshToken:{type:"string",required:!1,fieldName:a.account?.fields?.refreshToken||"refreshToken"},idToken:{type:"string",required:!1,fieldName:a.account?.fields?.idToken||"idToken"},accessTokenExpiresAt:{type:"date",required:!1,fieldName:a.account?.fields?.accessTokenExpiresAt||"accessTokenExpiresAt"},refreshTokenExpiresAt:{type:"date",required:!1,fieldName:a.account?.fields?.refreshTokenExpiresAt||"refreshTokenExpiresAt"},scope:{type:"string",required:!1,fieldName:a.account?.fields?.scope||"scope"},password:{type:"string",required:!1,fieldName:a.account?.fields?.password||"password"},createdAt:{type:"date",required:!0,fieldName:a.account?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:a.account?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},...g?.fields,...a.account?.additionalFields},order:3},verification:{modelName:a.verification?.modelName||"verification",fields:{identifier:{type:"string",required:!0,fieldName:a.verification?.fields?.identifier||"identifier"},value:{type:"string",required:!0,fieldName:a.verification?.fields?.value||"value"},expiresAt:{type:"date",required:!0,fieldName:a.verification?.fields?.expiresAt||"expiresAt"},createdAt:{type:"date",required:!0,defaultValue:()=>new Date,fieldName:a.verification?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!0,defaultValue:()=>new Date,onUpdate:()=>new Date,fieldName:a.verification?.fields?.updatedAt||"updatedAt"}},order:4},...h,...c?d:{}}};var qD=a.i(59263),qE=a.i(6927),qF=a.i(38780);function qG(a,b){return qF.RawNode.createWithChildren([qF.RawNode.createWithSql(`${a} `),qE.IdentifierNode.create(b)])}var qH=a.i(36168),qI=a.i(59618),qJ=a.i(70382);class qK{#t;#u=new qM;#v;#w;constructor(a){this.#t=(0,qI.freeze)({...a})}async init(){this.#v=(0,qI.isFunction)(this.#t.database)?await this.#t.database():this.#t.database,this.#w=new qL(this.#v),this.#t.onCreateConnection&&await this.#t.onCreateConnection(this.#w)}async acquireConnection(){return await this.#u.lock(),this.#w}async beginTransaction(a){await a.executeQuery(qH.CompiledQuery.raw("begin"))}async commitTransaction(a){await a.executeQuery(qH.CompiledQuery.raw("commit"))}async rollbackTransaction(a){await a.executeQuery(qH.CompiledQuery.raw("rollback"))}async savepoint(a,b,c){await a.executeQuery(c(qG("savepoint",b),(0,qJ.createQueryId)()))}async rollbackToSavepoint(a,b,c){await a.executeQuery(c(qG("rollback to",b),(0,qJ.createQueryId)()))}async releaseSavepoint(a,b,c){await a.executeQuery(c(qG("release",b),(0,qJ.createQueryId)()))}async releaseConnection(){this.#u.unlock()}async destroy(){this.#v?.close()}}class qL{#v;constructor(a){this.#v=a}executeQuery(a){let{sql:b,parameters:c}=a,d=this.#v.prepare(b);if(d.reader)return Promise.resolve({rows:d.all(c)});let{changes:e,lastInsertRowid:f}=d.run(c);return Promise.resolve({numAffectedRows:null!=e?BigInt(e):void 0,insertId:null!=f?BigInt(f):void 0,rows:[]})}async *streamQuery(a,b){let{sql:c,parameters:d,query:e}=a,f=this.#v.prepare(c);if(qD.SelectQueryNode.is(e))for(let a of f.iterate(d))yield{rows:[a]};else throw Error("Sqlite driver only supports streaming of select queries")}}class qM{#x;#y;async lock(){for(;this.#x;)await this.#x;this.#x=new Promise(a=>{this.#y=a})}unlock(){let a=this.#y;this.#x=void 0,this.#y=void 0,a?.()}}var qN=a.i(90513);let qO=/"/g;class qP extends qN.DefaultQueryCompiler{visitOrAction(a){this.append("or "),this.append(a.action)}getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(a){return a.replace(qO,'""')}visitDefaultInsertValue(a){this.append("null")}}var qQ=a.i(84875),qR=a.i(13401);class qS{#v;constructor(a){this.#v=a}async getSchemas(){return[]}async getTables(a={withInternalKyselyTables:!1}){return await this.#z(a)}async getMetadata(a){return{tables:await this.getTables(a)}}#A(a,b){let c=a.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select(["name","sql","type"]).orderBy("name");return b.withInternalKyselyTables||(c=c.where("name","!=",qQ.DEFAULT_MIGRATION_TABLE).where("name","!=",qQ.DEFAULT_MIGRATION_LOCK_TABLE)),c}async #z(a){let b=await this.#A(this.#v,a).execute(),c=await this.#v.with("table_list",b=>this.#A(b,a)).selectFrom(["table_list as tl",qR.sql`pragma_table_info(tl.name)`.as("p")]).select(["tl.name as table","p.cid","p.name","p.type","p.notnull","p.dflt_value","p.pk"]).orderBy("tl.name").orderBy("p.cid").execute(),d={};for(let a of c)d[a.table]??=[],d[a.table].push(a);return b.map(({name:a,sql:b,type:c})=>{let e=b?.split(/[\(\),]/)?.find(a=>a.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),f=d[a]??[];if(!e){let a=f.filter(a=>a.pk>0);1===a.length&&"integer"===a[0].type.toLowerCase()&&(e=a[0].name)}return{name:a,isView:"view"===c,columns:f.map(a=>({name:a.name,dataType:a.type,isNullable:!a.notnull,isAutoIncrementing:a.name===e,hasDefaultValue:null!=a.dflt_value,comment:void 0}))}})}}class qT{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}class qU extends qT{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(a,b){}async releaseMigrationLock(a,b){}}class qV{#t;constructor(a){this.#t=(0,qI.freeze)({...a})}createDriver(){return new qK(this.#t)}createQueryCompiler(){return new qP}createAdapter(){return new qU}createIntrospector(a){return new qS(a)}}function qW(a,b){var c;if(c=a,(0,qI.isObject)(c)&&(0,qI.isString)(c.stack)&&b.stack){let c=b.stack.split("\n").slice(1).join("\n");a.stack+=`
${c}`}return a}let qX=Symbol();class qY{#t;#B=new WeakMap;#C;constructor(a){this.#t=(0,qI.freeze)({...a})}async init(){this.#C=(0,qI.isFunction)(this.#t.pool)?await this.#t.pool():this.#t.pool}async acquireConnection(){let a=await this.#D(),b=this.#B.get(a);return!b&&(b=new qZ(a),this.#B.set(a,b),this.#t?.onCreateConnection&&await this.#t.onCreateConnection(b)),this.#t?.onReserveConnection&&await this.#t.onReserveConnection(b),b}async #D(){return new Promise((a,b)=>{this.#C.getConnection(async(c,d)=>{c?b(c):a(d)})})}async beginTransaction(a,b){if(b.isolationLevel||b.accessMode){let c=[];b.isolationLevel&&c.push(`isolation level ${b.isolationLevel}`),b.accessMode&&c.push(b.accessMode);let d=`set transaction ${c.join(", ")}`;await a.executeQuery(qH.CompiledQuery.raw(d))}await a.executeQuery(qH.CompiledQuery.raw("begin"))}async commitTransaction(a){await a.executeQuery(qH.CompiledQuery.raw("commit"))}async rollbackTransaction(a){await a.executeQuery(qH.CompiledQuery.raw("rollback"))}async savepoint(a,b,c){await a.executeQuery(c(qG("savepoint",b),(0,qJ.createQueryId)()))}async rollbackToSavepoint(a,b,c){await a.executeQuery(c(qG("rollback to",b),(0,qJ.createQueryId)()))}async releaseSavepoint(a,b,c){await a.executeQuery(c(qG("release savepoint",b),(0,qJ.createQueryId)()))}async releaseConnection(a){a[qX]()}async destroy(){return new Promise((a,b)=>{this.#C.end(c=>{c?b(c):a()})})}}class qZ{#E;constructor(a){this.#E=a}async executeQuery(a){try{let b=await this.#F(a);if((0,qI.isObject)(b)&&"insertId"in b&&"affectedRows"in b){let{insertId:a,affectedRows:c,changedRows:d}=b;return{insertId:null!=a&&"0"!==a.toString()?BigInt(a):void 0,numAffectedRows:null!=c?BigInt(c):void 0,numChangedRows:null!=d?BigInt(d):void 0,rows:[]}}if(Array.isArray(b))return{rows:b};return{rows:[]}}catch(a){throw qW(a,Error())}}#F(a){return new Promise((b,c)=>{this.#E.query(a.sql,a.parameters,(a,d)=>{a?c(a):b(d)})})}async *streamQuery(a,b){let c=this.#E.query(a.sql,a.parameters).stream({objectMode:!0});try{for await(let a of c)yield{rows:[a]}}catch(a){if(a&&"object"==typeof a&&"code"in a&&"ERR_STREAM_PREMATURE_CLOSE"===a.code)return;throw a}}[qX](){this.#E.release()}}var q$=qN;let q_=/`/g;class q0 extends q$.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getExplainOptionAssignment(){return"="}getExplainOptionsDelimiter(){return" "}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return"`"}getRightIdentifierWrapper(){return"`"}sanitizeIdentifier(a){return a.replace(q_,"``")}visitCreateIndex(a){this.append("create "),a.unique&&this.append("unique "),this.append("index "),a.ifNotExists&&this.append("if not exists "),this.visitNode(a.name),a.using&&(this.append(" using "),this.visitNode(a.using)),a.table&&(this.append(" on "),this.visitNode(a.table)),a.columns&&(this.append(" ("),this.compileList(a.columns),this.append(")")),a.where&&(this.append(" "),this.visitNode(a.where))}}class q1{#v;constructor(a){this.#v=a}async getSchemas(){return(await this.#v.selectFrom("information_schema.schemata").select("schema_name").$castTo().execute()).map(a=>({name:a.SCHEMA_NAME}))}async getTables(a={withInternalKyselyTables:!1}){let b=this.#v.selectFrom("information_schema.columns as columns").innerJoin("information_schema.tables as tables",a=>a.onRef("columns.TABLE_CATALOG","=","tables.TABLE_CATALOG").onRef("columns.TABLE_SCHEMA","=","tables.TABLE_SCHEMA").onRef("columns.TABLE_NAME","=","tables.TABLE_NAME")).select(["columns.COLUMN_NAME","columns.COLUMN_DEFAULT","columns.TABLE_NAME","columns.TABLE_SCHEMA","tables.TABLE_TYPE","columns.IS_NULLABLE","columns.DATA_TYPE","columns.EXTRA","columns.COLUMN_COMMENT"]).where("columns.TABLE_SCHEMA","=",qR.sql`database()`).orderBy("columns.TABLE_NAME").orderBy("columns.ORDINAL_POSITION").$castTo();a.withInternalKyselyTables||(b=b.where("columns.TABLE_NAME","!=",qQ.DEFAULT_MIGRATION_TABLE).where("columns.TABLE_NAME","!=",qQ.DEFAULT_MIGRATION_LOCK_TABLE));let c=await b.execute();return this.#G(c)}async getMetadata(a){return{tables:await this.getTables(a)}}#G(a){return a.reduce((a,b)=>{let c=a.find(a=>a.name===b.TABLE_NAME);return c||(c=(0,qI.freeze)({name:b.TABLE_NAME,isView:"VIEW"===b.TABLE_TYPE,schema:b.TABLE_SCHEMA,columns:[]}),a.push(c)),c.columns.push((0,qI.freeze)({name:b.COLUMN_NAME,dataType:b.DATA_TYPE,isNullable:"YES"===b.IS_NULLABLE,isAutoIncrementing:b.EXTRA.toLowerCase().includes("auto_increment"),hasDefaultValue:null!==b.COLUMN_DEFAULT,comment:""===b.COLUMN_COMMENT?void 0:b.COLUMN_COMMENT})),a},[])}}let q2="ea586330-2c93-47c8-908d-981d9d270f9d";class q3 extends qT{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}async acquireMigrationLock(a,b){await qR.sql`select get_lock(${qR.sql.lit(q2)}, ${qR.sql.lit(3600)})`.execute(a)}async releaseMigrationLock(a,b){await qR.sql`select release_lock(${qR.sql.lit(q2)})`.execute(a)}}class q4{#t;constructor(a){this.#t=a}createDriver(){return new qY(this.#t)}createQueryCompiler(){return new q0}createAdapter(){return new q3}createIntrospector(a){return new q1(a)}}let q5=Symbol();class q6{#t;#B=new WeakMap;#C;constructor(a){this.#t=(0,qI.freeze)({...a})}async init(){this.#C=(0,qI.isFunction)(this.#t.pool)?await this.#t.pool():this.#t.pool}async acquireConnection(){let a=await this.#C.connect(),b=this.#B.get(a);return!b&&(b=new q7(a,{cursor:this.#t.cursor??null}),this.#B.set(a,b),this.#t.onCreateConnection&&await this.#t.onCreateConnection(b)),this.#t.onReserveConnection&&await this.#t.onReserveConnection(b),b}async beginTransaction(a,b){if(b.isolationLevel||b.accessMode){let c="start transaction";b.isolationLevel&&(c+=` isolation level ${b.isolationLevel}`),b.accessMode&&(c+=` ${b.accessMode}`),await a.executeQuery(qH.CompiledQuery.raw(c))}else await a.executeQuery(qH.CompiledQuery.raw("begin"))}async commitTransaction(a){await a.executeQuery(qH.CompiledQuery.raw("commit"))}async rollbackTransaction(a){await a.executeQuery(qH.CompiledQuery.raw("rollback"))}async savepoint(a,b,c){await a.executeQuery(c(qG("savepoint",b),(0,qJ.createQueryId)()))}async rollbackToSavepoint(a,b,c){await a.executeQuery(c(qG("rollback to",b),(0,qJ.createQueryId)()))}async releaseSavepoint(a,b,c){await a.executeQuery(c(qG("release",b),(0,qJ.createQueryId)()))}async releaseConnection(a){a[q5]()}async destroy(){if(this.#C){let a=this.#C;this.#C=void 0,await a.end()}}}class q7{#H;#I;constructor(a,b){this.#H=a,this.#I=b}async executeQuery(a){try{let{command:b,rowCount:c,rows:d}=await this.#H.query(a.sql,[...a.parameters]);return{numAffectedRows:"INSERT"===b||"UPDATE"===b||"DELETE"===b||"MERGE"===b?BigInt(c):void 0,rows:d??[]}}catch(a){throw qW(a,Error())}}async *streamQuery(a,b){if(!this.#I.cursor)throw Error("'cursor' is not present in your postgres dialect config. It's required to make streaming work in postgres.");if(!Number.isInteger(b)||b<=0)throw Error("chunkSize must be a positive integer");let c=this.#H.query(new this.#I.cursor(a.sql,a.parameters.slice()));try{for(;;){let a=await c.read(b);if(0===a.length)break;yield{rows:a}}}finally{await c.close()}}[q5](){this.#H.release()}}class q8{#v;constructor(a){this.#v=a}async getSchemas(){return(await this.#v.selectFrom("pg_catalog.pg_namespace").select("nspname").$castTo().execute()).map(a=>({name:a.nspname}))}async getTables(a={withInternalKyselyTables:!1}){let b=this.#v.selectFrom("pg_catalog.pg_attribute as a").innerJoin("pg_catalog.pg_class as c","a.attrelid","c.oid").innerJoin("pg_catalog.pg_namespace as ns","c.relnamespace","ns.oid").innerJoin("pg_catalog.pg_type as typ","a.atttypid","typ.oid").innerJoin("pg_catalog.pg_namespace as dtns","typ.typnamespace","dtns.oid").select(["a.attname as column","a.attnotnull as not_null","a.atthasdef as has_default","c.relname as table","c.relkind as table_type","ns.nspname as schema","typ.typname as type","dtns.nspname as type_schema",qR.sql`col_description(a.attrelid, a.attnum)`.as("column_description"),qR.sql`pg_get_serial_sequence(quote_ident(ns.nspname) || '.' || quote_ident(c.relname), a.attname)`.as("auto_incrementing")]).where("c.relkind","in",["r","v","p"]).where("ns.nspname","!~","^pg_").where("ns.nspname","!=","information_schema").where("ns.nspname","!=","crdb_internal").where(qR.sql`has_schema_privilege(ns.nspname, 'USAGE')`).where("a.attnum",">=",0).where("a.attisdropped","!=",!0).orderBy("ns.nspname").orderBy("c.relname").orderBy("a.attnum").$castTo();a.withInternalKyselyTables||(b=b.where("c.relname","!=",qQ.DEFAULT_MIGRATION_TABLE).where("c.relname","!=",qQ.DEFAULT_MIGRATION_LOCK_TABLE));let c=await b.execute();return this.#G(c)}async getMetadata(a){return{tables:await this.getTables(a)}}#G(a){return a.reduce((a,b)=>{let c=a.find(a=>a.name===b.table&&a.schema===b.schema);return c||(c=(0,qI.freeze)({name:b.table,isView:"v"===b.table_type,schema:b.schema,columns:[]}),a.push(c)),c.columns.push((0,qI.freeze)({name:b.column,dataType:b.type,dataTypeSchema:b.type_schema,isNullable:!b.not_null,isAutoIncrementing:null!==b.auto_incrementing,hasDefaultValue:b.has_default,comment:b.column_description??void 0})),a},[])}}var q9=qN;let ra=/"/g;class rb extends q9.DefaultQueryCompiler{sanitizeIdentifier(a){return a.replace(ra,'""')}}let rc=BigInt("3853314791062309107");class rd extends qT{get supportsTransactionalDdl(){return!0}get supportsReturning(){return!0}async acquireMigrationLock(a,b){await qR.sql`select pg_advisory_xact_lock(${qR.sql.lit(rc)})`.execute(a)}async releaseMigrationLock(a,b){}}class re{#t;constructor(a){this.#t=a}createDriver(){return new q6(this.#t)}createQueryCompiler(){return new rb}createAdapter(){return new rd}createIntrospector(a){return new q8(a)}}class rf extends qT{get supportsCreateIfNotExists(){return!1}get supportsTransactionalDdl(){return!0}get supportsOutput(){return!0}async acquireMigrationLock(a){await qR.sql`exec sp_getapplock @DbPrincipal = ${qR.sql.lit("dbo")}, @Resource = ${qR.sql.lit(qQ.DEFAULT_MIGRATION_TABLE)}, @LockMode = ${qR.sql.lit("Exclusive")}`.execute(a)}async releaseMigrationLock(){}}var rg=a.i(51926),rh=a.i(30427);let ri=Symbol(),rj=Symbol(),rk=Symbol();class rl{#t;#C;constructor(a){this.#t=(0,qI.freeze)({...a});let{tarn:b,tedious:c,validateConnections:d}=this.#t,{validateConnections:e,...f}=b.options;this.#C=new b.Pool({...f,create:async()=>{let a=await c.connectionFactory();return await new rm(a,c).connect()},destroy:async a=>{await a[rj]()},validate:!1===d||!1===e?void 0:a=>a[rk]()})}async init(){}async acquireConnection(){return await this.#C.acquire().promise}async beginTransaction(a,b){await a.beginTransaction(b)}async commitTransaction(a){await a.commitTransaction()}async rollbackTransaction(a){await a.rollbackTransaction()}async savepoint(a,b){await a.savepoint(b)}async rollbackToSavepoint(a,b){await a.rollbackTransaction(b)}async releaseConnection(a){(this.#t.resetConnectionsOnRelease||this.#t.tedious.resetConnectionOnRelease)&&await a[ri](),this.#C.release(a)}async destroy(){await this.#C.destroy()}}class rm{#w;#J;#K;constructor(a,b){this.#w=a,this.#J=!1,this.#K=b}async beginTransaction(a){let{isolationLevel:b}=a;await new Promise((a,c)=>this.#w.beginTransaction(b=>{b?c(b):a(void 0)},b?(0,rg.randomString)(8):void 0,b?this.#L(b):void 0))}async commitTransaction(){await new Promise((a,b)=>this.#w.commitTransaction(c=>{c?b(c):a(void 0)}))}async connect(){let{promise:a,reject:b,resolve:c}=new rh.Deferred;function d(){b(Error("The connection ended without ever completing the connection"))}return this.#w.connect(a=>{if(a)return b(a);c()}),this.#w.on("error",a=>{a instanceof Error&&"code"in a&&"ESOCKET"===a.code&&(this.#J=!0),console.error(a),b(a)}),this.#w.once("end",d),await a,this.#w.off("end",d),this}async executeQuery(a){try{let b=new rh.Deferred,c=new rn({compiledQuery:a,tedious:this.#K,onDone:b});this.#w.execSql(c.request);let{rowCount:d,rows:e}=await b.promise;return{numAffectedRows:void 0!==d?BigInt(d):void 0,rows:e}}catch(a){throw qW(a,Error())}}async rollbackTransaction(a){await new Promise((b,c)=>this.#w.rollbackTransaction(a=>{a?c(a):b(void 0)},a))}async savepoint(a){await new Promise((b,c)=>this.#w.saveTransaction(a=>{a?c(a):b(void 0)},a))}async *streamQuery(a,b){if(!Number.isInteger(b)||b<=0)throw Error("chunkSize must be a positive integer");let c=new rn({compiledQuery:a,streamChunkSize:b,tedious:this.#K});this.#w.execSql(c.request);try{for(;;){let a=await c.readChunk();if(0===a.length||(yield{rows:a},a.length<b))break}}finally{await this.#M(c)}}#L(a){let{ISOLATION_LEVEL:b}=this.#K,c={"read committed":b.READ_COMMITTED,"read uncommitted":b.READ_UNCOMMITTED,"repeatable read":b.REPEATABLE_READ,serializable:b.SERIALIZABLE,snapshot:b.SNAPSHOT}[a];if(void 0===c)throw Error(`Unknown isolation level: ${a}`);return c}#M(a){return new Promise(b=>{a.request.once("requestCompleted",b),this.#w.cancel()||(a.request.off("requestCompleted",b),b())})}[rj](){return"closed"in this.#w&&this.#w.closed?Promise.resolve():new Promise(a=>{this.#w.once("end",a),this.#w.close()})}async [ri](){await new Promise((a,b)=>{this.#w.reset(c=>{if(c)return b(c);a()})})}async [rk](){if(this.#J||this.#N())return!1;try{let a=new rh.Deferred,b=new rn({compiledQuery:qH.CompiledQuery.raw("select 1"),onDone:a,tedious:this.#K});return this.#w.execSql(b.request),await a.promise,!0}catch{return!1}}#N(){return"closed"in this.#w&&!!this.#w.closed}}class rn{#O;#P;#Q;#R;#K;#S;constructor(a){let{compiledQuery:b,onDone:c,streamChunkSize:d,tedious:e}=a;if(this.#P=[],this.#Q=d,this.#R={},this.#K=e,c){let a="onDone";this.#R[a]=(b,d)=>{if("chunkReady"!==b){if(delete this.#R[a],"error"===b)return c.reject(d);c.resolve({rowCount:this.#S,rows:this.#P})}}}this.#O=new this.#K.Request(b.sql,(a,b)=>{if(a)return Object.values(this.#R).forEach(b=>b("error",a instanceof AggregateError?a.errors:a));this.#S=b}),this.#T(b.parameters),this.#U()}get request(){return this.#O}readChunk(){let a=this.readChunk.name;return new Promise((b,c)=>{this.#R[a]=(d,e)=>{if(delete this.#R[a],"error"===d)return c(e);b(this.#P.splice(0,this.#Q))},this.#O.resume()})}#T(a){for(let b=0;b<a.length;b++){let c=a[b];this.#O.addParameter(String(b+1),this.#V(c),c)}}#U(){let a=this.#Q?()=>{this.#Q<=this.#P.length&&(this.#O.pause(),Object.values(this.#R).forEach(a=>a("chunkReady")))}:()=>{},b=b=>{let c={};for(let a of b)c[a.metadata.colName]=a.value;this.#P.push(c),a()};this.#O.on("row",b),this.#O.once("requestCompleted",()=>{Object.values(this.#R).forEach(a=>a("completed")),this.#O.off("row",b)})}#V(a){if((0,qI.isNull)(a)||(0,qI.isUndefined)(a)||(0,qI.isString)(a))return this.#K.TYPES.NVarChar;if((0,qI.isBigInt)(a)||(0,qI.isNumber)(a)&&a%1==0)if(a<-0x80000000||a>0x7fffffff)return this.#K.TYPES.BigInt;else return this.#K.TYPES.Int;return(0,qI.isNumber)(a)?this.#K.TYPES.Float:(0,qI.isBoolean)(a)?this.#K.TYPES.Bit:(0,qI.isDate)(a)?this.#K.TYPES.DateTime:(0,qI.isBuffer)(a)?this.#K.TYPES.VarBinary:this.#K.TYPES.NVarChar}}class ro{#v;constructor(a){this.#v=a}async getSchemas(){return await this.#v.selectFrom("sys.schemas").select("name").execute()}async getTables(a={withInternalKyselyTables:!1}){let b=await this.#v.selectFrom("sys.tables as tables").leftJoin("sys.schemas as table_schemas","table_schemas.schema_id","tables.schema_id").innerJoin("sys.columns as columns","columns.object_id","tables.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",a=>a.onRef("comments.major_id","=","tables.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).$if(!a.withInternalKyselyTables,a=>a.where("tables.name","!=",qQ.DEFAULT_MIGRATION_TABLE).where("tables.name","!=",qQ.DEFAULT_MIGRATION_LOCK_TABLE)).select(["tables.name as table_name",a=>a.ref("tables.type").$castTo().as("table_type"),"table_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"]).unionAll(this.#v.selectFrom("sys.views as views").leftJoin("sys.schemas as view_schemas","view_schemas.schema_id","views.schema_id").innerJoin("sys.columns as columns","columns.object_id","views.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",a=>a.onRef("comments.major_id","=","views.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).select(["views.name as table_name","views.type as table_type","view_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"])).orderBy("table_schema_name").orderBy("table_name").orderBy("column_name").execute(),c={};for(let a of b){let b=`${a.table_schema_name}.${a.table_name}`;(c[b]=c[b]||(0,qI.freeze)({columns:[],isView:"V "===a.table_type,name:a.table_name,schema:a.table_schema_name??void 0})).columns.push((0,qI.freeze)({dataType:a.type_name,dataTypeSchema:a.type_schema_name??void 0,hasDefaultValue:a.column_default_object_id>0||"NOT_APPLICABLE"!==a.column_generated_always_type||a.column_is_identity||a.column_is_computed||a.column_is_rowguidcol,isAutoIncrementing:a.column_is_identity,isNullable:a.column_is_nullable&&a.type_is_nullable,name:a.column_name,comment:a.column_comment??void 0}))}return Object.values(c)}async getMetadata(a){return{tables:await this.getTables(a)}}}var rp=qN;let rq=/^[a-z0-9_]$/i;class rr extends rp.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return`@${this.numParameters}`}visitOffset(a){super.visitOffset(a),this.append(" rows")}compileColumnAlterations(a){let b={};for(let c of a)b[c.kind]||(b[c.kind]=[]),b[c.kind].push(c);let c=!0;b.AddColumnNode&&(this.append("add "),this.compileList(b.AddColumnNode),c=!1),b.AlterColumnNode&&(c||this.append(", "),this.compileList(b.AlterColumnNode)),b.DropColumnNode&&(c||this.append(", "),this.append("drop column "),this.compileList(b.DropColumnNode)),b.ModifyColumnNode&&(c||this.append(", "),this.compileList(b.ModifyColumnNode)),b.RenameColumnNode&&(c||this.append(", "),this.compileList(b.RenameColumnNode))}visitAddColumn(a){this.visitNode(a.column)}visitDropColumn(a){this.visitNode(a.column)}visitMergeQuery(a){super.visitMergeQuery(a),this.append(";")}visitCollate(a){this.append("collate ");let{name:b}=a.collation;for(let a of b)if(!rq.test(a))throw Error(`Invalid collation: ${b}`);this.append(b)}announcesNewColumnDataType(){return!1}}class rs{#t;constructor(a){this.#t=a}createDriver(){return new rl(this.#t)}createQueryCompiler(){return new rr}createAdapter(){return new rf}createIntrospector(a){return new ro(a)}}let rt=(0,qI.freeze)({is:a=>"AlterTableNode"===a.kind,create:a=>(0,qI.freeze)({kind:"AlterTableNode",table:a}),cloneWithTableProps:(a,b)=>(0,qI.freeze)({...a,...b}),cloneWithColumnAlteration:(a,b)=>(0,qI.freeze)({...a,columnAlterations:a.columnAlterations?[...a.columnAlterations,b]:[b]})}),ru=(0,qI.freeze)({is:a=>"CreateIndexNode"===a.kind,create:a=>(0,qI.freeze)({kind:"CreateIndexNode",name:qE.IdentifierNode.create(a)}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b}),cloneWithColumns:(a,b)=>(0,qI.freeze)({...a,columns:[...a.columns||[],...b]})}),rv=(0,qI.freeze)({is:a=>"CreateSchemaNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"CreateSchemaNode",schema:qE.IdentifierNode.create(a),...b}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})});var rw=a.i(37588),rx=a.i(15087);let ry=(0,qI.freeze)({is:a=>"DropIndexNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"DropIndexNode",name:rx.SchemableIdentifierNode.create(a),...b}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})}),rz=(0,qI.freeze)({is:a=>"DropSchemaNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"DropSchemaNode",schema:qE.IdentifierNode.create(a),...b}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})}),rA=(0,qI.freeze)({is:a=>"DropTableNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"DropTableNode",table:a,...b}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})});var rB=a.i(88633);let rC=(0,qI.freeze)({is:a=>"AddColumnNode"===a.kind,create:a=>(0,qI.freeze)({kind:"AddColumnNode",column:a})});var rD=a.i(12230);let rE=(0,qI.freeze)({is:a=>"ColumnDefinitionNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"ColumnDefinitionNode",column:rD.ColumnNode.create(a),dataType:b}),cloneWithFrontModifier:(a,b)=>(0,qI.freeze)({...a,frontModifiers:a.frontModifiers?(0,qI.freeze)([...a.frontModifiers,b]):[b]}),cloneWithEndModifier:(a,b)=>(0,qI.freeze)({...a,endModifiers:a.endModifiers?(0,qI.freeze)([...a.endModifiers,b]):[b]}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})}),rF=(0,qI.freeze)({is:a=>"DropColumnNode"===a.kind,create:a=>(0,qI.freeze)({kind:"DropColumnNode",column:rD.ColumnNode.create(a)})}),rG=(0,qI.freeze)({is:a=>"RenameColumnNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"RenameColumnNode",column:rD.ColumnNode.create(a),renameTo:rD.ColumnNode.create(b)})}),rH=(0,qI.freeze)({is:a=>"CheckConstraintNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"CheckConstraintNode",expression:a,name:b?qE.IdentifierNode.create(b):void 0})}),rI=["no action","restrict","cascade","set null","set default"],rJ=(0,qI.freeze)({is:a=>"ReferencesNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"ReferencesNode",table:a,columns:(0,qI.freeze)([...b])}),cloneWithOnDelete:(a,b)=>(0,qI.freeze)({...a,onDelete:b}),cloneWithOnUpdate:(a,b)=>(0,qI.freeze)({...a,onUpdate:b})});var rK=a.i(87384),rL=a.i(68275),rM=a.i(48159),rN=a.i(2084);function rO(a){return(0,rM.isOperationNodeSource)(a)?a.toOperationNode():rN.ValueNode.createImmediate(a)}let rP=(0,qI.freeze)({is:a=>"GeneratedNode"===a.kind,create:a=>(0,qI.freeze)({kind:"GeneratedNode",...a}),createWithExpression:a=>(0,qI.freeze)({kind:"GeneratedNode",always:!0,expression:a}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})}),rQ=(0,qI.freeze)({is:a=>"DefaultValueNode"===a.kind,create:a=>(0,qI.freeze)({kind:"DefaultValueNode",defaultValue:a})});function rR(a){if(rI.includes(a))return a;throw Error(`invalid OnModifyForeignAction ${a}`)}class rS{#W;constructor(a){this.#W=a}autoIncrement(){return new rS(rE.cloneWith(this.#W,{autoIncrement:!0}))}identity(){return new rS(rE.cloneWith(this.#W,{identity:!0}))}primaryKey(){return new rS(rE.cloneWith(this.#W,{primaryKey:!0}))}references(a){let b=(0,rL.parseStringReference)(a);if(!b.table||rK.SelectAllNode.is(b.column))throw Error(`invalid call references('${a}'). The reference must have format table.column or schema.table.column`);return new rS(rE.cloneWith(this.#W,{references:rJ.create(b.table,[b.column])}))}onDelete(a){if(!this.#W.references)throw Error("on delete constraint can only be added for foreign keys");return new rS(rE.cloneWith(this.#W,{references:rJ.cloneWithOnDelete(this.#W.references,rR(a))}))}onUpdate(a){if(!this.#W.references)throw Error("on update constraint can only be added for foreign keys");return new rS(rE.cloneWith(this.#W,{references:rJ.cloneWithOnUpdate(this.#W.references,rR(a))}))}unique(){return new rS(rE.cloneWith(this.#W,{unique:!0}))}notNull(){return new rS(rE.cloneWith(this.#W,{notNull:!0}))}unsigned(){return new rS(rE.cloneWith(this.#W,{unsigned:!0}))}defaultTo(a){return new rS(rE.cloneWith(this.#W,{defaultTo:rQ.create(rO(a))}))}check(a){return new rS(rE.cloneWith(this.#W,{check:rH.create(a.toOperationNode())}))}generatedAlwaysAs(a){return new rS(rE.cloneWith(this.#W,{generated:rP.createWithExpression(a.toOperationNode())}))}generatedAlwaysAsIdentity(){return new rS(rE.cloneWith(this.#W,{generated:rP.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new rS(rE.cloneWith(this.#W,{generated:rP.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#W.generated)throw Error("stored() can only be called after generatedAlwaysAs");return new rS(rE.cloneWith(this.#W,{generated:rP.cloneWith(this.#W.generated,{stored:!0})}))}modifyFront(a){return new rS(rE.cloneWithFrontModifier(this.#W,a.toOperationNode()))}nullsNotDistinct(){return new rS(rE.cloneWith(this.#W,{nullsNotDistinct:!0}))}ifNotExists(){return new rS(rE.cloneWith(this.#W,{ifNotExists:!0}))}modifyEnd(a){return new rS(rE.cloneWithEndModifier(this.#W,a.toOperationNode()))}$call(a){return a(this)}toOperationNode(){return this.#W}}let rT=(0,qI.freeze)({is:a=>"ModifyColumnNode"===a.kind,create:a=>(0,qI.freeze)({kind:"ModifyColumnNode",column:a})});var rU=a.i(36376);let rV=(0,qI.freeze)({is:a=>"ForeignKeyConstraintNode"===a.kind,create:(a,b,c,d)=>(0,qI.freeze)({kind:"ForeignKeyConstraintNode",columns:a,references:rJ.create(b,c),name:d?qE.IdentifierNode.create(d):void 0}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})});class rW{#W;constructor(a){this.#W=a}onDelete(a){return new rW(rV.cloneWith(this.#W,{onDelete:rR(a)}))}onUpdate(a){return new rW(rV.cloneWith(this.#W,{onUpdate:rR(a)}))}deferrable(){return new rW(rV.cloneWith(this.#W,{deferrable:!0}))}notDeferrable(){return new rW(rV.cloneWith(this.#W,{deferrable:!1}))}initiallyDeferred(){return new rW(rV.cloneWith(this.#W,{initiallyDeferred:!0}))}initiallyImmediate(){return new rW(rV.cloneWith(this.#W,{initiallyDeferred:!1}))}$call(a){return a(this)}toOperationNode(){return this.#W}}let rX=(0,qI.freeze)({is:a=>"AddConstraintNode"===a.kind,create:a=>(0,qI.freeze)({kind:"AddConstraintNode",constraint:a})}),rY=(0,qI.freeze)({is:a=>"UniqueConstraintNode"===a.kind,create:(a,b,c)=>(0,qI.freeze)({kind:"UniqueConstraintNode",columns:(0,qI.freeze)(a.map(rD.ColumnNode.create)),name:b?qE.IdentifierNode.create(b):void 0,nullsNotDistinct:c}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})}),rZ=(0,qI.freeze)({is:a=>"DropConstraintNode"===a.kind,create:a=>(0,qI.freeze)({kind:"DropConstraintNode",constraintName:qE.IdentifierNode.create(a)}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})}),r$=(0,qI.freeze)({is:a=>"AlterColumnNode"===a.kind,create:(a,b,c)=>(0,qI.freeze)({kind:"AlterColumnNode",column:rD.ColumnNode.create(a),[b]:c})});class r_{#X;constructor(a){this.#X=a}setDataType(a){return new r0(r$.create(this.#X,"dataType",(0,rU.parseDataTypeExpression)(a)))}setDefault(a){return new r0(r$.create(this.#X,"setDefault",rO(a)))}dropDefault(){return new r0(r$.create(this.#X,"dropDefault",!0))}setNotNull(){return new r0(r$.create(this.#X,"setNotNull",!0))}dropNotNull(){return new r0(r$.create(this.#X,"dropNotNull",!0))}$call(a){return a(this)}}class r0{#Y;constructor(a){this.#Y=a}toOperationNode(){return this.#Y}}class r1{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class r2{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}onDelete(a){return new r2({...this.#Z,constraintBuilder:this.#Z.constraintBuilder.onDelete(a)})}onUpdate(a){return new r2({...this.#Z,constraintBuilder:this.#Z.constraintBuilder.onUpdate(a)})}deferrable(){return new r2({...this.#Z,constraintBuilder:this.#Z.constraintBuilder.deferrable()})}notDeferrable(){return new r2({...this.#Z,constraintBuilder:this.#Z.constraintBuilder.notDeferrable()})}initiallyDeferred(){return new r2({...this.#Z,constraintBuilder:this.#Z.constraintBuilder.initiallyDeferred()})}initiallyImmediate(){return new r2({...this.#Z,constraintBuilder:this.#Z.constraintBuilder.initiallyImmediate()})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(rt.cloneWithTableProps(this.#Z.node,{addConstraint:rX.create(this.#Z.constraintBuilder.toOperationNode())}),this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class r3{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}ifExists(){return new r3({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{dropConstraint:rZ.cloneWith(this.#Z.node.dropConstraint,{ifExists:!0})})})}cascade(){return new r3({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{dropConstraint:rZ.cloneWith(this.#Z.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new r3({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{dropConstraint:rZ.cloneWith(this.#Z.node.dropConstraint,{modifier:"restrict"})})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}let r4=(0,qI.freeze)({is:a=>"PrimaryKeyConstraintNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"PrimaryKeyConstraintNode",columns:(0,qI.freeze)(a.map(rD.ColumnNode.create)),name:b?qE.IdentifierNode.create(b):void 0}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})}),r5=(0,qI.freeze)({is:a=>"AddIndexNode"===a.kind,create:a=>(0,qI.freeze)({kind:"AddIndexNode",name:qE.IdentifierNode.create(a)}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b}),cloneWithColumns:(a,b)=>(0,qI.freeze)({...a,columns:[...a.columns||[],...b]})});class r6{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}unique(){return new r6({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addIndex:r5.cloneWith(this.#Z.node.addIndex,{unique:!0})})})}column(a){return new r6({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addIndex:r5.cloneWithColumns(this.#Z.node.addIndex,[(0,rL.parseOrderedColumnName)(a)])})})}columns(a){return new r6({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addIndex:r5.cloneWithColumns(this.#Z.node.addIndex,a.map(rL.parseOrderedColumnName))})})}expression(a){return new r6({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addIndex:r5.cloneWithColumns(this.#Z.node.addIndex,[a.toOperationNode()])})})}using(a){return new r6({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addIndex:r5.cloneWith(this.#Z.node.addIndex,{using:qF.RawNode.createWithSql(a)})})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class r7{#W;constructor(a){this.#W=a}nullsNotDistinct(){return new r7(rY.cloneWith(this.#W,{nullsNotDistinct:!0}))}deferrable(){return new r7(rY.cloneWith(this.#W,{deferrable:!0}))}notDeferrable(){return new r7(rY.cloneWith(this.#W,{deferrable:!1}))}initiallyDeferred(){return new r7(rY.cloneWith(this.#W,{initiallyDeferred:!0}))}initiallyImmediate(){return new r7(rY.cloneWith(this.#W,{initiallyDeferred:!1}))}$call(a){return a(this)}toOperationNode(){return this.#W}}class r8{#W;constructor(a){this.#W=a}deferrable(){return new r8(r4.cloneWith(this.#W,{deferrable:!0}))}notDeferrable(){return new r8(r4.cloneWith(this.#W,{deferrable:!1}))}initiallyDeferred(){return new r8(r4.cloneWith(this.#W,{initiallyDeferred:!0}))}initiallyImmediate(){return new r8(r4.cloneWith(this.#W,{initiallyDeferred:!1}))}$call(a){return a(this)}toOperationNode(){return this.#W}}class r9{#W;constructor(a){this.#W=a}$call(a){return a(this)}toOperationNode(){return this.#W}}let sa=(0,qI.freeze)({is:a=>"RenameConstraintNode"===a.kind,create:(a,b)=>(0,qI.freeze)({kind:"RenameConstraintNode",oldName:qE.IdentifierNode.create(a),newName:qE.IdentifierNode.create(b)})});class sb{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}renameTo(a){return new r1({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{renameTo:(0,rB.parseTable)(a)})})}setSchema(a){return new r1({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{setSchema:qE.IdentifierNode.create(a)})})}alterColumn(a,b){let c=b(new r_(a));return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,c.toOperationNode())})}dropColumn(a){return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rF.create(a))})}renameColumn(a,b){return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rG.create(a,b))})}addColumn(a,b,c=qI.noop){let d=c(new rS(rE.create(a,(0,rU.parseDataTypeExpression)(b))));return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rC.create(d.toOperationNode()))})}modifyColumn(a,b,c=qI.noop){let d=c(new rS(rE.create(a,(0,rU.parseDataTypeExpression)(b))));return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rT.create(d.toOperationNode()))})}addUniqueConstraint(a,b,c=qI.noop){let d=c(new r7(rY.create(b,a)));return new r1({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addConstraint:rX.create(d.toOperationNode())})})}addCheckConstraint(a,b,c=qI.noop){let d=c(new r9(rH.create(b.toOperationNode(),a)));return new r1({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addConstraint:rX.create(d.toOperationNode())})})}addForeignKeyConstraint(a,b,c,d,e=qI.noop){let f=e(new rW(rV.create(b.map(rD.ColumnNode.create),(0,rB.parseTable)(c),d.map(rD.ColumnNode.create),a)));return new r2({...this.#Z,constraintBuilder:f})}addPrimaryKeyConstraint(a,b,c=qI.noop){let d=c(new r8(r4.create(b,a)));return new r1({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addConstraint:rX.create(d.toOperationNode())})})}dropConstraint(a){return new r3({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{dropConstraint:rZ.create(a)})})}renameConstraint(a,b){return new r3({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{renameConstraint:sa.create(a,b)})})}addIndex(a){return new r6({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{addIndex:r5.create(a)})})}dropIndex(a){return new r1({...this.#Z,node:rt.cloneWithTableProps(this.#Z.node,{dropIndex:ry.create(a)})})}$call(a){return a(this)}}class sc{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}alterColumn(a,b){let c=b(new r_(a));return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,c.toOperationNode())})}dropColumn(a){return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rF.create(a))})}renameColumn(a,b){return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rG.create(a,b))})}addColumn(a,b,c=qI.noop){let d=c(new rS(rE.create(a,(0,rU.parseDataTypeExpression)(b))));return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rC.create(d.toOperationNode()))})}modifyColumn(a,b,c=qI.noop){let d=c(new rS(rE.create(a,(0,rU.parseDataTypeExpression)(b))));return new sc({...this.#Z,node:rt.cloneWithColumnAlteration(this.#Z.node,rT.create(d.toOperationNode()))})}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}var sd=a.i(49458),se=a.i(23679),sf=a.i(14797),sg=a.i(30594);class sh extends sf.OperationNodeTransformer{transformPrimitiveValueList(a){return sg.ValueListNode.create(a.values.map(rN.ValueNode.createImmediate))}transformValue(a){return rN.ValueNode.createImmediate(a.value)}}class si{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}ifNotExists(){return new si({...this.#Z,node:ru.cloneWith(this.#Z.node,{ifNotExists:!0})})}unique(){return new si({...this.#Z,node:ru.cloneWith(this.#Z.node,{unique:!0})})}nullsNotDistinct(){return new si({...this.#Z,node:ru.cloneWith(this.#Z.node,{nullsNotDistinct:!0})})}on(a){return new si({...this.#Z,node:ru.cloneWith(this.#Z.node,{table:(0,rB.parseTable)(a)})})}column(a){return new si({...this.#Z,node:ru.cloneWithColumns(this.#Z.node,[(0,rL.parseOrderedColumnName)(a)])})}columns(a){return new si({...this.#Z,node:ru.cloneWithColumns(this.#Z.node,a.map(rL.parseOrderedColumnName))})}expression(a){return new si({...this.#Z,node:ru.cloneWithColumns(this.#Z.node,[a.toOperationNode()])})}using(a){return new si({...this.#Z,node:ru.cloneWith(this.#Z.node,{using:qF.RawNode.createWithSql(a)})})}where(...a){let b=new sh;return new si({...this.#Z,node:se.QueryNode.cloneWithWhere(this.#Z.node,b.transformNode((0,sd.parseValueBinaryOperationOrExpression)(a),this.#Z.queryId))})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class sj{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}ifNotExists(){return new sj({...this.#Z,node:rv.cloneWith(this.#Z.node,{ifNotExists:!0})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}var sk=a.i(25855);class sl{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}temporary(){return new sl({...this.#Z,node:rw.CreateTableNode.cloneWith(this.#Z.node,{temporary:!0})})}onCommit(a){return new sl({...this.#Z,node:rw.CreateTableNode.cloneWith(this.#Z.node,{onCommit:function(a){if(rw.ON_COMMIT_ACTIONS.includes(a))return a;throw Error(`invalid OnCommitAction ${a}`)}(a)})})}ifNotExists(){return new sl({...this.#Z,node:rw.CreateTableNode.cloneWith(this.#Z.node,{ifNotExists:!0})})}addColumn(a,b,c=qI.noop){let d=c(new rS(rE.create(a,(0,rU.parseDataTypeExpression)(b))));return new sl({...this.#Z,node:rw.CreateTableNode.cloneWithColumn(this.#Z.node,d.toOperationNode())})}addPrimaryKeyConstraint(a,b,c=qI.noop){let d=c(new r8(r4.create(b,a)));return new sl({...this.#Z,node:rw.CreateTableNode.cloneWithConstraint(this.#Z.node,d.toOperationNode())})}addUniqueConstraint(a,b,c=qI.noop){let d=c(new r7(rY.create(b,a)));return new sl({...this.#Z,node:rw.CreateTableNode.cloneWithConstraint(this.#Z.node,d.toOperationNode())})}addCheckConstraint(a,b,c=qI.noop){let d=c(new r9(rH.create(b.toOperationNode(),a)));return new sl({...this.#Z,node:rw.CreateTableNode.cloneWithConstraint(this.#Z.node,d.toOperationNode())})}addForeignKeyConstraint(a,b,c,d,e=qI.noop){let f=e(new rW(rV.create(b.map(rD.ColumnNode.create),(0,rB.parseTable)(c),d.map(rD.ColumnNode.create),a)));return new sl({...this.#Z,node:rw.CreateTableNode.cloneWithConstraint(this.#Z.node,f.toOperationNode())})}modifyFront(a){return new sl({...this.#Z,node:rw.CreateTableNode.cloneWithFrontModifier(this.#Z.node,a.toOperationNode())})}modifyEnd(a){return new sl({...this.#Z,node:rw.CreateTableNode.cloneWithEndModifier(this.#Z.node,a.toOperationNode())})}as(a){return new sl({...this.#Z,node:rw.CreateTableNode.cloneWith(this.#Z.node,{selectQuery:(0,sk.parseExpression)(a)})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class sm{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}on(a){return new sm({...this.#Z,node:ry.cloneWith(this.#Z.node,{table:(0,rB.parseTable)(a)})})}ifExists(){return new sm({...this.#Z,node:ry.cloneWith(this.#Z.node,{ifExists:!0})})}cascade(){return new sm({...this.#Z,node:ry.cloneWith(this.#Z.node,{cascade:!0})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class sn{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}ifExists(){return new sn({...this.#Z,node:rz.cloneWith(this.#Z.node,{ifExists:!0})})}cascade(){return new sn({...this.#Z,node:rz.cloneWith(this.#Z.node,{cascade:!0})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class so{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}ifExists(){return new so({...this.#Z,node:rA.cloneWith(this.#Z.node,{ifExists:!0})})}cascade(){return new so({...this.#Z,node:rA.cloneWith(this.#Z.node,{cascade:!0})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}var sp=a.i(68069),sq=a.i(40847);class sr{#$=new sh;transformQuery(a){return this.#$.transformNode(a.node,a.queryId)}transformResult(a){return Promise.resolve(a.result)}}class ss{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}temporary(){return new ss({...this.#Z,node:sq.CreateViewNode.cloneWith(this.#Z.node,{temporary:!0})})}materialized(){return new ss({...this.#Z,node:sq.CreateViewNode.cloneWith(this.#Z.node,{materialized:!0})})}ifNotExists(){return new ss({...this.#Z,node:sq.CreateViewNode.cloneWith(this.#Z.node,{ifNotExists:!0})})}orReplace(){return new ss({...this.#Z,node:sq.CreateViewNode.cloneWith(this.#Z.node,{orReplace:!0})})}columns(a){return new ss({...this.#Z,node:sq.CreateViewNode.cloneWith(this.#Z.node,{columns:a.map(rL.parseColumnName)})})}as(a){let b=a.withPlugin(new sr).toOperationNode();return new ss({...this.#Z,node:sq.CreateViewNode.cloneWith(this.#Z.node,{as:b})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}let st=(0,qI.freeze)({is:a=>"DropViewNode"===a.kind,create:a=>(0,qI.freeze)({kind:"DropViewNode",name:rx.SchemableIdentifierNode.create(a)}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})});class su{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}materialized(){return new su({...this.#Z,node:st.cloneWith(this.#Z.node,{materialized:!0})})}ifExists(){return new su({...this.#Z,node:st.cloneWith(this.#Z.node,{ifExists:!0})})}cascade(){return new su({...this.#Z,node:st.cloneWith(this.#Z.node,{cascade:!0})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}let sv=(0,qI.freeze)({is:a=>"CreateTypeNode"===a.kind,create:a=>(0,qI.freeze)({kind:"CreateTypeNode",name:a}),cloneWithEnum:(a,b)=>(0,qI.freeze)({...a,enum:sg.ValueListNode.create(b.map(rN.ValueNode.createImmediate))})});class sw{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}asEnum(a){return new sw({...this.#Z,node:sv.cloneWithEnum(this.#Z.node,a)})}$call(a){return a(this)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}let sx=(0,qI.freeze)({is:a=>"DropTypeNode"===a.kind,create:a=>(0,qI.freeze)({kind:"DropTypeNode",name:a}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})});class sy{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}ifExists(){return new sy({...this.#Z,node:sx.cloneWith(this.#Z.node,{ifExists:!0})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}function sz(a){if(!a.includes("."))return rx.SchemableIdentifierNode.create(a);{let b=a.split(".").map(sA);if(2===b.length)return rx.SchemableIdentifierNode.createWithSchema(b[0],b[1]);throw Error(`invalid schemable identifier ${a}`)}}function sA(a){return a.trim()}let sB=(0,qI.freeze)({is:a=>"RefreshMaterializedViewNode"===a.kind,create:a=>(0,qI.freeze)({kind:"RefreshMaterializedViewNode",name:rx.SchemableIdentifierNode.create(a)}),cloneWith:(a,b)=>(0,qI.freeze)({...a,...b})});class sC{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}concurrently(){return new sC({...this.#Z,node:sB.cloneWith(this.#Z.node,{concurrently:!0,withNoData:!1})})}withData(){return new sC({...this.#Z,node:sB.cloneWith(this.#Z.node,{withNoData:!1})})}withNoData(){return new sC({...this.#Z,node:sB.cloneWith(this.#Z.node,{withNoData:!0,concurrently:!1})})}$call(a){return a(this)}toOperationNode(){return this.#Z.executor.transformQuery(this.#Z.node,this.#Z.queryId)}compile(){return this.#Z.executor.compileQuery(this.toOperationNode(),this.#Z.queryId)}async execute(){await this.#Z.executor.executeQuery(this.compile())}}class sD{#_;constructor(a){this.#_=a}createTable(a){return new sl({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:rw.CreateTableNode.create((0,rB.parseTable)(a))})}dropTable(a){return new so({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:rA.create((0,rB.parseTable)(a))})}createIndex(a){return new si({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:ru.create(a)})}dropIndex(a){return new sm({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:ry.create(a)})}createSchema(a){return new sj({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:rv.create(a)})}dropSchema(a){return new sn({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:rz.create(a)})}alterTable(a){return new sb({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:rt.create((0,rB.parseTable)(a))})}createView(a){return new ss({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:sq.CreateViewNode.create(a)})}refreshMaterializedView(a){return new sC({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:sB.create(a)})}dropView(a){return new su({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:st.create(a)})}createType(a){return new sw({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:sv.create(sz(a))})}dropType(a){return new sy({queryId:(0,qJ.createQueryId)(),executor:this.#_,node:sx.create(sz(a))})}withPlugin(a){return new sD(this.#_.withPlugin(a))}withoutPlugins(){return new sD(this.#_.withoutPlugins())}withSchema(a){return new sD(this.#_.withPluginAtFront(new sp.WithSchemaPlugin(a)))}}var sE=a.i(26012),sF=a.i(22046);class sG{ref(a){return new sE.DynamicReferenceBuilder(a)}table(a){return new sF.DynamicTableBuilder(a)}}class sH{#aa;constructor(a){this.#aa=a}async provideConnection(a){let b=await this.#aa.acquireConnection();try{return await a(b)}finally{await this.#aa.releaseConnection(b)}}}var sI=a.i(92635),sJ=a.i(69098);class sK extends sJ.QueryExecutorBase{#ab;#ac;#ad;constructor(a,b,c,d=[]){super(d),this.#ab=a,this.#ac=b,this.#ad=c}get adapter(){return this.#ac}compileQuery(a,b){return this.#ab.compileQuery(a,b)}provideConnection(a){return this.#ad.provideConnection(a)}withPlugins(a){return new sK(this.#ab,this.#ac,this.#ad,[...this.plugins,...a])}withPlugin(a){return new sK(this.#ab,this.#ac,this.#ad,[...this.plugins,a])}withPluginAtFront(a){return new sK(this.#ab,this.#ac,this.#ad,[a,...this.plugins])}withConnectionProvider(a){return new sK(this.#ab,this.#ac,a,[...this.plugins])}withoutPlugins(){return new sK(this.#ab,this.#ac,this.#ad,[])}}function sL(){return"undefined"!=typeof performance&&(0,qI.isFunction)(performance.now)?performance.now():Date.now()}class sM{#aa;#ae;#af;#ag;#ah;#B=new WeakSet;constructor(a,b){this.#ag=!1,this.#aa=a,this.#ae=b}async init(){if(this.#ah)throw Error("driver has already been destroyed");this.#af||(this.#af=this.#aa.init().then(()=>{this.#ag=!0}).catch(a=>(this.#af=void 0,Promise.reject(a)))),await this.#af}async acquireConnection(){if(this.#ah)throw Error("driver has already been destroyed");this.#ag||await this.init();let a=await this.#aa.acquireConnection();return this.#B.has(a)||(this.#ai()&&this.#aj(a),this.#B.add(a)),a}async releaseConnection(a){await this.#aa.releaseConnection(a)}beginTransaction(a,b){return this.#aa.beginTransaction(a,b)}commitTransaction(a){return this.#aa.commitTransaction(a)}rollbackTransaction(a){return this.#aa.rollbackTransaction(a)}savepoint(a,b,c){if(this.#aa.savepoint)return this.#aa.savepoint(a,b,c);throw Error("The `savepoint` method is not supported by this driver")}rollbackToSavepoint(a,b,c){if(this.#aa.rollbackToSavepoint)return this.#aa.rollbackToSavepoint(a,b,c);throw Error("The `rollbackToSavepoint` method is not supported by this driver")}releaseSavepoint(a,b,c){if(this.#aa.releaseSavepoint)return this.#aa.releaseSavepoint(a,b,c);throw Error("The `releaseSavepoint` method is not supported by this driver")}async destroy(){this.#af&&(await this.#af,this.#ah||(this.#ah=this.#aa.destroy().catch(a=>(this.#ah=void 0,Promise.reject(a)))),await this.#ah)}#ai(){return this.#ae.isLevelEnabled("query")||this.#ae.isLevelEnabled("error")}#aj(a){let b=a.executeQuery,c=a.streamQuery,d=this;a.executeQuery=async c=>{let e,f=sL();try{return await b.call(a,c)}catch(a){throw e=a,await d.#ak(a,c,f),a}finally{e||await d.#al(c,f)}},a.streamQuery=async function*(b,e){let f,g=sL();try{for await(let d of c.call(a,b,e))yield d}catch(a){throw f=a,await d.#ak(a,b,g),a}finally{f||await d.#al(b,g,!0)}}}async #ak(a,b,c){await this.#ae.error(()=>({level:"error",error:a,query:b,queryDurationMillis:this.#am(c)}))}async #al(a,b,c=!1){await this.#ae.query(()=>({level:"query",isStream:c,query:a,queryDurationMillis:this.#am(b)}))}#am(a){return sL()-a}}let sN=()=>{};class sO{#w;#an;constructor(a){this.#w=a}async provideConnection(a){for(;this.#an;)await this.#an.catch(sN);return this.#an=this.#ao(a).finally(()=>{this.#an=void 0}),this.#an}async #ao(a){return await a(this.#w)}}let sP=["read only","read write"],sQ=["read uncommitted","read committed","repeatable read","serializable","snapshot"];function sR(a){if(a.accessMode&&!sP.includes(a.accessMode))throw Error(`invalid transaction access mode ${a.accessMode}`);if(a.isolationLevel&&!sQ.includes(a.isolationLevel))throw Error(`invalid transaction isolation level ${a.isolationLevel}`)}var sS=a.i(89084);(0,qI.freeze)(["query","error"]);class sT{#ap;#aq;constructor(a){(0,qI.isFunction)(a)?(this.#aq=a,this.#ap=(0,qI.freeze)({query:!0,error:!0})):(this.#aq=sU,this.#ap=(0,qI.freeze)({query:a.includes("query"),error:a.includes("error")}))}isLevelEnabled(a){return this.#ap[a]}async query(a){this.#ap.query&&await this.#aq(a())}async error(a){this.#ap.error&&await this.#aq(a())}}function sU(a){if("query"===a.level){let b=`kysely:query:${a.isStream?"stream:":""}`;console.log(`${b} ${a.query.sql}`),console.log(`${b} duration: ${a.queryDurationMillis.toFixed(1)}ms`)}else"error"===a.level&&(a.error instanceof Error?console.error(`kysely:error: ${a.error.stack??a.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:a.error,query:a.query.sql,queryDurationMillis:a.queryDurationMillis})}`))}var sV=a.i(1258),sW=a.i(8894),sX=a.i(24883),sY=a.i(55193);Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");class sZ extends sI.QueryCreator{#Z;constructor(a){let b,c;if(function(a){return(0,qI.isObject)(a)&&(0,qI.isObject)(a.config)&&(0,qI.isObject)(a.driver)&&(0,qI.isObject)(a.executor)&&(0,qI.isObject)(a.dialect)}(a))b={executor:a.executor},c={...a};else{let d=a.dialect,e=d.createDriver(),f=d.createQueryCompiler(),g=d.createAdapter(),h=new sM(e,new sT(a.log??[])),i=new sK(f,g,new sH(h),a.plugins??[]);b={executor:i},c={config:a,executor:i,dialect:d,driver:h}}super(b),this.#Z=(0,qI.freeze)(c)}get schema(){return new sD(this.#Z.executor)}get dynamic(){return new sG}get introspection(){return this.#Z.dialect.createIntrospector(this.withoutPlugins())}case(a){return new sV.CaseBuilder({node:sW.CaseNode.create((0,qI.isUndefined)(a)?void 0:(0,sk.parseExpression)(a))})}get fn(){return(0,sS.createFunctionModule)()}transaction(){return new s0({...this.#Z})}startTransaction(){return new s1({...this.#Z})}connection(){return new s_({...this.#Z})}withPlugin(a){return new sZ({...this.#Z,executor:this.#Z.executor.withPlugin(a)})}withoutPlugins(){return new sZ({...this.#Z,executor:this.#Z.executor.withoutPlugins()})}withSchema(a){return new sZ({...this.#Z,executor:this.#Z.executor.withPluginAtFront(new sp.WithSchemaPlugin(a))})}withTables(){return new sZ({...this.#Z})}async destroy(){await this.#Z.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#Z.executor}executeQuery(a,b){void 0!==b&&(0,sY.logOnce)("Passing `queryId` in `db.executeQuery` is deprecated and will result in a compile-time error in the future.");let c=(0,qI.isObject)(a)&&(0,qI.isFunction)(a.compile)?a.compile():a;return this.getExecutor().executeQuery(c)}async [Symbol.asyncDispose](){await this.destroy()}}class s$ extends sZ{#Z;constructor(a){super(a),this.#Z=a}get isTransaction(){return!0}transaction(){throw Error("calling the transaction method for a Transaction is not supported")}connection(){throw Error("calling the connection method for a Transaction is not supported")}async destroy(){throw Error("calling the destroy method for a Transaction is not supported")}withPlugin(a){return new s$({...this.#Z,executor:this.#Z.executor.withPlugin(a)})}withoutPlugins(){return new s$({...this.#Z,executor:this.#Z.executor.withoutPlugins()})}withSchema(a){return new s$({...this.#Z,executor:this.#Z.executor.withPluginAtFront(new sp.WithSchemaPlugin(a))})}withTables(){return new s$({...this.#Z})}}class s_{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}async execute(a){return this.#Z.executor.provideConnection(async b=>{let c=this.#Z.executor.withConnectionProvider(new sO(b)),d=new sZ({...this.#Z,executor:c});return await a(d)})}}class s0{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}setAccessMode(a){return new s0({...this.#Z,accessMode:a})}setIsolationLevel(a){return new s0({...this.#Z,isolationLevel:a})}async execute(a){let{isolationLevel:b,accessMode:c,...d}=this.#Z,e={isolationLevel:b,accessMode:c};return sR(e),this.#Z.executor.provideConnection(async b=>{let c=this.#Z.executor.withConnectionProvider(new sO(b)),f=new s$({...d,executor:c}),g=!1;try{await this.#Z.driver.beginTransaction(b,e),g=!0;let c=await a(f);return await this.#Z.driver.commitTransaction(b),c}catch(a){throw g&&await this.#Z.driver.rollbackTransaction(b),a}})}}class s1{#Z;constructor(a){this.#Z=(0,qI.freeze)(a)}setAccessMode(a){return new s1({...this.#Z,accessMode:a})}setIsolationLevel(a){return new s1({...this.#Z,isolationLevel:a})}async execute(){let{isolationLevel:a,accessMode:b,...c}=this.#Z,d={isolationLevel:a,accessMode:b};sR(d);let e=await (0,sX.provideControlledConnection)(this.#Z.executor);return await this.#Z.driver.beginTransaction(e.connection,d),new s2({...c,connection:e,executor:this.#Z.executor.withConnectionProvider(new sO(e.connection))})}}class s2 extends s${#Z;#ar;#as;constructor(a){let b={isCommitted:!1,isRolledBack:!1},{connection:c,...d}=a={...a,executor:new s5(a.executor,b)};super(d),this.#Z=(0,qI.freeze)(a),this.#as=b;let e=(0,qJ.createQueryId)();this.#ar=b=>a.executor.compileQuery(b,e)}get isCommitted(){return this.#as.isCommitted}get isRolledBack(){return this.#as.isRolledBack}commit(){return s4(this.#as),new s3(async()=>{await this.#Z.driver.commitTransaction(this.#Z.connection.connection),this.#as.isCommitted=!0,this.#Z.connection.release()})}rollback(){return s4(this.#as),new s3(async()=>{await this.#Z.driver.rollbackTransaction(this.#Z.connection.connection),this.#as.isRolledBack=!0,this.#Z.connection.release()})}savepoint(a){return s4(this.#as),new s3(async()=>(await this.#Z.driver.savepoint?.(this.#Z.connection.connection,a,this.#ar),new s2({...this.#Z})))}rollbackToSavepoint(a){return s4(this.#as),new s3(async()=>(await this.#Z.driver.rollbackToSavepoint?.(this.#Z.connection.connection,a,this.#ar),new s2({...this.#Z})))}releaseSavepoint(a){return s4(this.#as),new s3(async()=>(await this.#Z.driver.releaseSavepoint?.(this.#Z.connection.connection,a,this.#ar),new s2({...this.#Z})))}withPlugin(a){return new s2({...this.#Z,executor:this.#Z.executor.withPlugin(a)})}withoutPlugins(){return new s2({...this.#Z,executor:this.#Z.executor.withoutPlugins()})}withSchema(a){return new s2({...this.#Z,executor:this.#Z.executor.withPluginAtFront(new sp.WithSchemaPlugin(a))})}withTables(){return new s2({...this.#Z})}}class s3{#at;constructor(a){this.#at=a}async execute(){return await this.#at()}}function s4(a){if(a.isCommitted)throw Error("Transaction is already committed");if(a.isRolledBack)throw Error("Transaction is already rolled back")}class s5{#_;#as;constructor(a,b){a instanceof s5?this.#_=a.#_:this.#_=a,this.#as=b}get adapter(){return this.#_.adapter}get plugins(){return this.#_.plugins}transformQuery(a,b){return this.#_.transformQuery(a,b)}compileQuery(a,b){return this.#_.compileQuery(a,b)}provideConnection(a){return this.#_.provideConnection(a)}executeQuery(a){return s4(this.#as),this.#_.executeQuery(a)}stream(a,b){return s4(this.#as),this.#_.stream(a,b)}withConnectionProvider(a){return new s5(this.#_.withConnectionProvider(a),this.#as)}withPlugin(a){return new s5(this.#_.withPlugin(a),this.#as)}withPlugins(a){return new s5(this.#_.withPlugins(a),this.#as)}withPluginAtFront(a){return new s5(this.#_.withPluginAtFront(a),this.#as)}withoutPlugins(){return new s5(this.#_.withoutPlugins(),this.#as)}}let s6=[],s7=-1,s8=({adapter:a,config:b})=>c=>{let d=Math.random().toString(36).substring(2,15),e={...b,supportsBooleans:b.supportsBooleans??!0,supportsDates:b.supportsDates??!0,supportsJSON:b.supportsJSON??!1,adapterName:b.adapterName??b.adapterId,supportsNumericIds:b.supportsNumericIds??!0,transaction:b.transaction??!1,disableTransformInput:b.disableTransformInput??!1,disableTransformOutput:b.disableTransformOutput??!1};if(c.advanced?.database?.useNumberId===!0&&!1===e.supportsNumericIds)throw Error(`[${e.adapterName}] Your database or database adapter does not support numeric ids. Please disable "useNumberId" in your config.`);let f=qC(c),g=({field:a,model:b})=>{if("id"===a||"_id"===a)return"id";let c=h(b),d=f[c]?.fields[a];if(!d){let b=Object.entries(f[c].fields).find(([b,c])=>c.fieldName===a);b&&(d=b[1],a=b[0])}if(!d)throw k(`Field ${a} not found in model ${c}`),k("Schema:",f),Error(`Field ${a} not found in model ${c}`);return a},h=a=>{if(e.usePlural&&"s"===a.charAt(a.length-1)){let b=a.slice(0,-1),c=f[b]?b:void 0;if(c||(c=Object.entries(f).find(([a,c])=>c.modelName===b)?.[0]),c)return c}let b=f[a]?a:void 0;if(b||(b=Object.entries(f).find(([b,c])=>c.modelName===a)?.[0]),!b)throw k(`Model "${a}" not found in schema`),k("Schema:",f),Error(`Model "${a}" not found in schema`);return b},i=a=>{let b=h(a),c=e&&e.usePlural;return f&&f[b]&&f[b].modelName!==a?c?`${f[b].modelName}s`:f[b].modelName:c?`${a}s`:a};function j({model:a,field:b}){let c=h(a),d=g({model:c,field:b});return f[c]?.fields[d]?.fieldName||d}let k=(...a)=>{if(!0===e.debugLogs||"object"==typeof e.debugLogs){if("object"==typeof e.debugLogs&&"isRunningAdapterTests"in e.debugLogs){e.debugLogs.isRunningAdapterTests&&(a.shift(),s6.push({instance:d,args:a}));return}if("object"!=typeof e.debugLogs||!e.debugLogs.logCondition||e.debugLogs.logCondition?.())if("object"==typeof a[0]&&"method"in a[0]){let b=a.shift().method;if("object"==typeof e.debugLogs){if("create"===b&&!e.debugLogs.create)return;else if("update"===b&&!e.debugLogs.update)return;else if("updateMany"===b&&!e.debugLogs.updateMany)return;else if("findOne"===b&&!e.debugLogs.findOne)return;else if("findMany"===b&&!e.debugLogs.findMany)return;else if("delete"===b&&!e.debugLogs.delete)return;else if("deleteMany"===b&&!e.debugLogs.deleteMany)return;else if("count"===b&&!e.debugLogs.count)return}mq.info(`[${e.adapterName}]`,...a)}else mq.info(`[${e.adapterName}]`,...a)}},l=({customModelName:a,forceAllowId:b})=>{let d=!e.disableIdGeneration&&!c.advanced?.database?.useNumberId&&!b,f=h(a??"id");return{type:c.advanced?.database?.useNumberId?"number":"string",required:!!d,...d?{defaultValue(){if(e.disableIdGeneration)return;let a=c.advanced?.database?.useNumberId,b=c.advanced?.database?.generateId;if(c.advanced?.generateId!==void 0&&(mq.warn("Your Better Auth config includes advanced.generateId which is deprecated. Please use advanced.database.generateId instead. This will be removed in future releases."),b=c.advanced?.generateId),!1!==b&&!a)return b?b({model:f}):e.customIdGenerator?e.customIdGenerator({model:f}):pB()}}:{}}},m=({model:a,field:b})=>{let c=h(a),d=g({field:b,model:c}),e=f[c].fields;return e.id=l({customModelName:c}),e[d]},n=async(a,b,d,g)=>{let h={},i=f[b].fields,j=e.mapKeysTransformInput??{};for(let k in e.disableIdGeneration||c.advanced?.database?.useNumberId||(i.id=l({customModelName:b,forceAllowId:g&&"id"in a})),i){let g=a[k],l=i[k],m=j[k]||i[k].fieldName||k;if(void 0===g&&(void 0===l.defaultValue&&!l.transform?.input&&!("update"===d&&l.onUpdate)||"update"===d&&!l.onUpdate))continue;let n=function(a,b,c){if("update"===c)return void 0===a&&void 0!==b.onUpdate?"function"==typeof b.onUpdate?b.onUpdate():b.onUpdate:a;return null==a&&void 0!==b.defaultValue?"function"==typeof b.defaultValue?b.defaultValue():b.defaultValue:a}(g,l,d);l.transform?.input&&(n=await l.transform.input(n)),l.references?.field==="id"&&c.advanced?.database?.useNumberId?n=Array.isArray(n)?n.map(a=>null!==a?Number(a):null):null!==n?Number(n):null:!1===e.supportsJSON&&"object"==typeof n&&"json"===l.type?n=JSON.stringify(n):!1===e.supportsDates&&n instanceof Date&&"date"===l.type?n=n.toISOString():!1===e.supportsBooleans&&"boolean"==typeof n&&(n=+!!n),e.customTransformInput&&(n=e.customTransformInput({data:n,action:d,field:m,fieldAttributes:l,model:b,schema:f,options:c})),void 0!==n&&(h[m]=n)}return h},o=async(a,b,d=[])=>{if(!a)return null;let g=e.mapKeysTransformOutput??{},h={},i=f[b].fields;for(let j in i[Object.entries(g).find(([a,b])=>"id"===b)?.[0]??"id"]={type:c.advanced?.database?.useNumberId?"number":"string"},i){if(d.length&&!d.includes(j))continue;let k=i[j];if(k){let i=k.fieldName||j,l=a[Object.entries(g).find(([a,b])=>b===i)?.[0]||i];k.transform?.output&&(l=await k.transform.output(l));let m=g[j]||j;"id"===i||k.references?.field==="id"?null!=l&&(l=String(l)):!1===e.supportsJSON&&"string"==typeof l&&"json"===k.type?l=mr(l):!1===e.supportsDates&&"string"==typeof l&&"date"===k.type?l=new Date(l):!1===e.supportsBooleans&&"number"==typeof l&&"boolean"===k.type&&(l=1===l),e.customTransformOutput&&(l=e.customTransformOutput({data:l,field:m,fieldAttributes:k,select:d,model:b,schema:f,options:c})),h[m]=l}}return h},p=({model:a,where:b})=>{if(!b)return;let d=e.mapKeysTransformInput??{};return b.map(b=>{let{field:e,value:f,operator:i="eq",connector:k="AND"}=b;if("in"===i&&!Array.isArray(f))throw Error("Value must be an array");let l=h(a),n=g({field:e,model:a}),o=d[n]||j({field:n,model:l}),p=m({field:n,model:l});return("id"===n||p.references?.field==="id")&&c.advanced?.database?.useNumberId?Array.isArray(f)?{operator:i,connector:k,field:o,value:f.map(Number)}:{operator:i,connector:k,field:o,value:Number(f)}:{operator:i,connector:k,field:o,value:f}})},q=a({options:c,schema:f,debugLog:k,getFieldName:j,getModelName:i,getDefaultModelName:h,getDefaultFieldName:g,getFieldAttributes:m,transformInput:n,transformOutput:o,transformWhereClause:p}),r=null,s={transaction:async a=>{if(!r)if(e.transaction)mq.debug(`[${e.adapterName}] - Using provided transaction implementation.`),r=e.transaction;else"object"==typeof e.debugLogs&&"isRunningAdapterTests"in e.debugLogs&&e.debugLogs.isRunningAdapterTests||mq.warn(`[${e.adapterName}] - Transactions are not supported. Executing operations sequentially.`),r=a=>a(s);return r(a)},create:async({data:a,model:b,select:c,forceAllowId:d=!1})=>{let f=++s7,g=i(b);if(b=h(b),"id"in a&&!d){mq.warn(`[${e.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \`forceAllowId\` parameter. The id will be ignored.`);let b=Error();console.log(b.stack?.split("\n").filter((a,b)=>1!==b).join("\n").replace("Error:","Create method with `id` being called at:")),a.id=void 0}k({method:"create"},`${s9(f)} ${ta(1,4)}`,`${tb("create")} ${tc("Unsafe Input")}:`,{model:g,data:a});let j=a;e.disableTransformInput||(j=await n(a,b,"create",d)),k({method:"create"},`${s9(f)} ${ta(2,4)}`,`${tb("create")} ${tc("Parsed Input")}:`,{model:g,data:j});let l=await q.create({data:j,model:g});k({method:"create"},`${s9(f)} ${ta(3,4)}`,`${tb("create")} ${tc("DB Result")}:`,{model:g,res:l});let m=l;return e.disableTransformOutput||(m=await o(l,b,c)),k({method:"create"},`${s9(f)} ${ta(4,4)}`,`${tb("create")} ${tc("Parsed Result")}:`,{model:g,data:m}),m},update:async({model:a,where:b,update:c})=>{let d=++s7,f=i(a=h(a)),g=p({model:a,where:b});k({method:"update"},`${s9(d)} ${ta(1,4)}`,`${tb("update")} ${tc("Unsafe Input")}:`,{model:f,data:c});let j=c;e.disableTransformInput||(j=await n(c,a,"update")),k({method:"update"},`${s9(d)} ${ta(2,4)}`,`${tb("update")} ${tc("Parsed Input")}:`,{model:f,data:j});let l=await q.update({model:f,where:g,update:j});k({method:"update"},`${s9(d)} ${ta(3,4)}`,`${tb("update")} ${tc("DB Result")}:`,{model:f,data:l});let m=l;return e.disableTransformOutput||(m=await o(l,a)),k({method:"update"},`${s9(d)} ${ta(4,4)}`,`${tb("update")} ${tc("Parsed Result")}:`,{model:f,data:m}),m},updateMany:async({model:a,where:b,update:c})=>{let d=++s7,f=i(a),g=p({model:a,where:b});a=h(a),k({method:"updateMany"},`${s9(d)} ${ta(1,4)}`,`${tb("updateMany")} ${tc("Unsafe Input")}:`,{model:f,data:c});let j=c;e.disableTransformInput||(j=await n(c,a,"update")),k({method:"updateMany"},`${s9(d)} ${ta(2,4)}`,`${tb("updateMany")} ${tc("Parsed Input")}:`,{model:f,data:j});let l=await q.updateMany({model:f,where:g,update:j});return k({method:"updateMany"},`${s9(d)} ${ta(3,4)}`,`${tb("updateMany")} ${tc("DB Result")}:`,{model:f,data:l}),k({method:"updateMany"},`${s9(d)} ${ta(4,4)}`,`${tb("updateMany")} ${tc("Parsed Result")}:`,{model:f,data:l}),l},findOne:async({model:a,where:b,select:c})=>{let d=++s7,f=i(a),g=p({model:a,where:b});a=h(a),k({method:"findOne"},`${s9(d)} ${ta(1,3)}`,`${tb("findOne")}:`,{model:f,where:g,select:c});let j=await q.findOne({model:f,where:g,select:c});k({method:"findOne"},`${s9(d)} ${ta(2,3)}`,`${tb("findOne")} ${tc("DB Result")}:`,{model:f,data:j});let l=j;return e.disableTransformOutput||(l=await o(j,a,c)),k({method:"findOne"},`${s9(d)} ${ta(3,3)}`,`${tb("findOne")} ${tc("Parsed Result")}:`,{model:f,data:l}),l},findMany:async({model:a,where:b,limit:d,sortBy:f,offset:g})=>{let j=++s7,l=d??c.advanced?.database?.defaultFindManyLimit??100,m=i(a),n=p({model:a,where:b});a=h(a),k({method:"findMany"},`${s9(j)} ${ta(1,3)}`,`${tb("findMany")}:`,{model:m,where:n,limit:l,sortBy:f,offset:g});let r=await q.findMany({model:m,where:n,limit:l,sortBy:f,offset:g});k({method:"findMany"},`${s9(j)} ${ta(2,3)}`,`${tb("findMany")} ${tc("DB Result")}:`,{model:m,data:r});let s=r;return e.disableTransformOutput||(s=await Promise.all(r.map(async b=>await o(b,a)))),k({method:"findMany"},`${s9(j)} ${ta(3,3)}`,`${tb("findMany")} ${tc("Parsed Result")}:`,{model:m,data:s}),s},delete:async({model:a,where:b})=>{let c=++s7,d=i(a),e=p({model:a,where:b});a=h(a),k({method:"delete"},`${s9(c)} ${ta(1,2)}`,`${tb("delete")}:`,{model:d,where:e}),await q.delete({model:d,where:e}),k({method:"delete"},`${s9(c)} ${ta(2,2)}`,`${tb("delete")} ${tc("DB Result")}:`,{model:d})},deleteMany:async({model:a,where:b})=>{let c=++s7,d=i(a),e=p({model:a,where:b});a=h(a),k({method:"deleteMany"},`${s9(c)} ${ta(1,2)}`,`${tb("deleteMany")} ${tc("DeleteMany")}:`,{model:d,where:e});let f=await q.deleteMany({model:d,where:e});return k({method:"deleteMany"},`${s9(c)} ${ta(2,2)}`,`${tb("deleteMany")} ${tc("DB Result")}:`,{model:d,data:f}),f},count:async({model:a,where:b})=>{let c=++s7,d=i(a),e=p({model:a,where:b});a=h(a),k({method:"count"},`${s9(c)} ${ta(1,2)}`,`${tb("count")}:`,{model:d,where:e});let f=await q.count({model:d,where:e});return k({method:"count"},`${s9(c)} ${ta(2,2)}`,`${tb("count")}:`,{model:d,data:f}),f},createSchema:q.createSchema?async(a,b)=>{let d=qC(c);return c.secondaryStorage&&!c.session?.storeSessionInDatabase&&delete d.session,c.rateLimit&&"database"===c.rateLimit.storage&&(void 0===c.rateLimit.enabled||!0===c.rateLimit.enabled)&&(d.ratelimit={modelName:c.rateLimit.modelName??"ratelimit",fields:{key:{type:"string",unique:!0,required:!0,fieldName:c.rateLimit.fields?.key??"key"},count:{type:"number",required:!0,fieldName:c.rateLimit.fields?.count??"count"},lastRequest:{type:"number",required:!0,bigint:!0,defaultValue:()=>Date.now(),fieldName:c.rateLimit.fields?.lastRequest??"lastRequest"}}}),q.createSchema({file:b,tables:d})}:void 0,options:{adapterConfig:e,...q.options??{}},id:e.adapterId,...e.debugLogs?.isRunningAdapterTests?{adapterTestDebugLogs:{resetDebugLogs(){s6=s6.filter(a=>a.instance!==d)},printDebugLogs(){let a=`\u2500`.repeat(80),b=s6.filter(a=>a.instance===d);0!==b.length&&console.log(...b.reverse().map(a=>(a.args[0]=`
${a.args[0]}`,[...a.args,"\n"])).reduce((a,b)=>[...b,...a],[`
${a}`]))}}}:{}};return s};function s9(a){return`${ml.fg.magenta}#${a}${ml.reset}`}function ta(a,b){return`${ml.bg.black}${ml.fg.yellow}[${a}/${b}]${ml.reset}`}function tb(a){return`${ml.bright}${a}${ml.reset}`}function tc(a){return`${ml.dim}(${a})${ml.reset}`}function td(a){if(!a)return null;if("dialect"in a)return td(a.dialect);if("createDriver"in a){if(a instanceof qV)return"sqlite";if(a instanceof q4)return"mysql";if(a instanceof re)return"postgres";if(a instanceof rs)return"mssql"}return"aggregate"in a?"sqlite":"getConnection"in a?"mysql":"connect"in a?"postgres":"fileControl"in a||"open"in a&&"close"in a&&"prepare"in a?"sqlite":null}let te=async b=>{let c,d=b.database;if(!d)return{kysely:null,databaseType:null,transaction:void 0};if("db"in d)return{kysely:d.db,databaseType:d.type,transaction:d.transaction};if("dialect"in d)return{kysely:new sZ({dialect:d.dialect}),databaseType:d.type,transaction:d.transaction};let e=td(d);if("createDriver"in d&&(c=d),"aggregate"in d&&!("createSession"in d)&&(c=new qV({database:d})),"getConnection"in d&&(c=new q4(d)),"connect"in d&&(c=new re({pool:d})),"fileControl"in d){let{BunSqliteDialect:b}=await a.A(98725);c=new b({database:d})}if("createSession"in d){let b;try{({DatabaseSync:b}=await import("node:sqlite"))}catch(a){if(null!==a&&"object"==typeof a&&"code"in a&&"ERR_UNKNOWN_BUILTIN_MODULE"!==a.code)throw a}if(b&&d instanceof b){let{NodeSqliteDialect:b}=await a.A(86955);c=new b({database:d})}}return{kysely:c?new sZ({dialect:c}):null,databaseType:e,transaction:void 0}},tf=(a,b)=>{let c=b.logger,d=b.options,e=d.secondaryStorage,f=d.session?.expiresIn||604800,{createWithHooks:g,updateWithHooks:h,updateManyWithHooks:i}=function(a,b){let c=b.hooks;return{createWithHooks:async function(b,d,e,f,g){let h=b;for(let a of c||[]){let b=a[d]?.create?.before;if(b){let a=await b(h,f);if(!1===a)return null;"object"==typeof a&&"data"in a&&(h={...h,...a.data})}}let i=e?await e.fn(h):null,j=!e||e.executeMainFn?await (g||a).create({model:d,data:h,forceAllowId:!0}):i;for(let a of c||[]){let b=a[d]?.create?.after;b&&await b(j,f)}return j},updateWithHooks:async function(b,d,e,f,g,h){let i=b;for(let a of c||[]){let c=a[e]?.update?.before;if(c){let a=await c(b,g);if(!1===a)return null;i="object"==typeof a?a.data:a}}let j=f?await f.fn(i):null,k=!f||f.executeMainFn?await (h||a).update({model:e,update:i,where:d}):j;for(let a of c||[]){let b=a[e]?.update?.after;b&&await b(k,g)}return k},updateManyWithHooks:async function(b,d,e,f,g,h){let i=b;for(let a of c||[]){let c=a[e]?.update?.before;if(c){let a=await c(b,g);if(!1===a)return null;i="object"==typeof a?a.data:a}}let j=f?await f.fn(i):null,k=!f||f.executeMainFn?await (h||a).updateMany({model:e,update:i,where:d}):j;for(let a of c||[]){let b=a[e]?.update?.after;b&&await b(k,g)}return k}}}(a,b);async function j(a){if(!e)return;let b=await e.get(`active-sessions-${a.id}`);if(!b)return;let c=Date.now(),d=(mr(b)||[]).filter(a=>a.expiresAt>c);await Promise.all(d.map(async({token:b})=>{let d=await e.get(b);if(!d)return;let f=mr(d);if(!f)return;let g=Math.max(Math.floor(new Date(f.session.expiresAt).getTime()-c)/1e3,0);await e.set(b,JSON.stringify({session:f.session,user:a}),Math.floor(g))}))}return{createOAuthUser:async(b,c,d)=>a.transaction(async a=>{let e=await g({createdAt:new Date,updatedAt:new Date,...b},"user",void 0,d,a),f=await g({...c,userId:e.id,createdAt:new Date,updatedAt:new Date},"account",void 0,d,a);return{user:e,account:f}}),createUser:async(a,b,c)=>await g({createdAt:new Date,updatedAt:new Date,...a,email:a.email?.toLowerCase()},"user",void 0,b,c),createAccount:async(a,b,c)=>await g({createdAt:new Date,updatedAt:new Date,...a},"account",void 0,b,c),listSessions:async(c,d)=>{if(e){let a=await e.get(`active-sessions-${c}`);if(!a)return[];let d=mr(a)||[],f=Date.now(),g=d.filter(a=>a.expiresAt>f),h=[];for(let a of g){let c=await e.get(a.token);if(c){let a=mr(c);if(!a)return[];let d=qw(b.options,{...a.session,expiresAt:new Date(a.session.expiresAt)});h.push(d)}}return h}return await (d||a).findMany({model:"session",where:[{field:"userId",value:c}]})},listUsers:async(b,c,d,e,f)=>await (f||a).findMany({model:"user",limit:b,offset:c,sortBy:d,where:e}),countTotalUsers:async(b,c)=>{let d=await (c||a).count({model:"user",where:b});return"string"==typeof d?parseInt(d):d},deleteUser:async(b,c)=>{e&&await e.delete(`active-sessions-${b}`),(!e||d.session?.storeSessionInDatabase)&&await (c||a).deleteMany({model:"session",where:[{field:"userId",value:b}]}),await (c||a).deleteMany({model:"account",where:[{field:"userId",value:b}]}),await (c||a).delete({model:"user",where:[{field:"id",value:b}]})},createSession:async(b,c,h,i,j,k)=>{let l=c.headers||c.request?.headers,{id:m,...n}=i||{},o={ipAddress:(c.request||c.headers)&&qy(c.request||c.headers,c.context.options)||"",userAgent:l?.get("user-agent")||"",...n,expiresAt:h?l_(86400,"sec"):l_(f,"sec"),userId:b,token:pB(32),createdAt:new Date,updatedAt:new Date,...j?n:{}};return await g(o,"session",e?{fn:async c=>{let d=await e.get(`active-sessions-${b}`),f=[],g=Date.now();d&&(f=(f=mr(d)||[]).filter(a=>a.expiresAt>g));let h=f.sort((a,b)=>a.expiresAt-b.expiresAt),i=h.at(-1)?.expiresAt;h.push({token:o.token,expiresAt:o.expiresAt.getTime()}),(!i||i<o.expiresAt.getTime())&&(i=o.expiresAt.getTime());let j=Math.max(Math.floor((i-g)/1e3),0);j>0&&await e.set(`active-sessions-${b}`,JSON.stringify(h),j);let k=await a.findOne({model:"user",where:[{field:"id",value:b}]}),l=Math.max(Math.floor((o.expiresAt.getTime()-g)/1e3),0);return l>0&&await e.set(o.token,JSON.stringify({session:c,user:k}),l),c},executeMainFn:d.session?.storeSessionInDatabase}:void 0,c,k)},findSession:async(c,f)=>{if(e){let a=await e.get(c);if(!a&&!d.session?.storeSessionInDatabase)return null;if(a){let c=mr(a);return c?{session:qw(b.options,{...c.session,expiresAt:new Date(c.session.expiresAt),createdAt:new Date(c.session.createdAt),updatedAt:new Date(c.session.updatedAt)}),user:qv(b.options,{...c.user,createdAt:new Date(c.user.createdAt),updatedAt:new Date(c.user.updatedAt)})}:null}}let g=await (f||a).findOne({model:"session",where:[{value:c,field:"token"}]});if(!g)return null;let h=await (f||a).findOne({model:"user",where:[{value:g.userId,field:"id"}]});return h?{session:qw(b.options,g),user:qv(b.options,h)}:null},findSessions:async(b,c)=>{if(e){let a=[];for(let c of b){let b=await e.get(c);if(b){let c=mr(b);if(!c)return[];let d={session:{...c.session,expiresAt:new Date(c.session.expiresAt)},user:{...c.user,createdAt:new Date(c.user.createdAt),updatedAt:new Date(c.user.updatedAt)}};a.push(d)}}return a}let d=await (c||a).findMany({model:"session",where:[{field:"token",value:b,operator:"in"}]}),f=d.map(a=>a.userId);if(!f.length)return[];let g=await (c||a).findMany({model:"user",where:[{field:"id",value:f,operator:"in"}]});return d.map(a=>{let b=g.find(b=>b.id===a.userId);return b?{session:a,user:b}:null})},updateSession:async(a,b,c,f)=>await h(b,[{field:"token",value:a}],"session",e?{async fn(b){let c=await e.get(a);if(!c)return null;{let a=mr(c);return a?{...a.session,...b}:null}},executeMainFn:d.session?.storeSessionInDatabase}:void 0,c,f),deleteSession:async(f,g)=>{if(e){let a=await e.get(f);if(a){let{session:b}=mr(a)??{};if(!b)return void c.error("Session not found in secondary storage");let d=b.userId,g=await e.get(`active-sessions-${d}`);if(g){let a=mr(g)||[],b=Date.now(),c=a.filter(a=>a.expiresAt>b&&a.token!==f),h=c.sort((a,b)=>a.expiresAt-b.expiresAt),i=h.at(-1)?.expiresAt;c.length>0&&i&&i>Date.now()?await e.set(`active-sessions-${d}`,JSON.stringify(c),Math.floor((i-b)/1e3)):await e.delete(`active-sessions-${d}`)}else c.error("Active sessions list not found in secondary storage")}if(await e.delete(f),!d.session?.storeSessionInDatabase||b.options.session?.preserveSessionInDatabase)return}await (g||a).delete({model:"session",where:[{field:"token",value:f}]})},deleteAccounts:async(b,c)=>{await (c||a).deleteMany({model:"account",where:[{field:"userId",value:b}]})},deleteAccount:async(b,c)=>{await (c||a).delete({model:"account",where:[{field:"id",value:b}]})},deleteSessions:async(c,f)=>{if(e){if("string"==typeof c){let a=await e.get(`active-sessions-${c}`),b=a?mr(a):[];if(!b)return;for(let a of b)await e.delete(a.token)}else for(let a of c)await e.get(a)&&await e.delete(a);if(!d.session?.storeSessionInDatabase||b.options.session?.preserveSessionInDatabase)return}await (f||a).deleteMany({model:"session",where:[{field:Array.isArray(c)?"token":"userId",value:c,operator:Array.isArray(c)?"in":void 0}]})},findOAuthUser:async(b,c,d,e)=>{let f=await (e||a).findMany({model:"account",where:[{value:c,field:"accountId"}]}).then(a=>a.find(a=>a.providerId===d));if(f){let c=await (e||a).findOne({model:"user",where:[{value:f.userId,field:"id"}]});if(c)return{user:c,accounts:[f]};{let c=await (e||a).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}]});return c?{user:c,accounts:[f]}:null}}{let c=await (e||a).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}]});if(!c)return null;{let b=await (e||a).findMany({model:"account",where:[{value:c.id,field:"userId"}]});return{user:c,accounts:b||[]}}}},findUserByEmail:async(b,c,d)=>{let e=await (d||a).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}]});if(!e)return null;if(c?.includeAccounts){let b=await (d||a).findMany({model:"account",where:[{value:e.id,field:"userId"}]});return{user:e,accounts:b}}return{user:e,accounts:[]}},findUserById:async(b,c)=>await (c||a).findOne({model:"user",where:[{field:"id",value:b}]}),linkAccount:async(a,b,c)=>await g({createdAt:new Date,updatedAt:new Date,...a},"account",void 0,b,c),updateUser:async(a,b,c,d)=>{let e=await h(b,[{field:"id",value:a}],"user",void 0,c,d);return await j(e),await j(e),e},updateUserByEmail:async(a,b,c,d)=>{let e=await h(b,[{field:"email",value:a.toLowerCase()}],"user",void 0,c,d);return await j(e),await j(e),e},updatePassword:async(a,b,c,d)=>{await i({password:b},[{field:"userId",value:a},{field:"providerId",value:"credential"}],"account",void 0,c,d)},findAccounts:async(b,c)=>await (c||a).findMany({model:"account",where:[{field:"userId",value:b}]}),findAccount:async(b,c)=>await (c||a).findOne({model:"account",where:[{field:"accountId",value:b}]}),findAccountByProviderId:async(b,c,d)=>await (d||a).findOne({model:"account",where:[{field:"accountId",value:b},{field:"providerId",value:c}]}),findAccountByUserId:async(b,c)=>await (c||a).findMany({model:"account",where:[{field:"userId",value:b}]}),updateAccount:async(a,b,c,d)=>await h(b,[{field:"id",value:a}],"account",void 0,c,d),createVerificationValue:async(a,b,c)=>await g({createdAt:new Date,updatedAt:new Date,...a},"verification",void 0,b,c),findVerificationValue:async(b,c)=>{let e=await (c||a).findMany({model:"verification",where:[{field:"identifier",value:b}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return d.verification?.disableCleanup||await (c||a).deleteMany({model:"verification",where:[{field:"expiresAt",value:new Date,operator:"lt"}]}),e[0]},deleteVerificationValue:async(b,c)=>{await (c||a).delete({model:"verification",where:[{field:"id",value:b}]})},deleteVerificationByIdentifier:async(b,c)=>{await (c||a).delete({model:"verification",where:[{field:"identifier",value:b}]})},updateVerificationValue:async(a,b,c,d)=>await h(b,[{field:"id",value:a}],"verification",void 0,c,d)}};async function tg(a){if(!a.database){var b;let c,d,e=Object.keys(qC(a)).reduce((a,b)=>(a[b]=[],a),{});return mq.warn("No database configuration provided. Using memory adapter in development"),(c=null,d=s8({config:{adapterId:"memory",adapterName:"Memory Adapter",usePlural:!1,debugLogs:b?.debugLogs||!1,customTransformInput:a=>a.options.advanced?.database?.useNumberId&&"id"===a.field&&"create"===a.action?e[a.model].length+1:a.data,transaction:async a=>{let b=structuredClone(e);try{return await a(d(c))}catch(a){throw Object.keys(e).forEach(a=>{e[a]=b[a]}),a}}},adapter:({getFieldName:a,options:b,debugLog:c})=>{function d(a,b){let c=e[b];if(!c)throw mq.error(`[MemoryAdapter] Model ${b} not found in the DB`,Object.keys(e)),Error(`Model ${b} not found`);let d=(a,b)=>{let{field:c,value:d,operator:e}=b;switch(e){case"in":if(!Array.isArray(d))throw Error("Value must be an array");return d.includes(a[c]);case"not_in":if(!Array.isArray(d))throw Error("Value must be an array");return!d.includes(a[c]);case"contains":return a[c].includes(d);case"starts_with":return a[c].startsWith(d);case"ends_with":return a[c].endsWith(d);case"ne":return a[c]!==d;case"gt":return null!=d&&a[c]>d;case"gte":return null!=d&&a[c]>=d;case"lt":return null!=d&&a[c]<d;case"lte":return null!=d&&a[c]<=d;default:return a[c]===d}};return c.filter(b=>{if(!a.length||0===a.length)return!0;let c=d(b,a[0]);for(let e of a){let a=d(b,e);c="OR"===e.connector?c||a:c&&a}return c})}return{create:async({model:a,data:c})=>(b.advanced?.database?.useNumberId&&(c.id=e[a].length+1),e[a]||(e[a]=[]),e[a].push(c),c),findOne:async({model:a,where:b})=>d(b,a)[0]||null,findMany:async({model:b,where:c,sortBy:f,limit:g,offset:h})=>{let i=e[b];return c&&(i=d(c,b)),f&&(i=i.sort((c,d)=>{let e=a({model:b,field:f.field}),g=c[e],h=d[e],i=0;return i=null==g&&null==h?0:null==g?-1:null==h?1:"string"==typeof g&&"string"==typeof h?g.localeCompare(h):g instanceof Date&&h instanceof Date?g.getTime()-h.getTime():"number"==typeof g&&"number"==typeof h?g-h:"boolean"==typeof g&&"boolean"==typeof h?g===h?0:g?1:-1:String(g).localeCompare(String(h)),"asc"===f.direction?i:-i})),void 0!==h&&(i=i.slice(h)),void 0!==g&&(i=i.slice(0,g)),i||[]},count:async({model:a,where:b})=>b?d(b,a).length:e[a].length,update:async({model:a,where:b,update:c})=>{let e=d(b,a);return e.forEach(a=>{Object.assign(a,c)}),e[0]||null},delete:async({model:a,where:b})=>{let c=e[a],f=d(b,a);e[a]=c.filter(a=>!f.includes(a))},deleteMany:async({model:a,where:b})=>{let c=e[a],f=d(b,a),g=0;return e[a]=c.filter(a=>f.includes(a)?(g++,!1):!f.includes(a)),g},updateMany({model:a,where:b,update:c}){let e=d(b,a);return e.forEach(a=>{Object.assign(a,c)}),e[0]||null}}}}),a=>(c=a,d(a)))(a)}if("function"==typeof a.database)return a.database(a);let{kysely:c,databaseType:d,transaction:e}=await te(a);if(!c)throw new l0("Failed to initialize database adapter");return((a,b)=>{let c=null,d=a=>({getFieldName:c,schema:d,getDefaultModelName:e})=>{let f=async(d,e,f,g)=>{if(b?.type==="mysql"){await e.execute();let b=d.id?"id":g.length>0&&g[0]?.field?g[0].field:"id";if(!d.id&&0===g.length)return await a.selectFrom(f).selectAll().orderBy(c({model:f,field:b}),"desc").limit(1).executeTakeFirst();let h=d[b]||g[0]?.value;return await a.selectFrom(f).selectAll().orderBy(c({model:f,field:b}),"desc").where(c({model:f,field:b}),"=",h).limit(1).executeTakeFirst()}return b?.type==="mssql"?await e.outputAll("inserted").executeTakeFirst():await e.returningAll().executeTakeFirst()};function g(a){function c(a){for(let d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;let e=a[d];e instanceof Date&&b?.type==="mysql"||"object"==typeof e&&null!==e&&c(e)}}if(Array.isArray(a))for(let b=0;b<a.length;b++){let d=a[b];"object"==typeof d&&null!==d&&c(d)}else"object"==typeof a&&null!==a&&c(a);return a}function h(a,e){if(!e)return{and:null,or:null};let f=[],g=[];return e.forEach(e=>{let{field:h,value:i,operator:j="=",connector:k="AND"}=e,l=c({model:a,field:h});i=function(a,c,e){if("id"===e)return a;let{type:f="sqlite"}=b||{},g=d[c]?.fields[e];return(g||(g=Object.values(d).find(a=>a.modelName===c)),"boolean"===g.type&&("sqlite"===f||"mssql"===f)&&null!=a)?+!!a:"date"===g.type&&a&&a instanceof Date&&"sqlite"===f?a.toISOString():a}(i,a,h);let m=a=>"in"===j.toLowerCase()?a(l,"in",Array.isArray(i)?i:[i]):"not_in"===j.toLowerCase()?a(l,"not in",Array.isArray(i)?i:[i]):"contains"===j?a(l,"like",`%${i}%`):"starts_with"===j?a(l,"like",`${i}%`):"ends_with"===j?a(l,"like",`%${i}`):a(l,"eq"===j?"=":"ne"===j?"<>":"gt"===j?">":"gte"===j?">=":"lt"===j?"<":"lte"===j?"<=":j,i);"OR"===k?g.push(m):f.push(m)}),{and:f.length?f:null,or:g.length?g:null}}return{async create({data:b,model:c}){let d=a.insertInto(c).values(b);return g(await f(b,d,c,[]))},async findOne({model:b,where:c,select:d}){let{and:e,or:f}=h(b,c),i=a.selectFrom(b).selectAll();e&&(i=i.where(a=>a.and(e.map(b=>b(a))))),f&&(i=i.where(a=>a.or(f.map(b=>b(a)))));let j=await i.executeTakeFirst();return j?g(j):null},async findMany({model:d,where:e,limit:f,offset:i,sortBy:j}){let{and:k,or:l}=h(d,e),m=a.selectFrom(d);k&&(m=m.where(a=>a.and(k.map(b=>b(a))))),l&&(m=m.where(a=>a.or(l.map(b=>b(a))))),b?.type==="mssql"?i||(m=m.top(f||100)):m=m.limit(f||100),j&&(m=m.orderBy(c({model:d,field:j.field}),j.direction)),i&&(b?.type==="mssql"?(j||(m=m.orderBy(c({model:d,field:"id"}))),m=m.offset(i).fetch(f||100)):m=m.offset(i));let n=await m.selectAll().execute();return n?g(n):[]},async update({model:b,where:c,update:d}){let{and:e,or:i}=h(b,c),j=a.updateTable(b).set(d);return e&&(j=j.where(a=>a.and(e.map(b=>b(a))))),i&&(j=j.where(a=>a.or(i.map(b=>b(a))))),g(await f(d,j,b,c))},async updateMany({model:b,where:c,update:d}){let{and:e,or:f}=h(b,c),g=a.updateTable(b).set(d);return e&&(g=g.where(a=>a.and(e.map(b=>b(a))))),f&&(g=g.where(a=>a.or(f.map(b=>b(a))))),(await g.execute()).length},async count({model:b,where:c}){let{and:d,or:e}=h(b,c),f=a.selectFrom(b).select(a.fn.count("id").as("count"));d&&(f=f.where(a=>a.and(d.map(b=>b(a))))),e&&(f=f.where(a=>a.or(e.map(b=>b(a)))));let g=await f.execute();return"number"==typeof g[0].count?g[0].count:"bigint"==typeof g[0].count?Number(g[0].count):parseInt(g[0].count)},async delete({model:b,where:c}){let{and:d,or:e}=h(b,c),f=a.deleteFrom(b);d&&(f=f.where(a=>a.and(d.map(b=>b(a))))),e&&(f=f.where(a=>a.or(e.map(b=>b(a))))),await f.execute()},async deleteMany({model:b,where:c}){let{and:d,or:e}=h(b,c),f=a.deleteFrom(b);return d&&(f=f.where(a=>a.and(d.map(b=>b(a))))),e&&(f=f.where(a=>a.or(e.map(b=>b(a))))),(await f.execute()).length},options:b}},e=null;e={config:{adapterId:"kysely",adapterName:"Kysely Adapter",usePlural:b?.usePlural,debugLogs:b?.debugLogs,supportsBooleans:b?.type!=="sqlite"&&b?.type!=="mssql"&&b?.type!=="mysql"&&!!b?.type,supportsDates:b?.type!=="sqlite"&&b?.type!=="mssql"&&!!b?.type,supportsJSON:!1,transaction:!!b?.transaction&&(b=>a.transaction().execute(a=>b(s8({config:e.config,adapter:d(a)})(c))))},adapter:d(a)};let f=s8(e);return a=>(c=a,f(a))})(c,{type:d||"sqlite",debugLogs:"debugLogs"in a.database&&a.database.debugLogs,transaction:e})(a)}let th={postgres:{string:["character varying","varchar","text"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};async function ti(a){let b=function(a){let b=qC(a),c={};for(let a in b){let d=b[a],e=d.fields,f={};if(Object.entries(e).forEach(([a,c])=>{if(f[c.fieldName||a]=c,c.references){let d=b[c.references.model];d&&(f[c.fieldName||a].references={...c.references,model:d.modelName,field:c.references.field})}}),c[d.modelName]){c[d.modelName].fields={...c[d.modelName].fields,...f};continue}c[d.modelName]={fields:f,order:d.order||1/0}}return c}(a),c=mp(a.logger),{kysely:d,databaseType:e}=await te(a);e||(c.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),e="sqlite"),d||(c.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let f=await d.introspection.getTables(),g=[],h=[];for(let[a,d]of Object.entries(b)){let b=f.find(b=>b.name===a);if(!b){let b=g.findIndex(b=>b.table===a),c={table:a,fields:d.fields,order:d.order||1/0},e=g.findIndex(a=>(a.order||1/0)>c.order);-1===e?-1===b?g.push(c):g[b].fields={...g[b].fields,...d.fields}:g.splice(e,0,c);continue}let i={};for(let[f,g]of Object.entries(d.fields)){let d=b.columns.find(a=>a.name===f);if(!d){i[f]=g;continue}!function(a,b,c){if("string[]"===b||"number[]"===b)return a.toLowerCase().includes("json");let d=th[c];return(Array.isArray(b)?d.string.map(a=>a.toLowerCase()):d[b].map(a=>a.toLowerCase())).includes(a.toLowerCase().split("(")[0].trim())}(d.dataType,g.type,e)&&c.warn(`Field ${f} in table ${a} has a different type in the database. Expected ${g.type} but got ${d.dataType}.`)}Object.keys(i).length>0&&h.push({table:a,fields:i,order:d.order||1/0})}let i=[];function j(b,c){let d=b.type,f={string:{sqlite:"text",postgres:"text",mysql:b.unique?"varchar(255)":b.references?"varchar(36)":"text",mssql:b.unique||b.sortable?"varchar(255)":b.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:b.bigint?"bigint":"integer",postgres:b.bigint?"bigint":"integer",mysql:b.bigint?"bigint":"integer",mssql:b.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:qR.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:a.advanced?.database?.useNumberId?"serial":"text",mysql:a.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:a.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:a.advanced?.database?.useNumberId?"integer":"text"},foreignKeyId:{postgres:a.advanced?.database?.useNumberId?"integer":"text",mysql:a.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:a.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:a.advanced?.database?.useNumberId?"integer":"text"}};return"id"===c||b.references?.field==="id"?"id"===c?f.id[e]:f.foreignKeyId[e]:"sqlite"===e&&("string[]"===d||"number[]"===d)?"text":"string[]"===d||"number[]"===d?"jsonb":Array.isArray(d)?"text":f[d][e||"sqlite"]}if(h.length)for(let a of h)for(let[b,c]of Object.entries(a.fields)){let f=j(c,b),g=d.schema.alterTable(a.table).addColumn(b,f,a=>(a=!1!==c.required?a.notNull():a,c.references&&(a=a.references(`${c.references.model}.${c.references.field}`).onDelete(c.references.onDelete||"cascade")),c.unique&&(a=a.unique()),"date"===c.type&&"function"==typeof c.defaultValue&&("postgres"===e||"mysql"===e||"mssql"===e)&&(a="mysql"===e?a.defaultTo(qR.sql`CURRENT_TIMESTAMP(3)`):a.defaultTo(qR.sql`CURRENT_TIMESTAMP`)),a));i.push(g)}if(g.length)for(let b of g){let c=d.schema.createTable(b.table).addColumn("id",a.advanced?.database?.useNumberId?"postgres"===e?"serial":"integer":"mysql"===e||"mssql"===e?"varchar(36)":"text",b=>a.advanced?.database?.useNumberId?"postgres"===e||"sqlite"===e?b.primaryKey().notNull():"mssql"===e?b.identity().primaryKey().notNull():b.autoIncrement().primaryKey().notNull():b.primaryKey().notNull());for(let[a,d]of Object.entries(b.fields)){let b=j(d,a);c=c.addColumn(a,b,a=>(a=!1!==d.required?a.notNull():a,d.references&&(a=a.references(`${d.references.model}.${d.references.field}`).onDelete(d.references.onDelete||"cascade")),d.unique&&(a=a.unique()),"date"===d.type&&"function"==typeof d.defaultValue&&("postgres"===e||"mysql"===e||"mssql"===e)&&(a="mysql"===e?a.defaultTo(qR.sql`CURRENT_TIMESTAMP(3)`):a.defaultTo(qR.sql`CURRENT_TIMESTAMP`)),a))}i.push(c)}return{toBeCreated:g,toBeAdded:h,runMigrations:async function(){for(let a of i)await a.execute()},compileMigrations:async function(){return i.map(a=>a.compile().sql).join(";\n\n")+";"}}}async function tj(a,b){let c=await b.context.internalAdapter.findAccounts(a),d=c?.find(a=>"credential"===a.providerId),e=d?.password;if(!d||!e||!b.body.password)throw new q("BAD_REQUEST",{message:"No password credential found"});if(!await b.context.password.verify({hash:e,password:b.body.password}))throw new q("BAD_REQUEST",{message:"Invalid password"});return!0}let tk="better-auth-secret-123456789";async function tl(){if(d)return d;try{let a="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!a)return;let b=a=>Function("mm","return import(mm)")(a),[{default:c},{default:e}]=await Promise.all([b("fs/promises"),b("path")]),f=await c.readFile(e.join(a,"package.json"),"utf-8");return d=JSON.parse(f)}catch{}}async function tm(a){if(d)return d.dependencies?.[a]||d.devDependencies?.[a]||d.peerDependencies?.[a];try{let b="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!b)throw Error("no-cwd");let c=a=>Function("mm","return import(mm)")(a),[{default:d},{default:e}]=await Promise.all([c("fs/promises"),c("path")]),f=e.join(b,"node_modules",a,"package.json"),g=await d.readFile(f,"utf-8");return JSON.parse(g).version||await tn(a)||void 0}catch{}return await tn(a)}async function tn(a){let b=await tl();if(b)return({...b.dependencies,...b.devDependencies,...b.peerDependencies})[a]}async function to(){let a=await tl();return a?.name}let tp=null;async function tq(a){if(tp)return tp;let b=await to();return tp=b?await oV(a?a+b:b):a?await oV(a):pB(32)}let tr=a=>Function("mm","return import(mm)")(a);function ts(){let a=(...a)=>a.some(a=>!!l3[a]);return a("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":a("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":a("NETLIFY","NETLIFY_URL")?"netlify":a("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":a("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":a("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":a("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":a("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":a("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":a("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":a("DYNO","HEROKU_APP_NAME")?"heroku":a("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":a("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function tt(){try{if("cloudflare"===ts())return"cloudflare";let a=await tr("os"),b=a.cpus();return{deploymentVendor:ts(),systemPlatform:a.platform(),systemRelease:a.release(),systemArchitecture:a.arch(),cpuCount:b.length,cpuModel:b.length?b[0].model:null,cpuSpeed:b.length?b[0].speed:null,memory:a.totalmem(),isWSL:await tx(),isDocker:await tw(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch(a){return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function tu(){if("cloudflare"===ts())return!1;try{return(await tr("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function tv(){if("cloudflare"===ts())return!1;try{return(await tr("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function tw(){return"cloudflare"!==ts()&&(void 0===e&&(e=await tu()||await tv()),e)}async function tx(){try{if("cloudflare"===ts()||"undefined"==typeof process||process?.platform!=="linux")return!1;let a=await tr("fs");if((await tr("os")).release().toLowerCase().includes("microsoft")){if(await tz())return!1;return!0}return!!a.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await tz()}catch{return!1}}let ty=async()=>{if("cloudflare"===ts())return!1;try{return(await tr("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function tz(){return void 0===f&&(f=await ty()||await tw()),f}let tA={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function tB(){for(let[a,b]of Object.entries(tA)){let c=await tm(a);if(c)return{name:b,version:c}}}let tC={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function tD(){for(let[a,b]of Object.entries(tC)){let c=await tm(a);if(c)return{name:b,version:c}}}async function tE(a,b){let c,d=a.telemetry?.debug||l9("BETTER_AUTH_TELEMETRY_DEBUG",!1),e=ma.BETTER_AUTH_TELEMETRY_ENDPOINT,f=async a=>{try{b?.customTrack?await b.customTrack(a):d?await Promise.resolve(mq.info("telemetry event",JSON.stringify(a,null,2))):await pl(e,{method:"POST",body:a})}catch{}},g=async()=>{let c=a.telemetry?.enabled!==void 0&&a.telemetry.enabled;return(l9("BETTER_AUTH_TELEMETRY",!1)||c)&&(b?.skipTestCheck||!l7())},h=await g();if(h){var i;c=await tq(a.baseURL),f({type:"init",payload:{config:{database:void 0,adapter:i?.adapter,emailVerification:{sendVerificationEmail:!!a.emailVerification?.sendVerificationEmail,sendOnSignUp:!!a.emailVerification?.sendOnSignUp,sendOnSignIn:!!a.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!a.emailVerification?.autoSignInAfterVerification,expiresIn:a.emailVerification?.expiresIn,onEmailVerification:!!a.emailVerification?.onEmailVerification,afterEmailVerification:!!a.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!a.emailAndPassword?.enabled,disableSignUp:!!a.emailAndPassword?.disableSignUp,requireEmailVerification:!!a.emailAndPassword?.requireEmailVerification,maxPasswordLength:a.emailAndPassword?.maxPasswordLength,minPasswordLength:a.emailAndPassword?.minPasswordLength,sendResetPassword:!!a.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:a.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!a.emailAndPassword?.onPasswordReset,password:{hash:!!a.emailAndPassword?.password?.hash,verify:!!a.emailAndPassword?.password?.verify},autoSignIn:!!a.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!a.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(a.socialProviders||{}).map(b=>{let c=a.socialProviders?.[b];return c?{id:b,mapProfileToUser:!!c.mapProfileToUser,disableDefaultScope:!!c.disableDefaultScope,disableIdTokenSignIn:!!c.disableIdTokenSignIn,disableImplicitSignUp:c.disableImplicitSignUp,disableSignUp:c.disableSignUp,getUserInfo:!!c.getUserInfo,overrideUserInfoOnSignIn:!!c.overrideUserInfoOnSignIn,prompt:c.prompt,verifyIdToken:!!c.verifyIdToken,scope:c.scope,refreshAccessToken:!!c.refreshAccessToken}:{}}),plugins:a.plugins?.map(a=>a.id.toString()),user:{modelName:a.user?.modelName,fields:a.user?.fields,additionalFields:a.user?.additionalFields,changeEmail:{enabled:a.user?.changeEmail?.enabled,sendChangeEmailVerification:!!a.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:a.verification?.modelName,disableCleanup:a.verification?.disableCleanup,fields:a.verification?.fields},session:{modelName:a.session?.modelName,additionalFields:a.session?.additionalFields,cookieCache:{enabled:a.session?.cookieCache?.enabled,maxAge:a.session?.cookieCache?.maxAge},disableSessionRefresh:a.session?.disableSessionRefresh,expiresIn:a.session?.expiresIn,fields:a.session?.fields,freshAge:a.session?.freshAge,preserveSessionInDatabase:a.session?.preserveSessionInDatabase,storeSessionInDatabase:a.session?.storeSessionInDatabase,updateAge:a.session?.updateAge},account:{modelName:a.account?.modelName,fields:a.account?.fields,encryptOAuthTokens:a.account?.encryptOAuthTokens,updateAccountOnSignIn:a.account?.updateAccountOnSignIn,accountLinking:{enabled:a.account?.accountLinking?.enabled,trustedProviders:a.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:a.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:a.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!a.hooks?.after,before:!!a.hooks?.before},secondaryStorage:!!a.secondaryStorage,advanced:{cookiePrefix:!!a.advanced?.cookiePrefix,cookies:!!a.advanced?.cookies,crossSubDomainCookies:{domain:!!a.advanced?.crossSubDomainCookies?.domain,enabled:a.advanced?.crossSubDomainCookies?.enabled,additionalCookies:a.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!a.advanced?.database?.useNumberId,generateId:a.advanced?.database?.generateId,defaultFindManyLimit:a.advanced?.database?.defaultFindManyLimit},useSecureCookies:a.advanced?.useSecureCookies,ipAddress:{disableIpTracking:a.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:a.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:a.advanced?.disableCSRFCheck,cookieAttributes:{expires:a.advanced?.defaultCookieAttributes?.expires,secure:a.advanced?.defaultCookieAttributes?.secure,sameSite:a.advanced?.defaultCookieAttributes?.sameSite,domain:!!a.advanced?.defaultCookieAttributes?.domain,path:a.advanced?.defaultCookieAttributes?.path,httpOnly:a.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:a.trustedOrigins?.length,rateLimit:{storage:a.rateLimit?.storage,modelName:a.rateLimit?.modelName,window:a.rateLimit?.window,customStorage:!!a.rateLimit?.customStorage,enabled:a.rateLimit?.enabled,max:a.rateLimit?.max},onAPIError:{errorURL:a.onAPIError?.errorURL,onError:!!a.onAPIError?.onError,throw:a.onAPIError?.throw},logger:{disabled:a.logger?.disabled,level:a.logger?.level,log:!!a.logger?.log},databaseHooks:{user:{create:{after:!!a.databaseHooks?.user?.create?.after,before:!!a.databaseHooks?.user?.create?.before},update:{after:!!a.databaseHooks?.user?.update?.after,before:!!a.databaseHooks?.user?.update?.before}},session:{create:{after:!!a.databaseHooks?.session?.create?.after,before:!!a.databaseHooks?.session?.create?.before},update:{after:!!a.databaseHooks?.session?.update?.after,before:!!a.databaseHooks?.session?.update?.before}},account:{create:{after:!!a.databaseHooks?.account?.create?.after,before:!!a.databaseHooks?.account?.create?.before},update:{after:!!a.databaseHooks?.account?.update?.after,before:!!a.databaseHooks?.account?.update?.before}},verification:{create:{after:!!a.databaseHooks?.verification?.create?.after,before:!!a.databaseHooks?.verification?.create?.before},update:{after:!!a.databaseHooks?.verification?.update?.after,before:!!a.databaseHooks?.verification?.update?.before}}}},runtime:"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null},database:await tB(),framework:await tD(),environment:"production"===l8("NODE_ENV")?"production":"false"!==l3.CI&&("BUILD_ID"in l3||"BUILD_NUMBER"in l3||"CI"in l3||"CI_APP_ID"in l3||"CI_BUILD_ID"in l3||"CI_BUILD_NUMBER"in l3||"CI_NAME"in l3||"CONTINUOUS_INTEGRATION"in l3||"RUN_ID"in l3)?"ci":l7()?"test":"development",systemInfo:await tt(),packageManager:function(){let a=l3.npm_config_user_agent;if(!a)return;let b=a.split(" ")[0],c=b.lastIndexOf("/"),d=b.substring(0,c);return{name:"npminstall"===d?"cnpm":d,version:b.substring(c+1)}}()},anonymousId:c})}return{publish:async b=>{h&&(c||(c=await tq(a.baseURL)),await f({type:b.type,payload:b.payload,anonymousId:c}))}}}function tF(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof a.then}let tG=async a=>{var b;let c,d=await tg(a),e=a.plugins||[],f=(b=a,b.advanced?.crossSubDomainCookies?.enabled,[]),g=mp(a.logger),h=mt(a.baseURL,a.basePath),i=a.secret||l3.BETTER_AUTH_SECRET||l3.AUTH_SECRET||tk;i===tk&&l5&&g.error("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config."),function(a,b){let c=new Map;a.plugins?.forEach(a=>{if(a.endpoints){for(let[b,d]of Object.entries(a.endpoints))if(d&&"path"in d){let e=d.path,f=[];d.options&&"method"in d.options&&(Array.isArray(d.options.method)?f=d.options.method:"string"==typeof d.options.method&&(f=[d.options.method])),0===f.length&&(f=["*"]),c.has(e)||c.set(e,[]),c.get(e).push({pluginId:a.id,endpointKey:b,methods:f})}}});let d=[];for(let[a,b]of c.entries())if(b.length>1){let c=new Map,e=!1;for(let a of b)for(let d of a.methods)c.has(d)||c.set(d,[]),c.get(d).push(a.pluginId),c.get(d).length>1&&(e=!0),"*"===d&&b.length>1?e=!0:"*"!==d&&c.has("*")&&(e=!0);if(e){let e=[...new Set(b.map(a=>a.pluginId))],f=[];for(let[a,d]of c.entries())(d.length>1||"*"===a&&b.length>1||"*"!==a&&c.has("*"))&&f.push(a);d.push({path:a,plugins:e,conflictingMethods:f})}}if(d.length>0){let a=d.map(a=>`  - "${a.path}" [${a.conflictingMethods.join(", ")}] used by plugins: ${a.plugins.join(", ")}`).join("\n");b.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${a}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}(a={...a,secret:i,baseURL:h?new URL(h).origin:"",basePath:a.basePath||"/api/auth",plugins:e.concat(f)},g);let j=function(a){let b=mA(a),c=b("session_token",{maxAge:a.session?.expiresIn||mz("7d")/1e3}),d=b("session_data",{maxAge:a.session?.cookieCache?.maxAge||300}),e=b("dont_remember");return{sessionToken:{name:c.name,options:c.attributes},sessionData:{name:d.name,options:d.attributes},dontRememberToken:{name:e.name,options:e.attributes}}}(a),k=qC(a),l=Object.entries(a.socialProviders||{}).map(([a,b])=>{if(null==b||!1===b.enabled)return null;b.clientId||g.warn(`Social provider ${a} is missing clientId or clientSecret`);let c=p0[a](b);return c.disableImplicitSignUp=b.disableImplicitSignUp,c}).filter(a=>null!==a),{publish:m}=await tE(a,{adapter:d.id,database:"function"==typeof a.database?"adapter":td(a.database)||"unknown"}),n={appName:a.appName||"Better Auth",socialProviders:l,options:a,tables:k,trustedOrigins:function(a){let b=mt(a.baseURL,a.basePath);if(!b)return[];let c=[new URL(b).origin];a.trustedOrigins&&Array.isArray(a.trustedOrigins)&&c.push(...a.trustedOrigins);let d=l3.BETTER_AUTH_TRUSTED_ORIGINS;if(d&&c.push(...d.split(",")),c.filter(a=>!a).length)throw new l0("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return c}(a),baseURL:h||"",sessionConfig:{updateAge:a.session?.updateAge!==void 0?a.session.updateAge:86400,expiresIn:a.session?.expiresIn||604800,freshAge:a.session?.freshAge===void 0?86400:a.session.freshAge},secret:i,rateLimit:{...a.rateLimit,enabled:a.rateLimit?.enabled??l5,window:a.rateLimit?.window||10,max:a.rateLimit?.max||100,storage:a.rateLimit?.storage||(a.secondaryStorage?"secondary-storage":"memory")},authCookies:j,logger:g,generateId:({model:b,size:c})=>"function"==typeof a.advanced?.generateId?a.advanced.generateId({model:b,size:c}):"function"==typeof a?.advanced?.database?.generateId?a.advanced.database.generateId({model:b,size:c}):pB(c),session:null,secondaryStorage:a.secondaryStorage,password:{hash:a.emailAndPassword?.password?.hash||oY,verify:a.emailAndPassword?.password?.verify||oZ,config:{minPasswordLength:a.emailAndPassword?.minPasswordLength||8,maxPasswordLength:a.emailAndPassword?.maxPasswordLength||128},checkPassword:tj},setNewSession(a){this.newSession=a},newSession:null,adapter:d,internalAdapter:tf(d,{options:a,logger:g,hooks:a.databaseHooks?[a.databaseHooks]:[]}),createAuthCookie:mA(a),async runMigrations(){if(!a.database||"updateMany"in a.database)throw new l0("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:b}=await ti(a);await b()},publishTelemetry:m},o=tH(n);return tF(o)?{context:c}=await o:{context:c}=o,c};async function tH(a){let b=a.options,c=b.plugins||[],d=a,e=[];for(let a of c)if(a.init){let c,f=a.init(d);if("object"==typeof(c=tF(f)?await f:f)){if(c.options){let{databaseHooks:a,...d}=c.options;a&&e.push(a),b=pF(b,d)}c.context&&(d={...d,...c.context})}}return e.push(b.databaseHooks),d.internalAdapter=tf(a.adapter,{options:b,logger:a.logger,hooks:e.filter(a=>void 0!==a),generateId:a.generateId}),d.options=b,{context:d}}var tI=a.i(2710);let tJ=global.prisma||new tI.PrismaClient;var lX=lX,lX=lX;mF(async()=>({})),mF({use:[mL]},async a=>({session:a.context.session}));let tK=jl(),tL=kY(["pending","accepted","rejected","canceled"]).default("pending");kF({id:jl().default(pB),name:jl(),slug:jl(),logo:jl().nullish().optional(),metadata:kR(jl(),ku()).or(jl().transform(a=>JSON.parse(a))).optional(),createdAt:kA()}),kF({id:jl().default(pB),organizationId:jl(),userId:lX.string(),role:tK,createdAt:kA().default(()=>new Date)}),kF({id:jl().default(pB),organizationId:jl(),email:jl(),role:tK,status:tL,teamId:jl().nullish(),inviterId:jl(),expiresAt:kA()}),kF({id:jl().default(pB),name:jl().min(1),organizationId:jl(),createdAt:kA(),updatedAt:kA().optional()}),kF({id:jl().default(pB),teamId:jl(),userId:jl(),createdAt:kA().default(()=>new Date)}),kF({id:jl().default(pB),organizationId:jl(),role:jl(),permission:kR(jl(),kC(jl())),createdAt:kA().default(()=>new Date),updatedAt:kA().optional()});let tM=["admin","member","owner"];function tN(a){return{newRole:a=>{var b;return{authorize(a,c="AND"){let d=!1;for(let[e,f]of Object.entries(a)){let a=b[e];if(!a)return{success:!1,error:`You are not allowed to access resource: ${e}`};if(Array.isArray(f))d=f.every(b=>a.includes(b));else if("object"==typeof f)d="OR"===f.connector?f.actions.some(b=>a.includes(b)):f.actions.every(b=>a.includes(b));else throw new l0("Invalid access control request");if(d&&"OR"===c)return{success:d};if(!d&&"AND"===c)return{success:!1,error:`unauthorized to access resource "${e}"`}}return d?{success:d}:{success:!1,error:"Not authorized"}},statements:b=a}},statements:a}}kJ([kY(tM),kC(kY(tM))]);let tO=tN({organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"],ac:["create","read","update","delete"]});tO.newRole({organization:["update"],invitation:["create","cancel"],member:["create","update","delete"],team:["create","update","delete"],ac:["create","read","update","delete"]}),tO.newRole({organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"],ac:["create","read","update","delete"]}),tO.newRole({organization:[],member:[],invitation:[],team:[],ac:["read"]});var lX=lX,lX=lX;let tP=async a=>{let b=a.context.returned;return b?b instanceof Response?200!==b.status?null:await b.clone().json():b instanceof q?null:b:null},tQ=tN({user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]});tQ.newRole({user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]}),tQ.newRole({user:[],session:[]});let tR=async a=>{let b=await mR("SHA-256").digest(new TextEncoder().encode(a));return mf.encode(new Uint8Array(b),{padding:!1})};function tS(a){let b=a.lastIndexOf(":");return -1===b?[a,""]:[a.slice(0,b),a.slice(b+1)]}let tT=["email-verification","sign-in","forget-password"],tU=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,tV=a=>oT(a.otpLength??6,"0-9");k5(kF({disableCookieCache:kf().meta({description:"Disable cookie cache and fetch session from database"}).or(jl().transform(a=>"true"===a)).optional(),disableRefresh:kf().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()}));let tW={CLOUDFLARE_TURNSTILE:"cloudflare-turnstile",GOOGLE_RECAPTCHA:"google-recaptcha",HCAPTCHA:"hcaptcha",CAPTCHAFOX:"captchafox"};tW.CLOUDFLARE_TURNSTILE,tW.GOOGLE_RECAPTCHA,tW.HCAPTCHA,tW.CAPTCHAFOX;var lX=lX;kF({id:jl(),deviceCode:jl(),userCode:jl(),userId:jl().optional(),expiresAt:kA(),status:jl(),lastPolledAt:kA().optional(),pollingInterval:j7().optional(),clientId:jl().optional(),scope:jl().optional()});let tX=lB(a=>{try{mz(a)}catch(a){return!1}return!0},{message:"Invalid time string format. Use formats like '30m', '5s', '1h', etc."});kF({expiresIn:tX.default("30m").describe("Time in seconds until the device code expires. Use formats like '30m', '5s', '1h', etc."),interval:tX.default("5s").describe("Time in seconds between polling attempts. Use formats like '30m', '5s', '1h', etc."),deviceCodeLength:j7().int().positive().default(40).describe("Length of the device code to be generated. Default is 40 characters."),userCodeLength:j7().int().positive().default(8).describe("Length of the user code to be generated. Default is 8 characters."),generateDeviceCode:lB(a=>"function"==typeof a,{message:"generateDeviceCode must be a function that returns a string or a promise that resolves to a string."}).optional().describe("Function to generate a device code. If not provided, a default random string generator will be used."),generateUserCode:lB(a=>"function"==typeof a,{message:"generateUserCode must be a function that returns a string or a promise that resolves to a string."}).optional().describe("Function to generate a user code. If not provided, a default random string generator will be used."),validateClient:lB(a=>"function"==typeof a,{message:"validateClient must be a function that returns a boolean or a promise that resolves to a boolean."}).optional().describe("Function to validate the client ID. If not provided, no validation will be performed."),onDeviceAuthRequest:lB(a=>"function"==typeof a,{message:"onDeviceAuthRequest must be a function that returns void or a promise that resolves to void."}).optional().describe("Function to handle device authorization requests. If not provided, no additional actions will be taken."),schema:lB(()=>!0)});let tY=BigInt(0),tZ=BigInt(1),t$=BigInt(2),t_=BigInt(7),t0=BigInt(256),t1=BigInt(113),t2=[],t3=[],t4=[];for(let a=0,b=tZ,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],t2.push(2*(5*d+c)),t3.push((a+1)*(a+2)/2%64);let e=tY;for(let a=0;a<7;a++)(b=(b<<tZ^(b>>t_)*t1)%t0)&t$&&(e^=tZ<<(tZ<<BigInt(a))-tZ);t4.push(e)}let t5=oD(t4,!0),t6=t5[0],t7=t5[1];function t8(a,b){if(a instanceof Promise)throw Error(b)}var qx=lY;let t9=function(a){let b="object"==typeof a.client?a.client:{},c="object"==typeof a.server?a.server:{},d=a.shared,e=a.runtimeEnv?a.runtimeEnv:{...process.env,...a.experimental__runtimeEnv};return function(a){let b=a.runtimeEnvStrict??a.runtimeEnv??process.env;if(a.emptyStringAsUndefined)for(let[a,c]of Object.entries(b))""===c&&delete b[a];if(a.skipValidation)return b;let c="object"==typeof a.client?a.client:{},d="object"==typeof a.server?a.server:{},e="object"==typeof a.shared?a.shared:{},f=a.isServer??!0,g=f?{...d,...e,...c}:{...c,...e},h=a.createFinalSchema?.(g,f)["~standard"].validate(b)??function(a,b){let c={},d=[];for(let e in a){let f=a[e]["~standard"].validate(b[e]);if(t8(f,`Validation must be synchronous, but ${e} returned a Promise.`),f.issues){d.push(...f.issues.map(a=>({...a,message:a.message,path:[e,...a.path??[]]})));continue}c[e]=f.value}return d.length?{issues:d}:{value:c}}(g,b);t8(h,"Validation must be synchronous");let i=a.onValidationError??(a=>{throw console.error("❌ Invalid environment variables:",a),Error("Invalid environment variables")}),j=a.onInvalidAccess??(()=>{throw Error("❌ Attempted to access a server-side environment variable on the client")});return h.issues?i(h.issues):new Proxy(Object.assign((a.extends??[]).reduce((a,b)=>Object.assign(a,b),{}),h.value),{get(b,c){if("string"==typeof c&&"__esModule"!==c&&"$$typeof"!==c)return f||a.clientPrefix&&(c.startsWith(a.clientPrefix)||c in e)?Reflect.get(b,c):j(c)}})}({...a,shared:d,client:b,server:c,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:e})}({server:{DATABASE_URL:qx.url(),BETTER_AUTH_SECRET:qx.string().min(1),BETTER_AUTH_URL:qx.string().url(),GITHUB_CLIENT_ID:qx.string().min(1),GIHUB_SECRET:qx.string().min(1),RESEND_API_KEY:qx.string().min(1)},experimental__runtimeEnv:{}});var ua=a.i(65255),ub=Object.defineProperty,uc=Object.defineProperties,ud=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,uf=Object.prototype.hasOwnProperty,ug=Object.prototype.propertyIsEnumerable,uh=(a,b,c)=>b in a?ub(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,ui=(a,b)=>{for(var c in b||(b={}))uf.call(b,c)&&uh(a,c,b[c]);if(ue)for(var c of ue(b))ug.call(b,c)&&uh(a,c,b[c]);return a},uj=(a,b)=>uc(a,ud(b)),uk=(a,b,c)=>new Promise((d,e)=>{var f=a=>{try{h(c.next(a))}catch(a){e(a)}},g=a=>{try{h(c.throw(a))}catch(a){e(a)}},h=a=>a.done?d(a.value):Promise.resolve(a.value).then(f,g);h((c=c.apply(a,b)).next())});function ul(a){let b=new URLSearchParams;return void 0!==a.limit&&b.set("limit",a.limit.toString()),"after"in a&&void 0!==a.after&&b.set("after",a.after),"before"in a&&void 0!==a.before&&b.set("before",a.before),b.toString()}var um=class{constructor(a){this.resend=a}create(a){return uk(this,arguments,function*(a,b={}){return yield this.resend.post("/api-keys",a,b)})}list(){return uk(this,arguments,function*(a={}){let b=ul(a),c=b?`/api-keys?${b}`:"/api-keys";return yield this.resend.get(c)})}remove(a){return uk(this,null,function*(){return yield this.resend.delete(`/api-keys/${a}`)})}},un=class{constructor(a){this.resend=a}create(a){return uk(this,arguments,function*(a,b={}){return yield this.resend.post("/audiences",a,b)})}list(){return uk(this,arguments,function*(a={}){let b=ul(a),c=b?`/audiences?${b}`:"/audiences";return yield this.resend.get(c)})}get(a){return uk(this,null,function*(){return yield this.resend.get(`/audiences/${a}`)})}remove(a){return uk(this,null,function*(){return yield this.resend.delete(`/audiences/${a}`)})}};function uo(a){var b;return{attachments:null==(b=a.attachments)?void 0:b.map(a=>({content:a.content,filename:a.filename,path:a.path,content_type:a.contentType,content_id:a.contentId})),bcc:a.bcc,cc:a.cc,from:a.from,headers:a.headers,html:a.html,reply_to:a.replyTo,scheduled_at:a.scheduledAt,subject:a.subject,tags:a.tags,text:a.text,to:a.to}}function up(b){return new Promise((c,d)=>{a.A(20384).then(({render:a})=>{c(a(b))}).catch(()=>{d(Error("Failed to render React component. Make sure to install `@react-email/render` or `@react-email/components`."))})})}var uq=class{constructor(a){this.resend=a}send(a,b){return uk(this,null,function*(){return this.create(a,b)})}create(a,b){return uk(this,null,function*(){var c;let d=[];for(let b of a)b.react&&(b.html=yield up(b.react),b.react=void 0),d.push(uo(b));return yield this.resend.post("/emails/batch",d,uj(ui({},b),{headers:ui({"x-batch-validation":null!=(c=null==b?void 0:b.batchValidation)?c:"strict"},null==b?void 0:b.headers)}))})}},ur=class{constructor(a){this.resend=a}create(a){return uk(this,arguments,function*(a,b={}){return a.react&&(a.html=yield up(a.react)),yield this.resend.post("/broadcasts",{name:a.name,audience_id:a.audienceId,preview_text:a.previewText,from:a.from,html:a.html,reply_to:a.replyTo,subject:a.subject,text:a.text},b)})}send(a,b){return uk(this,null,function*(){return yield this.resend.post(`/broadcasts/${a}/send`,{scheduled_at:null==b?void 0:b.scheduledAt})})}list(){return uk(this,arguments,function*(a={}){let b=ul(a),c=b?`/broadcasts?${b}`:"/broadcasts";return yield this.resend.get(c)})}get(a){return uk(this,null,function*(){return yield this.resend.get(`/broadcasts/${a}`)})}remove(a){return uk(this,null,function*(){return yield this.resend.delete(`/broadcasts/${a}`)})}update(a,b){return uk(this,null,function*(){return b.react&&(b.html=yield up(b.react)),yield this.resend.patch(`/broadcasts/${a}`,{name:b.name,audience_id:b.audienceId,from:b.from,html:b.html,text:b.text,subject:b.subject,reply_to:b.replyTo,preview_text:b.previewText})})}},us=class{constructor(a){this.resend=a}create(a){return uk(this,arguments,function*(a,b={}){return yield this.resend.post(`/audiences/${a.audienceId}/contacts`,{unsubscribed:a.unsubscribed,email:a.email,first_name:a.firstName,last_name:a.lastName},b)})}list(a){return uk(this,null,function*(){let{audienceId:b}=a,c=ul(((a,b)=>{var c={};for(var d in a)uf.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&ue)for(var d of ue(a))0>b.indexOf(d)&&ug.call(a,d)&&(c[d]=a[d]);return c})(a,["audienceId"])),d=c?`/audiences/${b}/contacts?${c}`:`/audiences/${b}/contacts`;return yield this.resend.get(d)})}get(a){return uk(this,null,function*(){return a.id||a.email?yield this.resend.get(`/audiences/${a.audienceId}/contacts/${(null==a?void 0:a.email)?null==a?void 0:a.email:null==a?void 0:a.id}`):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}update(a){return uk(this,null,function*(){return a.id||a.email?yield this.resend.patch(`/audiences/${a.audienceId}/contacts/${(null==a?void 0:a.email)?null==a?void 0:a.email:null==a?void 0:a.id}`,{unsubscribed:a.unsubscribed,first_name:a.firstName,last_name:a.lastName}):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}remove(a){return uk(this,null,function*(){return a.id||a.email?yield this.resend.delete(`/audiences/${a.audienceId}/contacts/${(null==a?void 0:a.email)?null==a?void 0:a.email:null==a?void 0:a.id}`):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}},ut=class{constructor(a){this.resend=a}create(a){return uk(this,arguments,function*(a,b={}){return yield this.resend.post("/domains",{name:a.name,region:a.region,custom_return_path:a.customReturnPath},b)})}list(){return uk(this,arguments,function*(a={}){let b=ul(a),c=b?`/domains?${b}`:"/domains";return yield this.resend.get(c)})}get(a){return uk(this,null,function*(){return yield this.resend.get(`/domains/${a}`)})}update(a){return uk(this,null,function*(){return yield this.resend.patch(`/domains/${a.id}`,{click_tracking:a.clickTracking,open_tracking:a.openTracking,tls:a.tls})})}remove(a){return uk(this,null,function*(){return yield this.resend.delete(`/domains/${a}`)})}verify(a){return uk(this,null,function*(){return yield this.resend.post(`/domains/${a}/verify`)})}},uu=class{constructor(a){this.resend=a}send(a){return uk(this,arguments,function*(a,b={}){return this.create(a,b)})}create(a){return uk(this,arguments,function*(a,b={}){return a.react&&(a.html=yield up(a.react)),yield this.resend.post("/emails",uo(a),b)})}get(a){return uk(this,null,function*(){return yield this.resend.get(`/emails/${a}`)})}list(){return uk(this,arguments,function*(a={}){let b=ul(a),c=b?`/emails?${b}`:"/emails";return yield this.resend.get(c)})}update(a){return uk(this,null,function*(){return yield this.resend.patch(`/emails/${a.id}`,{scheduled_at:a.scheduledAt})})}cancel(a){return uk(this,null,function*(){return yield this.resend.post(`/emails/${a}/cancel`)})}},uv=class{verify(a){return new ua.Webhook(a.webhookSecret).verify(a.payload,{"svix-id":a.headers.id,"svix-timestamp":a.headers.timestamp,"svix-signature":a.headers.signature})}},uw="undefined"!=typeof process&&process.env&&process.env.RESEND_BASE_URL||"https://api.resend.com",ux="undefined"!=typeof process&&process.env&&process.env.RESEND_USER_AGENT||"resend-node:6.2.0";let uy=new class{constructor(a){if(this.key=a,this.apiKeys=new um(this),this.audiences=new un(this),this.batch=new uq(this),this.broadcasts=new ur(this),this.contacts=new us(this),this.domains=new ut(this),this.emails=new uu(this),this.webhooks=new uv,!a&&("undefined"!=typeof process&&process.env&&(this.key=process.env.RESEND_API_KEY),!this.key))throw Error('Missing API key. Pass it to the constructor `new Resend("re_123")`');this.headers=new Headers({Authorization:`Bearer ${this.key}`,"User-Agent":ux,"Content-Type":"application/json"})}fetchRequest(a){return uk(this,arguments,function*(a,b={}){try{let c=yield fetch(`${uw}${a}`,b);if(!c.ok)try{let a=yield c.text();return{data:null,error:JSON.parse(a)}}catch(b){if(b instanceof SyntaxError)return{data:null,error:{name:"application_error",message:"Internal server error. We are unable to process your request right now, please try again later."}};let a={message:c.statusText,name:"application_error"};if(b instanceof Error)return{data:null,error:uj(ui({},a),{message:b.message})};return{data:null,error:a}}return{data:yield c.json(),error:null}}catch(a){return{data:null,error:{name:"application_error",message:"Unable to fetch data. The request could not be resolved."}}}})}post(a,b){return uk(this,arguments,function*(a,b,c={}){let d=new Headers(this.headers);if(c.headers)for(let[a,b]of new Headers(c.headers).entries())d.set(a,b);c.idempotencyKey&&d.set("Idempotency-Key",c.idempotencyKey);let e=uj(ui({method:"POST",body:JSON.stringify(b)},c),{headers:d});return this.fetchRequest(a,e)})}get(a){return uk(this,arguments,function*(a,b={}){let c=new Headers(this.headers);if(b.headers)for(let[a,d]of new Headers(b.headers).entries())c.set(a,d);let d=uj(ui({method:"GET"},b),{headers:c});return this.fetchRequest(a,d)})}put(a,b){return uk(this,arguments,function*(a,b,c={}){let d=new Headers(this.headers);if(c.headers)for(let[a,b]of new Headers(c.headers).entries())d.set(a,b);let e=uj(ui({method:"PUT",body:JSON.stringify(b)},c),{headers:d});return this.fetchRequest(a,e)})}patch(a,b){return uk(this,arguments,function*(a,b,c={}){let d=new Headers(this.headers);if(c.headers)for(let[a,b]of new Headers(c.headers).entries())d.set(a,b);let e=uj(ui({method:"PATCH",body:JSON.stringify(b)},c),{headers:d});return this.fetchRequest(a,e)})}delete(a,b){return uk(this,null,function*(){let c={method:"DELETE",body:JSON.stringify(b),headers:this.headers};return this.fetchRequest(a,c)})}}(t9.RESEND_API_KEY),uz=(a=>{let b=tG(a),{api:c}=qB(b,a),d=a.plugins?.reduce((a,b)=>b.$ERROR_CODES?{...a,...b.$ERROR_CODES}:a,{});return{handler:async c=>{let d=await b,e=d.options.basePath||"/api/auth";if(!d.options.baseURL){let a=mt(void 0,e,c);if(a)d.baseURL=a,d.options.baseURL=mu(d.baseURL)||void 0;else throw new l0("Could not get base URL from request. Please provide a valid base URL.")}d.trustedOrigins=[...a.trustedOrigins?Array.isArray(a.trustedOrigins)?a.trustedOrigins:await a.trustedOrigins(c):[],d.options.baseURL];let{handler:f}=((a,b)=>{let{api:c,middlewares:d}=qB(a,b),e=new URL(a.baseURL).pathname;return((a,b)=>{if(!b?.openapi?.disabled){let c={path:"/api/reference",...b?.openapi};a.openapi=G(c.path,{method:"GET"},async b=>new Response(((a,b)=>`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(a)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${b?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(b.logo)}`:void 0} ,
	   	theme: ${b?.theme||"saturn"},
        metaData: {
			title: ${b?.title||"Open API Reference"},
			description: ${b?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`)(await bT(a),c.scalar),{headers:{"Content-Type":"text/html"}}))}let c=k(),d=k();for(let b of Object.values(a))if(!(!b.options||b.options?.metadata?.SERVER_ONLY))for(let a of Array.isArray(b.options?.method)?b.options.method:[b.options?.method])n(c,a,b.path,b);if(b?.routerMiddleware?.length)for(let{path:a,middleware:c}of b.routerMiddleware)n(d,"*",a,c);let e=async a=>{let e=new URL(a.url),f=b?.basePath?e.pathname.split(b.basePath).reduce((a,c,d)=>(0!==d&&(d>1?a.push(`${b.basePath}${c}`):a.push(c)),a),[]).join(""):e.pathname;if(!f?.length)return new Response(null,{status:404,statusText:"Not Found"});let g=function(a,b="",c,d){"/"===c[c.length-1]&&(c=c.slice(0,-1));let e=a.static[c];if(e&&e.methods){let a=e.methods[b]||e.methods[""];if(void 0!==a)return a[0]}let f=l(c),g=function a(b,c,d,e,f){if(f===e.length){if(c.methods){let a=c.methods[d]||c.methods[""];if(a)return a}if(c.param&&c.param.methods){let a=c.param.methods[d]||c.param.methods[""];if(a){let b=a[0].paramsMap;if(b?.[b?.length-1]?.[2])return a}}if(c.wildcard&&c.wildcard.methods){let a=c.wildcard.methods[d]||c.wildcard.methods[""];if(a){let b=a[0].paramsMap;if(b?.[b?.length-1]?.[2])return a}}return}let g=e[f];if(c.static){let h=c.static[g];if(h){let c=a(b,h,d,e,f+1);if(c)return c}}if(c.param){let g=a(b,c.param,d,e,f+1);if(g)return g}if(c.wildcard&&c.wildcard.methods)return c.wildcard.methods[d]||c.wildcard.methods[""]}(a,a.root,b,f,0)?.[0];if(void 0!==g)return{data:g.data,params:g.paramsMap?m(f,g.paramsMap):void 0}}(c,a.method,f);if(!g?.data)return new Response(null,{status:404,statusText:"Not Found"});let h={};e.searchParams.forEach((a,b)=>{b in h?Array.isArray(h[b])?h[b].push(a):h[b]=[h[b],a]:h[b]=a});let i=g.data,j={path:f,method:a.method,headers:a.headers,params:g.params?JSON.parse(JSON.stringify(g.params)):{},request:a,body:i.options.disableBody?void 0:await r(i.options.cloneRequest?a.clone():a),query:h,_flag:"router",asResponse:!0,context:b?.routerContext};try{let a=function(a,b="",c,d){"/"===c[c.length-1]&&(c=c.slice(0,-1));let e=l(c);return(function a(b,c,d,e,f,g=[]){let h=e[f];if(c.wildcard&&c.wildcard.methods){let a=c.wildcard.methods[d]||c.wildcard.methods[""];a&&g.push(...a)}if(c.param&&(a(b,c.param,d,e,f+1,g),f===e.length&&c.param.methods)){let a=c.param.methods[d]||c.param.methods[""];a&&g.push(...a)}let i=c.static?.[h];if(i&&a(b,i,d,e,f+1,g),f===e.length&&c.methods){let a=c.methods[d]||c.methods[""];a&&g.push(...a)}return g})(a,a.root,b,e,0).map(a=>({data:a.data,params:a.paramsMap?m(e,a.paramsMap):void 0}))}(d,"*",f);if(a?.length)for(let{data:b,params:c}of a){let a=await b({...j,params:c,asResponse:!1});if(a instanceof Response)return a}return await i(j)}catch(a){if(b?.onError)try{let c=await b.onError(a);if(c instanceof Response)return t(c)}catch(a){if(s(a))return t(a);throw a}if(b?.throwError)throw a;if(s(a))return t(a);return console.error("# SERVER_ERROR: ",a),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async a=>{let c=await b?.onRequest?.(a);if(c instanceof Response)return c;let d=c instanceof Request?c:a,f=await e(d),g=await b?.onResponse?.(f);return g instanceof Response?g:f},endpoints:a}})(c,{routerContext:a,openapi:{disabled:!0},basePath:e,routerMiddleware:[{path:"/**",middleware:pJ},...d],async onRequest(b){let c=a.options.disabledPaths||[],d=new URL(b.url).pathname.replace(e,"");if(c.includes(d))return new Response("Not Found",{status:404});for(let c of a.options.plugins||[])if(c.onRequest){let d=await c.onRequest(b,a);if(d&&"response"in d)return d.response}return qA(b,a)},async onResponse(b){for(let c of a.options.plugins||[])if(c.onResponse){let d=await c.onResponse(b,a);if(d)return d.response}return b},onError(c){if(c instanceof q&&"FOUND"===c.status)return;if(b.onAPIError?.throw)throw c;if(b.onAPIError?.onError)return void b.onAPIError.onError(c,a);let d=b.logger?.level,e="error"===d||"warn"===d||"debug"===d?mq:void 0;if(b.logger?.disabled!==!0){if(c&&"object"==typeof c&&"message"in c&&"string"==typeof c.message&&(c.message.includes("no column")||c.message.includes("column")||c.message.includes("relation")||c.message.includes("table")||c.message.includes("does not exist")))return void a.logger?.error(c.message);c instanceof q?("INTERNAL_SERVER_ERROR"===c.status&&a.logger.error(c.status,c),e?.error(c.message)):a.logger?.error(c&&"object"==typeof c&&"name"in c?c.name:"",c)}}})})(d,a);return f(c)},api:c,options:a,$context:b,$Infer:{},$ERROR_CODES:{...d,...mH}}})({database:((a,b)=>{let c=null,d=a=>({getFieldName:c})=>{let d=(a,b)=>{if(a&&b)return a.reduce((a,d)=>({...a,[c({model:b,field:d})]:!0}),{})};function e(a){switch(a){case"starts_with":return"startsWith";case"ends_with":return"endsWith";case"ne":return"not";case"not_in":return"notIn";default:return a}}let f=(a,b)=>{if(!b||!b.length)return{};if(1===b.length){let d=b[0];if(!d)return;return{[c({model:a,field:d.field})]:"eq"!==d.operator&&d.operator?{[e(d.operator)]:d.value}:d.value}}let d=b.filter(a=>"AND"===a.connector||!a.connector),f=b.filter(a=>"OR"===a.connector),g=d.map(b=>({[c({model:a,field:b.field})]:"eq"!==b.operator&&b.operator?{[e(b.operator)]:b.value}:b.value})),h=f.map(b=>({[c({model:a,field:b.field})]:"eq"!==b.operator&&b.operator?{[e(b.operator)]:b.value}:b.value}));return{...g.length?{AND:g}:{},...h.length?{OR:h}:{}}};return{async create({model:b,data:c,select:e}){if(!a[b])throw new l0(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[b].create({data:c,select:d(e,b)})},async findOne({model:b,where:c,select:e}){let g=f(b,c);if(!a[b])throw new l0(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[b].findFirst({where:g,select:d(e,b)})},async findMany({model:b,where:d,limit:e,offset:g,sortBy:h}){let i=f(b,d);if(!a[b])throw new l0(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[b].findMany({where:i,take:e||100,skip:g||0,...h?.field?{orderBy:{[c({model:b,field:h.field})]:"desc"===h.direction?"desc":"asc"}}:{}})},async count({model:b,where:c}){let d=f(b,c);if(!a[b])throw new l0(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[b].count({where:d})},async update({model:b,where:c,update:d}){if(!a[b])throw new l0(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let e=f(b,c);return await a[b].update({where:e,data:d})},async updateMany({model:b,where:c,update:d}){let e=f(b,c),g=await a[b].updateMany({where:e,data:d});return g?g.count:0},async delete({model:b,where:c}){let d=f(b,c);try{await a[b].delete({where:d})}catch(a){}},async deleteMany({model:b,where:c}){let d=f(b,c),e=await a[b].deleteMany({where:d});return e?e.count:0},options:b}},e=null;e={config:{adapterId:"prisma",adapterName:"Prisma Adapter",usePlural:b.usePlural??!1,debugLogs:b.debugLogs??!1,transaction:!!b.transaction&&(b=>a.$transaction(a=>b(s8({config:e.config,adapter:d(a)})(c))))},adapter:d(a)};let f=s8(e);return a=>(c=a,f(a))})(tJ,{provider:"postgresql"}),socialProviders:{github:{clientId:t9.GITHUB_CLIENT_ID,clientSecret:t9.GIHUB_SECRET}},plugins:[(a=>{let b={expiresIn:300,generateOTP:()=>tV(a),storeOTP:"plain",...a},c={OTP_EXPIRED:"otp expired",INVALID_OTP:"Invalid OTP",INVALID_EMAIL:"Invalid email",USER_NOT_FOUND:"User not found",TOO_MANY_ATTEMPTS:"Too many attempts"};async function d(a,c){return"encrypted"===b.storeOTP?await o$({key:a.context.secret,data:c}):"hashed"===b.storeOTP?await tR(c):"object"==typeof b.storeOTP&&"hash"in b.storeOTP?await b.storeOTP.hash(c):"object"==typeof b.storeOTP&&"encrypt"in b.storeOTP?await b.storeOTP.encrypt(c):c}async function e(a,c,d){return"encrypted"===b.storeOTP?await o_({key:a.context.secret,data:c})===d:"hashed"===b.storeOTP?await tR(d)===c:"object"==typeof b.storeOTP&&"hash"in b.storeOTP?await b.storeOTP.hash(d)===c:"object"==typeof b.storeOTP&&"decrypt"in b.storeOTP?await b.storeOTP.decrypt(c)===d:d===c}let f={sendVerificationOTP:mG("/email-otp/send-verification-otp",{method:"POST",body:kF({email:jl({}).meta({description:"Email address to send the OTP"}),type:kY(tT).meta({description:"Type of the OTP"})}),metadata:{openapi:{description:"Send verification OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{if(!a?.sendVerificationOTP)throw e.context.logger.error("send email verification is not implemented"),new q("BAD_REQUEST",{message:"send email verification is not implemented"});let f=e.body.email;if(!tU.test(f))throw e.error("BAD_REQUEST",{message:c.INVALID_EMAIL});if(b.disableSignUp){if(!await e.context.internalAdapter.findUserByEmail(f))throw new q("BAD_REQUEST",{message:c.USER_NOT_FOUND})}else if("forget-password"===e.body.type&&!await e.context.internalAdapter.findUserByEmail(f))return e.json({success:!0});let g=b.generateOTP({email:f,type:e.body.type},e.request)||tV(b),h=await d(e,g);return await e.context.internalAdapter.createVerificationValue({value:`${h}:0`,identifier:`${e.body.type}-otp-${f}`,expiresAt:l_(b.expiresIn,"sec")},e).catch(async a=>{await e.context.internalAdapter.deleteVerificationByIdentifier(`${e.body.type}-otp-${f}`),await e.context.internalAdapter.createVerificationValue({value:`${h}:0`,identifier:`${e.body.type}-otp-${f}`,expiresAt:l_(b.expiresIn,"sec")},e)}),await a.sendVerificationOTP({email:f,otp:g,type:e.body.type},e.request),e.json({success:!0})})};return{id:"email-otp",init(a){if(b.overrideDefaultEmailVerification)return{options:{emailVerification:{async sendVerificationEmail(b,c){await f.sendVerificationOTP({context:a,request:c,body:{email:b.user.email,type:"email-verification"},ctx:a})}}}}},endpoints:{...f,createVerificationOTP:mG("/email-otp/create-verification-otp",{method:"POST",body:kF({email:jl({}).meta({description:"Email address to send the OTP"}),type:kY(tT).meta({required:!0,description:"Type of the OTP"})}),metadata:{SERVER_ONLY:!0,openapi:{description:"Create verification OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"string"}}}}}}}},async a=>{let c=a.body.email,e=b.generateOTP({email:c,type:a.body.type},a.request)||tV(b),f=await d(a,e);return await a.context.internalAdapter.createVerificationValue({value:`${f}:0`,identifier:`${a.body.type}-otp-${c}`,expiresAt:l_(b.expiresIn,"sec")},a),e}),getVerificationOTP:mG("/email-otp/get-verification-otp",{method:"GET",query:kF({email:jl({}).meta({description:"Email address the OTP was sent to"}),type:kY(tT).meta({required:!0,description:"Type of the OTP"})}),metadata:{SERVER_ONLY:!0,openapi:{description:"Get verification OTP",responses:{200:{description:"OTP retrieved successfully or not found/expired",content:{"application/json":{schema:{type:"object",properties:{otp:{type:"string",nullable:!0,description:"The stored OTP, or null if not found or expired"}},required:["otp"]}}}}}}}},async a=>{let c=a.query.email,d=await a.context.internalAdapter.findVerificationValue(`${a.query.type}-otp-${c}`);if(!d||d.expiresAt<new Date)return a.json({otp:null});if("hashed"===b.storeOTP||"object"==typeof b.storeOTP&&"hash"in b.storeOTP)throw new q("BAD_REQUEST",{message:"OTP is hashed, cannot return the plain text OTP"});let[e,f]=tS(d.value),g=e;return"encrypted"===b.storeOTP&&(g=await o_({key:a.context.secret,data:e})),"object"==typeof b.storeOTP&&"decrypt"in b.storeOTP&&(g=await b.storeOTP.decrypt(e)),a.json({otp:g})}),checkVerificationOTP:mG("/email-otp/check-verification-otp",{method:"POST",body:kF({email:jl().meta({description:"Email address the OTP was sent to"}),type:kY(tT).meta({required:!0,description:"Type of the OTP"}),otp:jl().meta({required:!0,description:"OTP to verify"})}),metadata:{openapi:{description:"Check if a verification OTP is valid",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async b=>{let d=b.body.email;if(!tU.test(d))throw new q("BAD_REQUEST",{message:c.INVALID_EMAIL});if(!await b.context.internalAdapter.findUserByEmail(d))throw new q("BAD_REQUEST",{message:c.USER_NOT_FOUND});let f=await b.context.internalAdapter.findVerificationValue(`${b.body.type}-otp-${d}`);if(!f)throw new q("BAD_REQUEST",{message:c.INVALID_OTP});if(f.expiresAt<new Date)throw await b.context.internalAdapter.deleteVerificationValue(f.id),new q("BAD_REQUEST",{message:c.OTP_EXPIRED});let[g,h]=tS(f.value),i=a?.allowedAttempts||3;if(h&&parseInt(h)>=i)throw await b.context.internalAdapter.deleteVerificationValue(f.id),new q("FORBIDDEN",{message:c.TOO_MANY_ATTEMPTS});if(!await e(b,g,b.body.otp))throw await b.context.internalAdapter.updateVerificationValue(f.id,{value:`${g}:${parseInt(h||"0")+1}`}),new q("BAD_REQUEST",{message:c.INVALID_OTP});return b.json({success:!0})}),verifyEmailOTP:mG("/email-otp/verify-email",{method:"POST",body:kF({email:jl({}).meta({description:"Email address to verify"}),otp:jl().meta({required:!0,description:"OTP to verify"})}),metadata:{openapi:{description:"Verify email with OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the verification was successful",enum:[!0]},token:{type:"string",nullable:!0,description:"Session token if autoSignInAfterVerification is enabled, otherwise null"},user:{$ref:"#/components/schemas/User"},required:["status","token","user"]}}}}}}}}},async b=>{let d=b.body.email;if(!tU.test(d))throw new q("BAD_REQUEST",{message:c.INVALID_EMAIL});let f=await b.context.internalAdapter.findVerificationValue(`email-verification-otp-${d}`);if(!f)throw new q("BAD_REQUEST",{message:c.INVALID_OTP});if(f.expiresAt<new Date)throw new q("BAD_REQUEST",{message:c.OTP_EXPIRED});let[g,h]=tS(f.value),i=a?.allowedAttempts||3;if(h&&parseInt(h)>=i)throw await b.context.internalAdapter.deleteVerificationValue(f.id),new q("FORBIDDEN",{message:c.TOO_MANY_ATTEMPTS});if(!await e(b,g,b.body.otp))throw await b.context.internalAdapter.updateVerificationValue(f.id,{value:`${g}:${parseInt(h||"0")+1}`}),new q("BAD_REQUEST",{message:c.INVALID_OTP});await b.context.internalAdapter.deleteVerificationValue(f.id);let j=await b.context.internalAdapter.findUserByEmail(d);if(!j)throw new q("BAD_REQUEST",{message:c.USER_NOT_FOUND});let k=await b.context.internalAdapter.updateUser(j.user.id,{email:d,emailVerified:!0},b);if(await b.context.options.emailVerification?.onEmailVerification?.(k,b.request),b.context.options.emailVerification?.autoSignInAfterVerification){let a=await b.context.internalAdapter.createSession(k.id,b);return await mC(b,{session:a,user:k}),b.json({status:!0,token:a.token,user:{id:k.id,email:k.email,emailVerified:k.emailVerified,name:k.name,image:k.image,createdAt:k.createdAt,updatedAt:k.updatedAt}})}return b.json({status:!0,token:null,user:{id:k.id,email:k.email,emailVerified:k.emailVerified,name:k.name,image:k.image,createdAt:k.createdAt,updatedAt:k.updatedAt}})}),signInEmailOTP:mG("/sign-in/email-otp",{method:"POST",body:kF({email:jl({}).meta({description:"Email address to sign in"}),otp:jl().meta({required:!0,description:"OTP sent to the email"})}),metadata:{openapi:{description:"Sign in with OTP",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Session token for the authenticated session"},user:{$ref:"#/components/schemas/User"}},required:["token","user"]}}}}}}}},async d=>{let f=d.body.email,g=await d.context.internalAdapter.findVerificationValue(`sign-in-otp-${f}`);if(!g)throw new q("BAD_REQUEST",{message:c.INVALID_OTP});if(g.expiresAt<new Date)throw new q("BAD_REQUEST",{message:c.OTP_EXPIRED});let[h,i]=tS(g.value),j=a?.allowedAttempts||3;if(i&&parseInt(i)>=j)throw await d.context.internalAdapter.deleteVerificationValue(g.id),new q("FORBIDDEN",{message:c.TOO_MANY_ATTEMPTS});if(!await e(d,h,d.body.otp))throw await d.context.internalAdapter.updateVerificationValue(g.id,{value:`${h}:${parseInt(i||"0")+1}`}),new q("BAD_REQUEST",{message:c.INVALID_OTP});await d.context.internalAdapter.deleteVerificationValue(g.id);let k=await d.context.internalAdapter.findUserByEmail(f);if(!k){if(b.disableSignUp)throw new q("BAD_REQUEST",{message:c.USER_NOT_FOUND});let a=await d.context.internalAdapter.createUser({email:f,emailVerified:!0,name:""},d),e=await d.context.internalAdapter.createSession(a.id,d);return await mC(d,{session:e,user:a}),d.json({token:e.token,user:{id:a.id,email:a.email,emailVerified:a.emailVerified,name:a.name,image:a.image,createdAt:a.createdAt,updatedAt:a.updatedAt}})}k.user.emailVerified||await d.context.internalAdapter.updateUser(k.user.id,{emailVerified:!0},d);let l=await d.context.internalAdapter.createSession(k.user.id,d);return await mC(d,{session:l,user:k.user}),d.json({token:l.token,user:{id:k.user.id,email:k.user.email,emailVerified:k.user.emailVerified,name:k.user.name,image:k.user.image,createdAt:k.user.createdAt,updatedAt:k.user.updatedAt}})}),forgetPasswordEmailOTP:mG("/forget-password/email-otp",{method:"POST",body:kF({email:jl().meta({description:"Email address to send the OTP"})}),metadata:{openapi:{description:"Send a password reset OTP to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the OTP was sent successfully"}}}}}}}}}},async e=>{let f=e.body.email;if(!await e.context.internalAdapter.findUserByEmail(f))throw new q("BAD_REQUEST",{message:c.USER_NOT_FOUND});let g=b.generateOTP({email:f,type:"forget-password"},e.request)||tV(b),h=await d(e,g);return await e.context.internalAdapter.createVerificationValue({value:`${h}:0`,identifier:`forget-password-otp-${f}`,expiresAt:l_(b.expiresIn,"sec")},e),await a.sendVerificationOTP({email:f,otp:g,type:"forget-password"},e.request),e.json({success:!0})}),resetPasswordEmailOTP:mG("/email-otp/reset-password",{method:"POST",body:kF({email:jl().meta({description:"Email address to reset the password"}),otp:jl().meta({description:"OTP sent to the email"}),password:jl().meta({description:"New password"})}),metadata:{openapi:{description:"Reset user password with OTP",responses:{200:{description:"Success",contnt:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async b=>{let d=b.body.email,f=await b.context.internalAdapter.findUserByEmail(d,{includeAccounts:!0});if(!f)throw new q("BAD_REQUEST",{message:c.USER_NOT_FOUND});let g=await b.context.internalAdapter.findVerificationValue(`forget-password-otp-${d}`);if(!g)throw new q("BAD_REQUEST",{message:c.INVALID_OTP});if(g.expiresAt<new Date)throw await b.context.internalAdapter.deleteVerificationValue(g.id),new q("BAD_REQUEST",{message:c.OTP_EXPIRED});let[h,i]=tS(g.value),j=a?.allowedAttempts||3;if(i&&parseInt(i)>=j)throw await b.context.internalAdapter.deleteVerificationValue(g.id),new q("FORBIDDEN",{message:c.TOO_MANY_ATTEMPTS});if(!await e(b,h,b.body.otp))throw await b.context.internalAdapter.updateVerificationValue(g.id,{value:`${h}:${parseInt(i||"0")+1}`}),new q("BAD_REQUEST",{message:c.INVALID_OTP});await b.context.internalAdapter.deleteVerificationValue(g.id);let k=await b.context.password.hash(b.body.password);return f.accounts.find(a=>"credential"===a.providerId)?await b.context.internalAdapter.updatePassword(f.user.id,k,b):await b.context.internalAdapter.createAccount({userId:f.user.id,providerId:"credential",accountId:f.user.id,password:k},b),b.context.options.emailAndPassword?.onPasswordReset&&await b.context.options.emailAndPassword.onPasswordReset({user:f.user},b.request),f.user.emailVerified||await b.context.internalAdapter.updateUser(f.user.id,{emailVerified:!0},b),b.json({success:!0})})},hooks:{after:[{matcher:a=>!!(a.path?.startsWith("/sign-up")&&b.sendVerificationOnSignUp),handler:mF(async c=>{let e=await tP(c),f=e?.user.email;if(f){let e=b.generateOTP({email:f,type:c.body.type},c.request)||tV(b),g=await d(c,e);await c.context.internalAdapter.createVerificationValue({value:`${g}:0`,identifier:`email-verification-otp-${f}`,expiresAt:l_(b.expiresIn,"sec")},c),await a.sendVerificationOTP({email:f,otp:e,type:"email-verification"},c.request)}})}]},$ERROR_CODES:c,rateLimit:[{pathMatcher:a=>"/email-otp/send-verification-otp"===a,window:60,max:3},{pathMatcher:a=>"/email-otp/check-verification-otp"===a,window:60,max:3},{pathMatcher:a=>"/email-otp/verify-email"===a,window:60,max:3},{pathMatcher:a=>"/sign-in/email-otp"===a,window:60,max:3}]}})({async sendVerificationOTP({email:a,otp:b}){await uy.emails.send({from:"Sengicarlos <onboarding@resend.dev>",to:[a],subject:"SengiCarlosLMS - Verify your email",html:`<p>Your verification code is: <strong>${b}</strong></p>`})}})]});var uA=a.i(22e3),uB=a.i(52215),uC=a.i(58133);async function uD(){return await uz.api.getSession({headers:await (0,uB.headers)()})?(0,uC.redirect)("/"):(0,h.jsx)(uA.LoginForm,{})}}];

//# sourceMappingURL=_9031e282._.js.map